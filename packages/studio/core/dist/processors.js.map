{
  "version": 3,
  "sources": ["../../../lib/std/dist/lang.js", "../../../lib/std/dist/arrays.js", "../../../lib/std/dist/option.js", "../../../lib/std/dist/attempts.js", "../../../lib/std/dist/binary-search.js", "../../../lib/std/dist/bits.js", "../../../lib/std/dist/cache.js", "../../../lib/std/dist/color.js", "../../../lib/std/dist/comparators.js", "../../../lib/std/dist/math.js", "../../../lib/std/dist/curve.js", "../../../lib/std/dist/numeric.js", "../../../lib/std/dist/iterables.js", "../../../lib/std/dist/data.js", "../../../lib/std/dist/decorators.js", "../../../lib/std/dist/editing.js", "../../../lib/std/dist/generators.js", "../../../lib/std/dist/geom.js", "../../../lib/std/dist/hash.js", "../../../lib/std/dist/intervals.js", "../../../lib/std/dist/listeners.js", "../../../lib/std/dist/mint.js", "../../../lib/std/dist/maps.js", "../../../lib/std/dist/sets.js", "../../../lib/std/dist/multimap.js", "../../../lib/std/dist/terminable.js", "../../../lib/std/dist/notifier.js", "../../../lib/std/dist/objects.js", "../../../lib/std/dist/observables.js", "../../../lib/std/dist/value-mapping.js", "../../../lib/std/dist/string-mapping.js", "../../../lib/std/dist/predicates.js", "../../../lib/std/dist/progress.js", "../../../lib/std/dist/random.js", "../../../lib/std/dist/schema.js", "../../../lib/std/dist/sorted-set.js", "../../../lib/std/dist/strings.js", "../../../lib/std/dist/runtime-notifier.js", "../../../lib/std/dist/runtime-signal.js", "../../../lib/std/dist/time-span.js", "../../../lib/std/dist/sync-stream.js", "../../../lib/std/dist/uuid.js", "../../../lib/std/dist/value-guides.js", "../../../lib/std/dist/errors.js", "../../../lib/std/dist/index.js", "../../../lib/dsp/dist/AudioBuffer.js", "../../../lib/dsp/dist/adsr.js", "../../../lib/dsp/dist/bpm-tools.js", "../../../lib/dsp/dist/biquad-coeff.js", "../../../lib/dsp/dist/biquad-processor.js", "../../../lib/dsp/dist/utils.js", "../../../lib/dsp/dist/crusher.js", "../../../lib/dsp/dist/chords.js", "../../../lib/dsp/dist/tidal.js", "../../../lib/dsp/dist/events.js", "../../../lib/dsp/dist/fft.js", "../../../lib/dsp/dist/functions.js", "../../../lib/dsp/dist/ppqn.js", "../../../lib/dsp/dist/fractions.js", "../../../lib/dsp/dist/fragmentor.js", "../../../lib/dsp/dist/glide.js", "../../../lib/dsp/dist/graph.js", "../../../lib/dsp/dist/grooves.js", "../../../lib/dsp/dist/classic-waveform.js", "../../../lib/dsp/dist/lfo.js", "../../../lib/dsp/dist/mixing.js", "../../../lib/dsp/dist/midi-keys.js", "../../../lib/dsp/dist/notes.js", "../../../lib/dsp/dist/osc.js", "../../../lib/dsp/dist/stereo.js", "../../../lib/dsp/dist/ramp.js", "../../../lib/dsp/dist/resampler.js", "../../../lib/dsp/dist/rms.js", "../../../lib/dsp/dist/simple-limiter.js", "../../../lib/dsp/dist/smooth.js", "../../../lib/dsp/dist/tempo.js", "../../../lib/dsp/dist/time-base.js", "../../../lib/dsp/dist/rates.js", "../../../lib/dsp/dist/value.js", "../../../lib/dsp/dist/window.js", "../../../lib/dsp/dist/index.js", "../../core-processors/src/MeterProcessor.ts", "../../../lib/box/dist/address.js", "../../../lib/box/dist/pointer-hub.js", "../../../lib/box/dist/field.js", "../../../lib/box/dist/vertex.js", "../../../lib/box/dist/array.js", "../../../lib/box/dist/serializer.js", "../../../lib/box/dist/box.js", "../../../lib/box/dist/constraints.js", "../../../lib/box/dist/dispatchers.js", "../../../lib/box/dist/primitive.js", "../../../lib/box/dist/updates.js", "../../../lib/box/dist/pointer.js", "../../../lib/box/dist/graph-edges.js", "../../../lib/box/dist/graph.js", "../../../lib/box/dist/indexed-box.js", "../../../lib/box/dist/object.js", "../../../lib/runtime/dist/communicator.js", "../../../lib/runtime/dist/fetch.js", "../../../lib/runtime/dist/runtime.js", "../../../lib/runtime/dist/messenger.js", "../../../lib/runtime/dist/wait.js", "../../../lib/runtime/dist/promises.js", "../../../lib/runtime/dist/network.js", "../../../lib/runtime/dist/stopwatch.js", "../../../lib/runtime/dist/timespan.js", "../../../lib/runtime/dist/index.js", "../../../lib/box/dist/sync-target.js", "../../../lib/box/dist/index.js", "../../core-processors/src/TimeInfo.ts", "../../enums/dist/Pointers.js", "../../enums/dist/AudioPlayback.js", "../../enums/dist/AudioSendRouting.js", "../../enums/dist/AudioUnitType.js", "../../enums/dist/Colors.js", "../../enums/dist/IconSymbol.js", "../../enums/dist/VoicingMode.js", "../../adapters/dist/IndexComparator.js", "../../adapters/dist/IndexedBoxAdapterCollection.js", "../../boxes/dist/io.js", "../../boxes/dist/PianoMode.js", "../../boxes/dist/RootBox.js", "../../boxes/dist/SelectionBox.js", "../../boxes/dist/UserInterfaceBox.js", "../../boxes/dist/UploadFileBox.js", "../../boxes/dist/Signature.js", "../../boxes/dist/LoopArea.js", "../../boxes/dist/MarkerTrack.js", "../../boxes/dist/TimelineBox.js", "../../boxes/dist/TrackBox.js", "../../boxes/dist/NoteEventBox.js", "../../boxes/dist/NoteEventRepeatBox.js", "../../boxes/dist/NoteEventCollectionBox.js", "../../boxes/dist/NoteRegionBox.js", "../../boxes/dist/ClipPlaybackFields.js", "../../boxes/dist/NoteClipBox.js", "../../boxes/dist/ValueEventBox.js", "../../boxes/dist/ValueEventCollectionBox.js", "../../boxes/dist/ValueEventCurveBox.js", "../../boxes/dist/ValueRegionBox.js", "../../boxes/dist/ValueClipBox.js", "../../boxes/dist/AudioRegionBox.js", "../../boxes/dist/AudioClipBox.js", "../../boxes/dist/MarkerBox.js", "../../boxes/dist/AudioFileBox.js", "../../boxes/dist/SoundfontFileBox.js", "../../boxes/dist/AudioUnitBox.js", "../../boxes/dist/CaptureAudioBox.js", "../../boxes/dist/CaptureMidiBox.js", "../../boxes/dist/AudioBusBox.js", "../../boxes/dist/AuxSendBox.js", "../../boxes/dist/GrooveShuffleBox.js", "../../boxes/dist/UnknownAudioEffectDeviceBox.js", "../../boxes/dist/UnknownMidiEffectDeviceBox.js", "../../boxes/dist/DeviceInterfaceKnobBox.js", "../../boxes/dist/DeviceUserInterface.js", "../../boxes/dist/ModularDeviceBox.js", "../../boxes/dist/StereoToolDeviceBox.js", "../../boxes/dist/CompressorDeviceBox.js", "../../boxes/dist/DelayDeviceBox.js", "../../boxes/dist/CrusherDeviceBox.js", "../../boxes/dist/DattorroReverbDeviceBox.js", "../../boxes/dist/VelocityDeviceBox.js", "../../boxes/dist/FoldDeviceBox.js", "../../boxes/dist/TidalDeviceBox.js", "../../boxes/dist/RevampPass.js", "../../boxes/dist/RevampShelf.js", "../../boxes/dist/RevampBell.js", "../../boxes/dist/RevampDeviceBox.js", "../../boxes/dist/ReverbDeviceBox.js", "../../boxes/dist/VaporisateurOsc.js", "../../boxes/dist/VaporisateurLFO.js", "../../boxes/dist/VaporisateurNoise.js", "../../boxes/dist/VaporisateurDeviceBox.js", "../../boxes/dist/Device.js", "../../boxes/dist/MIDIOutputDeviceBox.js", "../../boxes/dist/MIDIOutputBox.js", "../../boxes/dist/MIDIOutputParameterBox.js", "../../boxes/dist/SoundfontDeviceBox.js", "../../boxes/dist/NanoDeviceBox.js", "../../boxes/dist/PlayfieldDeviceBox.js", "../../boxes/dist/PlayfieldSampleBox.js", "../../boxes/dist/TapeDeviceBox.js", "../../boxes/dist/ArpeggioDeviceBox.js", "../../boxes/dist/PitchDeviceBox.js", "../../boxes/dist/ZeitgeistDeviceBox.js", "../../boxes/dist/ModularBox.js", "../../boxes/dist/ModuleConnectionBox.js", "../../boxes/dist/ModuleAttributes.js", "../../boxes/dist/ModularAudioInputBox.js", "../../boxes/dist/ModularAudioOutputBox.js", "../../boxes/dist/ModuleDelayBox.js", "../../boxes/dist/ModuleMultiplierBox.js", "../../boxes/dist/ModuleGainBox.js", "../../adapters/dist/timeline/event/InterpolationFieldAdapter.js", "../../adapters/dist/timeline/event/ValueEventBoxAdapter.js", "../../adapters/dist/timeline/collection/ValueEventCollectionBoxAdapter.js", "../../adapters/dist/timeline/clip/ValueClipBoxAdapter.js", "../../adapters/dist/audio/AudioFileBoxAdapter.js", "../../adapters/dist/timeline/clip/AudioClipBoxAdapter.js", "../../adapters/dist/timeline/event/NoteEventBoxAdapter.js", "../../adapters/dist/timeline/collection/NoteEventCollectionBoxAdapter.js", "../../adapters/dist/timeline/clip/NoteClipBoxAdapter.js", "../../adapters/dist/timeline/ClipBoxAdapter.js", "../../adapters/dist/timeline/TrackClips.js", "../../adapters/dist/timeline/region/AudioRegionBoxAdapter.js", "../../adapters/dist/timeline/region/NoteRegionBoxAdapter.js", "../../adapters/dist/timeline/region/ValueRegionBoxAdapter.js", "../../adapters/dist/timeline/RegionBoxAdapter.js", "../../adapters/dist/timeline/TrackRegions.js", "../../adapters/dist/timeline/TrackType.js", "../../adapters/dist/DeviceBox.js", "../../adapters/dist/DeviceAdapter.js", "../../adapters/dist/audio-unit/AudioUnitTracks.js", "../../adapters/dist/audio-unit/AudioBusBoxAdapter.js", "../../adapters/dist/audio-unit/AudioUnitInput.js", "../../adapters/dist/ParameterAdapterSet.js", "../../adapters/dist/audio-unit/AuxSendBoxAdapter.js", "../../adapters/dist/audio-unit/AudioUnitOutput.js", "../../adapters/dist/audio-unit/AudioUnitBoxAdapter.js", "../../adapters/dist/timeline/TrackBoxAdapter.js", "../../adapters/dist/AutomatableParameterFieldAdapter.js", "../../adapters/dist/BoxAdapterCollection.js", "../../adapters/dist/devices/audio-effects/DelayDeviceBoxAdapter.js", "../../adapters/dist/devices/audio-effects/ReverbDeviceBoxAdapter.js", "../../adapters/dist/devices/audio-effects/RevampDeviceBoxAdapter.js", "../../adapters/dist/timeline/MarkerBoxAdapter.js", "../../adapters/dist/timeline/MarkerTrackAdapter.js", "../../adapters/dist/timeline/TimelineBoxAdapter.js", "../../adapters/dist/modular/connection.js", "../../adapters/dist/modular/abstract.js", "../../adapters/dist/modular/connector.js", "../../adapters/dist/modular/modules/delay.js", "../../adapters/dist/modular/modules/audio-output.js", "../../adapters/dist/modular/modules/gain.js", "../../adapters/dist/modular/modules/multiplier.js", "../../adapters/dist/modular/modules/audio-input.js", "../../adapters/dist/modular/module.js", "../../adapters/dist/modular/user-interface.js", "../../adapters/dist/devices/audio-effects/ModularDeviceBoxAdapter.js", "../../adapters/dist/modular/modular.js", "../../adapters/dist/grooves/GrooveShuffleBoxAdapter.js", "../../adapters/dist/FieldAdapter.js", "../../adapters/dist/PianoModeAdapter.js", "../../adapters/dist/RootBoxAdapter.js", "../../adapters/dist/devices/instruments/TapeDeviceBoxAdapter.js", "../../adapters/dist/devices/instruments/VaporisateurSettings.js", "../../adapters/dist/devices/instruments/VaporisateurDeviceBoxAdapter.js", "../../adapters/dist/devices/midi-effects/ArpeggioDeviceBoxAdapter.js", "../../adapters/dist/devices/midi-effects/PitchDeviceBoxAdapter.js", "../../adapters/dist/devices/instruments/NanoDeviceBoxAdapter.js", "../../adapters/dist/devices/instruments/Playfield/PlayfieldSampleBoxAdapter.js", "../../adapters/dist/devices/instruments/PlayfieldDeviceBoxAdapter.js", "../../adapters/dist/devices/audio-effects/StereoToolDeviceBoxAdapter.js", "../../adapters/dist/grooves/GrooveBoxAdapter.js", "../../adapters/dist/devices/midi-effects/ZeitgeistDeviceBoxAdapter.js", "../../adapters/dist/devices/audio-effects/UnknownAudioEffectDeviceBoxAdapter.js", "../../adapters/dist/devices/midi-effects/UnknownMidiEffectDeviceBoxAdapter.js", "../../adapters/dist/devices/instruments/SoundfontDeviceBoxAdapter.js", "../../adapters/dist/soundfont/SoundfontFileBoxAdapter.js", "../../adapters/dist/devices/audio-effects/CompressorDeviceBoxAdapter.js", "../../adapters/dist/devices/audio-effects/CrusherDeviceBoxAdapter.js", "../../adapters/dist/devices/audio-effects/FoldDeviceBoxAdapter.js", "../../adapters/dist/devices/instruments/MIDIOutputDeviceBoxAdapter.js", "../../adapters/dist/devices/midi-effects/VelocityDeviceBoxAdapter.js", "../../adapters/dist/devices/audio-effects/TidalDeviceBoxAdapter.js", "../../adapters/dist/devices/audio-effects/DattorroReverbDeviceBoxAdapter.js", "../../adapters/dist/BoxAdapters.js", "../../adapters/dist/EngineProcessorAttachment.js", "../../adapters/dist/EngineStateSchema.js", "../../adapters/dist/NoteBroadcaster.js", "../../../lib/midi/dist/Chunk.js", "../../../lib/midi/dist/ControlType.js", "../../../lib/midi/dist/ControlEvent.js", "../../../lib/midi/dist/MetaType.js", "../../../lib/midi/dist/MidiData.js", "../../../lib/midi/dist/MidiFileFormat.js", "../../../lib/midi/dist/MidiTrack.js", "../../../lib/midi/dist/MidiFileDecoder.js", "../../../lib/midi/dist/MidiFile.js", "../../../lib/midi/dist/index.js", "../../adapters/dist/NoteSignal.js", "../../adapters/dist/NoteLifeCycle.js", "../../adapters/dist/NoteStreamReceiver.js", "../../adapters/dist/ParameterFieldAdapters.js", "../../adapters/dist/unions.js", "../../adapters/dist/Validator.js", "../../adapters/dist/Parsing.js", "../../adapters/dist/RingBuffer.js", "../../adapters/dist/UnionAdapterTypes.js", "../../adapters/dist/devices/instruments/Playfield/Gate.js", "../../adapters/dist/editing/UserEditing.js", "../../adapters/dist/editing/UserEditingManager.js", "../../adapters/dist/factories/AudioUnitOrdering.js", "../../adapters/dist/factories/AudioUnitFactory.js", "../../adapters/dist/factories/AudioBusFactory.js", "../../adapters/dist/factories/ColorCodes.js", "../../adapters/dist/factories/InstrumentFactories.js", "../../adapters/dist/project/ProjectSkeleton.js", "../../adapters/dist/project/ProjectUtils.js", "../../adapters/dist/preset/PresetHeader.js", "../../adapters/dist/preset/PresetDecoder.js", "../../adapters/dist/preset/PresetEncoder.js", "../../adapters/dist/project/ProjectQueries.js", "../../../../node_modules/zod/v4/classic/external.js", "../../../../node_modules/zod/v4/core/index.js", "../../../../node_modules/zod/v4/core/core.js", "../../../../node_modules/zod/v4/core/util.js", "../../../../node_modules/zod/v4/core/errors.js", "../../../../node_modules/zod/v4/core/parse.js", "../../../../node_modules/zod/v4/core/regexes.js", "../../../../node_modules/zod/v4/core/checks.js", "../../../../node_modules/zod/v4/core/doc.js", "../../../../node_modules/zod/v4/core/versions.js", "../../../../node_modules/zod/v4/core/schemas.js", "../../../../node_modules/zod/v4/locales/index.js", "../../../../node_modules/zod/v4/locales/ar.js", "../../../../node_modules/zod/v4/locales/az.js", "../../../../node_modules/zod/v4/locales/be.js", "../../../../node_modules/zod/v4/locales/bg.js", "../../../../node_modules/zod/v4/locales/ca.js", "../../../../node_modules/zod/v4/locales/cs.js", "../../../../node_modules/zod/v4/locales/da.js", "../../../../node_modules/zod/v4/locales/de.js", "../../../../node_modules/zod/v4/locales/en.js", "../../../../node_modules/zod/v4/locales/eo.js", "../../../../node_modules/zod/v4/locales/es.js", "../../../../node_modules/zod/v4/locales/fa.js", "../../../../node_modules/zod/v4/locales/fi.js", "../../../../node_modules/zod/v4/locales/fr.js", "../../../../node_modules/zod/v4/locales/fr-CA.js", "../../../../node_modules/zod/v4/locales/he.js", "../../../../node_modules/zod/v4/locales/hu.js", "../../../../node_modules/zod/v4/locales/id.js", "../../../../node_modules/zod/v4/locales/is.js", "../../../../node_modules/zod/v4/locales/it.js", "../../../../node_modules/zod/v4/locales/ja.js", "../../../../node_modules/zod/v4/locales/ka.js", "../../../../node_modules/zod/v4/locales/km.js", "../../../../node_modules/zod/v4/locales/kh.js", "../../../../node_modules/zod/v4/locales/ko.js", "../../../../node_modules/zod/v4/locales/lt.js", "../../../../node_modules/zod/v4/locales/mk.js", "../../../../node_modules/zod/v4/locales/ms.js", "../../../../node_modules/zod/v4/locales/nl.js", "../../../../node_modules/zod/v4/locales/no.js", "../../../../node_modules/zod/v4/locales/ota.js", "../../../../node_modules/zod/v4/locales/ps.js", "../../../../node_modules/zod/v4/locales/pl.js", "../../../../node_modules/zod/v4/locales/pt.js", "../../../../node_modules/zod/v4/locales/ru.js", "../../../../node_modules/zod/v4/locales/sl.js", "../../../../node_modules/zod/v4/locales/sv.js", "../../../../node_modules/zod/v4/locales/ta.js", "../../../../node_modules/zod/v4/locales/th.js", "../../../../node_modules/zod/v4/locales/tr.js", "../../../../node_modules/zod/v4/locales/uk.js", "../../../../node_modules/zod/v4/locales/ua.js", "../../../../node_modules/zod/v4/locales/ur.js", "../../../../node_modules/zod/v4/locales/vi.js", "../../../../node_modules/zod/v4/locales/zh-CN.js", "../../../../node_modules/zod/v4/locales/zh-TW.js", "../../../../node_modules/zod/v4/locales/yo.js", "../../../../node_modules/zod/v4/core/registries.js", "../../../../node_modules/zod/v4/core/api.js", "../../../../node_modules/zod/v4/core/to-json-schema.js", "../../../../node_modules/zod/v4/core/json-schema.js", "../../../../node_modules/zod/v4/classic/iso.js", "../../../../node_modules/zod/v4/classic/errors.js", "../../../../node_modules/zod/v4/classic/parse.js", "../../../../node_modules/zod/v4/classic/schemas.js", "../../../../node_modules/zod/v4/classic/compat.js", "../../../../node_modules/zod/v4/classic/coerce.js", "../../adapters/dist/sample/SampleMetaData.js", "../../adapters/dist/sample/Sample.js", "../../adapters/dist/selection/FilteredSelection.js", "../../adapters/dist/selection/VertexSelection.js", "../../adapters/dist/soundfont/SoundfontMetaData.js", "../../adapters/dist/soundfont/Soundfont.js", "../../adapters/dist/timeline/RegionEditing.js", "../../core-processors/src/processing.ts", "../../core-processors/src/PeakBroadcaster.ts", "../../core-processors/src/AutomatableParameter.ts", "../../core-processors/src/EventBuffer.ts", "../../core-processors/src/AbstractProcessor.ts", "../../core-processors/src/UpdateClock.ts", "../../core-processors/src/AudioProcessor.ts", "../../core-processors/src/devices/audio-effects/DelayDeviceDsp.ts", "../../core-processors/src/devices/audio-effects/DelayDeviceProcessor.ts", "../../core-processors/src/devices/audio-effects/NopDeviceProcessor.ts", "../../core-processors/src/AudioBusProcessor.ts", "../../core-processors/src/NoteEventSource.ts", "../../core-processors/src/NoteEventInstrument.ts", "../../core-processors/src/voicing/VoicingStrategy.ts", "../../core-processors/src/voicing/Voicing.ts", "../../core-processors/src/voicing/PolyphonicStrategy.ts", "../../core-processors/src/voicing/MonophonicStrategy.ts", "../../core-processors/src/voicing/VoiceUnison.ts", "../../core-processors/src/devices/instruments/VaporisateurVoice.ts", "../../core-processors/src/devices/instruments/VaporisateurDeviceProcessor.ts", "../../core-processors/src/devices/instruments/TapeDeviceProcessor.ts", "../../core-processors/src/EventProcessor.ts", "../../core-processors/src/devices/midi-effects/ArpeggioDevice/ArpeggioModes.ts", "../../core-processors/src/devices/midi-effects/ArpeggioDeviceProcessor.ts", "../../core-processors/src/devices/midi-effects/PitchDeviceProcessor.ts", "../../core-processors/src/SpectrumAnalyser.ts", "../../core-processors/src/devices/audio-effects/RevampDeviceProcessor.ts", "../../core-processors/src/FreeVerb.ts", "../../core-processors/src/devices/audio-effects/ReverbDeviceProcessor.ts", "../../core-processors/src/devices/instruments/NanoDeviceProcessor.ts", "../../core-processors/src/devices/instruments/Playfield/PlayfieldSequencer.ts", "../../core-processors/src/devices/instruments/Playfield/MixProcessor.ts", "../../core-processors/src/InsertReturnAudioChain.ts", "../../core-processors/src/devices/instruments/Playfield/SampleVoice.ts", "../../core-processors/src/devices/instruments/Playfield/SampleProcessor.ts", "../../core-processors/src/devices/instruments/PlayfieldDeviceProcessor.ts", "../../core-processors/src/devices/audio-effects/StereoToolDeviceProcessor.ts", "../../core-processors/src/devices/midi-effects/ZeitgeistDeviceProcessor.ts", "../../core-processors/src/devices/midi-effects/UnknownMidiEffectDeviceProcessor.ts", "../../core-processors/src/devices/instruments/Soundfont/SoundfontVoice.ts", "../../core-processors/src/devices/instruments/SoundfontDeviceProcessor.ts", "../../../lib/dsp/dist/ctagdrc/conversation.js", "../../../lib/dsp/dist/ctagdrc/CrestFactor.js", "../../../lib/dsp/dist/ctagdrc/DelayLine.js", "../../../lib/dsp/dist/ctagdrc/GainComputer.js", "../../../lib/dsp/dist/ctagdrc/SmoothingFilter.js", "../../../lib/dsp/dist/ctagdrc/LevelDetector.js", "../../../lib/dsp/dist/ctagdrc/LookAhead.js", "../../core-processors/src/devices/audio-effects/CompressorDeviceProcessor.ts", "../../core-processors/src/devices/audio-effects/CrusherDeviceProcessor.ts", "../../core-processors/src/devices/audio-effects/FoldDeviceProcessor.ts", "../../core-processors/src/devices/instruments/MIDIOutputDeviceProcessor.ts", "../../core-processors/src/devices/midi-effects/VelocityDeviceProcessor.ts", "../../core-processors/src/devices/audio-effects/TidalDeviceProcessor.ts", "../../core-processors/src/devices/audio-effects/DattorroReverbDsp.ts", "../../core-processors/src/devices/audio-effects/DattorroReverbDeviceProcessor.ts", "../../core-processors/src/DeviceProcessorFactory.ts", "../../core-processors/src/AuxSendProcessor.ts", "../../core-processors/src/ChannelStripProcessor.ts", "../../core-processors/src/AudioDeviceChain.ts", "../../core-processors/src/NoteSequencer.ts", "../../core-processors/src/MidiDeviceChain.ts", "../../core-processors/src/AudioUnit.ts", "../../core-processors/src/Mixer.ts", "../../../lib/dom/dist/browser.js", "../../../lib/dom/dist/compression.js", "../../../lib/dom/dist/console-commands.js", "../../../lib/dom/dist/constraint.js", "../../../lib/dom/dist/context-2d.js", "../../../lib/dom/dist/css-utils.js", "../../../lib/dom/dist/frames.js", "../../../lib/dom/dist/events.js", "../../../lib/dom/dist/keyboard.js", "../../../lib/dom/dist/dragging.js", "../../../lib/dom/dist/files.js", "../../../lib/dom/dist/html.js", "../../../lib/dom/dist/modfier-keys.js", "../../../lib/dom/dist/stream.js", "../../../lib/dom/dist/svg.js", "../../../lib/dom/dist/terminable.js", "../../../lib/dom/dist/index.js", "../../../lib/fusion/dist/live-stream/PackageType.js", "../../../lib/fusion/dist/live-stream/Lock.js", "../../../lib/fusion/dist/live-stream/Flags.js", "../../../lib/fusion/dist/live-stream/LiveStreamBroadcaster.js", "../../../lib/fusion/dist/peaks/Peaks.js", "../../../lib/fusion/dist/peaks/SamplePeakWorker.js", "../../../lib/fusion/dist/peaks/PeaksPainter.js", "../../../lib/fusion/dist/opfs/OpfsWorker.js", "../../../lib/fusion/dist/index.js", "../../core-processors/src/Metronome.ts", "../../core-processors/src/BlockRenderer.ts", "../../core-processors/src/SampleManagerWorklet.ts", "../../core-processors/src/ClipSequencingAudioContext.ts", "../../core-processors/src/AudioUnitOptions.ts", "../../core-processors/src/SoundfontManagerWorklet.ts", "../../core-processors/src/MIDITransportClock.ts", "../../core-processors/src/MIDISender.ts", "../../core-processors/src/EngineProcessor.ts", "../../core-processors/src/RecordingProcessor.ts", "../../core-processors/src/register.ts"],
  "sourcesContent": ["// noinspection JSUnusedGlobalSymbols\nexport const identity = (value) => value;\nexport const isDefined = (value) => value !== undefined && value !== null;\nexport const isNull = (value) => value === null;\nexport const isNotNull = (value) => value !== null;\nexport const isUndefined = (value) => value === undefined;\nexport const isNotUndefined = (value) => value !== undefined;\nexport const isAbsent = (value) => value === undefined || value === null;\nexport const ifDefined = (value, procedure) => value !== undefined && value !== null ? procedure(value) : undefined;\nexport const asDefined = (value, fail = \"asDefined failed\") => value === null || value === undefined ? panic(getOrProvide(fail)) : value;\nexport const isInstanceOf = (obj, clazz) => obj instanceof clazz;\nexport const asInstanceOf = (obj, clazz) => obj instanceof clazz ? obj : panic(`${obj} is not instance of ${clazz}`);\nexport const assertInstanceOf = (obj, clazz) => {\n    if (!(obj instanceof clazz)) {\n        panic(`${obj} is not instance of ${clazz}`);\n    }\n};\nexport const isSameClass = (a, b) => a.constructor === b.constructor;\nexport const tryProvide = (provider) => {\n    try {\n        return provider();\n    }\n    catch (reason) {\n        return panic(String(reason));\n    }\n};\nexport const getOrProvide = (value) => value instanceof Function ? value() : value;\nexport const safeWrite = (object, property, value) => property in object ? object[property] = value : undefined;\nexport const safeExecute = (func, ...args) => func?.apply(null, args);\nexport const isRecord = (value) => isDefined(value) && typeof value === \"object\";\nexport const hasField = (record, key, type) => {\n    if (!(key in record))\n        return false;\n    const value = record[key];\n    return type === \"null\" ? value === null : typeof value === type;\n};\nexport const safeRead = (object, ...keys) => {\n    let current = object;\n    for (const key of keys) {\n        if (!isRecord(current) || !(key in current)) {\n            return undefined;\n        }\n        current = current[key];\n    }\n    return current;\n};\nexport const Unhandled = (empty) => { throw new Error(`Unhandled ${empty}`); };\nexport const panic = (issue) => {\n    throw typeof issue === \"string\" ? new Error(issue) : issue;\n};\nexport const assert = (condition, fail) => condition ? undefined : panic(getOrProvide(fail));\nexport const checkIndex = (index, array) => index >= 0 && index < array.length ? index : panic(`Index ${index} is out of bounds`);\nexport const InaccessibleProperty = (failMessage) => new Proxy({}, { get() { return panic(failMessage); } });\nexport const canWrite = (obj, key) => {\n    while (isDefined(obj)) {\n        const descriptor = Object.getOwnPropertyDescriptor(obj, key);\n        if (isDefined(descriptor)) {\n            return typeof descriptor.set === \"function\";\n        }\n        obj = Object.getPrototypeOf(obj);\n    }\n    return false;\n};\nexport const requireProperty = (object, key) => {\n    const { status, value } = tryCatch(() => object instanceof Function ? object.name : object.constructor.name);\n    const feature = status === \"failure\" ? `${object}.${String(key)}` : `${value}.${String(key)}`;\n    console.debug(`%c${feature}%c available`, \"color: hsl(200, 83%, 60%)\", \"color: inherit\");\n    if (!(key in object)) {\n        throw feature;\n    }\n};\nexport class SuccessResult {\n    value;\n    status = \"success\";\n    constructor(value) {\n        this.value = value;\n    }\n    error = InaccessibleProperty(\"Cannot access error when succeeded\");\n}\nexport class FailureResult {\n    error;\n    status = \"failure\";\n    constructor(error) {\n        this.error = error;\n    }\n    value = InaccessibleProperty(\"Cannot access value when failed\");\n}\nexport const tryCatch = (statement) => {\n    try {\n        return new SuccessResult(statement());\n    }\n    catch (error) {\n        return new FailureResult(error);\n    }\n};\nexport const isValidIdentifier = (identifier) => /^[A-Za-z_$][A-Za-z0-9_]*$/.test(identifier);\nexport const asValidIdentifier = (identifier) => isValidIdentifier(identifier) ? identifier : panic(`'${identifier}' is not a valid identifier`);\nexport const asEnumValue = (value, enm) => {\n    const keys = Object.keys(enm);\n    if (keys.length === 0)\n        return panic(\"Empty enum object (are you using `const enum`?)\");\n    const values = Object.keys(enm)\n        .filter(k => isNaN(Number(k)))\n        .map(k => enm[k]);\n    return values.includes(value) ? value : panic(`Invalid enum value: ${String(value)}`);\n};\nexport const EmptyExec = () => { };\nexport const EmptyProvider = () => { };\nexport const EmptyProcedure = (_) => { };\n", "import { asDefined, panic } from \"./lang\";\nexport var Sorting;\n(function (Sorting) {\n    Sorting[Sorting[\"Ascending\"] = 1] = \"Ascending\";\n    Sorting[Sorting[\"Descending\"] = -1] = \"Descending\";\n})(Sorting || (Sorting = {}));\nexport class Arrays {\n    static #empty = Object.freeze(new Array(0));\n    static empty = () => (() => this.#empty)();\n    static clear = (array) => { array.length = 0; };\n    static replace = (array, newValues) => {\n        array.length = 0;\n        array.push(...newValues);\n    };\n    static consume = (array, procedure) => {\n        for (let index = 0; index < array.length;) {\n            if (procedure(array[index])) {\n                array.splice(index, 1);\n            }\n            else {\n                index++;\n            }\n        }\n    };\n    static peekFirst = (array) => array.at(0) ?? null;\n    static peekLast = (array) => array.at(-1) ?? null;\n    static getFirst = (array, fail) => asDefined(array.at(0), fail);\n    static getLast = (array, fail) => asDefined(array.at(-1), fail);\n    static getPrev = (array, element) => {\n        const index = array.indexOf(element);\n        if (index === -1) {\n            return panic(`${element} not found in ${array}`);\n        }\n        return asDefined(array.at((index - 1) % array.length), \"Internal Error\");\n    };\n    static getNext = (array, element) => {\n        const index = array.indexOf(element);\n        if (index === -1) {\n            return panic(`${element} not found in ${array}`);\n        }\n        return asDefined(array.at((index + 1) % array.length), \"Internal Error\");\n    };\n    static removeLast = (array, fail) => asDefined(array.pop(), fail);\n    static create = (factory, n) => {\n        const array = new Array(n);\n        for (let i = 0; i < n; i++) {\n            array[i] = factory(i);\n        }\n        return array;\n    };\n    static equals = (a, b) => {\n        if (a.length !== b.length) {\n            return false;\n        }\n        for (let i = 0; i < a.length; i++) {\n            if (a[i] !== b[i]) {\n                return false;\n            }\n        }\n        return true;\n    };\n    /**\n     * The satisfy method checks if all elements in a given array satisfy a provided predicate function\n     * when compared with the first element of the array. That essentially means that all tested properties\n     * in the predicate function are equal throughout the array.\n     * [1, 1, 1, 1, 1] > (a, b) => a === b returns true\n     * [1, 1, 1, 1, 2] > (a, b) => a === b returns false\n     * [1, 1, 3, 2, 1] > (a, b) => a === b returns false\n     */\n    static satisfy = (array, predicate) => {\n        if (array.length < 2) {\n            return true;\n        }\n        const first = array[0];\n        for (let i = 1; i < array.length; i++) {\n            if (!predicate(first, array[i])) {\n                return false;\n            }\n        }\n        return true;\n    };\n    static remove = (array, element) => {\n        const index = array.indexOf(element);\n        if (index === -1) {\n            return panic(`${element} not found in ${array}`);\n        }\n        array.splice(index, 1);\n    };\n    static removeIf = (array, predicate) => {\n        for (let i = array.length - 1; i >= 0; i--) {\n            if (predicate(array[i])) {\n                array.splice(i, 1);\n            }\n        }\n    };\n    static removeOpt = (array, element) => {\n        const index = array.indexOf(element);\n        if (index === -1) {\n            return false;\n        }\n        array.splice(index, 1);\n        return true;\n    };\n    static hasDuplicates = (array) => new Set(array).size < array.length;\n    static removeDuplicates = (array) => {\n        let index = 0 | 0;\n        const result = new Set();\n        for (const element of array) {\n            if (!result.has(element)) {\n                result.add(element);\n                array[index++] = element;\n            }\n        }\n        array.length = index;\n        return array;\n    };\n    static removeDuplicateKeys = (array, key) => {\n        let index = 0 | 0;\n        const seen = new Set();\n        for (const element of array) {\n            const value = element[key];\n            if (!seen.has(value)) {\n                seen.add(value);\n                array[index++] = element;\n            }\n        }\n        array.length = index;\n        return array;\n    };\n    static subtract(array, excludeArray, compareFn) {\n        return array.filter(item => !excludeArray.some(excludeItem => compareFn(item, excludeItem)));\n    }\n    static intersect(array, other, compareFn) {\n        return array.filter(item => other.some(includeItem => compareFn(item, includeItem)));\n    }\n    static merge(baseArray, mergeIntoArray, compareFn) {\n        return [...(baseArray\n                .filter(baseItem => !mergeIntoArray\n                .some(mergeItem => compareFn(baseItem, mergeItem)))), ...mergeIntoArray];\n    }\n    static *iterate(array) {\n        for (let i = 0; i < array.length; i++) {\n            yield array[i];\n        }\n    }\n    static *iterateReverse(array) {\n        for (let i = array.length - 1; i >= 0; i--) {\n            yield array[i];\n        }\n    }\n    static *iterateStateFull(array) {\n        const maxIndex = array.length - 1;\n        for (let i = 0; i <= maxIndex; i++) {\n            yield { value: array[i], isFirst: i === 0, isLast: i === maxIndex };\n        }\n    }\n    static *iterateAdjacent(array) {\n        if (array.length <= 1) {\n            return;\n        }\n        for (let i = 1, left = array[0]; i < array.length; i++) {\n            const right = array[i];\n            yield [left, right];\n            left = right;\n        }\n    }\n    static isSorted(array, sorting = Sorting.Ascending) {\n        if (array.length < 2) {\n            return true;\n        }\n        let prev = array[0];\n        for (let i = 1; i < array.length; i++) {\n            const next = array[i];\n            if (Math.sign(prev - next) === sorting) {\n                return false;\n            }\n            prev = next;\n        }\n        return true;\n    }\n    static toRecord(array, toKey) {\n        return array.reduce((record, value) => {\n            record[toKey(value)] = value;\n            return record;\n        }, {});\n    }\n    static concatArrayBuffers(a, b) {\n        const result = new ArrayBuffer(a.byteLength + b.byteLength);\n        const view = new Uint8Array(result);\n        view.set(new Uint8Array(a), 0);\n        view.set(new Uint8Array(b), a.byteLength);\n        return result;\n    }\n}\n", "import { asDefined, getOrProvide, isDefined, panic } from \"./lang\";\nexport var Option;\n(function (Option) {\n    Option.wrap = (value) => isDefined(value) ? new Some(value) : Option.None;\n    Option.from = (provider) => Option.wrap(provider());\n    Option.tryFrom = (provider) => {\n        try {\n            return Option.wrap(provider());\n        }\n        catch (_error) {\n            return Option.None;\n        }\n    };\n    Option.execute = (func, ...args) => Option.wrap(func?.apply(null, args));\n    Option.async = (promise) => promise.then(value => Option.wrap(value), () => Option.None);\n    class Some {\n        #value;\n        constructor(value) { this.#value = asDefined(value); }\n        unwrap() { return this.#value; }\n        unwrapOrElse(_) { return this.#value; }\n        unwrapOrNull() { return this.#value; }\n        unwrapOrUndefined() { return this.#value; }\n        contains(value) { return value === this.#value; }\n        match(matchable) { return matchable.some(this.#value); }\n        ifSome(run) { return run(this.#value); }\n        ifAbsent(_func) { return undefined; }\n        isEmpty() { return false; }\n        nonEmpty() { return true; }\n        map(callback) { return Option.wrap(callback(this.#value)); }\n        mapOr(func, _or) { return func(this.#value); }\n        flatMap(callback) { return callback(this.#value); }\n        equals(other) { return this.unwrapOrNull() === other.unwrapOrNull(); }\n        assert(_fail) { return this; }\n        toString() { return `{Option.Some(${this.#value})}`; }\n        get [Symbol.toStringTag]() { return this.toString(); }\n    }\n    Option.Some = Some;\n    Option.None = new class {\n        unwrap = (fail) => panic(isDefined(fail) ? getOrProvide(fail) : \"unwrap failed\");\n        unwrapOrElse = (value) => getOrProvide(value);\n        unwrapOrNull = () => null;\n        unwrapOrUndefined = () => undefined;\n        contains = (_) => false;\n        match = (matchable) => matchable.none();\n        ifSome = (_) => { };\n        ifAbsent = (exec) => exec(undefined);\n        isEmpty = () => true;\n        nonEmpty = () => false;\n        map = (_) => Option.None;\n        mapOr = (_, or) => getOrProvide(or);\n        flatMap = (_) => Option.None;\n        equals = (other) => other.isEmpty();\n        assert = (fail) => panic(getOrProvide(fail) ?? \"assert failed\");\n        toString = () => \"{Option.None}\";\n        get [Symbol.toStringTag]() { return this.toString(); }\n    };\n})(Option || (Option = {}));\n", "import { panic } from \"./lang\";\nimport { Option } from \"./option\";\nexport var Attempts;\n(function (Attempts) {\n    Attempts.async = (promise) => promise.then(value => Attempts.ok(value), reason => Attempts.err(reason));\n    Attempts.tryGet = (provider) => {\n        try {\n            return Attempts.ok(provider());\n        }\n        catch (reason) {\n            return Attempts.err(reason);\n        }\n    };\n    Attempts.ok = (result) => new class {\n        value;\n        constructor(value) {\n            this.value = value;\n        }\n        asOption = () => Option.wrap(this.value);\n        failureReason = () => { throw new Error(\"Attempt was successful.\"); };\n        isFailure = () => false;\n        isSuccess = () => true;\n        result = () => this.value;\n        map = (map) => {\n            try {\n                return Attempts.ok(map(this.value));\n            }\n            catch (reason) {\n                return Attempts.err(reason);\n            }\n        };\n        flatMap = (map) => map(this.value);\n        match = (matchable) => matchable.ok(this.value);\n        toVoid = () => Attempts.ok(undefined);\n        failure = () => { throw new Error(\"Attempt was successful.\"); };\n        toString = () => `{Success: ${this.value}`;\n        get [Symbol.toStringTag]() { return \"Success\"; }\n    }(result);\n    Attempts.Ok = new class {\n        constructor() { }\n        asOption = () => Option.None;\n        failureReason = () => { throw new Error(\"Attempt was successful.\"); };\n        isFailure = () => false;\n        isSuccess = () => true;\n        result = () => undefined;\n        map = (map) => Attempts.ok(map());\n        flatMap = (map) => map();\n        match = (matchable) => matchable.ok();\n        toVoid = () => Attempts.ok(undefined);\n        failure = () => { throw new Error(\"Attempt was successful.\"); };\n        toString = () => `{Success: Ok`;\n        get [Symbol.toStringTag]() { return \"Success\"; }\n    }();\n    Attempts.err = (reason) => new class {\n        reason;\n        constructor(reason) {\n            this.reason = reason;\n        }\n        asOption = () => Option.None;\n        failureReason = () => this.reason;\n        isFailure = () => true;\n        isSuccess = () => false;\n        result = () => panic(`'${this.reason}'`);\n        map = () => this;\n        flatMap = () => this;\n        match = (matchable) => matchable.err(this.reason);\n        toVoid = () => Attempts.err(this.reason);\n        failure = () => this;\n        toString = () => `{Failure: ${this.reason}`;\n        get [Symbol.toStringTag]() { return \"Failure\"; }\n    }(reason);\n})(Attempts || (Attempts = {}));\n", "// https://en.wikipedia.org/wiki/Binary_search_algorithm\n//\nexport var BinarySearch;\n(function (BinarySearch) {\n    BinarySearch.exact = (sorted, key, comparator) => {\n        let l = 0 | 0;\n        let r = sorted.length - 1;\n        while (l <= r) {\n            const m = (l + r) >>> 1;\n            const cmp = comparator(sorted[m], key);\n            if (cmp === 0) {\n                return m;\n            }\n            if (cmp < 0) {\n                l = m + 1;\n            }\n            else {\n                r = m - 1;\n            }\n        }\n        return -1;\n    };\n    BinarySearch.exactMapped = (sorted, key, comparator, map) => {\n        let l = 0 | 0;\n        let r = sorted.length - 1;\n        while (l <= r) {\n            const m = (l + r) >>> 1;\n            const cmp = comparator(map(sorted[m]), key);\n            if (cmp === 0) {\n                return m;\n            }\n            if (cmp < 0) {\n                l = m + 1;\n            }\n            else {\n                r = m - 1;\n            }\n        }\n        return -1;\n    };\n    BinarySearch.leftMost = (sorted, key, comparator) => {\n        let l = 0 | 0;\n        let r = sorted.length;\n        while (l < r) {\n            const m = (l + r) >>> 1;\n            if (comparator(sorted[m], key) < 0) {\n                l = m + 1;\n            }\n            else {\n                r = m;\n            }\n        }\n        return l;\n    };\n    BinarySearch.rightMost = (sorted, key, comparator) => {\n        let l = 0 | 0;\n        let r = sorted.length;\n        while (l < r) {\n            const m = (l + r) >>> 1;\n            if (comparator(sorted[m], key) <= 0) {\n                l = m + 1;\n            }\n            else {\n                r = m;\n            }\n        }\n        return r - 1;\n    };\n    /**\n     * stableInsert\n     *\n     * A hybrid binary-search variant is used when inserting into a sorted array\n     * that must remain both numerically sorted and stable for equal values.\n     *\n     * - `leftMost` inserts before existing equal elements \u2192 breaks stability\n     *   (newer equal values appear before older ones)\n     * - `rightMost` inserts after existing equal elements \u2192 preserves stability\n     *   but may misplace smaller values if used naively\n     *\n     * `stableInsert` combines both:\n     * it finds the first element greater than the key (not equal),\n     * ensuring correct ascending order while appending after any equals.\n     *\n     * This pattern is common in associative containers like multimaps,\n     * priority queues, or event lists where items share the same key\n     * but must preserve their original insertion order.\n     */\n    BinarySearch.stableInsert = (sorted, key, comparator) => {\n        let l = 0;\n        let r = sorted.length;\n        while (l < r) {\n            const m = (l + r) >>> 1;\n            const cmp = comparator(sorted[m], key);\n            if (cmp < 0) {\n                l = m + 1;\n            }\n            else {\n                r = m;\n            }\n        }\n        while (l < sorted.length && comparator(sorted[l], key) === 0) {\n            l++;\n        }\n        return l;\n    };\n    BinarySearch.leftMostMapped = (sorted, key, comparator, map) => {\n        let l = 0 | 0;\n        let r = sorted.length;\n        while (l < r) {\n            const m = (l + r) >>> 1;\n            if (comparator(map(sorted[m]), key) < 0) {\n                l = m + 1;\n            }\n            else {\n                r = m;\n            }\n        }\n        return l;\n    };\n    BinarySearch.rightMostMapped = (sorted, key, comparator, map) => {\n        let l = 0 | 0;\n        let r = sorted.length;\n        while (l < r) {\n            const m = (l + r) >>> 1;\n            if (comparator(map(sorted[m]), key) <= 0) {\n                l = m + 1;\n            }\n            else {\n                r = m;\n            }\n        }\n        return r - 1;\n    };\n    BinarySearch.rangeMapped = (sorted, key, comparator, map) => [BinarySearch.leftMostMapped(sorted, key, comparator, map), BinarySearch.rightMostMapped(sorted, key, comparator, map)];\n})(BinarySearch || (BinarySearch = {}));\n", "import { Arrays } from \"./arrays\";\nexport class Bits {\n    static every = (set, flag) => (set & flag) === flag;\n    static some = (set, flag) => (set & flag) > 0;\n    #numBits;\n    #array;\n    constructor(numBits = 32) {\n        this.#numBits = numBits;\n        this.#array = new Int32Array(((numBits - 1) >>> 5) + 1);\n    }\n    getBit(index) {\n        const arrayIndex = index >>> 5;\n        const byte = 1 << (index - (arrayIndex << 5));\n        return (this.#array[arrayIndex] & byte) !== 0;\n    }\n    setBit(index, value) {\n        const arrayIndex = index >>> 5;\n        const byte = 1 << (index - (arrayIndex << 5));\n        const was = this.#array[arrayIndex];\n        const val = value ? was | byte : was & ~byte;\n        if (val === was) {\n            return false;\n        }\n        this.#array[arrayIndex] = val;\n        return true;\n    }\n    isEmpty() { return this.#array.every(value => value === 0); }\n    nonEmpty() { return this.#array.some(value => value > 0); }\n    set buffer(value) { this.#array.set(new Int32Array(value)); }\n    get buffer() { return this.#array.buffer; }\n    replace(buffer) {\n        const source = new Int32Array(buffer);\n        let changes = false;\n        for (let index = 0; index < source.length; index++) {\n            if (this.#array[index] !== source[index]) {\n                this.#array[index] = source[index];\n                changes = true;\n            }\n        }\n        return changes;\n    }\n    toString() {\n        let result = \"\";\n        for (const value of Arrays.iterateReverse(this.#array)) {\n            result += value.toString(2).padStart(32, \"0\");\n        }\n        return result.substring(result.length - this.#numBits);\n    }\n    clear() { this.#array.fill(0); }\n}\n", "export class Cache {\n    #provider;\n    #value = null;\n    constructor(provider) { this.#provider = provider; }\n    invalidate = () => this.#value = null;\n    get() {\n        if (this.#value === null) {\n            this.#value = this.#provider();\n        }\n        return this.#value;\n    }\n    terminate() { this.invalidate(); }\n}\n", "import { isDefined } from \"./lang\";\nexport class Color {\n    static parseCssRgbOrRgba(color) {\n        const colorValues = color.match(/\\(([^)]+)\\)/)?.at(1)?.split(\",\")?.map(Number);\n        if (isDefined(colorValues) && colorValues.every(value => !isNaN(value))) {\n            if (colorValues.length === 3) {\n                return [\n                    colorValues[0] / 255.0,\n                    colorValues[1] / 255.0,\n                    colorValues[2] / 255.0,\n                    1.0\n                ];\n            }\n            else if (colorValues.length === 4) {\n                return [\n                    colorValues[0] / 255.0,\n                    colorValues[1] / 255.0,\n                    colorValues[2] / 255.0,\n                    colorValues[3]\n                ];\n            }\n        }\n        throw new Error(`${color} is not proper formatted. Example: 'rgb(255, 255, 255)' or 'rgba(255, 255, 255, 1)'`);\n    }\n    /**\n     * Converts an HSL color value to a hexadecimal RGB color string.\n     *\n     * @param h - Hue in degrees (0\u2013360).\n     * @param s - Saturation as a unit value (0\u20131).\n     * @param l - Lightness as a unit value (0\u20131).\n     * @returns The color in `#rrggbb` format.\n     */\n    static hslToHex(h, s, l) {\n        const k = (n) => (n + h / 30.0) % 12.0;\n        const a = s * Math.min(l, 1.0 - l);\n        const f = (n) => l - a * Math.max(-1.0, Math.min(k(n) - 3.0, Math.min(9.0 - k(n), 1.0)));\n        const toHex = (x) => Math.round(x * 255).toString(16).padStart(2, \"0\");\n        return `#${toHex(f(0))}${toHex(f(8))}${toHex(f(4))}`;\n    }\n    /**\n     * Converts a hexadecimal RGB color string to an HSL color value.\n     * @param hex - A color string in `#rrggbb`.\n     * @returns An object with:\n     * - `h` \u2014 Hue in degrees (0\u2013360)\n     * - `s` \u2014 Saturation as a unit value (0\u20131)\n     * - `l` \u2014 Lightness as a unit value (0\u20131)\n     */\n    static hexToHsl(hex) {\n        const clean = hex.startsWith(\"#\") ? hex.slice(1) : hex;\n        const r = parseInt(clean.slice(0, 2), 16) / 255;\n        const g = parseInt(clean.slice(2, 4), 16) / 255;\n        const b = parseInt(clean.slice(4, 6), 16) / 255;\n        const max = Math.max(r, g, b);\n        const min = Math.min(r, g, b);\n        const l = (max + min) / 2;\n        let h = 0;\n        let s = 0;\n        if (max !== min) {\n            const d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n            switch (max) {\n                case r:\n                    h = ((g - b) / d + (g < b ? 6 : 0)) * 60;\n                    break;\n                case g:\n                    h = ((b - r) / d + 2) * 60;\n                    break;\n                case b:\n                    h = ((r - g) / d + 4) * 60;\n                    break;\n            }\n        }\n        return { h, s, l };\n    }\n    static hslStringToHex(hsl) {\n        const [h, s, l] = hsl.match(/\\d+(\\.\\d+)?/g).map(Number);\n        return Color.hslToHex(h, s / 100.0, l / 100.0);\n    }\n    #h; // 0...360\n    #s; // 0...100\n    #l; // 0...100\n    #a; // 0...1\n    constructor(h, s, l, a = 1.0) {\n        this.#h = h;\n        this.#s = s;\n        this.#l = l;\n        this.#a = a;\n    }\n    opacity(alpha) {\n        return new Color(this.#h, this.#s, this.#l, alpha);\n    }\n    brightness(adjust) {\n        const newL = Math.max(0.0, Math.min(100.0, this.#l + adjust));\n        return new Color(this.#h, this.#s, newL, this.#a);\n    }\n    saturate(multiplier) {\n        return new Color(this.#h, this.#s * multiplier, this.#l, this.#a);\n    }\n    fade(shift) {\n        const newS = this.#s * (1.0 - Math.sqrt(shift));\n        const newL = this.#l + (100.0 - this.#l) * (shift ** 3.0);\n        return new Color(this.#h, newS, newL, this.#a);\n    }\n    toString() {\n        return this.#a === 1.0\n            ? `hsl(${this.#h}, ${this.#s}%, ${this.#l}%)`\n            : `hsla(${this.#h}, ${this.#s}%, ${this.#l}%, ${this.#a})`;\n    }\n}\n", "export const StringComparator = (a, b) => a > b ? 1 : b > a ? -1 : 0;\nexport const NumberComparator = (a, b) => a - b;\nexport const NumberArrayComparator = (a, b) => {\n    const n = Math.min(a.length, b.length);\n    for (let i = 0; i < n; i++) {\n        const comparison = a[i] - b[i];\n        if (comparison !== 0.0) {\n            return comparison;\n        }\n    }\n    return a.length - b.length;\n};\n", "// noinspection JSUnusedGlobalSymbols\nexport const TAU = Math.PI * 2.0;\nexport const PI_HALF = Math.PI / 2.0;\nexport const PI_QUART = Math.PI / 4.0;\nexport const INVERSE_SQRT_2 = 1.0 / Math.sqrt(2.0);\nexport const clamp = (value, min, max) => Math.max(min, Math.min(value, max));\nexport const clampUnit = (value) => Math.max(0.0, Math.min(value, 1.0));\nexport const squashUnit = (value, margin) => margin + (1.0 - 2.0 * margin) * Math.max(0.0, Math.min(value, 1.0));\nexport const quantizeFloor = (value, interval) => Math.floor(value / interval) * interval;\nexport const quantizeCeil = (value, interval) => Math.ceil(value / interval) * interval;\nexport const quantizeRound = (value, interval) => Math.round(value / interval) * interval;\nexport const linear = (y1, y2, mu) => y1 + (y2 - y1) * mu;\nexport const exponential = (y1, y2, mu) => y1 * Math.pow(y2 / y1, mu);\nexport const cosine = (y1, y2, mu) => {\n    const mu2 = (1.0 - Math.cos(mu * Math.PI)) * 0.5;\n    return y1 * (1.0 - mu2) + y2 * mu2;\n};\nexport const mod = (value, range) => fract(value / range) * range;\nexport const fract = (value) => value - Math.floor(value);\nexport const nextPowOf2 = (n) => Math.pow(2, Math.ceil(Math.log(n) / Math.log(2)));\nexport const radToDeg = (rad) => rad * 180.0 / Math.PI;\nexport const degToRad = (deg) => deg / 180.0 * Math.PI;\n// M\u00F6bius-Ease Curve\n// Only produces valid values between 0 and 1 (unitValues)\n// https://www.desmos.com/calculator/ht8cytaxsz\n// The inverse is h`=1-h\nexport const moebiusEase = (x, h) => (x * h) / ((2.0 * h - 1.0) * (x - 1.0) + h);\n", "import { clamp } from \"./math\";\n/**\n * original: http://werner.yellowcouch.org/Papers/fastenv12/index.html\n */\nexport var Curve;\n(function (Curve) {\n    const EPLISON = 1.0e-15;\n    Curve.valueAt = ({ slope, steps, y0, y1 }, x) => Curve.normalizedAt(x / steps, slope) * (y1 - y0) + y0;\n    // https://www.desmos.com/calculator/9lwjajcfkw\n    Curve.normalizedAt = (x, slope) => {\n        if (slope > 0.499999 && slope < 0.500001) {\n            return x;\n        }\n        else {\n            const p = clamp(slope, EPLISON, 1.0 - EPLISON);\n            return (p * p) / (1.0 - p * 2.0) * (Math.pow((1.0 - p) / p, 2.0 * x) - 1.0);\n        }\n    };\n    Curve.inverseAt = (y, slope) => {\n        const p = clamp(slope, EPLISON, 1.0 - EPLISON);\n        return Math.log((y * (1.0 - 2.0 * p) / (p * p)) + 1.0) / (2.0 * Math.log((1.0 - p) / p));\n    };\n    Curve.coefficients = (definition) => {\n        const f1 = Curve.valueAt(definition, 1.0);\n        const f2 = Curve.valueAt(definition, 2.0);\n        const m = (f2 - f1) / (f1 - definition.y0);\n        const q = f1 - m * definition.y0;\n        return { m, q };\n    };\n    function* walk(slope, steps, y0, y1) {\n        const { m, q } = Curve.coefficients({ slope, steps, y0, y1 });\n        for (let i = 0, v = y0; i < steps; i++) {\n            yield v = m * v + q;\n        }\n    }\n    Curve.walk = walk;\n    function* walkNormalized(slope, steps) {\n        const d = 1.0 / steps;\n        const f1 = Curve.normalizedAt(d, slope);\n        const f2 = Curve.normalizedAt(2.0 * d, slope);\n        const m = (f2 - f1) / f1;\n        for (let i = 0, v = 0.0; i < steps; i++) {\n            yield v = m * v + f1;\n        }\n    }\n    Curve.walkNormalized = walkNormalized;\n    Curve.byHalf = (steps, y0, ym, y1) => ({\n        slope: Curve.slopeByHalf(y0, ym, y1), steps, y0, y1\n    });\n    Curve.slopeByHalf = (y0, ym, y1) => Math.abs(y1 - y0) < 0.000001 ? 0.5 : (ym - y0) / (y1 - y0);\n})(Curve || (Curve = {}));\n", "const dataView = new DataView(new ArrayBuffer(8));\nexport var Integer;\n(function (Integer) {\n    Integer.MIN_VALUE = -0x80000000;\n    Integer.MAX_VALUE = 0x7fffffff;\n    Integer.toByte = (value) => {\n        dataView.setInt8(0, value);\n        return dataView.getInt8(0);\n    };\n    Integer.toShort = (value) => {\n        dataView.setInt16(0, value);\n        return dataView.getInt16(0);\n    };\n    Integer.toInt = (value) => {\n        dataView.setInt32(0, value);\n        return dataView.getInt32(0);\n    };\n})(Integer || (Integer = {}));\nexport var Float;\n(function (Float) {\n    const EXP_BIT_MASK = 2139095040;\n    const SIGNIFICANT_BIT_MASK = 8388607;\n    const ARRAY_BUFFER = new ArrayBuffer(Float32Array.BYTES_PER_ELEMENT);\n    const FLOAT_VIEW = new Float32Array(ARRAY_BUFFER);\n    const INT_VIEW = new Int32Array(ARRAY_BUFFER);\n    /**\n     * Returns a representation of the specified floating-point value\n     * according to the IEEE 754 floating-point \"single format\" bit layout.\n     * @param value a floating-point number.\n     * @returns the bits that represent the floating-point number.\n     */\n    Float.floatToIntBits = (value) => {\n        const result = Float.floatToRawIntBits(value);\n        if ((result & EXP_BIT_MASK) === EXP_BIT_MASK && (result & SIGNIFICANT_BIT_MASK) !== 0) {\n            return 0x7fc00000;\n        }\n        return result;\n    };\n    Float.intBitsToFloat = (value) => {\n        INT_VIEW[0] = value;\n        return FLOAT_VIEW[0];\n    };\n    Float.floatToRawIntBits = (value) => {\n        FLOAT_VIEW[0] = value;\n        return INT_VIEW[0];\n    };\n    Float.toFloat32 = (value) => {\n        dataView.setFloat32(0, value);\n        return dataView.getFloat32(0);\n    };\n})(Float || (Float = {}));\nexport var Float16;\n(function (Float16) {\n    Float16.floatToIntBits = (value) => {\n        const bits = Float.floatToIntBits(value);\n        const sign = bits >>> 16 & 0x8000;\n        let val = (bits & 0x7fffffff) + 0x1000;\n        if (val >= 0x47800000) {\n            if ((bits & 0x7fffffff) >= 0x47800000) {\n                if (val < 0x7f800000) {\n                    return sign | 0x7c00;\n                }\n                return sign | 0x7c00 | (bits & 0x007fffff) >>> 13;\n            }\n            return sign | 0x7bff;\n        }\n        if (val >= 0x38800000) {\n            return sign | val - 0x38000000 >>> 13;\n        }\n        if (val < 0x33000000) {\n            return sign;\n        }\n        val = (bits & 0x7fffffff) >>> 23;\n        return sign | ((bits & 0x7fffff | 0x800000) + (0x800000 >>> val - 102) >>> 126 - val);\n    };\n    Float16.intBitsToFloat = (bits) => {\n        let mantissa = bits & 0x03ff;\n        let exp = bits & 0x7c00;\n        if (exp === 0x7c00) {\n            exp = 0x3fc00;\n        }\n        else if (exp !== 0) {\n            exp += 0x1c000;\n            if (mantissa === 0 && exp > 0x1c400) {\n                return Float.intBitsToFloat((bits & 0x8000) << 16 | exp << 13 | 0x3ff);\n            }\n        }\n        else if (mantissa !== 0) {\n            exp = 0x1c400;\n            do {\n                mantissa <<= 1;\n                exp -= 0x400;\n            } while ((mantissa & 0x400) === 0);\n            mantissa &= 0x3ff;\n        }\n        return Float.intBitsToFloat((bits & 0x8000) << 16 | (exp | mantissa) << 13);\n    };\n})(Float16 || (Float16 = {}));\nexport var Float64;\n(function (Float64) {\n    const EXP_BIT_MASK = 9218868437227405312n;\n    const SIGNIFICANT_BIT_MASK = 4503599627370495n;\n    const ARRAY_BUFFER = new ArrayBuffer(BigInt64Array.BYTES_PER_ELEMENT);\n    const FLOAT64_VIEW = new Float64Array(ARRAY_BUFFER);\n    const LONG_VIEW = new BigInt64Array(ARRAY_BUFFER);\n    Float64.float64ToLongBits = (value) => {\n        const result = Float64.float64ToRawLongBits(value);\n        if ((result & EXP_BIT_MASK) === EXP_BIT_MASK && (result & SIGNIFICANT_BIT_MASK) !== 0n) {\n            return 0x7ff8000000000000n;\n        }\n        return result;\n    };\n    Float64.longBitsToFloat64 = (value) => {\n        LONG_VIEW[0] = value;\n        return FLOAT64_VIEW[0];\n    };\n    Float64.float64ToRawLongBits = (value) => {\n        FLOAT64_VIEW[0] = value;\n        return LONG_VIEW[0];\n    };\n    Float64.clamp = (value) => {\n        dataView.setFloat64(0, value);\n        return dataView.getFloat64(0);\n    };\n})(Float64 || (Float64 = {}));\n", "import { isDefined } from \"./lang\";\nexport class Iterables {\n    static *empty() { }\n    static one(value) { return [value]; }\n    static count(iterable) {\n        let count = 0 | 0;\n        for (const _ of iterable) {\n            count++;\n        }\n        return count;\n    }\n    static some(iterable, predicate) {\n        for (const value of iterable) {\n            if (predicate(value)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    static every(iterable, predicate) {\n        for (const value of iterable) {\n            if (!predicate(value)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    static reduce(iterable, callback, initialValue) {\n        let accumulator = initialValue;\n        let index = 0;\n        for (const value of iterable) {\n            accumulator = callback(accumulator, value, index++);\n        }\n        return accumulator;\n    }\n    static includes(iterable, include) {\n        for (const value of iterable) {\n            if (value === include) {\n                return true;\n            }\n        }\n        return false;\n    }\n    static forEach(iterable, procedure) {\n        for (const value of iterable) {\n            procedure(value);\n        }\n    }\n    static *map(iterable, map) {\n        let count = 0 | 0;\n        for (const value of iterable) {\n            yield map(value, count++);\n        }\n    }\n    static *take(iterator, count) {\n        let i = 0;\n        for (const value of iterator) {\n            if (i++ >= count) {\n                return;\n            }\n            yield value;\n        }\n    }\n    static filter(iterable, fn) {\n        const result = [];\n        for (const value of iterable) {\n            if (fn(value)) {\n                result.push(value);\n            }\n        }\n        return result;\n    }\n    static filterMap(iterable, fn) {\n        const result = [];\n        for (const value of iterable) {\n            const mapped = fn(value);\n            if (isDefined(mapped)) {\n                result.push(mapped);\n            }\n        }\n        return result;\n    }\n    static reverse(iterable) {\n        const result = [];\n        for (const value of iterable) {\n            result.push(value);\n        }\n        return result.reverse();\n    }\n    static *pairWise(iterable) {\n        const iterator = iterable[Symbol.iterator]();\n        const { done, value } = iterator.next();\n        let prev = value;\n        if (done === true) {\n            return;\n        }\n        while (true) {\n            const { done, value } = iterator.next();\n            if (done === true) {\n                yield [prev, null];\n                return;\n            }\n            yield [prev, value];\n            prev = value;\n        }\n    }\n}\n", "import { panic } from \"./lang\";\nimport { nextPowOf2 } from \"./math\";\nimport { Float, Float64 } from \"./numeric\";\nimport { Iterables } from \"./iterables\";\nexport class ByteArrayOutput {\n    static create(initialCapacity = 1024) {\n        return this.use(new ArrayBuffer(initialCapacity));\n    }\n    static use(buffer, byteOffset = 0 | 0) {\n        return new ByteArrayOutput(new DataView(buffer, byteOffset));\n    }\n    littleEndian = false;\n    #view;\n    #position = 0;\n    constructor(view) { this.#view = view; }\n    get remaining() { return this.#view.byteLength - this.#position; }\n    get position() { return this.#position; }\n    set position(value) {\n        if (value < 0) {\n            panic(`position(${value}) cannot be negative.`);\n        }\n        else if (value > this.#view.byteLength) {\n            panic(`position(${value}) is outside range (${this.#view.byteLength}).`);\n        }\n        else {\n            this.#position = value;\n        }\n    }\n    writeBoolean(value) { this.writeByte(value ? 1 : 0); }\n    writeByte(value) {\n        this.#ensureSpace(1);\n        this.#view.setInt8(this.#position++, value);\n    }\n    writeShort(value) {\n        this.#ensureSpace(Int16Array.BYTES_PER_ELEMENT);\n        this.#view.setInt16(this.#position, value, this.littleEndian);\n        this.#position += Int16Array.BYTES_PER_ELEMENT;\n    }\n    writeInt(value) {\n        this.#ensureSpace(Int32Array.BYTES_PER_ELEMENT);\n        this.#view.setInt32(this.#position, value, this.littleEndian);\n        this.#position += Int32Array.BYTES_PER_ELEMENT;\n    }\n    writeLong(value) {\n        this.#ensureSpace(BigInt64Array.BYTES_PER_ELEMENT);\n        this.#view.setBigInt64(this.#position, value, this.littleEndian);\n        this.#position += BigInt64Array.BYTES_PER_ELEMENT;\n    }\n    writeFloat(value) {\n        this.#ensureSpace(Float32Array.BYTES_PER_ELEMENT);\n        this.#view.setFloat32(this.#position, value, this.littleEndian);\n        this.#position += Float32Array.BYTES_PER_ELEMENT;\n    }\n    writeDouble(value) {\n        this.#ensureSpace(Float64Array.BYTES_PER_ELEMENT);\n        this.#view.setFloat64(this.#position, value, this.littleEndian);\n        this.#position += Float64Array.BYTES_PER_ELEMENT;\n    }\n    writeBytes(bytes) {\n        this.#ensureSpace(bytes.length);\n        for (let i = 0; i < bytes.length; ++i) {\n            this.#view.setInt8(this.#position++, bytes[i]);\n        }\n    }\n    writeString(value) {\n        const length = value.length;\n        this.#ensureSpace(Int32Array.BYTES_PER_ELEMENT + length * Int16Array.BYTES_PER_ELEMENT);\n        this.writeInt(length);\n        for (let i = 0; i < length; i++) {\n            this.writeShort(value.charCodeAt(i));\n        }\n    }\n    toArrayBuffer() { return this.#view.buffer.slice(0, this.#position); }\n    #ensureSpace(count) {\n        const capacity = this.#view.byteLength;\n        if (this.#position + count > capacity) {\n            const o = this.#view;\n            this.#view = new DataView(new ArrayBuffer(nextPowOf2(capacity + count)));\n            for (let i = 0; i < this.#position; i++) {\n                this.#view.setInt8(i, o.getInt8(i));\n            }\n        }\n    }\n}\nexport class ByteCounter {\n    #count = 0 | 0;\n    writeByte(_) { this.#count++; }\n    writeShort(_) { this.#count += 2; }\n    writeInt(_) { this.#count += 4; }\n    writeLong(_) { this.#count += 8; }\n    writeFloat(_) { this.#count += 4; }\n    writeDouble(_) { this.#count += 8; }\n    writeBoolean(_) { this.#count++; }\n    writeBytes(bytes) { this.#count += bytes.length; }\n    writeString(value) { this.#count += value.length + 4; }\n    get count() { return this.#count; }\n}\nexport class Checksum {\n    #result;\n    #cursor = 0;\n    constructor(length = 32) {\n        this.#result = new Int8Array(length);\n    }\n    result() { return this.#result; }\n    equals(other) {\n        if (other === this) {\n            return true;\n        }\n        return this.#result.every((value, index) => other.#result[index] === value);\n    }\n    writeBoolean(value) {\n        this.writeByte(value ? 31 : 11);\n    }\n    writeShort(value) {\n        this.writeByte(value & 0xff);\n        this.writeByte((value >>> 8) & 0xff);\n    }\n    writeByte(value) {\n        if (this.#cursor >= this.#result.length) {\n            this.#cursor = 0;\n        }\n        this.#result[this.#cursor++] ^= value;\n    }\n    writeInt(value) {\n        this.writeByte(value & 0xff);\n        this.writeByte((value >>> 8) & 0xff);\n        this.writeByte((value >>> 16) & 0xff);\n        this.writeByte((value >>> 24) & 0xff);\n    }\n    writeBytes(bytes) {\n        bytes.forEach(value => this.writeByte(value));\n    }\n    writeFloat(value) {\n        this.writeInt(Float.floatToIntBits(value));\n    }\n    writeDouble(value) {\n        this.writeLong(Float64.float64ToLongBits(value));\n    }\n    writeLong(value) {\n        this.writeByte(Number(value) & 0xff);\n        this.writeByte(Number(value >> 8n) & 0xff);\n        this.writeByte(Number(value >> 16n) & 0xff);\n        this.writeByte(Number(value >> 24n) & 0xff);\n        this.writeByte(Number(value >> 32n) & 0xff);\n        this.writeByte(Number(value >> 40n) & 0xff);\n        this.writeByte(Number(value >> 48n) & 0xff);\n        this.writeByte(Number(value >> 56n) & 0xff);\n    }\n    writeString(value) {\n        for (let i = 0; i < value.length; i++) {\n            this.writeShort(value.charCodeAt(i));\n        }\n    }\n    toHexString() {\n        return Array.from(Iterables.map(this.#result.values(), value => (value & 0xff).toString(16).padStart(2, \"0\"))).join(\"\");\n    }\n}\nexport class ByteArrayInput {\n    littleEndian = false;\n    #view;\n    #position = 0;\n    constructor(buffer, byteOffset = 0) { this.#view = new DataView(buffer, byteOffset); }\n    get position() { return this.#position; }\n    set position(value) {\n        if (value < 0) {\n            panic(`position(${value}) cannot be negative.`);\n        }\n        else if (value > this.#view.byteLength) {\n            panic(`position(${value}) is outside range (${this.#view.byteLength}).`);\n        }\n        else {\n            this.#position = value;\n        }\n    }\n    readByte() { return this.#view.getInt8(this.#position++); }\n    readShort() {\n        const read = this.#view.getInt16(this.#position, this.littleEndian);\n        this.#position += Int16Array.BYTES_PER_ELEMENT;\n        return read;\n    }\n    readInt() {\n        const read = this.#view.getInt32(this.#position, this.littleEndian);\n        this.#position += Int32Array.BYTES_PER_ELEMENT;\n        return read;\n    }\n    readLong() {\n        const read = this.#view.getBigInt64(this.#position, this.littleEndian);\n        this.#position += BigInt64Array.BYTES_PER_ELEMENT;\n        return read;\n    }\n    readFloat() {\n        const read = this.#view.getFloat32(this.#position, this.littleEndian);\n        this.#position += Float32Array.BYTES_PER_ELEMENT;\n        return read;\n    }\n    readDouble() {\n        const read = this.#view.getFloat64(this.#position, this.littleEndian);\n        this.#position += Float64Array.BYTES_PER_ELEMENT;\n        return read;\n    }\n    readBoolean() { return this.readByte() === 1; }\n    readBytes(array) {\n        for (let i = 0; i < array.length; i++) {\n            array[i] = this.readByte();\n        }\n    }\n    readString() {\n        const length = this.readInt();\n        let result = \"\";\n        for (let i = 0; i < length; i++) {\n            result += String.fromCharCode(this.readShort());\n        }\n        return result;\n    }\n    available(count) { return this.#position + count <= this.#view.byteLength; }\n    remaining() { return this.#view.byteLength - this.#position; }\n    skip(count) { this.position += count; }\n}\n", "import { asDefined, isDefined, panic } from \"./lang\";\nconst findMethodType = (descriptor) => {\n    if (!isDefined(descriptor)) {\n        return panic(\"Cannot resolve method key of undefined descriptor\");\n    }\n    if (descriptor.value !== undefined) {\n        return \"value\";\n    }\n    if (descriptor.get !== undefined) {\n        return \"get\";\n    }\n    return panic(`Cannot resolve method key of ${descriptor}`);\n};\nexport const Lazy = (_, property, descriptor) => {\n    // For stage 3 decorators, we need to handle the case where the descriptor might be undefined\n    // and return a proper descriptor or function\n    if (!isDefined(descriptor)) {\n        // This is likely a stage 3 decorator call - return a function that returns the descriptor\n        return function (_, context) {\n            if (context && context.kind === \"getter\") {\n                return function () {\n                    const originalDescriptor = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this), property);\n                    if (!isDefined(originalDescriptor?.get)) {\n                        return panic(`Cannot find getter for property '${property}'`);\n                    }\n                    const value = originalDescriptor.get.apply(this);\n                    Object.defineProperty(this, property, {\n                        value: value,\n                        configurable: false,\n                        writable: false,\n                        enumerable: false\n                    });\n                    return value;\n                };\n            }\n            // Fallback for other cases\n            return undefined;\n        };\n    }\n    const methodType = findMethodType(descriptor);\n    const element = asDefined(descriptor[methodType]);\n    return {\n        [methodType]: function (...args) {\n            if (args.length > 0) {\n                return panic(\"lazy accessory must not have any construction parameters\");\n            }\n            const value = element.apply(this);\n            Object.defineProperty(this, property, {\n                value: methodType === \"get\" ? value : () => value,\n                configurable: false,\n                writable: false,\n                enumerable: false\n            });\n            return value;\n        }\n    };\n};\n", "import { Option } from \"./option\";\nexport var Editing;\n(function (Editing) {\n    Editing.Transient = Object.freeze({\n        modify: (modifier, _mark) => Option.wrap(modifier()),\n        mark: () => { }\n    });\n})(Editing || (Editing = {}));\n", "export var Generators;\n(function (Generators) {\n    function* empty() { return; }\n    Generators.empty = empty;\n    Generators.next = (generator) => {\n        const { value, done } = generator.next();\n        return done ? null : value;\n    };\n    function* flatten(...generators) {\n        for (const generator of generators) {\n            for (const value of generator) {\n                yield value;\n            }\n        }\n    }\n    Generators.flatten = flatten;\n})(Generators || (Generators = {}));\n", "import { Unhandled } from \"./lang\";\nimport { clamp } from \"./math\";\nexport var Axis;\n(function (Axis) {\n    Axis[Axis[\"T\"] = 0] = \"T\";\n    Axis[Axis[\"R\"] = 1] = \"R\";\n    Axis[Axis[\"B\"] = 2] = \"B\";\n    Axis[Axis[\"L\"] = 3] = \"L\";\n})(Axis || (Axis = {}));\nexport var Corner;\n(function (Corner) {\n    Corner[Corner[\"TL\"] = 0] = \"TL\";\n    Corner[Corner[\"TR\"] = 1] = \"TR\";\n    Corner[Corner[\"BR\"] = 2] = \"BR\";\n    Corner[Corner[\"BL\"] = 3] = \"BL\";\n})(Corner || (Corner = {}));\nexport var Geom;\n(function (Geom) {\n    Geom.outerTangentPoints = (a, b) => {\n        const dx = b.x - a.x;\n        const dy = b.y - a.y;\n        const angle = Math.atan2(dy, dx) + Math.acos((a.r - b.r) / Math.sqrt(dx * dx + dy * dy));\n        const cs = Math.cos(angle);\n        const sn = Math.sin(angle);\n        return [\n            { x: a.x + a.r * cs, y: a.y + a.r * sn },\n            { x: b.x + b.r * cs, y: b.y + b.r * sn }\n        ];\n    };\n})(Geom || (Geom = {}));\nexport var Point;\n(function (Point) {\n    Point.zero = () => ({ x: 0, y: 0 });\n    Point.create = (x, y) => ({ x, y });\n    Point.clone = (point) => ({ ...point });\n    Point.floor = (point) => ({ x: Math.floor(point.x), y: Math.floor(point.y) });\n    Point.length = (point) => Math.sqrt(point.x * point.x + point.y * point.y);\n    Point.distance = (a, b) => Math.sqrt((b.x - a.x) ** 2 + (b.y - a.y) ** 2);\n    Point.add = (a, b) => ({ x: a.x + b.x, y: a.y + b.y });\n    Point.subtract = (a, b) => ({ x: a.x - b.x, y: a.y - b.y });\n    Point.scaleBy = (point, scale) => ({ x: point.x * scale, y: point.y * scale });\n    Point.scaleTo = (point, scale) => {\n        const multiplier = scale / Point.length(point);\n        return { x: point.x * multiplier, y: point.y * multiplier };\n    };\n    Point.fromClient = (object) => ({\n        x: object.clientX,\n        y: object.clientY\n    });\n})(Point || (Point = {}));\nexport var Rect;\n(function (Rect) {\n    Rect.Empty = Object.freeze({ x: 0, y: 0, width: 0, height: 0 });\n    Rect.corners = (rectangle) => {\n        const x0 = rectangle.x;\n        const y0 = rectangle.y;\n        const x1 = x0 + rectangle.width;\n        const y1 = y0 + rectangle.height;\n        return [{ x: x0, y: y0 }, { x: x1, y: y0 }, { x: x1, y: y1 }, { x: x0, y: y1 }];\n    };\n    Rect.inflate = (rect, amount) => {\n        return {\n            x: rect.x - amount,\n            y: rect.y - amount,\n            width: rect.width + amount * 2.0,\n            height: rect.height + amount * 2.0\n        };\n    };\n    Rect.contains = (outer, inner) => {\n        const topLeftInside = inner.x >= outer.x && inner.y >= outer.y;\n        const bottomRightInside = (inner.x + inner.width) <= (outer.x + outer.width)\n            && (inner.y + inner.height) <= (outer.y + outer.height);\n        return topLeftInside && bottomRightInside;\n    };\n    Rect.isPointInside = (point, rect) => point.x >= rect.x && point.x <= rect.x + rect.width && point.y >= rect.y && point.y <= rect.y + rect.height;\n    Rect.intersect = (a, b) => {\n        const xMin = Math.max(a.x, b.x);\n        const xMax = Math.min(a.x + a.width, b.x + b.width);\n        const yMax = Math.min(a.y + a.height, b.y + b.height);\n        const yMin = Math.max(a.y, b.y);\n        return xMax > xMin && yMax > yMin;\n    };\n    Rect.axis = (rectangle, axis) => {\n        switch (axis) {\n            case Axis.T:\n                return rectangle.y;\n            case Axis.R:\n                return rectangle.x + rectangle.width;\n            case Axis.B:\n                return rectangle.y + rectangle.height;\n            case Axis.L:\n                return rectangle.x;\n            default:\n                return Unhandled(axis);\n        }\n    };\n    Rect.corner = (rectangle, corner) => {\n        switch (corner) {\n            case Corner.TL:\n                return { x: rectangle.x, y: rectangle.y };\n            case Corner.TR:\n                return { x: rectangle.x + rectangle.width, y: rectangle.y };\n            case Corner.BR:\n                return { x: rectangle.x + rectangle.width, y: rectangle.y + rectangle.height };\n            case Corner.BL:\n                return { x: rectangle.x, y: rectangle.y + rectangle.height };\n            default:\n                return Unhandled(corner);\n        }\n    };\n    Rect.center = (rectangle) => ({\n        x: rectangle.x + rectangle.width * 0.5,\n        y: rectangle.y + rectangle.height * 0.5\n    });\n    Rect.isEmpty = (rectangle) => rectangle.width === 0 || rectangle.height === 0;\n    Rect.union = (a, b) => {\n        if (Rect.isEmpty(a)) {\n            if (!Rect.isEmpty(b)) {\n                a.x = b.x;\n                a.y = b.y;\n                a.width = b.width;\n                a.height = b.height;\n            }\n        }\n        else if (!Rect.isEmpty(b)) {\n            const bx = b.x;\n            const by = b.y;\n            const ux = Math.min(a.x, bx);\n            const uy = Math.min(a.y, by);\n            a.width = Math.max(a.x + a.width, bx + b.width) - ux;\n            a.height = Math.max(a.y + a.height, by + b.height) - uy;\n            a.x = ux;\n            a.y = uy;\n        }\n    };\n})(Rect || (Rect = {}));\nexport var AABB;\n(function (AABB) {\n    AABB.width = (aabb) => aabb.xMax - aabb.xMin;\n    AABB.height = (aabb) => aabb.yMax - aabb.yMin;\n    AABB.from = (aabb, that) => {\n        aabb.xMin = that.xMin;\n        aabb.xMax = that.xMax;\n        aabb.yMin = that.yMin;\n        aabb.yMax = that.yMax;\n    };\n    AABB.extend = (aabb, offset) => {\n        aabb.xMin -= offset;\n        aabb.yMin -= offset;\n        aabb.xMax += offset;\n        aabb.yMax += offset;\n    };\n    AABB.padding = (aabb, [top, right, bottom, left]) => {\n        aabb.xMin += left;\n        aabb.yMin += top;\n        aabb.xMax -= right;\n        aabb.yMax -= bottom;\n        return aabb;\n    };\n    AABB.intersectPoint = (aabb, point) => aabb.xMin <= point.x && point.x < aabb.xMax && aabb.yMin <= point.y && point.y < aabb.yMax;\n    AABB.intersectThat = (aabb, that) => that.xMin < aabb.xMax && that.xMax > aabb.xMin && that.yMin < aabb.yMax && that.yMax > aabb.yMin;\n    AABB.center = (aabb) => ({ x: (aabb.xMin + aabb.xMax) * 0.5, y: (aabb.yMin + aabb.yMax) * 0.5 });\n})(AABB || (AABB = {}));\nexport var Padding;\n(function (Padding) {\n    Padding.Identity = Object.freeze([0.0, 0.0, 0.0, 0.0]);\n})(Padding || (Padding = {}));\nexport var CohenSutherland;\n(function (CohenSutherland) {\n    CohenSutherland.intersects = (xMin, xMax, yMin, yMax, x0, y0, x1, y1) => {\n        const c0 = code(xMin, xMax, yMin, yMax, x0, y0);\n        const c1 = code(xMin, xMax, yMin, yMax, x1, y1);\n        if ((c0 | c1) === 0) {\n            return false;\n        }\n        if ((c0 & c1) !== 0) {\n            return false;\n        }\n        const s = sign(x0, y0, x1, y1, xMin, yMin);\n        return (s !== sign(x0, y0, x1, y1, xMax, yMin) ||\n            s !== sign(x0, y0, x1, y1, xMax, yMax) ||\n            s !== sign(x0, y0, x1, y1, xMin, yMax));\n    };\n    const code = (xMin, xMax, yMin, yMax, x, y) => {\n        let code = 0;\n        if (x <= xMin) {\n            code |= 1;\n        }\n        else if (x >= xMax) {\n            code |= 2;\n        }\n        if (y <= yMin) {\n            code |= 8;\n        }\n        else if (y >= yMax) {\n            code |= 4;\n        }\n        return code;\n    };\n    const sign = (x0, y0, x1, y1, x2, y2) => (x1 - x0) * (y2 - y0) - (x2 - x0) * (y1 - y0) >= 0;\n})(CohenSutherland || (CohenSutherland = {}));\nexport var ValueAxis;\n(function (ValueAxis) {\n    ValueAxis.Identity = {\n        valueToAxis: (value) => value,\n        axisToValue: (axis) => axis\n    };\n    ValueAxis.toClamped = (valueAxis, min, max) => ({\n        valueToAxis: (value) => valueAxis.valueToAxis(clamp(value, min, max)),\n        axisToValue: (axis) => clamp(valueAxis.axisToValue(axis), min, max)\n    });\n    ValueAxis.createClamped = (min, max) => ({\n        valueToAxis: (value) => clamp(value, min, max),\n        axisToValue: (axis) => clamp(axis, min, max)\n    });\n})(ValueAxis || (ValueAxis = {}));\n", "import { assert } from \"./lang\";\n//\n// SHA-256\n//\nexport var Hash;\n(function (Hash) {\n    Hash.fromBuffers = async (...buffers) => {\n        const totalLength = buffers.reduce((sum, buf) => sum + buf.byteLength, 0);\n        const mergedArray = new Uint8Array(totalLength);\n        let offset = 0;\n        for (const buffer of buffers) {\n            mergedArray.set(new Uint8Array(buffer), offset);\n            offset += buffer.byteLength;\n        }\n        return await crypto.subtle.digest(\"SHA-256\", mergedArray);\n    };\n    Hash.equals = (a, b) => {\n        assert(a.byteLength === 32, \"First hash has invalid length\");\n        assert(b.byteLength === 32, \"Second hash has invalid length\");\n        const viewA = new Uint8Array(a);\n        const viewB = new Uint8Array(b);\n        for (let i = 0; i < 32; i++) {\n            if (viewA[i] !== viewB[i]) {\n                return false;\n            }\n        }\n        return true;\n    };\n    Hash.toString = (buffer) => Array.from(new Uint8Array(buffer)).map(b => b.toString(16).padStart(2, \"0\")).join(\"\");\n})(Hash || (Hash = {}));\n", "export var Intervals;\n(function (Intervals) {\n    Intervals.intersect1D = (min0, max0, min1, max1) => Math.max(min0, min1) <= Math.min(max0, max1);\n})(Intervals || (Intervals = {}));\n", "import { safeExecute } from \"./lang\";\nexport class Listeners {\n    #set = new Set();\n    #proxy;\n    constructor() {\n        this.#proxy = new Proxy({}, {\n            get: (_, func) => (...args) => this.#set.forEach((listener) => {\n                if (Object.getPrototypeOf(listener) === Object.getPrototypeOf({})) {\n                    return safeExecute(listener[func], ...args);\n                }\n                return listener[func]?.apply(listener, args);\n            })\n        });\n    }\n    get proxy() { return this.#proxy; }\n    get size() { return this.#set.size; }\n    subscribe(listener) {\n        this.#set.add(listener);\n        return { terminate: () => this.#set.delete(listener) };\n    }\n    forEach(procedure) { this.#set.forEach(procedure); }\n    terminate() { this.#set.clear(); }\n}\n", "export const mint = (Constructor, ...args) => new Proxy([], {\n    get(target, prop) {\n        if (typeof prop === \"string\") {\n            const index = Number(prop);\n            if (!isNaN(index) && index >= 0 && Number.isInteger(index)) {\n                return new Constructor(...args);\n            }\n        }\n        if (prop === Symbol.iterator) {\n            return function* () {\n                while (true) {\n                    yield new Constructor(...args);\n                }\n            };\n        }\n        return target[prop];\n    },\n    has(target, prop) {\n        if (typeof prop === \"string\") {\n            const index = Number(prop);\n            if (!isNaN(index) && index >= 0) {\n                return true;\n            }\n        }\n        return prop in target;\n    }\n});\n", "export class Maps {\n    static createIfAbsent(map, key, factory) {\n        let value = map.get(key);\n        if (value === undefined) {\n            value = factory(key);\n            map.set(key, value);\n        }\n        return value;\n    }\n}\nexport class WeakMaps {\n    static createIfAbsent(map, key, factory) {\n        let value = map.get(key);\n        if (value === undefined) {\n            value = factory(key);\n            map.set(key, value);\n        }\n        return value;\n    }\n}\n", "export class Sets {\n    static #EMPTY = Object.freeze(new Set());\n    static empty = () => Sets.#EMPTY;\n}\n", "import { Arrays } from \"./arrays\";\nimport { Sets } from \"./sets\";\nimport { Iterables } from \"./iterables\";\nimport { Maps } from \"./maps\";\nimport { Option } from \"./option\";\nimport { BinarySearch } from \"./binary-search\";\nexport class ArrayMultimap {\n    #map;\n    #comparator;\n    constructor(entries, comparator) {\n        this.#map = new Map(entries);\n        this.#comparator = Option.wrap(comparator);\n        this.#comparator.ifSome(comparator => Array.from(this.#map.values()).forEach(array => array.sort(comparator)));\n    }\n    [Symbol.iterator]() { return this.#map.entries(); }\n    clear() { this.#map.clear(); }\n    containsEntry(key, value) {\n        return Iterables.some(this.#map.entries(), (entry) => key === entry[0] && entry[1].includes(value));\n    }\n    containsKey(key) {\n        return Iterables.includes(this.#map.keys(), key);\n    }\n    containsValue(value) {\n        return Iterables.some(this.#map.values(), (values) => values.includes(value));\n    }\n    get(key) { return this.#map.get(key) ?? Arrays.empty(); }\n    isEmpty() { return this.keyCount() === 0; }\n    add(key, value) {\n        const array = Maps.createIfAbsent(this.#map, key, () => []);\n        if (this.#comparator.isEmpty()) {\n            array.push(value);\n        }\n        else {\n            const insertIndex = BinarySearch.stableInsert(array, value, this.#comparator.unwrap());\n            array.splice(insertIndex, 0, value);\n        }\n    }\n    addAll(key, values) {\n        const array = Maps.createIfAbsent(this.#map, key, () => []);\n        array.push(...values);\n        if (this.#comparator.nonEmpty()) {\n            array.sort(this.#comparator.unwrap());\n        }\n    }\n    remove(key, value) {\n        const values = this.#map.get(key);\n        if (values === undefined) {\n            return false;\n        }\n        else {\n            const index = values.indexOf(value);\n            if (index === -1) {\n                return false;\n            }\n            else {\n                values.splice(index, 1);\n                if (values.length === 0) {\n                    this.#map.delete(key);\n                }\n                return true;\n            }\n        }\n    }\n    removeFromKeyIf(key, predicate) {\n        const values = this.#map.get(key);\n        if (values === undefined) {\n            return null;\n        }\n        else {\n            const index = values.findIndex(predicate);\n            if (index === -1) {\n                return null;\n            }\n            else {\n                const removed = values.splice(index, 1)[0];\n                if (values.length === 0) {\n                    this.#map.delete(key);\n                }\n                return removed;\n            }\n        }\n    }\n    removeValueIf(predicate) {\n        const removeList = [];\n        for (const [key, values] of this.#map.entries()) {\n            for (const value of values.filter(value => predicate(value))) {\n                removeList.push([key, value]);\n            }\n        }\n        for (const [key, value] of removeList) {\n            this.remove(key, value);\n        }\n        return new Set(removeList.map(([, value]) => value));\n    }\n    removeKey(key) {\n        const values = this.#map.get(key);\n        this.#map.delete(key);\n        return values ?? Arrays.empty();\n    }\n    forEach(callback) {\n        Iterables.forEach(this.#map.entries(), (entry) => callback(entry[0], entry[1]));\n    }\n    keyCount() { return this.#map.size; }\n    keys() { return this.#map.keys(); }\n    sortKeys(comparator) {\n        const clone = this.clone();\n        const keys = Array.from(this.keys()).sort(comparator);\n        this.#map.clear();\n        for (const key of keys) {\n            this.addAll(key, clone.get(key));\n        }\n        return this;\n    }\n    clone() {\n        const copy = new ArrayMultimap();\n        this.#map.forEach((values, key) => {\n            copy.#map.set(key, values.map((value) => value));\n        });\n        return copy;\n    }\n}\nexport class SetMultimap {\n    map;\n    constructor(entries) {\n        this.map = new Map(entries?.map((entry) => {\n            const key = entry[0];\n            const values = entry[1];\n            return [key, new Set(values)];\n        }));\n    }\n    clear() {\n        this.map.clear();\n    }\n    containsEntry(key, value) {\n        return Iterables.some(this.map.entries(), (entry) => key === entry[0] && entry[1].has(value));\n    }\n    containsKey(key) {\n        return Iterables.includes(this.map.keys(), key);\n    }\n    containsValue(value) {\n        return Iterables.some(this.map.values(), (values) => values.has(value));\n    }\n    get(key) {\n        return this.map.get(key) ?? Sets.empty();\n    }\n    isEmpty() {\n        return this.keyCount() === 0;\n    }\n    add(key, value) {\n        Maps.createIfAbsent(this.map, key, () => new Set).add(value);\n    }\n    addAll(key, values) {\n        const set = Maps.createIfAbsent(this.map, key, () => new Set);\n        for (const value of values) {\n            set.add(value);\n        }\n    }\n    remove(key, value) {\n        const values = this.map.get(key);\n        if (values === undefined) {\n            return false;\n        }\n        else {\n            if (!values.delete(value)) {\n                return false;\n            }\n            if (values.size === 0) {\n                this.map.delete(key);\n            }\n            return true;\n        }\n    }\n    removeValueIf(predicate) {\n        const removeSet = new Set();\n        for (const [key, values] of this.map.entries()) {\n            for (const value of values) {\n                if (predicate(value)) {\n                    values.delete(value);\n                    removeSet.add(value);\n                }\n            }\n            if (values.size === 0) {\n                this.map.delete(key);\n            }\n        }\n        return removeSet;\n    }\n    removeFromKeyIf(key, predicate) {\n        const values = this.map.get(key);\n        if (values === undefined) {\n            return null;\n        }\n        else {\n            for (const value of values) {\n                if (predicate(value)) {\n                    values.delete(value);\n                    if (values.size === 0) {\n                        this.map.delete(key);\n                    }\n                    return value;\n                }\n            }\n            return null;\n        }\n    }\n    removeKey(key) {\n        const values = this.map.get(key);\n        this.map.delete(key);\n        return values ?? Sets.empty();\n    }\n    forEach(callback) {\n        Iterables.forEach(this.map.entries(), (entry) => callback(entry[0], entry[1]));\n    }\n    keyCount() { return this.map.size; }\n    keys() { return this.map.keys(); }\n    sortKeys(comparator) {\n        const clone = this.clone();\n        const keys = Array.from(this.keys()).sort(comparator);\n        this.map.clear();\n        for (const key of keys) {\n            this.addAll(key, clone.get(key));\n        }\n        return this;\n    }\n    clone() {\n        const copy = new SetMultimap();\n        this.map.forEach((values, key) => {\n            copy.map.set(key, new Set(Array.from(values)));\n        });\n        return copy;\n    }\n}\n", "import { Arrays } from \"./arrays\";\nimport { EmptyExec } from \"./lang\";\nexport const Terminable = Object.freeze({\n    Empty: { terminate: EmptyExec },\n    create: (exec) => ({ terminate: exec }),\n    many: (...terminables) => ({ terminate: () => { while (terminables.length > 0) {\n            terminables.pop().terminate();\n        } } })\n});\nexport class Terminator {\n    #terminables = [];\n    isEmpty() { return this.#terminables.length === 0; }\n    nonEmpty() { return this.#terminables.length > 0; }\n    own(terminable) {\n        this.#terminables.push(terminable);\n        return terminable;\n    }\n    ownAll(...terminables) {\n        for (const terminable of terminables) {\n            this.#terminables.push(terminable);\n        }\n    }\n    spawn() {\n        const terminator = new Terminator();\n        terminator.own({ terminate: () => Arrays.removeOpt(this.#terminables, terminator) });\n        return this.own(terminator);\n    }\n    terminate() { while (this.#terminables.length > 0) {\n        this.#terminables.pop().terminate();\n    } }\n}\nexport class VitalSigns {\n    #terminated = false;\n    get isTerminated() { return this.#terminated; }\n    terminate() { this.#terminated = true; }\n}\nexport class CascadingSubscriptions {\n    #current;\n    constructor() { this.#current = new Terminator(); }\n    next() {\n        const current = this.#current;\n        const nested = current.own(new Terminator());\n        this.#current = nested;\n        return {\n            own: (subscription) => {\n                current.own(subscription);\n                return current;\n            },\n            toObserver: (fn) => (value) => {\n                nested.terminate();\n                nested.own(fn(value));\n            }\n        };\n    }\n    append(subscribe, observer) {\n        const current = this.#current;\n        const nested = current.own(new Terminator());\n        current.own(subscribe((value) => {\n            nested.terminate();\n            nested.own(observer(value));\n        }));\n        this.#current = nested;\n        return current;\n    }\n}\n", "import { Terminable } from \"./terminable\";\nexport class Notifier {\n    static subscribeMany(observer, ...observables) {\n        return Terminable.many(...observables\n            .map(observable => observable.subscribe(() => observer(observable))));\n    }\n    #observers = new Set(); // A set allows us to remove while iterating\n    subscribe(observer) {\n        this.#observers.add(observer);\n        return { terminate: () => this.#observers.delete(observer) };\n    }\n    isEmpty() { return this.#observers.size === 0; }\n    notify(value) { this.#observers.forEach((observer) => observer(value)); }\n    observers() { return this.#observers; }\n    terminate() { this.#observers.clear(); }\n}\n", "import { panic } from \"./lang\";\nexport var Objects;\n(function (Objects) {\n    const Empty = Object.freeze({});\n    Objects.empty = () => Empty;\n    Objects.mergeNoOverlap = (u, v) => {\n        const keys = new Set(Object.keys(u));\n        for (const key of Object.keys(v)) {\n            if (keys.has(key)) {\n                return panic(`'${key}' is an overlapping key`);\n            }\n        }\n        return ({ ...u, ...v });\n    };\n    Objects.include = (obj, ...keys) => {\n        const out = {};\n        for (const k of keys)\n            out[k] = obj[k];\n        return out;\n    };\n    Objects.exclude = (obj, ...keys) => {\n        const exclude = new Set(keys);\n        return Object.entries(obj).reduce((result, [key, value]) => {\n            if (!exclude.has(key)) {\n                result[key] = value;\n            }\n            return result;\n        }, {});\n    };\n    Objects.overwrite = (target, patch) => Object.assign(target, patch);\n})(Objects || (Objects = {}));\n", "import { Terminable } from \"./terminable\";\nimport { Notifier } from \"./notifier\";\nimport { Option } from \"./option\";\nimport { isDefined } from \"./lang\";\nexport var ObservableValue;\n(function (ObservableValue) {\n    ObservableValue.seal = (value) => new class {\n        getValue() { return value; }\n        subscribe(_observer) { return Terminable.Empty; }\n        catchupAndSubscribe(observer) {\n            observer(this);\n            return Terminable.Empty;\n        }\n    };\n})(ObservableValue || (ObservableValue = {}));\nexport var MutableObservableValue;\n(function (MutableObservableValue) {\n    MutableObservableValue.False = new class {\n        getValue() { return false; }\n        setValue(_) { }\n        subscribe(_) { return Terminable.Empty; }\n        catchupAndSubscribe(observer) {\n            observer(this);\n            return Terminable.Empty;\n        }\n    };\n    MutableObservableValue.inverseBoolean = (observableValue) => new class {\n        getValue() { return !observableValue.getValue(); }\n        setValue(value) { observableValue.setValue(!value); }\n        subscribe(observer) { return observableValue.subscribe(observer); }\n        catchupAndSubscribe(observer) {\n            observer(this);\n            return this.subscribe(observer);\n        }\n    };\n})(MutableObservableValue || (MutableObservableValue = {}));\nexport class MutableObservableOption {\n    #notifier;\n    #option = Option.None;\n    constructor(value) {\n        this.#notifier = new Notifier();\n        this.wrap(value);\n    }\n    wrap(value) { this.wrapOption(Option.wrap(value)); }\n    wrapOption(value) {\n        if (!this.#option.equals(value)) {\n            this.#option = value;\n            this.#notifier.notify(this);\n        }\n    }\n    clear(procedure) {\n        if (this.#option.isEmpty()) {\n            return;\n        }\n        if (isDefined(procedure)) {\n            procedure(this.#option.unwrap());\n        }\n        this.#option = Option.None;\n        this.#notifier.notify(this);\n    }\n    assert(fail) {\n        this.#option.assert(fail);\n        return this;\n    }\n    contains(value) { return this.#option.contains(value); }\n    equals(other) { return this.#option.equals(other); }\n    flatMap(func) { return this.#option.flatMap(func); }\n    ifSome(procedure) { return this.#option.ifSome(procedure); }\n    ifAbsent(exec) { return this.#option.ifAbsent(exec); }\n    isEmpty() { return this.#option.isEmpty(); }\n    map(func) { return this.#option.map(func); }\n    mapOr(func, or) { return this.#option.mapOr(func, or); }\n    match(matchable) { return this.#option.match(matchable); }\n    nonEmpty() { return this.#option.nonEmpty(); }\n    unwrap(fail) { return this.#option.unwrap(fail); }\n    unwrapOrElse(or) { return this.#option.unwrapOrElse(or); }\n    unwrapOrNull() { return this.#option.unwrapOrNull(); }\n    unwrapOrUndefined() { return this.#option.unwrapOrUndefined(); }\n    subscribe(observer) { return this.#notifier.subscribe(() => observer(this)); }\n    catchupAndSubscribe(observer) {\n        observer(this);\n        return this.#notifier.subscribe(() => observer(this));\n    }\n    terminate() { this.#notifier.terminate(); }\n}\nexport class MappedMutableObservableValue {\n    #source;\n    #mapping;\n    #notifier;\n    #subscription;\n    constructor(source, mapping) {\n        this.#source = source;\n        this.#mapping = mapping;\n        this.#notifier = new Notifier();\n        this.#subscription = this.#source.catchupAndSubscribe(() => this.#notifier.notify(this.getValue()));\n    }\n    catchupAndSubscribe(observer) {\n        observer(this);\n        return this.subscribe(observer);\n    }\n    getValue() { return this.#mapping.fx(this.#source.getValue()); }\n    setValue(value) { this.#source.setValue(this.#mapping.fy(value)); }\n    subscribe(observer) {\n        return this.#notifier.subscribe(() => observer(this));\n    }\n    terminate() { this.#subscription.terminate(); }\n}\nexport class DefaultObservableValue {\n    #notifier;\n    #guard = Option.None;\n    #value;\n    constructor(value, guard) {\n        this.#notifier = new Notifier();\n        this.#value = guard?.guard(value) ?? value;\n        this.#guard = Option.wrap(guard);\n    }\n    setValue(value) {\n        if (this.#guard.nonEmpty()) {\n            value = this.#guard.unwrap().guard(value);\n        }\n        if (this.#value === value) {\n            return;\n        }\n        this.#value = value;\n        this.#notifier.notify(this);\n    }\n    getValue() { return this.#value; }\n    subscribe(observer) { return this.#notifier.subscribe(observer); }\n    catchupAndSubscribe(observer) {\n        observer(this);\n        return this.#notifier.subscribe(observer);\n    }\n    terminate() { this.#notifier.terminate(); }\n    toString() { return `{DefaultObservableValue value: ${this.#value}`; }\n}\n", "import { asDefined, panic } from \"./lang\";\nimport { clamp } from \"./math\";\nimport { Integer } from \"./numeric\";\nclass Linear {\n    #min;\n    #max;\n    #range;\n    constructor(min, max) {\n        this.#min = min;\n        this.#max = max;\n        this.#range = max - min;\n    }\n    x(y) { return (this.clamp(y) - this.#min) / this.#range; }\n    y(x) { return this.#min + clamp(x, 0.0, 1.0) * this.#range; }\n    clamp(y) { return clamp(y, this.#min, this.#max); }\n    floating() { return true; }\n}\nclass LinearInteger {\n    #min;\n    #max;\n    #range;\n    constructor(min, max) {\n        this.#min = clamp(Math.round(min), Integer.MIN_VALUE, Integer.MAX_VALUE);\n        this.#max = clamp(Math.round(max), Integer.MIN_VALUE, Integer.MAX_VALUE);\n        this.#range = this.#max - this.#min;\n    }\n    x(y) { return (this.clamp(y) - this.#min) / this.#range; }\n    y(x) { return this.#min + Math.round(clamp(x, 0.0, 1.0) * this.#range); }\n    clamp(y) { return clamp(Math.round(y), this.#min, this.#max); }\n    floating() { return false; }\n}\nclass Exponential {\n    #min;\n    #max;\n    #range;\n    constructor(min, max) {\n        this.#min = min;\n        this.#max = max;\n        this.#range = Math.log(max / min);\n    }\n    x(y) { return Math.log(clamp(y, this.#min, this.#max) / this.#min) / this.#range; }\n    y(x) { return this.#min * Math.exp(clamp(x, 0.0, 1.0) * this.#range); }\n    clamp(y) { return Math.min(this.#max, Math.max(this.#min, y)); }\n    floating() { return true; }\n}\nclass Values {\n    #values;\n    constructor(values) {\n        this.#values = values;\n    }\n    x(y) {\n        const index = this.#values.findIndex(value => value === y);\n        return index === -1\n            ? panic(`Could not find index for ${y}`)\n            : index / (this.#values.length - 1);\n    }\n    y(x) {\n        const index = Math.round(clamp(x, 0.0, 1.0) * (this.#values.length - 1));\n        return index > -1\n            ? asDefined(this.#values.at(index), `Could not find value for ${x}`)\n            : panic(`Index ${index} is out of box.`);\n    }\n    clamp(y) { return y; }\n    floating() { return false; }\n}\nclass Decibel {\n    #min;\n    #max;\n    #a;\n    #b;\n    #c;\n    /**\n     * @param min The lowest decibel value\n     * @param mid The decibel value in the center\n     * @param max The highest decibel value\n     */\n    constructor(min, mid, max) {\n        this.#min = min;\n        this.#max = max;\n        const min2 = min * min;\n        const max2 = max * max;\n        const mid2 = mid * mid;\n        const tmp0 = min + max - 2.0 * mid;\n        const tmp1 = max - mid;\n        this.#a = ((2.0 * max - mid) * min - mid * max) / tmp0;\n        this.#b = (tmp1 * min2 + (mid2 - max2) * min + mid * max2 - mid2 * max)\n            / (min2 + (2.0 * max - 4.0 * mid) * min + max2 - 4.0 * mid * max + 4.0 * mid2);\n        this.#c = -tmp1 / tmp0;\n    }\n    y(x) {\n        if (x <= 0.0) {\n            return Number.NEGATIVE_INFINITY;\n        }\n        if (x >= 1.0) {\n            return this.#max;\n        }\n        return this.#a - this.#b / (x + this.#c);\n    }\n    x(y) {\n        if (this.#min >= y) {\n            return 0.0;\n        }\n        if (this.#max <= y) {\n            return 1.0;\n        }\n        return -this.#b / (y - this.#a) - this.#c;\n    }\n    clamp(y) { return Math.min(this.#max, y); }\n    floating() { return true; }\n}\nexport var ValueMapping;\n(function (ValueMapping) {\n    ValueMapping.linear = (min, max) => new Linear(min, max);\n    ValueMapping.linearInteger = (min, max) => new LinearInteger(min, max);\n    ValueMapping.exponential = (min, max) => new Exponential(min, max);\n    ValueMapping.values = (values) => new Values(values);\n    ValueMapping.decibel = (min, mid, max) => new Decibel(min, mid, max);\n    const Bool = new class {\n        x(y) { return y ? 1.0 : 0.0; }\n        y(x) { return x >= 0.5; }\n        clamp(y) { return y; }\n        floating() { return false; }\n    };\n    const Unipolar = ValueMapping.linear(0.0, 1.0);\n    const Bipolar = ValueMapping.linear(-1.0, 1.0);\n    ValueMapping.bool = Bool;\n    const DefaultDecibelInstance = ValueMapping.decibel(-72.0, -12.0, 0.0);\n    ValueMapping.unipolar = () => Unipolar;\n    ValueMapping.bipolar = () => Bipolar;\n    ValueMapping.DefaultDecibel = DefaultDecibelInstance;\n})(ValueMapping || (ValueMapping = {}));\n", "import { isDefined } from \"./lang\";\nimport { clamp } from \"./math\";\nexport var StringMapping;\n(function (StringMapping) {\n    StringMapping.percent = ({ bipolar, fractionDigits } = {}) => new Numeric(\"%\", fractionDigits, false, bipolar);\n    StringMapping.numeric = ({ unit, fractionDigits, unitPrefix, bipolar } = {}) => new Numeric(unit, fractionDigits, unitPrefix, bipolar);\n    StringMapping.indices = (unit, values) => new class {\n        x(y) {\n            return { unit, value: values[y] };\n        }\n        y(x) {\n            const index = values.indexOf(x);\n            return index === -1 ? { type: \"unknown\", value: \"\uD83D\uDCA3\" } : { type: \"explicit\", value: index };\n        }\n    };\n    StringMapping.values = (unit, values, strings) => new class {\n        x(y) {\n            return { unit, value: strings.at(values.indexOf(y)) ?? \"N/A\" };\n        }\n        y(x) {\n            const index = strings.indexOf(x);\n            return index === -1 ? { type: \"unknown\", value: \"\uD83D\uDCA3\" } : { type: \"explicit\", value: values[index] };\n        }\n    };\n    StringMapping.bool = new class {\n        y(x) {\n            switch (x.trim()) {\n                case \"on\":\n                case \"yes\":\n                case \"true\":\n                    return { type: \"explicit\", value: true };\n                default:\n                    return { type: \"explicit\", value: false };\n            }\n        }\n        x(y) {\n            return { value: y ? \"On\" : \"Off\", unit: \"\" };\n        }\n    };\n    StringMapping.boolValues = (falseValue, trueValue) => new class {\n        y(x) {\n            switch (x.trim()) {\n                case trueValue:\n                case \"on\":\n                case \"yes\":\n                case \"true\":\n                    return { type: \"explicit\", value: true };\n                case falseValue:\n                default:\n                    return { type: \"explicit\", value: false };\n            }\n        }\n        x(y) {\n            return { value: y ? \"On\" : \"Off\", unit: \"\" };\n        }\n    };\n    class Numeric {\n        #unit;\n        #fractionDigits;\n        #unitPrefix;\n        #bipolar;\n        constructor(unit, fractionDigits, unitPrefix, bipolar) {\n            this.#unit = unit ?? \"\";\n            this.#fractionDigits = fractionDigits ?? 0;\n            this.#unitPrefix = unitPrefix ?? false;\n            this.#bipolar = bipolar ?? false;\n        }\n        y(x) {\n            let value = x.trim();\n            const float = parseFloat(value);\n            if (isNaN(float)) {\n                return { type: \"unknown\", value: value };\n            }\n            else if (this.#unit === \"%\") {\n                return {\n                    type: \"explicit\",\n                    value: float / 100.0\n                };\n            }\n            else if (value.endsWith(\"%\")) {\n                return {\n                    type: \"unitValue\",\n                    value: this.#bipolar\n                        ? clamp(float / 200.0 + 0.5, 0.0, 1.0)\n                        : clamp(float / 100.0, 0.0, 1.0)\n                };\n            }\n            else {\n                if (value.endsWith(this.#unit) && this.#unit.length > 0) {\n                    // remove unit\n                    value = value.slice(0, -this.#unit.length);\n                }\n                const regex = /(\\d+)(\\D+)/;\n                const match = regex.exec(value);\n                const last = match?.at(2)?.at(0);\n                if (isDefined(last)) {\n                    const index = prefixes.indexOf(last);\n                    if (index > -1) {\n                        return { type: \"explicit\", value: float * Math.pow(10.0, (index - 4) * 3.0) };\n                    }\n                }\n                return { type: \"explicit\", value: float };\n            }\n        }\n        x(y) {\n            if (Number.isNaN(y)) {\n                return { value: \"\uD83D\uDCA3\", unit: this.#unit };\n            }\n            else if (Number.isFinite(y)) {\n                if (this.#unit === \"%\") {\n                    return this.#bipolar\n                        ? { value: (y * 200 - 100).toFixed(this.#fractionDigits), unit: this.#unit }\n                        : { value: (y * 100).toFixed(this.#fractionDigits), unit: this.#unit };\n                }\n                if (this.#unitPrefix) {\n                    const { value, prefix } = computePrefix(y);\n                    return { value: value.toFixed(this.#fractionDigits), unit: `${prefix}${this.#unit}` };\n                }\n                else {\n                    return { value: y.toFixed(this.#fractionDigits), unit: this.#unit };\n                }\n            }\n            else {\n                return { value: y === Number.POSITIVE_INFINITY ? \"\u221E\" : \"-\u221E\", unit: this.#unit };\n            }\n        }\n    }\n    const prefixes = Object.freeze([\"p\", \"n\", \"\u03BC\", \"m\", \"\", \"k\", \"M\", \"G\", \"T\"]);\n    // this magic number rounds the result perfectly to integers, while the mathematically correct 10 doesn't:\n    // computeBase10(1000) = 3\n    // computeBase10(0.001) = -3\n    const computeBase10 = (value) => Math.log(value) / Math.log(9.999999999999999);\n    const computePrefix = (value) => {\n        const location = Math.floor(computeBase10(value) / 3.0);\n        const prefix = prefixes[location + 4];\n        return isDefined(prefix) ? { value: value * Math.pow(10.0, location * -3.0), prefix } : { value, prefix: \"\" };\n    };\n    StringMapping.decible = StringMapping.numeric({ unit: \"db\", fractionDigits: 1 });\n    StringMapping.panning = StringMapping.percent({ unit: \"%\", fractionDigits: 0 });\n})(StringMapping || (StringMapping = {}));\n", "export var Predicates;\n(function (Predicates) {\n    Predicates.alwaysTrue = () => true;\n    Predicates.alwaysFalse = () => false;\n    Predicates.definedPredicate = (value) => value !== null && value !== undefined;\n})(Predicates || (Predicates = {}));\n", "import { panic } from \"./lang\";\nimport { Arrays } from \"./arrays\";\nexport var Progress;\n(function (Progress) {\n    Progress.Empty = Object.freeze(_ => { });\n    Progress.split = (progress, count) => {\n        const collect = new Float32Array(count);\n        return Arrays.create(index => (value) => {\n            collect[index] = value;\n            progress(collect.reduce((total, value) => total + value, 0.0) / count);\n        }, count);\n    };\n    Progress.splitWithWeights = (progress, weights) => {\n        const count = weights.length;\n        const collect = new Float32Array(count);\n        if (weights.length === 0) {\n            return panic(\"Weights must not be empty\");\n        }\n        if (weights.some(w => w <= 0)) {\n            return panic(\"Weights must be greater than zero\");\n        }\n        const weightSum = weights.reduce((sum, weight) => sum + weight, 0.0);\n        const normalizedWeights = weightSum > 0\n            ? weights.map(w => w / weightSum)\n            : Arrays.create(() => 1.0 / count, count);\n        return Arrays.create(index => (value) => {\n            collect[index] = value;\n            progress(collect.reduce((total, v, i) => total + v * normalizedWeights[i], 0));\n        }, count);\n    };\n})(Progress || (Progress = {}));\n", "import { panic } from \"./lang\";\nexport var Random;\n(function (Random) {\n    Random.create = (seed = 0xF123F42) => new Mulberry32(seed);\n    /**\n     * Generates a monotone ascending sequence of random unitValue numbers.\n     * @param target The target array to fill with random values.\n     * @param noise Tell the method how noisy the sequence should be. 0 leads to a linear sequence.\n     * @param random The random number generator to use.\n     * @returns The target array.\n     */\n    Random.monotoneAscending = (target, noise = 128, random = Random.create()) => {\n        const length = target.length;\n        if (length < 2) {\n            return panic(\"Array must have at least 2 elements\");\n        }\n        let sum = 0.0;\n        for (let i = 1; i < length; i++) {\n            const value = Math.floor(random.uniform() * (1.0 + noise)) + 1.0;\n            target[i] = value;\n            sum += value;\n        }\n        let acc = 0.0;\n        target[0] = 0.0;\n        for (let i = 1; i < length; i++) {\n            acc += target[i];\n            target[i] = acc / sum;\n        }\n        return target;\n    };\n})(Random || (Random = {}));\nexport class Mulberry32 {\n    #seed = 0;\n    constructor(seed) { this.setSeed(seed); }\n    setSeed(value) { this.#seed = value & 0xFFFFFFFF; }\n    nextDouble(min, max) { return min + this.uniform() * (max - min); }\n    nextInt(min, max) { return min + Math.floor(this.uniform() * (max - min)); }\n    nextElement(array) { return array[Math.floor(this.uniform() * array.length)]; }\n    nextBoolean() { return this.uniform() < 0.5; }\n    uniform() {\n        let t = this.#seed += 0x6D2B79F5;\n        t = Math.imul(t ^ t >>> 15, t | 1);\n        t ^= t + Math.imul(t ^ t >>> 7, t | 61);\n        return ((t ^ t >>> 14) >>> 0) / 4294967296.0;\n    }\n}\n", "import { ByteCounter } from \"./data\";\n/**\n * Schema defines a fixed structure for numbers and boolean\n */\nexport var Schema;\n(function (Schema) {\n    class Serializer {\n    }\n    Schema.createBuilder = (schema) => {\n        const replace = (schema) => {\n            const clone = schema instanceof Array ? [] : {};\n            Object.entries(schema).forEach(([key, value]) => {\n                if (value instanceof Serializer) {\n                    clone[key] = value.initialValue();\n                }\n                else if (typeof value === \"object\") {\n                    clone[key] = replace(value);\n                }\n            });\n            return clone;\n        };\n        return () => new IOImpl(schema, Object.seal(replace(schema)));\n    };\n    Schema.bool = new class extends Serializer {\n        read(input) { return input.readByte() === 1; }\n        write(output, value) { output.writeByte(value ? 1 : 0); }\n        initialValue() { return false; }\n    };\n    Schema.int8 = new class extends Serializer {\n        read(input) { return input.readByte(); }\n        write(output, value) { output.writeByte(value); }\n        initialValue() { return 0; }\n    };\n    Schema.int16 = new class extends Serializer {\n        read(input) { return input.readShort(); }\n        write(output, value) { output.writeShort(value); }\n        initialValue() { return 0; }\n    };\n    Schema.int32 = new class extends Serializer {\n        read(input) { return input.readInt(); }\n        write(output, value) { output.writeInt(value); }\n        initialValue() { return 0; }\n    };\n    Schema.float = new class extends Serializer {\n        read(input) { return input.readFloat(); }\n        write(output, value) { output.writeFloat(value); }\n        initialValue() { return 0.0; }\n    };\n    Schema.double = new class extends Serializer {\n        read(input) { return input.readDouble(); }\n        write(output, value) { output.writeDouble(value); }\n        initialValue() { return 0.0; }\n    };\n    Schema.int64 = new class extends Serializer {\n        read(input) { return input.readLong(); }\n        write(output, value) { output.writeLong(value); }\n        initialValue() { return 0n; }\n    };\n    Schema.floats = (length) => new class extends Serializer {\n        read(input, values) {\n            for (let i = 0; i < values.length; i++) {\n                values[i] = input.readFloat();\n            }\n            return values;\n        }\n        write(output, values) {\n            for (let i = 0; i < values.length; i++) {\n                output.writeFloat(values[i]);\n            }\n        }\n        initialValue() { return new Float32Array(length); }\n    };\n    Schema.doubles = (length) => new class extends Serializer {\n        read(input, values) {\n            for (let i = 0; i < values.length; i++) {\n                values[i] = input.readDouble();\n            }\n            return values;\n        }\n        write(output, values) {\n            for (let i = 0; i < values.length; i++) {\n                output.writeDouble(values[i]);\n            }\n        }\n        initialValue() { return new Float64Array(length); }\n    };\n    class IOImpl {\n        #schema;\n        #object;\n        #bytesTotal;\n        constructor(schema, object) {\n            this.#schema = schema;\n            this.#object = object;\n            this.#bytesTotal = this.#count();\n        }\n        get object() { return this.#object; }\n        get bytesTotal() { return this.#bytesTotal; }\n        read(input) {\n            const collector = (schema, object) => {\n                Object.entries(schema).forEach(([key, value]) => {\n                    const data = object;\n                    if (value instanceof Serializer) {\n                        data[key] = value.read(input, data[key]);\n                    }\n                    else if (typeof value === \"object\") {\n                        collector(value, data[key]);\n                    }\n                });\n            };\n            collector(this.#schema, this.#object);\n        }\n        write(output) {\n            const collector = (schema, object) => {\n                Object.entries(schema).forEach(([key, value]) => {\n                    const data = object;\n                    if (value instanceof Serializer) {\n                        value.write(output, data[key]);\n                    }\n                    else if (typeof value === \"object\") {\n                        collector(value, data[key]);\n                    }\n                });\n            };\n            collector(this.#schema, this.#object);\n        }\n        #count() {\n            const counter = new ByteCounter();\n            this.write(counter);\n            return counter.count;\n        }\n    }\n})(Schema || (Schema = {}));\n", "import { asDefined, isDefined, panic } from \"./lang\";\nimport { Arrays } from \"./arrays\";\nimport { Option } from \"./option\";\nimport { BinarySearch } from \"./binary-search\";\n/**\n * SortedSet\n * ---------------------------\n * Advantages Over Native Set\n * ---------------------------\n * Custom Key Extraction: Allows using complex keys (like UUID) with custom comparison logic\n * Ordered Iteration: Elements are always iterated in sorted order (not necessarily favored)\n * Efficient Lookups: O(log n) lookups using binary search\n * Flexible Duplicate Handling: Control whether to replace or duplicates or throw an error\n * -----------------------------\n * Disadvantages Over Native Set\n * -----------------------------\n * No Range Operations: No efficient range-based operations\n * Losing insert order: Elements get sorted by key and not insert order\n */\nexport class SortedSet {\n    #extractor;\n    #comparator;\n    #array;\n    constructor(extractor, comparator) {\n        this.#extractor = extractor;\n        this.#comparator = comparator;\n        this.#array = [];\n    }\n    add(value, replace = false) {\n        const key = this.#extractor(value);\n        const insertIndex = BinarySearch.leftMostMapped(this.#array, key, this.#comparator, this.#extractor);\n        const current = this.#array[insertIndex];\n        if (isDefined(current) && this.#comparator(this.#extractor(current), key) === 0) {\n            if (replace) {\n                this.#array.splice(insertIndex, 1, value);\n                return true;\n            }\n            return false;\n        }\n        this.#array.splice(insertIndex, 0, value);\n        return true;\n    }\n    getOrCreate(key, factory) {\n        const insertIndex = BinarySearch.leftMostMapped(this.#array, key, this.#comparator, this.#extractor);\n        const current = this.#array[insertIndex];\n        if (isDefined(current) && this.#comparator(this.#extractor(current), key) === 0) {\n            return current;\n        }\n        const value = factory(key);\n        this.#array.splice(insertIndex, 0, value);\n        return value;\n    }\n    addMany(values) {\n        for (const value of values) {\n            this.#array.push(value);\n        }\n        try {\n            this.#array.sort((a, b) => {\n                const delta = this.#comparator(this.#extractor(a), this.#extractor(b));\n                if (delta === 0) {\n                    throw \"cancel\";\n                }\n                return delta;\n            });\n            return true;\n        }\n        catch (reason) {\n            if (reason === \"cancel\") {\n                const uniqueKeys = new Map(this.entries());\n                this.#array.splice(0, this.#array.length, ...uniqueKeys.values());\n                this.#array.sort((a, b) => this.#comparator(this.#extractor(a), this.#extractor(b)));\n                return false;\n            }\n            return panic(reason);\n        }\n    }\n    removeByValue(value) { return this.removeByKey(this.#extractor(value)); }\n    removeByKey(key) {\n        const deleteIndex = BinarySearch.leftMostMapped(this.#array, key, this.#comparator, this.#extractor);\n        const candidate = this.#array[deleteIndex];\n        if (isDefined(candidate) && this.#comparator(this.#extractor(candidate), key) === 0) {\n            this.#array.splice(deleteIndex, 1);\n            return candidate;\n        }\n        return panic(`Could not remove ${key}`);\n    }\n    removeByKeyIfExist(key) {\n        const deleteIndex = BinarySearch.leftMostMapped(this.#array, key, this.#comparator, this.#extractor);\n        const candidate = this.#array[deleteIndex];\n        if (isDefined(candidate) && this.#comparator(this.#extractor(candidate), key) === 0) {\n            this.#array.splice(deleteIndex, 1);\n            return candidate;\n        }\n        return null;\n    }\n    removeRange(startIndex, endIndex) {\n        this.#array.splice(startIndex, (endIndex ?? this.#array.length) - startIndex);\n    }\n    removeByPredicate(predicate) {\n        let count = 0 | 0;\n        let index = this.#array.length;\n        while (--index >= 0) {\n            if (predicate(this.#array[index])) {\n                this.#array.splice(index, 1);\n                count++;\n            }\n        }\n        return count;\n    }\n    get(key) { return asDefined(this.#lookup(key), `Unknown key: ${key}`); }\n    getOrThrow(key, provider) {\n        const candidate = this.#lookup(key);\n        if (isDefined(candidate)) {\n            return candidate;\n        }\n        else {\n            throw provider();\n        }\n    }\n    opt(key) { return Option.wrap(this.#lookup(key)); }\n    getOrNull(key) { return this.#lookup(key) ?? null; }\n    getByIndex(index) { return this.#array[index]; }\n    hasKey(key) { return isDefined(this.#lookup(key)); }\n    hasValue(value) { return isDefined(this.#lookup(this.#extractor(value))); }\n    size() { return this.#array.length; }\n    isEmpty() { return this.#array.length === 0; }\n    forEach(procedure) { this.values().forEach(procedure); }\n    values() { return this.#array; }\n    entries() { return this.#array.map((entry) => [this.#extractor(entry), entry]); }\n    clear() { Arrays.clear(this.#array); }\n    [Symbol.iterator]() { return this.#array.values(); }\n    #lookup(key) {\n        const index = BinarySearch.leftMostMapped(this.#array, key, this.#comparator, this.#extractor);\n        const candidate = this.#array[index];\n        return isDefined(candidate) && this.#comparator(this.#extractor(candidate), key) === 0 ? candidate : undefined;\n    }\n}\n", "import { isDefined } from \"./lang\";\nexport var Strings;\n(function (Strings) {\n    Strings.hyphenToCamelCase = (value) => value\n        .replace(/-([a-z])/g, (g) => g[1].toUpperCase());\n    Strings.fallback = (value, fallback) => isDefined(value) && value.length > 0 ? value : fallback;\n    Strings.endsWithDigit = (str) => /\\d$/.test(str);\n    Strings.nonEmpty = (str, fallback) => isDefined(str) && str.trim().length > 0 ? str : fallback;\n    // UTF-8\n    Strings.toArrayBuffer = (str) => {\n        const buffer = new ArrayBuffer(str.length);\n        const view = new Uint8Array(buffer);\n        for (let i = 0; i < str.length; i++) {\n            view[i] = str.charCodeAt(i);\n        }\n        return buffer;\n    };\n    Strings.getUniqueName = (existingNames, desiredName) => {\n        const existingSet = new Set(existingNames);\n        let test = desiredName;\n        let counter = 1;\n        if (existingSet.has(desiredName) || existingSet.has(`${desiredName} 1`)) {\n            counter = 2;\n        }\n        else {\n            return desiredName;\n        }\n        while (existingSet.has(test = `${desiredName} ${counter++}`)) { }\n        return test;\n    };\n})(Strings || (Strings = {}));\n", "import { assert, EmptyExec } from \"./lang\";\nimport { Option } from \"./option\";\nexport const RuntimeNotifier = (() => {\n    let notifierOption = Option.None;\n    return ({\n        info: (request) => notifierOption.match({\n            none: () => Promise.resolve(),\n            some: notifier => notifier.info(request)\n        }),\n        approve: (request) => notifierOption.match({\n            none: () => Promise.resolve(true),\n            some: notifier => notifier.approve(request)\n        }),\n        progress: (request) => notifierOption.match({\n            none: () => ({ message: \"\", terminate: EmptyExec }),\n            some: notifier => notifier.progress(request)\n        }),\n        install: (notifier) => {\n            assert(notifierOption.isEmpty(), \"RuntimeNotification already installed\");\n            notifierOption = Option.wrap(notifier);\n        }\n    });\n})();\n", "import { Notifier } from \"./notifier\";\nexport var RuntimeSignal;\n(function (RuntimeSignal) {\n    const notifier = new Notifier();\n    RuntimeSignal.subscribe = (observer) => notifier.subscribe(observer);\n    RuntimeSignal.dispatch = (signal) => notifier.notify(signal);\n})(RuntimeSignal || (RuntimeSignal = {}));\n", "import { Unhandled } from \"./lang\";\nexport class TimeSpan {\n    static POSITIVE_INFINITY = new TimeSpan(Number.POSITIVE_INFINITY);\n    static millis = (value) => new TimeSpan(value);\n    static seconds = (value) => new TimeSpan(value * TimeSpan.#MILLI_SECONDS_PER_SECOND);\n    static minutes = (value) => new TimeSpan(value * TimeSpan.#MILLI_SECONDS_PER_MINUTE);\n    static hours = (value) => new TimeSpan(value * TimeSpan.#MILLI_SECONDS_PER_HOUR);\n    static days = (value) => new TimeSpan(value * TimeSpan.#MILLI_SECONDS_PER_DAY);\n    static #MILLI_SECONDS_PER_SECOND = 1_000;\n    static #MILLI_SECONDS_PER_MINUTE = 60_000;\n    static #MILLI_SECONDS_PER_HOUR = 3_600_000;\n    static #MILLI_SECONDS_PER_DAY = 86_400_000;\n    #ms;\n    constructor(ms) { this.#ms = ms; }\n    millis() { return this.#ms; }\n    absSeconds() { return Math.abs(this.#ms) / TimeSpan.#MILLI_SECONDS_PER_SECOND; }\n    absMinutes() { return Math.abs(this.#ms) / TimeSpan.#MILLI_SECONDS_PER_MINUTE; }\n    absHours() { return Math.abs(this.#ms) / TimeSpan.#MILLI_SECONDS_PER_HOUR; }\n    absDays() { return Math.abs(this.#ms) / TimeSpan.#MILLI_SECONDS_PER_DAY; }\n    split() {\n        return {\n            d: Math.floor(this.absDays()),\n            h: Math.floor(this.absHours()) % 24,\n            m: Math.floor(this.absMinutes()) % 60,\n            s: Math.floor(this.absSeconds()) % 60\n        };\n    }\n    isNow() { return this.#ms === 0.0; }\n    isPast() { return this.#ms < 0.0; }\n    isFuture() { return this.#ms > 0.0; }\n    toUnitString() {\n        let value, unit;\n        const seconds = Math.floor(Math.abs(this.#ms) / 1000);\n        const minutes = Math.floor(seconds / 60);\n        const hours = Math.floor(minutes / 60);\n        const days = Math.floor(hours / 24);\n        if (seconds < 60) {\n            value = seconds;\n            unit = \"second\";\n        }\n        else if (minutes < 60) {\n            value = minutes;\n            unit = \"minute\";\n        }\n        else if (hours < 24) {\n            value = hours;\n            unit = \"hour\";\n        }\n        else {\n            value = days;\n            unit = \"day\";\n        }\n        return new Intl.RelativeTimeFormat(\"en\", { numeric: \"auto\", style: \"long\" })\n            .format(value * Math.sign(this.#ms), unit);\n    }\n    toString() {\n        if (isNaN(this.#ms)) {\n            return \"NaN\";\n        }\n        if (!isFinite(this.#ms)) {\n            return \"\u221E\";\n        }\n        const { d, h, m, s } = this.split();\n        if (d > 0) {\n            return [\n                TimeSpan.#quantity(\"d\", d), TimeSpan.#quantity(\"h\", h),\n                TimeSpan.#quantity(\"m\", m), TimeSpan.#quantity(\"s\", s)\n            ]\n                .join(\", \");\n        }\n        else if (h > 0) {\n            return [\n                TimeSpan.#quantity(\"h\", h), TimeSpan.#quantity(\"m\", m),\n                TimeSpan.#quantity(\"s\", s)\n            ]\n                .join(\", \");\n        }\n        else if (m > 0) {\n            return [TimeSpan.#quantity(\"m\", m), TimeSpan.#quantity(\"s\", s)]\n                .join(\", \");\n        }\n        else if (s > 0) {\n            return TimeSpan.#quantity(\"s\", s);\n        }\n        else {\n            return \"now\";\n        }\n    }\n    static #quantity = (name, count) => {\n        switch (name) {\n            case \"d\":\n                return `${count} ${count < 2 ? \"day\" : \"days\"}`;\n            case \"h\":\n                return `${count} ${count < 2 ? \"hour\" : \"hours\"}`;\n            case \"m\":\n                return `${count} ${count < 2 ? \"minute\" : \"minutes\"}`;\n            case \"s\":\n                return `${count} ${count < 2 ? \"second\" : \"seconds\"}`;\n            default:\n                return Unhandled(name);\n        }\n    };\n}\n", "import { ByteArrayInput, ByteArrayOutput } from \"./data\";\nimport { panic } from \"./lang\";\nexport var SyncStream;\n(function (SyncStream) {\n    let State;\n    (function (State) {\n        State[State[\"READING\"] = 0] = \"READING\";\n        State[State[\"READ\"] = 1] = \"READ\";\n        State[State[\"WRITING\"] = 2] = \"WRITING\";\n        State[State[\"WRITTEN\"] = 3] = \"WRITTEN\";\n    })(State || (State = {}));\n    SyncStream.writer = (io, buffer, populate) => {\n        if (io.bytesTotal + 1 > buffer.byteLength) {\n            return panic(\"Insufficient memory allocated.\");\n        }\n        const array = new Uint8Array(buffer);\n        const output = ByteArrayOutput.use(buffer, 1);\n        Atomics.store(array, 0, State.READ);\n        return {\n            tryWrite: () => {\n                if (Atomics.compareExchange(array, 0, State.READ, State.WRITING) === State.WRITING) {\n                    populate(io.object);\n                    output.position = 0;\n                    io.write(output);\n                    Atomics.store(array, 0, State.WRITTEN);\n                    return true;\n                }\n                return false;\n            }\n        };\n    };\n    SyncStream.reader = (io, procedure) => {\n        const buffer = new SharedArrayBuffer(io.bytesTotal + 1);\n        const array = new Uint8Array(buffer);\n        const input = new ByteArrayInput(buffer, 1);\n        return {\n            buffer,\n            tryRead: () => {\n                if (Atomics.compareExchange(array, 0, State.WRITTEN, State.READING) === State.READING) {\n                    input.position = 0;\n                    io.read(input);\n                    procedure(io.object);\n                    Atomics.store(array, 0, State.READ);\n                    return true;\n                }\n                return false;\n            }\n        };\n    };\n})(SyncStream || (SyncStream = {}));\n", "import { Arrays } from \"./arrays\";\nimport { assert, panic } from \"./lang\";\nimport { SortedSet } from \"./sorted-set\";\nexport var UUID;\n(function (UUID) {\n    UUID.length = 16;\n    UUID.generate = () => fromUint8Array(crypto.getRandomValues(new Uint8Array(UUID.length)));\n    UUID.sha256 = async (buffer) => {\n        const isVitest = typeof process !== \"undefined\" && process.env?.VITEST === \"true\";\n        return crypto.subtle.digest(\"SHA-256\", isVitest ? new Uint8Array(buffer.slice(0)) : buffer)\n            .then(buffer => fromUint8Array(new Uint8Array(buffer.slice(0, UUID.length))));\n    };\n    UUID.validateBytes = (uuid) => UUID.parse(UUID.toString(uuid));\n    UUID.validateString = (uuid) => /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(uuid);\n    UUID.asString = (uuid) => UUID.validateString(uuid) ? uuid : panic(`Invalid UUID format: ${uuid}`);\n    UUID.fromDataInput = (input) => {\n        const array = new Uint8Array(UUID.length);\n        input.readBytes(new Int8Array(array.buffer));\n        return array;\n    };\n    UUID.toDataOutput = (output, uuid) => output.writeBytes(new Int8Array(uuid.buffer));\n    UUID.toString = (format) => {\n        const hex = Arrays.create(index => (index + 0x100).toString(16).substring(1), 256);\n        return (hex[format[0]] + hex[format[1]] +\n            hex[format[2]] + hex[format[3]] + \"-\" +\n            hex[format[4]] + hex[format[5]] + \"-\" +\n            hex[format[6]] + hex[format[7]] + \"-\" +\n            hex[format[8]] + hex[format[9]] + \"-\" +\n            hex[format[10]] + hex[format[11]] +\n            hex[format[12]] + hex[format[13]] +\n            hex[format[14]] + hex[format[15]]);\n    };\n    UUID.parse = (string) => {\n        const cleanUuid = string.replace(/-/g, \"\").toLowerCase();\n        if (cleanUuid.length !== 32) {\n            return panic(\"Invalid UUID format\");\n        }\n        const bytes = new Uint8Array(UUID.length);\n        for (let i = 0, j = 0; i < 32; i += 2, j++) {\n            bytes[j] = parseInt(cleanUuid.slice(i, i + 2), 16);\n        }\n        return bytes;\n    };\n    UUID.Comparator = (a, b) => {\n        if (a.length !== UUID.length || b.length !== UUID.length) {\n            return panic(\"Unexpected array length for uuid(v4)\");\n        }\n        for (let i = 0; i < UUID.length; i++) {\n            const delta = a[i] - b[i];\n            if (delta !== 0) {\n                return delta;\n            }\n        }\n        return 0;\n    };\n    UUID.equals = (a, b) => UUID.Comparator(a, b) === 0;\n    UUID.newSet = (key) => new SortedSet(key, UUID.Comparator);\n    UUID.Lowest = UUID.parse(\"00000000-0000-4000-8000-000000000000\");\n    UUID.Highest = UUID.parse(\"FFFFFFFF-FFFF-4FFF-BFFF-FFFFFFFFFFFF\");\n    UUID.fromInt = (value) => {\n        const result = new Uint8Array(UUID.Lowest);\n        const array = new Uint8Array(new Uint32Array([value]).buffer);\n        for (let i = 0; i < 4; i++) {\n            result[i] = array[i];\n        }\n        return result;\n    };\n    UUID.zType = (z) => z.string()\n        .refine((uuid) => UUID.validateString(uuid), { message: \"Invalid UUID format\" })\n        .transform(uuid => uuid);\n    const fromUint8Array = (arr) => {\n        assert(arr.length === UUID.length, \"UUID must be 16 bytes long\");\n        arr[6] = (arr[6] & 0x0f) | 0x40; // Version 4 (random)\n        arr[8] = (arr[8] & 0x3f) | 0x80; // Variant 10xx for UUID\n        return arr;\n    };\n})(UUID || (UUID = {}));\n", "import { Arrays } from \"./arrays\";\nimport { NumberComparator } from \"./comparators\";\nimport { assert, isDefined } from \"./lang\";\nimport { clamp } from \"./math\";\nimport { BinarySearch } from \"./binary-search\";\nexport var ValueGuide;\n(function (ValueGuide) {\n    ValueGuide.create = (option) => {\n        if (isDefined(option)) {\n            if (isDefined(option?.snap)) {\n                return ValueGuide.snap(option?.trackLength, option?.snap?.snapLength, Array.isArray(option?.snap?.threshold)\n                    ? option?.snap.threshold\n                    : [option?.snap?.threshold]);\n            }\n            else {\n                return ValueGuide.identity(option?.trackLength);\n            }\n        }\n        else {\n            return ValueGuide.identity();\n        }\n    };\n    ValueGuide.snap = (trackLength = DEFAULT_TRACK_LENGTH, snapLength = DEFAULT_SNAP_LENGTH, thresholds) => new Snap(trackLength, snapLength / trackLength, thresholds);\n    ValueGuide.identity = (trackLength = DEFAULT_TRACK_LENGTH) => new Identity(trackLength);\n    const DEFAULT_TRACK_LENGTH = 128;\n    const DEFAULT_SNAP_LENGTH = 24;\n    class Identity {\n        length;\n        #x = NaN;\n        #value = NaN;\n        #ratio = 1.0;\n        constructor(length) {\n            this.length = length;\n        }\n        begin(value) { this.#value = this.#x = value; }\n        moveBy(delta) {\n            assert(!isNaN(this.#value), () => \"value has never been set\");\n            this.#x += delta / this.length * this.#ratio;\n            this.#value = clamp(this.#x, 0.0, 1.0);\n        }\n        ratio(value) { this.#ratio = value; }\n        value() {\n            assert(!isNaN(this.#value), () => \"value has never been set\");\n            return this.#value;\n        }\n        disable() { }\n        enable() { }\n    }\n    class Snap {\n        #length;\n        #margin;\n        #thresholds;\n        #ranges;\n        #x = NaN; // unhinged floating value including the snapping margin\n        #value = NaN; // clamped normalised, exposable value\n        #ratio = 1.0;\n        #enabled = true;\n        constructor(length, margin, thresholds) {\n            assert(margin > 0.0, () => `margin(${margin}) must be greater then 0`);\n            assert(Arrays.isSorted(thresholds), () => \"thresholds are not sorted\");\n            assert(margin < length, () => `margin(${margin}) must be lower then length(${length})`);\n            this.#length = length;\n            this.#margin = margin;\n            this.#thresholds = thresholds;\n            this.#ranges = thresholds.map((x, index) => x + index * this.#margin);\n        }\n        begin(value) {\n            this.#x = this.#enabled ? this.valueToX(value) : value;\n            this.#value = value;\n        }\n        moveBy(delta) {\n            assert(isFinite(this.#value) && isFinite(this.#x), () => \"value has never been set (moveBy)\");\n            this.#x += delta / this.#length * this.#ratio;\n            this.#value = this.#enabled ? this.xToValue(this.#x) : clamp(this.#x, 0.0, 1.0);\n        }\n        ratio(value) { this.#ratio = value; }\n        value() {\n            assert(isFinite(this.#value), () => \"value has never been set (value)\");\n            return this.#value;\n        }\n        disable() {\n            if (!this.#enabled) {\n                return;\n            }\n            this.#enabled = false;\n            this.#x = this.xToValue(this.#x);\n        }\n        enable() {\n            if (this.#enabled) {\n                return;\n            }\n            this.#enabled = true;\n            this.#x = this.valueToX(this.#x);\n        }\n        valueToX(value) {\n            const index = BinarySearch.rightMost(this.#thresholds, value, NumberComparator);\n            if (index < 0) {\n                return value;\n            }\n            else {\n                const range = this.#ranges[index];\n                const threshold = this.#thresholds[index];\n                return value === threshold ? range + this.#margin / 2.0 : range + this.#margin + (value - threshold);\n            }\n        }\n        xToValue(x) {\n            const clamped = clamp(x, 0.0, 1.0 + this.#margin * this.#thresholds.length);\n            const index = BinarySearch.rightMost(this.#ranges, clamped, NumberComparator);\n            if (index < 0) {\n                return clamped;\n            }\n            else {\n                const range = this.#ranges[index];\n                const threshold = this.#thresholds[index];\n                if (clamped > range + this.#margin) {\n                    return clamped - (range + this.#margin) + threshold;\n                }\n                else {\n                    return threshold;\n                }\n            }\n        }\n        get margin() { return this.#margin; }\n    }\n})(ValueGuide || (ValueGuide = {}));\n", "import { hasField, isRecord, panic } from \"./lang\";\nexport var Errors;\n(function (Errors) {\n    class Warning extends Error {\n    }\n    Errors.Warning = Warning;\n    // Should be handled more gracefully from the user-interface\n    Errors.warn = (issue) => { throw new Warning(issue); };\n    class FileNotFound extends Error {\n        constructor(path) { super(`${path} not found`); }\n    }\n    Errors.FileNotFound = FileNotFound;\n    Errors.AbortError = typeof DOMException === \"undefined\"\n        ? { name: \"AbortError\", message: \"\" } : Object.freeze(new DOMException(\"AbortError\"));\n    Errors.isAbort = (error) => error === Errors.AbortError || (Errors.isDOMException(error) && error.name === \"AbortError\");\n    Errors.CatchAbort = (error) => error === Errors.AbortError ? undefined : panic(error);\n    // https://developer.mozilla.org/en-US/docs/Web/API/OverconstrainedError is not available in Firefox and Gecko\n    Errors.isOverconstrained = (error) => isRecord(error) && \"constraint\" in error;\n    Errors.isDOMException = (error) => isRecord(error) &&\n        hasField(error, \"name\", \"string\") &&\n        hasField(error, \"message\", \"string\");\n    Errors.toString = (error) => {\n        const truncateStack = (stack) => stack.split(\"\\n\").slice(0, 4).join(\"\\n\");\n        if (error instanceof Error) {\n            return truncateStack(error.stack || error.message);\n        }\n        if (typeof error === \"string\") {\n            return error;\n        }\n        if (error && typeof error === \"object\") {\n            const err = error;\n            if (err.stack) {\n                return truncateStack(err.stack);\n            }\n            if (err.message) {\n                return err.message;\n            }\n            try {\n                return JSON.stringify(error, null, 2);\n            }\n            catch {\n            }\n        }\n        return String(error);\n    };\n})(Errors || (Errors = {}));\n", "const key = Symbol.for(\"@openDAW/lib-std\");\nif (globalThis[key]) {\n    console.debug(`%c${key.description}%c is already available in ${globalThis.constructor.name}.`, \"color: hsl(10, 83%, 60%)\", \"color: inherit\");\n}\nelse {\n    globalThis[key] = true;\n    console.debug(`%c${key.description}%c is now available in ${globalThis.constructor.name}.`, \"color: hsl(200, 83%, 60%)\", \"color: inherit\");\n}\nexport * from \"./arrays\";\nexport * from \"./attempts\";\nexport * from \"./bijective\";\nexport * from \"./binary-search\";\nexport * from \"./bits\";\nexport * from \"./cache\";\nexport * from \"./color\";\nexport * from \"./comparators\";\nexport * from \"./curve\";\nexport * from \"./data\";\nexport * from \"./decorators\";\nexport * from \"./editing\";\nexport * from \"./generators\";\nexport * from \"./geom\";\nexport * from \"./hash\";\nexport * from \"./intervals\";\nexport * from \"./iterables\";\nexport * from \"./lang\";\nexport * from \"./listeners\";\nexport * from \"./math\";\nexport * from \"./mint\";\nexport * from \"./maps\";\nexport * from \"./multimap\";\nexport * from \"./notifier\";\nexport * from \"./numeric\";\nexport * from \"./objects\";\nexport * from \"./observables\";\nexport * from \"./observers\";\nexport * from \"./option\";\nexport * from \"./parameters\";\nexport * from \"./predicates\";\nexport * from \"./progress\";\nexport * from \"./random\";\nexport * from \"./range\";\nexport * from \"./schema\";\nexport * from \"./selection\";\nexport * from \"./sets\";\nexport * from \"./sorted-set\";\nexport * from \"./string-mapping\";\nexport * from \"./strings\";\nexport * from \"./runtime-notifier\";\nexport * from \"./runtime-signal\";\nexport * from \"./terminable\";\nexport * from \"./time-span\";\nexport * from \"./sync-stream\";\nexport * from \"./uuid\";\nexport * from \"./value-guides\";\nexport * from \"./value-mapping\";\nexport * from \"./errors\";\n", "import { Arrays, assert } from \"@naomiarotest/lib-std\";\nimport { RenderQuantum } from \"./constants\";\nexport class AudioBuffer {\n    static Empty = new AudioBuffer(2);\n    #channels;\n    constructor(numberOfChannels = 2) {\n        this.#channels = Arrays.create(() => new Float32Array(RenderQuantum), numberOfChannels);\n    }\n    clear(start, end) { this.#channels.forEach(channel => channel.fill(0.0, start, end)); }\n    numChannels() { return this.#channels.length; }\n    getChannel(channelIndex) {\n        return channelIndex < this.numChannels() ? this.#channels[channelIndex] : this.#channels[this.numChannels() - 1];\n    }\n    assertSanity() {\n        assert(!this.#channels.some(channel => channel.some(number => isNaN(number))), \"AudioBuffer is invalid (NaN)\");\n    }\n    channels() { return this.#channels; }\n    replace(output) { this.replaceInto(output.#channels); }\n    replaceInto(target) {\n        // https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Basic_concepts_behind_Web_Audio_API#up-mixing_and_down-mixing\n        assert(target.length === 2, \"mixLayout: target.length must be 2\");\n        assert(this.#channels.length === 1 || this.#channels.length === 2, \"mixLayout: target.length must be 1 or 2\");\n        if (this.#channels.length === 1) {\n            target[0].set(this.#channels[0]);\n            target[1].set(this.#channels[0]);\n        }\n        else {\n            target[0].set(this.#channels[0]);\n            target[1].set(this.#channels[1]);\n        }\n    }\n    mixInto(target) {\n        assert(target.length === 2, \"mixLayout: target.length must be 2\");\n        assert(this.#channels.length === 1 || this.#channels.length === 2, \"mixLayout: target.length must be 1 or 2\");\n        const [outL, outR] = target;\n        if (this.#channels.length === 1) {\n            const [inp] = this.#channels;\n            for (let i = 0; i < RenderQuantum; i++) {\n                outL[i] += inp[i];\n                outR[i] += inp[i];\n            }\n        }\n        else {\n            const [inpL, inpR] = this.#channels;\n            for (let i = 0; i < RenderQuantum; i++) {\n                outL[i] += inpL[i];\n                outR[i] += inpR[i];\n            }\n        }\n    }\n}\n", "var State;\n(function (State) {\n    State[State[\"Idle\"] = 0] = \"Idle\";\n    State[State[\"Attack\"] = 1] = \"Attack\";\n    State[State[\"Decay\"] = 2] = \"Decay\";\n    State[State[\"Sustain\"] = 3] = \"Sustain\";\n    State[State[\"Release\"] = 4] = \"Release\";\n})(State || (State = {}));\nexport class Adsr {\n    #invSampleRate;\n    #state = State.Idle;\n    #value = 0.0;\n    #phase = 0.0;\n    #attack = 0.0;\n    #decay = 0.0;\n    #sustain = 0.0;\n    #release = 0.0;\n    #attackInc = 0.0;\n    #decayDec = 0.0;\n    #releaseDec = 0.0;\n    constructor(sampleRate) { this.#invSampleRate = 1.0 / sampleRate; }\n    get gate() { return this.#state !== State.Idle && this.#state !== State.Release; }\n    get complete() { return this.#state === State.Idle; }\n    get value() { return this.#value; }\n    get phase() { return this.#phase; }\n    set(attack, decay, sustain, release) {\n        this.#attack = attack;\n        this.#decay = decay;\n        this.#sustain = sustain;\n        this.#release = release;\n        this.#updateRates();\n    }\n    #updateRates() {\n        switch (this.#state) {\n            case State.Attack: {\n                const remain = 1.0 - this.#value;\n                this.#attackInc = remain * this.#invSampleRate / Math.max(this.#attack, 1e-6);\n                break;\n            }\n            case State.Decay: {\n                const remain = this.#value - this.#sustain;\n                this.#decayDec = remain * this.#invSampleRate / Math.max(this.#decay, 1e-6);\n                break;\n            }\n            case State.Release: {\n                const remain = this.#value;\n                this.#releaseDec = remain * this.#invSampleRate / Math.max(this.#release, 1e-6);\n                break;\n            }\n            case State.Sustain:\n            case State.Idle: {\n                this.#attackInc = this.#invSampleRate / Math.max(this.#attack, 1e-6);\n                this.#decayDec = (1.0 - this.#sustain) * this.#invSampleRate / Math.max(this.#decay, 1e-6);\n                this.#releaseDec = this.#sustain * this.#invSampleRate / Math.max(this.#release, 1e-6);\n                break;\n            }\n        }\n    }\n    gateOn() { this.#state = State.Attack; }\n    gateOff() {\n        if (this.#state !== State.Idle) {\n            this.#state = State.Release;\n            this.#updateRates();\n        }\n    }\n    forceStop() {\n        this.#state = State.Idle;\n        this.#value = 0.0;\n    }\n    process(output, fromIndex, toIndex) {\n        for (let i = fromIndex; i < toIndex;) {\n            switch (this.#state) {\n                case State.Attack:\n                    while (i < toIndex) {\n                        this.#value += this.#attackInc;\n                        if (this.#value >= 1.0) {\n                            this.#value = 1.0;\n                            this.#phase = 1.0;\n                            output[i++] = this.#value;\n                            this.#state = State.Decay;\n                            this.#updateRates();\n                            break;\n                        }\n                        output[i++] = this.#phase = this.#value;\n                    }\n                    break;\n                case State.Decay:\n                    while (i < toIndex) {\n                        this.#value -= this.#decayDec;\n                        if (this.#value <= this.#sustain) {\n                            this.#value = this.#sustain;\n                            this.#phase = 2.0;\n                            output[i++] = this.#value;\n                            this.#state = State.Sustain;\n                            this.#updateRates();\n                            break;\n                        }\n                        this.#phase = 1.0 + (1.0 - this.#value) / (1.0 - this.#sustain);\n                        output[i++] = this.#value;\n                    }\n                    break;\n                case State.Sustain:\n                    output.fill(this.#sustain, i, toIndex);\n                    return;\n                case State.Release:\n                    while (i < toIndex) {\n                        this.#value -= this.#releaseDec;\n                        if (this.#value <= 0.0) {\n                            this.#value = 0.0;\n                            this.#phase = 0.0;\n                            output[i++] = this.#value;\n                            this.#state = State.Idle;\n                            this.#updateRates();\n                            break;\n                        }\n                        this.#phase = 3.0 + (1.0 - (this.#value / this.#sustain));\n                        output[i++] = this.#value;\n                    }\n                    break;\n                case State.Idle:\n                    output.fill(0.0, i, toIndex);\n                    return;\n            }\n        }\n    }\n}\n", "/**\n * BPM detector (90-180 BPM) for a mono Float32Array.\n * Port of Mark Hills bpm(1) with a light \"low-BPM penalty\" to dodge \u00BD-tempo aliases.\n */\nexport var BPMTools;\n(function (BPMTools) {\n    function detect(buf, sampleRate, options = {}) {\n        const { interval = 64, // samples between energy taps\n        scanSteps = 1_024, // coarse grid\n        scanSamples = 2_048, // autodiff averages / point\n        minBPM = 90, maxBPM = 180 } = options;\n        const env = new Float32Array(Math.floor(buf.length / interval));\n        let v = 0.0, k = 0.0, i = 0;\n        for (const x of buf) {\n            const z = Math.abs(x);\n            v += (z - v) * (z > v ? 1 / 8 : 1 / 512);\n            if (++k === interval) {\n                k = 0;\n                env[i++] = v;\n            }\n        }\n        if (!env.length)\n            return NaN;\n        const sample = (frames, index) => frames[Math.floor(index)] ?? 0.0;\n        const bpmToIv = (b) => (sampleRate / (b / 60.0)) / interval;\n        const ivToBpm = (iv) => (sampleRate / (iv * interval)) * 60.0;\n        const BEATS = [-32, -16, -8, -4, -2, -1, 1, 2, 4, 8, 16, 32];\n        const NO_BEATS = [-0.5, -0.25, 0.25, 0.5];\n        const autodiff = (iv) => {\n            const mid = Math.random() * env.length;\n            const v0 = sample(env, mid);\n            let d = 0, t = 0;\n            for (const b of BEATS) {\n                const w = 1 / Math.abs(b);\n                d += w * Math.abs(sample(env, mid + b * iv) - v0);\n                t += w;\n            }\n            for (const nb of NO_BEATS) {\n                const w = Math.abs(nb);\n                d -= w * Math.abs(sample(env, mid + nb * iv) - v0);\n                t += w;\n            }\n            return d / t;\n        };\n        const avgDiff = (iv) => {\n            let s = 0.0;\n            for (let i = 0; i < scanSamples; ++i)\n                s += autodiff(iv);\n            return s / scanSamples;\n        };\n        const slow = bpmToIv(minBPM);\n        const fast = bpmToIv(maxBPM);\n        const step = (slow - fast) / scanSteps;\n        let bestBpm = minBPM, bestScore = Infinity;\n        for (let iv = fast; iv <= slow; iv += step) {\n            const bpm = ivToBpm(iv);\n            const cost = avgDiff(iv) * (minBPM / bpm);\n            if (cost < bestScore) {\n                bestScore = cost;\n                bestBpm = bpm;\n            }\n        }\n        return bestBpm;\n    }\n    BPMTools.detect = detect;\n})(BPMTools || (BPMTools = {}));\n", "import { assert, clamp, TAU } from \"@naomiarotest/lib-std\";\n// turns out the following code is producing similar but different frequency responses\n// https://chromium.googlesource.com/chromium/blink/+/refs/heads/main/Source/platform/audio/Biquad.cpp\n// while this one produces the correct results\n// https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/platform/audio/biquad.cc\n// quickly tested all biquad modes\nexport class BiquadCoeff {\n    a1 = 0.0;\n    a2 = 0.0;\n    b0 = 0.0;\n    b1 = 0.0;\n    b2 = 0.0;\n    constructor() { this.identity(); }\n    identity() { this.setNormalizedCoefficients(1, 0, 0, 1, 0, 0); }\n    setLowpassParams(cutoff, resonance = Math.SQRT1_2) {\n        cutoff = clamp(cutoff, 0.0, 1.0);\n        if (cutoff >= 0.5) {\n            this.setNormalizedCoefficients(1.0, 0.0, 0.0, 1.0, 0.0, 0.0);\n        }\n        else if (cutoff > 0.0) {\n            const theta = TAU * cutoff;\n            const alpha = Math.sin(theta) / (2.0 * resonance);\n            const cosw = Math.cos(theta);\n            const beta = (1.0 - cosw) / 2.0;\n            const b0 = beta;\n            const b1 = 2.0 * beta;\n            const b2 = beta;\n            const a0 = 1.0 + alpha;\n            const a1 = -2.0 * cosw;\n            const a2 = 1.0 - alpha;\n            this.setNormalizedCoefficients(b0, b1, b2, a0, a1, a2);\n        }\n        else {\n            this.setNormalizedCoefficients(0.0, 0.0, 0.0, 1.0, 0.0, 0.0);\n        }\n        return this;\n    }\n    setHighpassParams(cutoff, resonance = Math.SQRT1_2) {\n        cutoff = clamp(cutoff, 0.0, 1.0);\n        if (cutoff === 1) {\n            this.setNormalizedCoefficients(0, 0, 0, 1, 0, 0);\n        }\n        else if (cutoff > 0) {\n            const theta = TAU * cutoff;\n            const alpha = Math.sin(theta) / (2 * resonance);\n            const cosw = Math.cos(theta);\n            const beta = (1 + cosw) / 2;\n            const b0 = beta;\n            const b1 = -2 * beta;\n            const b2 = beta;\n            const a0 = 1 + alpha;\n            const a1 = -2 * cosw;\n            const a2 = 1 - alpha;\n            this.setNormalizedCoefficients(b0, b1, b2, a0, a1, a2);\n        }\n        else {\n            this.setNormalizedCoefficients(1, 0, 0, 1, 0, 0);\n        }\n        return this;\n    }\n    setNormalizedCoefficients(b0, b1, b2, a0, a1, a2) {\n        const a0_inverse = 1.0 / a0;\n        this.b0 = b0 * a0_inverse;\n        this.b1 = b1 * a0_inverse;\n        this.b2 = b2 * a0_inverse;\n        this.a1 = a1 * a0_inverse;\n        this.a2 = a2 * a0_inverse;\n        return this;\n    }\n    setLowShelfParams(frequency, db_gain) {\n        frequency = clamp(frequency, 0.0, 1.0);\n        const a = Math.pow(10.0, db_gain / 40);\n        if (frequency === 1) {\n            this.setNormalizedCoefficients(a * a, 0, 0, 1, 0, 0);\n        }\n        else if (frequency > 0) {\n            const w0 = TAU * frequency;\n            const s = 1;\n            const alpha = 0.5 * Math.sin(w0) * Math.sqrt((a + 1 / a) * (1 / s - 1) + 2);\n            const k = Math.cos(w0);\n            const k2 = 2 * Math.sqrt(a) * alpha;\n            const a_plus_one = a + 1;\n            const a_minus_one = a - 1;\n            const b0 = a * (a_plus_one - a_minus_one * k + k2);\n            const b1 = 2 * a * (a_minus_one - a_plus_one * k);\n            const b2 = a * (a_plus_one - a_minus_one * k - k2);\n            const a0 = a_plus_one + a_minus_one * k + k2;\n            const a1 = -2 * (a_minus_one + a_plus_one * k);\n            const a2 = a_plus_one + a_minus_one * k - k2;\n            this.setNormalizedCoefficients(b0, b1, b2, a0, a1, a2);\n        }\n        else {\n            this.setNormalizedCoefficients(1, 0, 0, 1, 0, 0);\n        }\n        return this;\n    }\n    setHighShelfParams(frequency, db_gain) {\n        frequency = clamp(frequency, 0.0, 1.0);\n        const a = Math.pow(10.0, db_gain / 40);\n        if (frequency === 1) {\n            this.setNormalizedCoefficients(1, 0, 0, 1, 0, 0);\n        }\n        else if (frequency > 0) {\n            const w0 = TAU * frequency;\n            const s = 1;\n            const alpha = 0.5 * Math.sin(w0) * Math.sqrt((a + 1 / a) * (1 / s - 1) + 2);\n            const k = Math.cos(w0);\n            const k2 = 2 * Math.sqrt(a) * alpha;\n            const a_plus_one = a + 1;\n            const a_minus_one = a - 1;\n            const b0 = a * (a_plus_one + a_minus_one * k + k2);\n            const b1 = -2 * a * (a_minus_one + a_plus_one * k);\n            const b2 = a * (a_plus_one + a_minus_one * k - k2);\n            const a0 = a_plus_one - a_minus_one * k + k2;\n            const a1 = 2 * (a_minus_one - a_plus_one * k);\n            const a2 = a_plus_one - a_minus_one * k - k2;\n            this.setNormalizedCoefficients(b0, b1, b2, a0, a1, a2);\n        }\n        else {\n            this.setNormalizedCoefficients(a * a, 0, 0, 1, 0, 0);\n        }\n        return this;\n    }\n    setPeakingParams(frequency, q, db_gain) {\n        frequency = clamp(frequency, 0.0, 1.0);\n        q = Math.max(0.0, q);\n        const a = Math.pow(10.0, db_gain / 40);\n        if (frequency > 0 && frequency < 1) {\n            if (q > 0) {\n                const w0 = TAU * frequency;\n                const alpha = Math.sin(w0) / (2 * q);\n                const k = Math.cos(w0);\n                const b0 = 1 + alpha * a;\n                const b1 = -2 * k;\n                const b2 = 1 - alpha * a;\n                const a0 = 1 + alpha / a;\n                const a1 = -2 * k;\n                const a2 = 1 - alpha / a;\n                this.setNormalizedCoefficients(b0, b1, b2, a0, a1, a2);\n            }\n            else {\n                this.setNormalizedCoefficients(a * a, 0, 0, 1, 0, 0);\n            }\n        }\n        else {\n            this.setNormalizedCoefficients(1, 0, 0, 1, 0, 0);\n        }\n        return this;\n    }\n    setAllpassParams(frequency, q) {\n        frequency = clamp(frequency, 0.0, 1.0);\n        q = Math.max(0.0, q);\n        if (frequency > 0 && frequency < 1) {\n            if (q > 0) {\n                const w0 = TAU * frequency;\n                const alpha = Math.sin(w0) / (2 * q);\n                const k = Math.cos(w0);\n                const b0 = 1 - alpha;\n                const b1 = -2 * k;\n                const b2 = 1 + alpha;\n                const a0 = 1 + alpha;\n                const a1 = -2 * k;\n                const a2 = 1 - alpha;\n                this.setNormalizedCoefficients(b0, b1, b2, a0, a1, a2);\n            }\n            else {\n                this.setNormalizedCoefficients(-1, 0, 0, 1, 0, 0);\n            }\n        }\n        else {\n            this.setNormalizedCoefficients(1, 0, 0, 1, 0, 0);\n        }\n        return this;\n    }\n    setNotchParams(frequency, q) {\n        frequency = clamp(frequency, 0.0, 1.0);\n        q = Math.max(0.0, q);\n        if (frequency > 0 && frequency < 1) {\n            if (q > 0) {\n                const w0 = TAU * frequency;\n                const alpha = Math.sin(w0) / (2 * q);\n                const k = Math.cos(w0);\n                const b0 = 1;\n                const b1 = -2 * k;\n                const b2 = 1;\n                const a0 = 1 + alpha;\n                const a1 = -2 * k;\n                const a2 = 1 - alpha;\n                this.setNormalizedCoefficients(b0, b1, b2, a0, a1, a2);\n            }\n            else {\n                this.setNormalizedCoefficients(0, 0, 0, 1, 0, 0);\n            }\n        }\n        else {\n            this.setNormalizedCoefficients(1, 0, 0, 1, 0, 0);\n        }\n        return this;\n    }\n    setBandpassParams(frequency, q) {\n        frequency = Math.max(0.0, frequency);\n        q = Math.max(0.0, q);\n        if (frequency > 0 && frequency < 1) {\n            const w0 = TAU * frequency;\n            if (q > 0) {\n                const alpha = Math.sin(w0) / (2 * q);\n                const k = Math.cos(w0);\n                const b0 = alpha;\n                const b1 = 0;\n                const b2 = -alpha;\n                const a0 = 1 + alpha;\n                const a1 = -2 * k;\n                const a2 = 1 - alpha;\n                this.setNormalizedCoefficients(b0, b1, b2, a0, a1, a2);\n            }\n            else {\n                this.setNormalizedCoefficients(1, 0, 0, 1, 0, 0);\n            }\n        }\n        else {\n            this.setNormalizedCoefficients(0, 0, 0, 1, 0, 0);\n        }\n        return this;\n    }\n    getFrequencyResponse(frequency, magResponse, phaseResponse) {\n        assert(frequency.length === magResponse.length && frequency.length === phaseResponse.length, \"Array lengths do not match\");\n        const b0 = this.b0;\n        const b1 = this.b1;\n        const b2 = this.b2;\n        const a1 = this.a1;\n        const a2 = this.a2;\n        for (let k = 0; k < frequency.length; ++k) {\n            const omega = -Math.PI * 2 * frequency[k];\n            const zReal = Math.cos(omega);\n            const zImag = Math.sin(omega);\n            const numeratorReal = b0 + ((b1 + b2 * zReal) * zReal - b2 * zImag * zImag);\n            const numeratorImag = ((b1 + b2 * zReal) * zImag + b2 * zImag * zReal);\n            const denominatorReal = 1 + ((a1 + a2 * zReal) * zReal - a2 * zImag * zImag);\n            const denominatorImag = ((a1 + a2 * zReal) * zImag + a2 * zImag * zReal);\n            const denom = denominatorReal * denominatorReal + denominatorImag * denominatorImag;\n            const responseReal = (numeratorReal * denominatorReal + numeratorImag * denominatorImag) / denom;\n            const responseImag = (numeratorImag * denominatorReal - numeratorReal * denominatorImag) / denom;\n            magResponse[k] = Math.sqrt(responseReal * responseReal + responseImag * responseImag);\n            phaseResponse[k] = Math.atan2(responseImag, responseReal);\n        }\n    }\n}\n", "import { BiquadCoeff } from \"./biquad-coeff\";\nimport { Arrays, clampUnit } from \"@naomiarotest/lib-std\";\nexport class BiquadMono {\n    #x1 = 0.0;\n    #x2 = 0.0;\n    #y1 = 0.0;\n    #y2 = 0.0;\n    reset() {\n        this.#x1 = 0.0;\n        this.#x2 = 0.0;\n        this.#y1 = 0.0;\n        this.#y2 = 0.0;\n    }\n    process({ a1, a2, b0, b1, b2 }, source, target, fromIndex, toIndex) {\n        let x1 = this.#x1;\n        let x2 = this.#x2;\n        let y1 = this.#y1;\n        let y2 = this.#y2;\n        for (let i = fromIndex; i < toIndex; i++) {\n            const x = source[i];\n            const y = target[i] = (b0 * x + b1 * x1 + b2 * x2 - a1 * y1 - a2 * y2) + 1e-18 - 1e-18;\n            x2 = x1;\n            x1 = x;\n            y2 = y1;\n            y1 = y;\n        }\n        this.#x1 = x1;\n        this.#x2 = x2;\n        this.#y1 = y1;\n        this.#y2 = y2;\n    }\n    processFrame({ a1, a2, b0, b1, b2 }, x) {\n        const y = (b0 * x + b1 * this.#x1 + b2 * this.#x2 - a1 * this.#y1 - a2 * this.#y2) + 1e-18 - 1e-18;\n        this.#x2 = this.#x1;\n        this.#x1 = x;\n        this.#y2 = this.#y1;\n        this.#y1 = y;\n        return y;\n    }\n}\nexport class BiquadStack {\n    #stack;\n    #order;\n    constructor(maxOrder) {\n        this.#stack = Arrays.create(() => new BiquadMono(), maxOrder);\n        this.#order = this.#stack.length;\n    }\n    get order() { return this.#order; }\n    set order(value) {\n        if (this.#order === value) {\n            return;\n        }\n        this.#order = value;\n        this.reset();\n    }\n    reset() { this.#stack.forEach(processor => processor.reset()); }\n    process(coeff, source, target, fromIndex, toIndex) {\n        for (let i = 0; i < this.#order; i++) {\n            this.#stack[i].process(coeff, source, target, fromIndex, toIndex);\n            source = target;\n        }\n    }\n    processFrame(coeff, x) {\n        for (let i = 0; i < this.#order; i++) {\n            x = this.#stack[i].processFrame(coeff, x);\n        }\n        return x;\n    }\n}\nconst LUT_SIZE = 512;\nexport class ModulatedBiquad {\n    #freqLUT;\n    #coeff = new BiquadCoeff();\n    #filter;\n    #lastIdx = -1;\n    constructor(minFreq, maxFreq, sampleRate) {\n        this.#filter = new BiquadStack(4);\n        this.#freqLUT = new Float32Array(LUT_SIZE + 1);\n        const logRatio = Math.log(maxFreq / minFreq);\n        const invSampleRate = 1.0 / sampleRate;\n        for (let i = 0; i <= LUT_SIZE; i++) {\n            this.#freqLUT[i] = minFreq * Math.exp(i / LUT_SIZE * logRatio) * invSampleRate;\n        }\n    }\n    get order() { return this.#filter.order; }\n    set order(value) { this.#filter.order = value; }\n    reset() { this.#filter.reset(); }\n    process(input, output, cutoffs, q, fromIndex, toIndex) {\n        const freqLUT = this.#freqLUT;\n        const filter = this.#filter;\n        const coeff = this.#coeff;\n        const qReduced = q / (filter.order ** 1.25);\n        let from = fromIndex;\n        let lastIdx = this.#lastIdx;\n        while (from < toIndex) {\n            const idx = Math.floor(clampUnit(cutoffs[from]) * LUT_SIZE);\n            let to = from + 1;\n            while (to < toIndex && Math.floor(clampUnit(cutoffs[to]) * LUT_SIZE) === idx)\n                ++to;\n            if (idx !== lastIdx) {\n                lastIdx = idx;\n                coeff.setLowpassParams(freqLUT[idx], qReduced);\n            }\n            filter.process(coeff, input, output, from, to);\n            from = to;\n        }\n        this.#lastIdx = lastIdx;\n    }\n}\n", "const LogDb = Math.log(10.0) / 20.0;\nexport const midiToHz = (note = 60.0, baseFrequency = 440.0) => baseFrequency * Math.pow(2.0, (note + 3.0) / 12.0 - 6.0);\nexport const hzToMidi = (hz, baseFrequency = 440.0) => (12.0 * Math.log(hz / baseFrequency) + 69.0 * Math.LN2) / Math.LN2;\nexport const dbToGain = (db) => Math.exp(db * LogDb);\nexport const gainToDb = (gain) => Math.log(gain) / LogDb;\nexport const velocityToGain = (velocity) => dbToGain(20 * Math.log10(velocity));\nexport const barsToBpm = (bars, duration) => (bars * 240.0) / duration;\nexport const bpmToBars = (bpm, duration) => (bpm * duration) / 240.0;\nexport const estimateBpm = (duration, maxBpm = 180.0) => {\n    const bpm = barsToBpm(Math.pow(2.0, Math.floor(Math.log(bpmToBars(maxBpm, duration)) / Math.LN2)), duration);\n    return Math.round(bpm * 1000.0) / 1000.0;\n};\nexport const semitoneToHz = (semitones) => 440 * Math.pow(2.0, (semitones - 69.0) / 12.0);\nexport const hzToSemitone = (hz) => 69.0 + 12.0 * Math.log2(hz / 440.0);\n", "import { clamp, clampUnit, exponential } from \"@naomiarotest/lib-std\";\nimport { dbToGain } from \"./utils\";\nimport { BiquadCoeff } from \"./biquad-coeff\";\nimport { BiquadMono } from \"./biquad-processor\";\nimport { RenderQuantum } from \"./constants\";\nconst DEFAULT_RAMP_DURATION_SECONDS = 0.020;\nconst MIN_CUTOFF_FREQ = 1000.0;\nexport class Crusher {\n    #sampleRate;\n    #rampLength;\n    #filterCoeff;\n    #filters;\n    #filteredBuffer;\n    #heldSample;\n    #crushedSampleRate = NaN;\n    #targetCrushedSampleRate = NaN;\n    #delta = 0.0;\n    #remaining = 0;\n    #phase = 0.0;\n    #bitDepth = 8;\n    #boostDb = 0.0;\n    #mix = 1.0;\n    #processed = false;\n    constructor(sampleRate) {\n        this.#sampleRate = sampleRate;\n        this.#rampLength = Math.ceil(sampleRate * DEFAULT_RAMP_DURATION_SECONDS) | 0;\n        this.#filterCoeff = new BiquadCoeff();\n        this.#filterCoeff.setLowpassParams(0.5); // nyquist\n        this.#filters = [new BiquadMono(), new BiquadMono()];\n        this.#filteredBuffer = [new Float32Array(RenderQuantum), new Float32Array(RenderQuantum)];\n        this.#heldSample = new Float32Array(2);\n    }\n    process(input, output, from, to) {\n        const [inpL, inpR] = input;\n        const [outL, outR] = output;\n        const [fltL, fltR] = this.#filteredBuffer;\n        this.#filters[0].process(this.#filterCoeff, inpL, fltL, from, to);\n        this.#filters[1].process(this.#filterCoeff, inpR, fltR, from, to);\n        const preGain = dbToGain(this.#boostDb);\n        const postGain = dbToGain(-this.#boostDb / 2.0); // half is more balanced for some reason\n        const crushRatio = this.#sampleRate / this.#crushedSampleRate;\n        const steps = Math.pow(2.0, this.#bitDepth) - 1.0;\n        const stepInv = 1.0 / steps;\n        for (let i = from; i < to; i++) {\n            if (this.#remaining > 0) {\n                this.#crushedSampleRate += this.#delta;\n                if (0 === --this.#remaining) {\n                    this.#delta = 0.0;\n                    this.#crushedSampleRate = this.#targetCrushedSampleRate;\n                }\n                this.#filterCoeff.setLowpassParams(Math.max(this.#crushedSampleRate, MIN_CUTOFF_FREQ) / this.#sampleRate);\n            }\n            this.#phase += 1.0;\n            if (this.#phase >= crushRatio) {\n                this.#phase -= crushRatio;\n                this.#heldSample[0] = clamp(Math.round(fltL[i] * preGain * steps) * stepInv, -1.0, 1.0);\n                this.#heldSample[1] = clamp(Math.round(fltR[i] * preGain * steps) * stepInv, -1.0, 1.0);\n            }\n            outL[i] = (inpL[i] * (1.0 - this.#mix) + this.#heldSample[0] * this.#mix) * postGain;\n            outR[i] = (inpR[i] * (1.0 - this.#mix) + this.#heldSample[1] * this.#mix) * postGain;\n        }\n        this.#processed = true;\n    }\n    setCrush(value) {\n        const target = exponential(20.0, this.#sampleRate * 0.5, value); // max: nyquist\n        if (this.#processed && isFinite(this.#crushedSampleRate)) {\n            this.#targetCrushedSampleRate = target;\n            this.#delta = (target - this.#crushedSampleRate) / this.#rampLength;\n            this.#remaining = this.#rampLength;\n        }\n        else {\n            this.#crushedSampleRate = target;\n            this.#filterCoeff.setLowpassParams(Math.max(this.#crushedSampleRate, MIN_CUTOFF_FREQ) / this.#sampleRate);\n        }\n    }\n    setBitDepth(bits) { this.#bitDepth = clamp(bits, 1, 16); }\n    setBoost(db) { this.#boostDb = db; }\n    setMix(mix) { this.#mix = clampUnit(mix); }\n    reset() {\n        this.#processed = false;\n        this.#targetCrushedSampleRate = NaN;\n        this.#delta = 0.0;\n        this.#remaining = 0;\n        this.#phase = 0.0;\n        this.#heldSample.fill(0.0);\n        this.#filters[0].reset();\n        this.#filters[1].reset();\n    }\n}\n", "import { Arrays } from \"@naomiarotest/lib-std\";\nexport var Chord;\n(function (Chord) {\n    Chord.Major = [0, 2, 4, 5, 7, 9, 11];\n    Chord.Minor = [0, 2, 3, 5, 7, 8, 10];\n    Chord.Minor7 = [0, 3, 7, 10];\n    Chord.Minor9 = [0, 3, 7, 10, 14];\n    Chord.Dominant7 = [0, 2, 4, 5, 7, 9, 10];\n    Chord.NoteLabels = [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"];\n    Chord.compile = (scale, root, variation, n) => Arrays.create(index => {\n        const step = variation + index * 2;\n        const interval = scale[step % 7] + Math.floor(step / 7) * 12;\n        return root + interval;\n    }, n);\n    Chord.toString = (midiNote) => Chord.NoteLabels[midiNote % 12] + (Math.floor(midiNote / 12) - 2);\n})(Chord || (Chord = {}));\n", "import { linear } from \"@naomiarotest/lib-std\";\nexport class TidalComputer {\n    static #SLOPE_MULT = 10.0;\n    #depth = 1.0;\n    #slope = 0.0;\n    #symmetry = 0.0;\n    #pEx = 0.0;\n    #invS0 = 0.0;\n    #invS1 = 0.0;\n    set(depth, slope, symmetry) {\n        this.#depth = depth;\n        this.#slope = slope * TidalComputer.#SLOPE_MULT;\n        this.#symmetry = linear(1e-5, 1.0 - 1e-5, symmetry);\n        this.#pEx = 2.0 ** Math.abs(this.#slope);\n        this.#invS0 = 1.0 / this.#symmetry;\n        this.#invS1 = 1.0 / (1.0 - this.#symmetry);\n    }\n    compute(input) {\n        const p = input - Math.floor(input);\n        let x;\n        let sym;\n        let invS0;\n        let invS1;\n        if (this.#slope < 0.0) {\n            x = 1.0 - p;\n            sym = 1.0 - this.#symmetry;\n            invS0 = this.#invS1;\n            invS1 = this.#invS0;\n        }\n        else {\n            x = p;\n            sym = this.#symmetry;\n            invS0 = this.#invS0;\n            invS1 = this.#invS1;\n        }\n        if (x <= sym) {\n            return 1.0 - ((1.0 - x * invS0) ** this.#pEx) * this.#depth;\n        }\n        else {\n            return (((1.0 - x) * invS1) ** this.#pEx) * this.#depth - this.#depth + 1.0;\n        }\n    }\n}\n", "import { Arrays, BinarySearch, Generators, Integer, isDefined, mod, NumberComparator, Option, Predicates } from \"@naomiarotest/lib-std\";\nexport var Event;\n(function (Event) {\n    Event.Comparator = (a, b) => a.position - b.position;\n    Event.PositionExtractor = (event) => event.position;\n})(Event || (Event = {}));\nexport var EventSpan;\n(function (EventSpan) {\n    EventSpan.complete = (event) => event.position + event.duration;\n    EventSpan.DescendingComparator = (a, b) => EventSpan.complete(b) - EventSpan.complete(a);\n})(EventSpan || (EventSpan = {}));\n// https://www.desmos.com/calculator/xz4tl5a9o9\nexport var LoopableRegion;\n(function (LoopableRegion) {\n    LoopableRegion.globalToLocal = (region, ppqn) => mod(ppqn - region.position + region.loopOffset, region.loopDuration);\n    // This locates the first loop iteration and returns a LoopPass, if the loop overlaps the passed range\n    // It is probably only used in region editors to render the region's content with the same renderer.\n    LoopableRegion.locateLoop = ({ position, complete, loopOffset, loopDuration }, from, to) => {\n        const rawStart = position - loopOffset;\n        const rawEnd = rawStart + loopDuration;\n        if (rawStart >= to || rawEnd <= from) {\n            return Option.None;\n        } // no overlap\n        const resultStart = Math.max(rawStart, from);\n        const resultEnd = Math.min(rawEnd, to);\n        return Option.wrap({\n            index: 0,\n            rawStart,\n            rawEnd,\n            regionStart: Math.max(rawStart, position),\n            regionEnd: Math.min(rawEnd, complete),\n            resultStart,\n            resultEnd,\n            resultStartValue: rawStart < resultStart ? (resultStart - rawStart) / loopDuration : 0.0,\n            resultEndValue: rawEnd > resultEnd ? (resultEnd - rawStart) / loopDuration : 1.0\n        });\n    };\n    // This locates all loop passes within a given range.\n    // This is used for region rendering but can also be used for sequencing region's content.\n    function* locateLoops({ position, complete, loopOffset, loopDuration }, from, to) {\n        const offset = position - loopOffset;\n        const seekMin = Math.max(position, from);\n        const seekMax = Math.min(complete, to);\n        let passIndex = Math.floor((seekMin - offset) / loopDuration);\n        let rawStart = offset + passIndex * loopDuration;\n        while (rawStart < seekMax) {\n            const rawEnd = rawStart + loopDuration;\n            const regionStart = Math.max(rawStart, position);\n            const regionEnd = Math.min(rawEnd, complete);\n            const resultStart = Math.max(rawStart, seekMin);\n            const resultEnd = Math.min(rawEnd, seekMax);\n            const resultStartValue = rawStart < resultStart ? (resultStart - rawStart) / loopDuration : 0.0;\n            const resultEndValue = rawEnd > resultEnd ? (resultEnd - rawStart) / loopDuration : 1.0;\n            yield {\n                index: passIndex++,\n                rawStart,\n                rawEnd,\n                regionStart,\n                regionEnd,\n                resultStart,\n                resultEnd,\n                resultStartValue,\n                resultEndValue\n            };\n            rawStart = rawEnd;\n        }\n    }\n    LoopableRegion.locateLoops = locateLoops;\n})(LoopableRegion || (LoopableRegion = {}));\nexport class EventCollection {\n    static DefaultComparator = (a, b) => a.position - b.position;\n    static create(comparator) {\n        return new EventCollection(comparator ?? EventCollection.DefaultComparator);\n    }\n    #array;\n    constructor(comparator) { this.#array = new EventArrayImpl(comparator); }\n    add(event) { this.#array.add(event); }\n    remove(event) { return this.#array.remove(event); }\n    contains(event) { return this.#array.contains(event); }\n    clear() { this.#array.clear(); }\n    optAt(index) { return this.#array.optAt(index); }\n    asArray() { return this.#array.asArray(); }\n    lowerEqual(position, predicate) {\n        return this.#array.lowerEqual(position, predicate);\n    }\n    greaterEqual(position, predicate) {\n        return this.#array.greaterEqual(position, predicate);\n    }\n    floorLastIndex(position) { return this.#array.floorLastIndex(position); }\n    ceilFirstIndex(position) { return this.#array.ceilFirstIndex(position); }\n    iterateFrom(fromPosition, predicate) {\n        if (this.#array.isEmpty()) {\n            return Generators.empty();\n        }\n        return this.#array.iterateFrom(fromPosition, predicate);\n    }\n    iterateRange(fromPosition, toPosition, predicate) {\n        if (this.#array.isEmpty()) {\n            return Generators.empty();\n        }\n        return this.#array.iterate(this.#array.ceilFirstIndex(fromPosition), toPosition, predicate);\n    }\n    length() { return this.#array.length(); }\n    isEmpty() { return this.#array.isEmpty(); }\n    onIndexingChanged() { this.#array.onIndexingChanged(); }\n}\nexport class RegionCollection {\n    static Comparator = (a, b) => a.position - b.position;\n    static create(comparator) {\n        return new RegionCollection(comparator);\n    }\n    #array;\n    constructor(comparator = RegionCollection.Comparator) {\n        this.#array = new EventArrayImpl(comparator);\n    }\n    add(event) { this.#array.add(event); }\n    remove(event) { return this.#array.remove(event); }\n    contains(event) { return this.#array.contains(event); }\n    clear() { this.#array.clear(); }\n    optAt(index) { return this.#array.optAt(index); }\n    asArray() { return this.#array.asArray(); }\n    lowerEqual(position, predicate) {\n        return this.#array.lowerEqual(position, predicate);\n    }\n    greaterEqual(position, predicate) {\n        return this.#array.greaterEqual(position, predicate);\n    }\n    floorLastIndex(position) { return this.#array.floorLastIndex(position); }\n    ceilFirstIndex(position) { return this.#array.ceilFirstIndex(position); }\n    iterateFrom(fromPosition, predicate) {\n        return this.#array.isEmpty() ? Generators.empty() : this.#array.iterateFrom(fromPosition, predicate);\n    }\n    iterateRange(fromPosition, toPosition) {\n        if (this.#array.isEmpty()) {\n            return Generators.empty();\n        }\n        let index = Math.max(0, this.#array.floorLastIndex(fromPosition));\n        let period = this.#array.optAt(index);\n        if (period === null) {\n            return Generators.empty();\n        }\n        while (period.position + period.duration <= fromPosition) {\n            period = this.#array.optAt(++index);\n            if (period === null || period.position >= toPosition) {\n                return Generators.empty();\n            }\n        }\n        return this.#array.iterate(index, toPosition);\n    }\n    length() { return this.#array.length(); }\n    isEmpty() { return this.#array.isEmpty(); }\n    onIndexingChanged() { this.#array.onIndexingChanged(); }\n}\nexport class EventSpanRetainer {\n    #array;\n    constructor() { this.#array = []; }\n    addAndRetain(event) {\n        if (this.#array.length === 0) {\n            this.#array.push(event);\n        }\n        else {\n            const insertIndex = BinarySearch.leftMost(this.#array, event, EventSpan.DescendingComparator);\n            this.#array.splice(insertIndex, 0, event);\n        }\n    }\n    *overlapping(position, comparator) {\n        const result = this.#array.filter(event => event.position <= position && position < event.position + event.duration);\n        yield* isDefined(comparator) ? result.sort(comparator) : result;\n    }\n    *releaseLinearCompleted(position) {\n        if (this.#array.length === 0) {\n            return;\n        }\n        for (let lastIndex = this.#array.length - 1; lastIndex >= 0; lastIndex--) {\n            const event = this.#array[lastIndex];\n            if (EventSpan.complete(event) < position) {\n                this.#array.splice(lastIndex, 1);\n                yield event;\n            }\n            else {\n                return;\n            }\n        }\n    }\n    *releaseAll() {\n        if (this.#array.length === 0) {\n            return;\n        }\n        for (let lastIndex = this.#array.length - 1; lastIndex >= 0; lastIndex--) {\n            const event = this.#array[lastIndex];\n            if (Number.POSITIVE_INFINITY > event.duration) {\n                this.#array.splice(lastIndex, 1);\n                yield event;\n            }\n        }\n    }\n    isEmpty() { return this.#array.length === 0; }\n    nonEmpty() { return this.#array.length > 0; }\n    clear() { Arrays.clear(this.#array); }\n}\nclass EventArrayImpl {\n    comparator;\n    #array = [];\n    #unsorted = false;\n    modCount = 0;\n    constructor(comparator) {\n        this.comparator = comparator;\n    }\n    add(event) {\n        ++this.modCount;\n        this.#array.push(event);\n        if (this.#array.length > 1) {\n            this.#unsorted = true;\n        }\n    }\n    remove(event) {\n        ++this.modCount;\n        const index = this.#array.indexOf(event);\n        if (-1 === index) {\n            return false;\n        }\n        this.#array.splice(index, 1);\n        return true;\n    }\n    contains(event) {\n        const size = this.#array.length;\n        if (size === 0) {\n            return false;\n        }\n        if (this.#unsorted) {\n            this.#sort();\n        }\n        const key = event.position;\n        const startIndex = BinarySearch.leftMostMapped(this.#array, key, NumberComparator, Event.PositionExtractor);\n        for (let i = startIndex; i < this.#array.length; i++) {\n            const other = this.#array[i];\n            if (other === event) {\n                return true;\n            }\n            if (other.position !== key) {\n                return false;\n            }\n        }\n        return false;\n    }\n    clear() {\n        ++this.modCount;\n        Arrays.clear(this.#array);\n        this.#unsorted = false;\n    }\n    optAt(index) {\n        if (index < 0 || index >= this.#array.length) {\n            return null;\n        }\n        if (this.#unsorted) {\n            this.#sort();\n        }\n        return this.#array[index];\n    }\n    asArray() {\n        if (this.#unsorted) {\n            this.#sort();\n        }\n        return this.#array;\n    }\n    lowerEqual(position, predicate) {\n        if (predicate === undefined) {\n            return this.optAt(this.floorLastIndex(position));\n        }\n        let index = this.floorLastIndex(position);\n        while (index >= 0) {\n            const event = this.#array[index--];\n            if (predicate(event)) {\n                return event;\n            }\n        }\n        return null;\n    }\n    greaterEqual(position, predicate) {\n        if (predicate === undefined) {\n            return this.optAt(this.ceilFirstIndex(position));\n        }\n        let index = this.ceilFirstIndex(position);\n        while (index < this.#array.length) {\n            const event = this.#array[index++];\n            if (predicate(event)) {\n                return event;\n            }\n        }\n        return null;\n    }\n    floorLastIndex(position) {\n        if (this.#unsorted) {\n            this.#sort();\n        }\n        return BinarySearch.rightMostMapped(this.#array, position, NumberComparator, Event.PositionExtractor);\n    }\n    ceilFirstIndex(position) {\n        if (this.#unsorted) {\n            this.#sort();\n        }\n        return BinarySearch.leftMostMapped(this.#array, position, NumberComparator, Event.PositionExtractor);\n    }\n    iterateFrom(fromPosition, predicate) {\n        const floorLastIndex = this.floorLastIndex(fromPosition);\n        let startIndex = floorLastIndex;\n        if (startIndex < 0) {\n            return this.iterate(0, Integer.MAX_VALUE, predicate);\n        }\n        while (startIndex >= 0) {\n            const event = this.optAt(startIndex);\n            if (event !== null && predicate !== undefined && predicate(event)) {\n                return this.iterate(startIndex, Integer.MAX_VALUE, predicate);\n            }\n            startIndex--;\n        }\n        return this.iterate(floorLastIndex, Integer.MAX_VALUE, predicate);\n    }\n    length() { return this.#array.length; }\n    isEmpty() { return this.#array.length === 0; }\n    onIndexingChanged() { this.#unsorted = this.length() > 1; }\n    *iterate(fromIndex, toPosition, predicate = Predicates.alwaysTrue) {\n        if (this.#unsorted) {\n            this.#sort();\n        }\n        while (fromIndex < this.#array.length) {\n            const element = this.#array[fromIndex++];\n            if (element.position >= toPosition) {\n                return;\n            }\n            if (predicate(element)) {\n                yield element;\n            }\n        }\n    }\n    #sort() {\n        this.#array.sort(this.comparator);\n        this.#unsorted = false;\n    }\n}\n", "export class FFT {\n    static reverse(i) {\n        i = (i & 0x55555555) << 1 | (i >>> 1) & 0x55555555;\n        i = (i & 0x33333333) << 2 | (i >>> 2) & 0x33333333;\n        i = (i & 0x0f0f0f0f) << 4 | (i >>> 4) & 0x0f0f0f0f;\n        i = (i << 24) | ((i & 0xff00) << 8) | ((i >>> 8) & 0xff00) | (i >>> 24);\n        return i;\n    }\n    ;\n    #n;\n    #levels;\n    #cosTable;\n    #sinTable;\n    constructor(n) {\n        this.#n = n;\n        const halfN = n / 2;\n        this.#levels = (32 - Math.floor(Math.log2(n))) | 0;\n        this.#cosTable = new Float32Array(halfN);\n        this.#sinTable = new Float32Array(halfN);\n        for (let i = 0; i < halfN; i++) {\n            const angle = 2.0 * Math.PI * i / n;\n            this.#cosTable[i] = Math.cos(angle);\n            this.#sinTable[i] = Math.sin(angle);\n        }\n    }\n    process(real, imag) {\n        let i, j, k, temp;\n        for (let i = 0 | 0; i < this.#n; ++i) {\n            j = FFT.reverse(i) >>> this.#levels;\n            if (j > i) {\n                temp = real[i];\n                real[i] = real[j];\n                real[j] = temp;\n                temp = imag[i];\n                imag[i] = imag[j];\n                imag[j] = temp;\n            }\n        }\n        const cosTable = this.#cosTable;\n        const sinTable = this.#sinTable;\n        for (let size = 2 | 0; size <= this.#n; size <<= 1) {\n            const hs = size >> 1;\n            const ts = this.#n / size;\n            for (i = 0 | 0; i < this.#n; i += size) {\n                const m = i + hs;\n                for (j = i, k = 0; j < m; j++, k = (k + ts) | 0) {\n                    const idx = (j + hs) | 0;\n                    const cos = cosTable[k];\n                    const sin = sinTable[k];\n                    const reali = real[idx];\n                    const imagi = imag[idx];\n                    const pre = reali * cos + imagi * sin;\n                    const pim = imagi * cos - reali * sin;\n                    const real2 = real[j];\n                    const imag2 = imag[j];\n                    real[idx] = real2 - pre;\n                    imag[idx] = imag2 - pim;\n                    real[j] = real2 + pre;\n                    imag[j] = imag2 + pim;\n                }\n            }\n            if (size === this.#n) {\n                break;\n            }\n        }\n    }\n}\n", "export const wavefold = (input) => {\n    const scaled = 0.25 * input + 0.25;\n    return 4.0 * (Math.abs(scaled - Math.round(scaled)) - 0.25);\n};\n", "// Pulses per quarter note (PPQN)\n// 960 = 3*5*2^6\nconst Quarter = 960;\nconst Bar = Quarter << 2; // 3_840\nconst SemiQuaver = Quarter >>> 2; // 240\nconst fromSignature = (nominator, denominator) => Math.floor(Bar / denominator) * nominator;\nconst toParts = (ppqn, nominator = 4, denominator = 4) => {\n    const lowerPulses = fromSignature(1, denominator);\n    const beats = Math.floor(ppqn / lowerPulses);\n    const bars = Math.floor(beats / nominator);\n    const remainingPulses = Math.floor(ppqn) - fromSignature(bars * nominator, denominator);\n    const ticks = remainingPulses % lowerPulses;\n    const semiquavers = Math.floor(ticks / SemiQuaver);\n    const remainingTicks = ticks % SemiQuaver;\n    return {\n        bars,\n        beats: beats - bars * nominator,\n        semiquavers,\n        ticks: remainingTicks\n    };\n};\nconst secondsToPulses = (seconds, bpm) => seconds * bpm / 60.0 * Quarter;\nconst pulsesToSeconds = (pulses, bpm) => (pulses * 60.0 / Quarter) / bpm;\nconst secondsToBpm = (seconds, pulses) => (pulses * 60.0 / Quarter) / seconds;\nconst samplesToPulses = (samples, bpm, sampleRate) => secondsToPulses(samples / sampleRate, bpm);\nconst pulsesToSamples = (pulses, bpm, sampleRate) => pulsesToSeconds(pulses, bpm) * sampleRate;\nexport const PPQN = {\n    Bar,\n    Quarter,\n    SemiQuaver,\n    fromSignature,\n    toParts,\n    secondsToPulses,\n    pulsesToSeconds,\n    secondsToBpm,\n    samplesToPulses,\n    pulsesToSamples,\n    toString: (pulses, nominator = 4, denominator = 4) => {\n        const { bars, beats, semiquavers, ticks } = toParts(pulses | 0, nominator, denominator);\n        return `${bars + 1}.${beats + 1}.${semiquavers + 1}:${ticks}`;\n    }\n};\n", "import { PPQN } from \"./ppqn\";\nexport var Fraction;\n(function (Fraction) {\n    Fraction.builder = () => new Builder();\n    Fraction.toDouble = ([n, d]) => n / d;\n    Fraction.toPPQN = ([n, d]) => PPQN.fromSignature(n, d);\n    class Builder {\n        #list = [];\n        add(fraction) {\n            this.#list.push(fraction);\n            return this;\n        }\n        asArray() { return this.#list; }\n        asAscendingArray() { return this.#list.toSorted((a, b) => Fraction.toDouble(a) - Fraction.toDouble(b)); }\n        asDescendingArray() { return this.#list.toSorted((a, b) => Fraction.toDouble(b) - Fraction.toDouble(a)); }\n    }\n})(Fraction || (Fraction = {}));\n", "export class Fragmentor {\n    static *iterate(p0, p1, stepSize) {\n        let index = Math.ceil(p0 / stepSize);\n        let position = index * stepSize;\n        while (position < p1) {\n            yield position;\n            position = ++index * stepSize;\n        }\n    }\n    static *iterateWithIndex(p0, p1, stepSize) {\n        let index = Math.ceil(p0 / stepSize);\n        let position = index * stepSize;\n        while (position < p1) {\n            yield { position, index };\n            position = ++index * stepSize;\n        }\n    }\n}\n", "import { PPQN } from \"./ppqn\";\nexport class Glide {\n    #beginFrequency = 0.0;\n    #currentFrequency = NaN;\n    #targetFrequency = NaN;\n    #glidePosition = 0.0;\n    #glideDuration = 0.0;\n    constructor() { }\n    reset() {\n        this.#beginFrequency = 0.0;\n        this.#currentFrequency = NaN;\n        this.#targetFrequency = NaN;\n        this.#glidePosition = 0.0;\n        this.#glideDuration = 0.0;\n    }\n    init(frequency) {\n        this.#beginFrequency = frequency;\n        if (isNaN(this.#currentFrequency)) {\n            this.#currentFrequency = this.#beginFrequency;\n        }\n    }\n    currentFrequency() { return this.#currentFrequency; }\n    glideTo(targetFrequency, glideDuration) {\n        if (glideDuration === 0.0) {\n            this.#beginFrequency = targetFrequency;\n            return;\n        }\n        this.#beginFrequency = this.#currentFrequency;\n        this.#targetFrequency = targetFrequency;\n        this.#glidePosition = 0.0;\n        this.#glideDuration = glideDuration;\n    }\n    process(freqBuffer, bpm, fromIndex, toIndex) {\n        if (isNaN(this.#targetFrequency)) {\n            for (let i = fromIndex; i < toIndex; i++) {\n                freqBuffer[i] *= this.#beginFrequency;\n            }\n            this.#currentFrequency = this.#beginFrequency;\n        }\n        else {\n            const ppqnPerSample = PPQN.samplesToPulses(1, bpm, sampleRate);\n            for (let i = fromIndex; i < toIndex; i++) {\n                this.#glidePosition += ppqnPerSample / this.#glideDuration;\n                if (this.#glidePosition >= 1.0) {\n                    this.#glidePosition = 1.0;\n                    this.#beginFrequency = this.#targetFrequency;\n                    this.#targetFrequency = NaN;\n                    for (let j = i; j < toIndex; j++) {\n                        freqBuffer[j] *= this.#beginFrequency;\n                    }\n                    break;\n                }\n                freqBuffer[i] *= this.#currentFrequency =\n                    this.#beginFrequency + (this.#targetFrequency - this.#beginFrequency) * this.#glidePosition;\n            }\n        }\n    }\n    advance(bpm, fromIndex, toIndex) {\n        if (isNaN(this.#targetFrequency)) {\n            this.#currentFrequency = this.#beginFrequency;\n        }\n        else {\n            const ppqnDelta = PPQN.samplesToPulses(toIndex - fromIndex, bpm, sampleRate);\n            this.#glidePosition += ppqnDelta / this.#glideDuration;\n            if (this.#glidePosition >= 1.0) {\n                this.#glidePosition = 1.0;\n                this.#beginFrequency = this.#currentFrequency = this.#targetFrequency;\n                this.#targetFrequency = NaN;\n            }\n            else {\n                this.#currentFrequency =\n                    this.#beginFrequency + (this.#targetFrequency - this.#beginFrequency) * this.#glidePosition;\n            }\n        }\n    }\n}\n", "import { Arrays, asDefined, assert } from \"@naomiarotest/lib-std\";\nexport class Graph {\n    #vertices;\n    #predecessors;\n    constructor() {\n        this.#vertices = [];\n        this.#predecessors = new Map();\n    }\n    addVertex(vertex) {\n        assert(!this.#vertices.includes(vertex), \"Vertex already exists\");\n        this.#vertices.push(vertex);\n        assert(!this.#predecessors.has(vertex), \"Predecessor already exists\");\n        this.#predecessors.set(vertex, []);\n    }\n    removeVertex(vertex) {\n        Arrays.remove(this.#vertices, vertex);\n        const found = this.#predecessors.delete(vertex);\n        assert(found, \"Predecessor does not exists\");\n    }\n    getPredecessors(vertex) { return this.#predecessors.get(vertex) ?? Arrays.empty(); }\n    predecessors() { return this.#predecessors; }\n    vertices() { return this.#vertices; }\n    addEdge([source, target]) {\n        const vertexPredecessors = asDefined(this.#predecessors.get(target), `[add] Edge has unannounced vertex. (${target})`);\n        assert(!vertexPredecessors.includes(source), `${source} is already marked.`);\n        vertexPredecessors.push(source);\n    }\n    removeEdge([source, target]) {\n        const vertexPredecessors = asDefined(this.#predecessors.get(target), `[remove] Edge has unannounced vertex. (${target})`);\n        assert(vertexPredecessors.includes(source), `${source} is not marked.`);\n        Arrays.remove(vertexPredecessors, source);\n    }\n    isEmpty() { return this.#vertices.length === 0; }\n}\nexport class TopologicalSort {\n    #graph;\n    #sorted;\n    #visited;\n    #withLoops;\n    #successors;\n    constructor(graph) {\n        this.#graph = graph;\n        this.#sorted = [];\n        this.#visited = new Set();\n        this.#withLoops = new Set();\n        this.#successors = new Map();\n    }\n    update() {\n        this.#prepare();\n        this.#graph.vertices().forEach(vertex => this.#visit(vertex));\n    }\n    sorted() { return this.#sorted; }\n    hasLoops() { return this.#withLoops.size !== 0; }\n    #prepare() {\n        this.#clear();\n        const addTo = new Map();\n        for (const vert of this.#graph.vertices()) {\n            this.#successors.set(vert, new Set());\n            addTo.set(vert, new Set());\n        }\n        for (const vert2 of this.#graph.vertices()) {\n            for (const vert1 of this.#graph.getPredecessors(vert2)) {\n                asDefined(this.#successors.get(vert1), `Could not find Successor for ${vert1}`).add(vert2);\n            }\n        }\n        let change;\n        do {\n            change = false;\n            for (const vert of this.#graph.vertices()) {\n                asDefined(addTo.get(vert)).clear();\n                for (const vert1 of asDefined(this.#successors.get(vert))) {\n                    for (const vert2 of asDefined(this.#successors.get(vert1))) {\n                        if (!this.#successors.get(vert)?.has(vert2)) {\n                            change = true;\n                            asDefined(addTo.get(vert)).add(vert2);\n                        }\n                    }\n                }\n            }\n            for (const vert of this.#graph.vertices()) {\n                const vs = asDefined(this.#successors.get(vert));\n                asDefined(addTo.get(vert)).forEach(n1 => vs.add(n1));\n            }\n        } while (change);\n    }\n    #visit(vert) {\n        if (this.#visited.has(vert)) {\n            return;\n        }\n        this.#visited.add(vert);\n        for (const n1 of this.#graph.getPredecessors(vert)) {\n            if (asDefined(this.#successors.get(vert)).has(n1)) {\n                this.#withLoops.add(vert);\n                this.#withLoops.add(n1);\n                continue;\n            }\n            this.#visit(n1);\n        }\n        this.#sorted.push(vert);\n    }\n    #clear() {\n        Arrays.clear(this.#sorted);\n        this.#visited.clear();\n        this.#withLoops.clear();\n        this.#successors.clear();\n    }\n}\n", "import { assert, BinarySearch, NumberComparator, quantizeFloor } from \"@naomiarotest/lib-std\";\nexport var Groove;\n(function (Groove) {\n    Groove.Identity = {\n        warp: (position) => position,\n        unwarp: (position) => position\n    };\n})(Groove || (Groove = {}));\nexport class GroovePattern {\n    #func;\n    constructor(func) { this.#func = func; }\n    warp(position) { return this.#transform(true, position); }\n    unwarp(position) { return this.#transform(false, position); }\n    #transform(forward, position) {\n        const duration = this.#func.duration();\n        const start = quantizeFloor(position, duration);\n        const normalized = (position - start) / duration;\n        const transformed = forward ? this.#func.fx(normalized) : this.#func.fy(normalized);\n        return start + transformed * duration;\n    }\n}\nexport class QuantisedGrooveFunction {\n    #values;\n    constructor(values) {\n        assert(values.length >= 2, \"Must have at least two values [0, 1]\");\n        assert(values[0] === 0.0, \"First entry must be zero\");\n        assert(values[values.length - 1] === 1.0, \"Last entry must be one\");\n        this.#values = values;\n    }\n    fx(x) {\n        if (x <= 0.0) {\n            return 0.0;\n        }\n        if (x >= 1.0) {\n            return 1.0;\n        }\n        const idxFloat = x * (this.#values.length - 1);\n        const idxInteger = idxFloat | 0;\n        const valueFloor = this.#values[idxInteger];\n        const alpha = idxFloat - idxInteger;\n        return valueFloor + alpha * (this.#values[idxInteger + 1] - valueFloor);\n    }\n    fy(y) {\n        if (y <= 0.0) {\n            return 0.0;\n        }\n        if (y >= 1.0) {\n            return 1.0;\n        }\n        const index = BinarySearch.rightMost(this.#values, y, NumberComparator);\n        const curr = this.#values[index];\n        const next = this.#values[index + 1];\n        const alpha = (y - curr) / (next - curr);\n        return (index + alpha) / (this.#values.length - 1);\n    }\n}\nexport class GrooveChain {\n    #grooves;\n    constructor(grooves) { this.#grooves = grooves; }\n    warp(position) {\n        for (let i = 0; i < this.#grooves.length; i++) {\n            position = this.#grooves[i].warp(position);\n        }\n        return position;\n    }\n    unwarp(position) {\n        for (let i = this.#grooves.length - 1; i >= 0; i--) {\n            position = this.#grooves[i].unwarp(position);\n        }\n        return position;\n    }\n}\n", "export var ClassicWaveform;\n(function (ClassicWaveform) {\n    ClassicWaveform[ClassicWaveform[\"sine\"] = 0] = \"sine\";\n    ClassicWaveform[ClassicWaveform[\"triangle\"] = 1] = \"triangle\";\n    ClassicWaveform[ClassicWaveform[\"saw\"] = 2] = \"saw\";\n    ClassicWaveform[ClassicWaveform[\"square\"] = 3] = \"square\";\n})(ClassicWaveform || (ClassicWaveform = {}));\n", "import { ClassicWaveform } from \"./classic-waveform\";\nexport class LFO {\n    sampleRate;\n    #phase = 0.0;\n    constructor(sampleRate) {\n        this.sampleRate = sampleRate;\n    }\n    fill(buffer, shape, frequency, fromIndex, toIndex) {\n        const phaseInc = frequency / this.sampleRate;\n        switch (shape) {\n            case ClassicWaveform.sine: {\n                for (let i = fromIndex; i < toIndex; i++) {\n                    buffer[i] = Math.sin(this.#phase * Math.PI * 2.0);\n                    this.#phase += phaseInc;\n                    if (this.#phase >= 1.0) {\n                        this.#phase -= 1.0;\n                    }\n                }\n                break;\n            }\n            case ClassicWaveform.triangle: {\n                for (let i = fromIndex; i < toIndex; i++) {\n                    const phase = this.#phase % 1.0;\n                    buffer[i] = 4.0 * Math.abs(phase - 0.5) - 1.0;\n                    this.#phase += phaseInc;\n                    if (this.#phase >= 1.0) {\n                        this.#phase -= 1.0;\n                    }\n                }\n                break;\n            }\n            case ClassicWaveform.saw: {\n                for (let i = fromIndex; i < toIndex; i++) {\n                    const phase = this.#phase % 1.0;\n                    buffer[i] = 2.0 * phase - 1.0;\n                    this.#phase += phaseInc;\n                    if (this.#phase >= 1.0) {\n                        this.#phase -= 1.0;\n                    }\n                }\n                break;\n            }\n            case ClassicWaveform.square: {\n                for (let i = fromIndex; i < toIndex; i++) {\n                    const phase = this.#phase % 1.0;\n                    buffer[i] = phase < 0.5 ? 1.0 : -1.0;\n                    this.#phase += phaseInc;\n                    if (this.#phase >= 1.0) {\n                        this.#phase -= 1.0;\n                    }\n                }\n                break;\n            }\n        }\n    }\n    reset() {\n        this.#phase = 0.0;\n    }\n}\n", "export var Mixing;\n(function (Mixing) {\n    Mixing[Mixing[\"Linear\"] = 0] = \"Linear\";\n    Mixing[Mixing[\"EqualPower\"] = 1] = \"EqualPower\";\n})(Mixing || (Mixing = {}));\n", "import { clampUnit } from \"@naomiarotest/lib-std\";\nexport var MidiKeys;\n(function (MidiKeys) {\n    MidiKeys.BlackKeyIndices = [1, 3, 6, 8, 10];\n    MidiKeys.BlackKeyBits = MidiKeys.BlackKeyIndices.reduce((bits, keyIndex) => (bits |= 1 << keyIndex), 0);\n    MidiKeys.Names = {\n        English: [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"],\n        German: [\"C\", \"Cis\", \"D\", \"Dis\", \"E\", \"F\", \"Fis\", \"G\", \"Gis\", \"A\", \"Ais\", \"H\"],\n        Solfege: [\"Do\", \"Do#\", \"R\u00E9\", \"R\u00E9#\", \"Mi\", \"Fa\", \"Fa#\", \"Sol\", \"Sol#\", \"La\", \"La#\", \"Si\"],\n        French: [\"Do\", \"Do#\", \"R\u00E9\", \"R\u00E9#\", \"Mi\", \"Fa\", \"Fa#\", \"Sol\", \"Sol#\", \"La\", \"La#\", \"Si\"],\n        Spanish: [\"Do\", \"Do#\", \"Re\", \"Re#\", \"Mi\", \"Fa\", \"Fa#\", \"Sol\", \"Sol#\", \"La\", \"La#\", \"Si\"],\n        Japanese: [\"\u30C9\", \"\u30C9\u266F\", \"\u30EC\", \"\u30EC\u266F\", \"\u30DF\", \"\u30D5\u30A1\", \"\u30D5\u30A1\u266F\", \"\u30BD\", \"\u30BD\u266F\", \"\u30E9\", \"\u30E9\u266F\", \"\u30B7\"]\n    };\n    MidiKeys.isBlackKey = (note) => (MidiKeys.BlackKeyBits & (1 << (note % 12))) !== 0;\n    MidiKeys.toFullString = (note) => `${MidiKeys.Names.English[note % 12]}${(Math.floor(note / 12) - 2)}`;\n    MidiKeys.keyboardTracking = (note, amount) => clampUnit((note - 60) * amount);\n    class PredefinedScaleImpl {\n        #name;\n        #bits;\n        constructor(name, ...keys) {\n            this.#name = name;\n            this.#bits = keys.reduce((bits, keyIndex) => (bits |= 1 << keyIndex), 0);\n        }\n        get name() { return this.#name; }\n        get bits() { return this.#bits; }\n        has(note) { return (this.#bits & (1 << (note % 12))) !== 0; }\n        equals(other) { return this.#bits === other.bits; }\n    }\n    MidiKeys.StockScales = [\n        new PredefinedScaleImpl(\"Major\", 0, 2, 4, 5, 7, 9, 11),\n        new PredefinedScaleImpl(\"Natural Minor\", 0, 2, 3, 5, 7, 8, 10),\n        new PredefinedScaleImpl(\"Harmonic Minor\", 0, 2, 3, 5, 7, 8, 11),\n        new PredefinedScaleImpl(\"Melodic Minor\", 0, 2, 3, 5, 7, 9, 11),\n        new PredefinedScaleImpl(\"Dorian\", 0, 2, 3, 5, 7, 9, 10),\n        new PredefinedScaleImpl(\"Phrygian\", 0, 1, 3, 5, 7, 8, 10),\n        new PredefinedScaleImpl(\"Lydian\", 0, 2, 4, 6, 7, 9, 11),\n        new PredefinedScaleImpl(\"Mixolydian\", 0, 2, 4, 5, 7, 9, 10),\n        new PredefinedScaleImpl(\"Locrian\", 0, 1, 3, 5, 6, 8, 10),\n        new PredefinedScaleImpl(\"Pentatonic Major\", 0, 2, 4, 7, 9),\n        new PredefinedScaleImpl(\"Pentatonic Minor\", 0, 3, 5, 7, 10),\n        new PredefinedScaleImpl(\"Blues\", 0, 3, 5, 6, 7, 10),\n        new PredefinedScaleImpl(\"Whole Tone\", 0, 2, 4, 6, 8, 10),\n        new PredefinedScaleImpl(\"Diminished\", 0, 2, 3, 5, 6, 8, 9, 11),\n        new PredefinedScaleImpl(\"Augmented\", 0, 3, 4, 7, 8, 11)\n    ];\n})(MidiKeys || (MidiKeys = {}));\n", "import { EventSpan } from \"./events\";\nexport var NoteEvent;\n(function (NoteEvent) {\n    NoteEvent.isOfType = (event) => event.type === \"note-event\";\n    NoteEvent.Comparator = (a, b) => {\n        const positionDiff = a.position - b.position;\n        if (positionDiff !== 0) {\n            return positionDiff;\n        }\n        const pitchDiff = a.pitch - b.pitch;\n        if (pitchDiff !== 0) {\n            return pitchDiff;\n        }\n        // We should allow this and leave it to the user to resolve issues like that\n        return 0;\n    };\n    // TODO Replace with https://www.desmos.com/calculator/ekbzuu5j2x\n    NoteEvent.curveFunc = (ratio, curve) => curve < 0.0 ? ratio ** (2.0 ** -curve) : 1.0 - (1.0 - ratio) ** (2.0 ** curve);\n    NoteEvent.inverseCurveFunc = (ratio, curve) => curve < 0.0 ? ratio ** (2.0 ** curve) : 1.0 - Math.max(0.0, 1.0 - ratio) ** (2.0 ** -curve);\n    NoteEvent.CompleteComparator = (a, b) => {\n        const diffComplete = EventSpan.complete(a) - EventSpan.complete(b);\n        if (diffComplete !== 0) {\n            return diffComplete;\n        }\n        return a.pitch - b.pitch;\n    };\n})(NoteEvent || (NoteEvent = {}));\n", "import { ClassicWaveform } from \"./classic-waveform\";\nexport class BandLimitedOscillator {\n    #invSampleRate;\n    #phase = 0.0;\n    #integrator = 0.0;\n    constructor(sampleRate) {\n        this.#invSampleRate = 1.0 / sampleRate;\n    }\n    generate(output, frequency, waveform, fromIndex, toIndex) {\n        const phaseInc = frequency * this.#invSampleRate;\n        switch (waveform) {\n            case ClassicWaveform.sine:\n                this.#genSineConst(output, phaseInc, fromIndex, toIndex);\n                break;\n            case ClassicWaveform.saw:\n                this.#genSawConst(output, phaseInc, fromIndex, toIndex);\n                break;\n            case ClassicWaveform.square:\n                this.#genSquareConst(output, phaseInc, fromIndex, toIndex);\n                break;\n            case ClassicWaveform.triangle:\n                this.#genTriangleConst(output, phaseInc, fromIndex, toIndex);\n                break;\n        }\n    }\n    generateFromFrequencies(output, freqBuffer, waveform, fromIndex, toIndex) {\n        switch (waveform) {\n            case ClassicWaveform.sine:\n                this.#genSine(output, freqBuffer, fromIndex, toIndex);\n                break;\n            case ClassicWaveform.saw:\n                this.#genSaw(output, freqBuffer, fromIndex, toIndex);\n                break;\n            case ClassicWaveform.square:\n                this.#genSquare(output, freqBuffer, fromIndex, toIndex);\n                break;\n            case ClassicWaveform.triangle:\n                this.#genTriangle(output, freqBuffer, fromIndex, toIndex);\n                break;\n        }\n    }\n    #genSineConst(output, phaseInc, fromIndex, toIndex) {\n        let phase = this.#phase;\n        for (let i = fromIndex; i < toIndex; i++) {\n            output[i] = Math.sin(2.0 * Math.PI * (phase % 1.0));\n            phase += phaseInc;\n        }\n        this.#phase = phase;\n    }\n    #genSawConst(output, phaseInc, fromIndex, toIndex) {\n        let phase = this.#phase;\n        for (let i = fromIndex; i < toIndex; i++) {\n            const t = phase % 1.0;\n            output[i] = 2.0 * t - 1.0 - polyBLEP(t, phaseInc);\n            phase += phaseInc;\n        }\n        this.#phase = phase;\n    }\n    #genSquareConst(output, phaseInc, fromIndex, toIndex) {\n        let phase = this.#phase;\n        for (let i = fromIndex; i < toIndex; i++) {\n            const t = phase % 1.0;\n            output[i] = (t < 0.5 ? 1.0 : -1.0) + polyBLEP(t, phaseInc) - polyBLEP((t + 0.5) % 1.0, phaseInc);\n            phase += phaseInc;\n        }\n        this.#phase = phase;\n    }\n    #genTriangleConst(output, phaseInc, fromIndex, toIndex) {\n        let phase = this.#phase;\n        let integrator = this.#integrator;\n        const scale = 4.0 * phaseInc;\n        for (let i = fromIndex; i < toIndex; i++) {\n            const t = phase % 1.0;\n            const sq = (t < 0.5 ? 1.0 : -1.0) + polyBLEP(t, phaseInc) - polyBLEP((t + 0.5) % 1.0, phaseInc);\n            integrator = integrator * 0.9995 + sq * scale;\n            output[i] = integrator;\n            phase += phaseInc;\n        }\n        this.#phase = phase;\n        this.#integrator = integrator;\n    }\n    #genSine(output, freqBuffer, fromIndex, toIndex) {\n        const invSR = this.#invSampleRate;\n        let phase = this.#phase;\n        for (let i = fromIndex; i < toIndex; i++) {\n            output[i] = Math.sin(2.0 * Math.PI * (phase % 1.0));\n            phase += freqBuffer[i] * invSR;\n        }\n        this.#phase = phase;\n    }\n    #genSaw(output, freqBuffer, fromIndex, toIndex) {\n        const invSR = this.#invSampleRate;\n        let phase = this.#phase;\n        for (let i = fromIndex; i < toIndex; i++) {\n            const phaseInc = freqBuffer[i] * invSR;\n            const t = phase % 1.0;\n            output[i] = 2.0 * t - 1.0 - polyBLEP(t, phaseInc);\n            phase += phaseInc;\n        }\n        this.#phase = phase;\n    }\n    #genSquare(output, freqBuffer, fromIndex, toIndex) {\n        const invSR = this.#invSampleRate;\n        let phase = this.#phase;\n        for (let i = fromIndex; i < toIndex; i++) {\n            const phaseInc = freqBuffer[i] * invSR;\n            const t = phase % 1.0;\n            output[i] = (t < 0.5 ? 1.0 : -1.0) + polyBLEP(t, phaseInc) - polyBLEP((t + 0.5) % 1.0, phaseInc);\n            phase += phaseInc;\n        }\n        this.#phase = phase;\n    }\n    #genTriangle(output, freqBuffer, fromIndex, toIndex) {\n        const invSR = this.#invSampleRate;\n        let phase = this.#phase;\n        let integrator = this.#integrator;\n        for (let i = fromIndex; i < toIndex; i++) {\n            const inc = freqBuffer[i] * invSR;\n            const t = phase % 1.0;\n            const sq = (t < 0.5 ? 1.0 : -1.0) + polyBLEP(t, inc) - polyBLEP((t + 0.5) % 1.0, inc);\n            integrator = integrator * 0.9995 + sq * (4.0 * inc);\n            output[i] = integrator;\n            phase += inc;\n        }\n        this.#phase = phase;\n        this.#integrator = integrator;\n    }\n}\nconst polyBLEP = (t, dt) => {\n    if (t < dt) {\n        t /= dt;\n        return t + t - t * t - 1.0;\n    }\n    else if (t > 1.0 - dt) {\n        t = (t - 1.0) / dt;\n        return t * t + t + t + 1.0;\n    }\n    return 0.0;\n};\n", "import { clamp, PI_QUART } from \"@naomiarotest/lib-std\";\nimport { Mixing } from \"./mixing\";\nexport var StereoMatrix;\n(function (StereoMatrix) {\n    StereoMatrix.zero = () => ({ ll: 0.0, lr: 0.0, rl: 0.0, rr: 0.0 });\n    StereoMatrix.identity = () => ({ ll: 1.0, lr: 0.0, rl: 0.0, rr: 1.0 });\n    StereoMatrix.update = (m, { gain, panning, invertL, invertR, stereo, swap }, mixing = Mixing.EqualPower) => {\n        const [panL, panR] = StereoMatrix.panningToGains(panning, mixing);\n        let lGain = panL * gain;\n        let rGain = panR * gain;\n        if (invertL)\n            lGain *= -1.0;\n        if (invertR)\n            rGain *= -1.0;\n        const mono = Math.max(0.0, -stereo);\n        const expand = Math.max(0.0, stereo);\n        const midGain = 1.0 - expand;\n        const sideGain = 1.0 + expand;\n        const monoAmount = mono * 0.5;\n        const stereoWidth = 1.0 - mono;\n        const m00 = (midGain + sideGain) * 0.5;\n        const m01 = (midGain - sideGain) * 0.5;\n        const m10 = (midGain - sideGain) * 0.5;\n        const m11 = (midGain + sideGain) * 0.5;\n        const ll = (lGain * (monoAmount + stereoWidth)) * m00 + (rGain * monoAmount) * m01;\n        const rl = (lGain * (monoAmount + stereoWidth)) * m10 + (rGain * monoAmount) * m11;\n        const lr = (lGain * monoAmount) * m00 + (rGain * (monoAmount + stereoWidth)) * m01;\n        const rr = (lGain * monoAmount) * m10 + (rGain * (monoAmount + stereoWidth)) * m11;\n        if (swap) {\n            m.ll = rl;\n            m.rl = ll;\n            m.lr = rr;\n            m.rr = lr;\n        }\n        else {\n            m.ll = ll;\n            m.lr = lr;\n            m.rl = rl;\n            m.rr = rr;\n        }\n    };\n    StereoMatrix.panningToGains = (panning, mixing) => {\n        const x = clamp(panning, -1.0, 1.0);\n        switch (mixing) {\n            case Mixing.Linear:\n                return [\n                    Math.min(1.0 - x, 1.0),\n                    Math.min(x + 1.0, 1.0)\n                ];\n            case Mixing.EqualPower:\n                return [\n                    Math.cos((x + 1.0) * PI_QUART),\n                    Math.sin((x + 1.0) * PI_QUART)\n                ];\n        }\n    };\n    StereoMatrix.applyFrame = (m, l, r) => [m.ll * l + m.rl * r, m.lr * l + m.rr * r];\n    StereoMatrix.processFrames = (m, source, target, fromIndex, toIndex) => {\n        const [src0, src1] = source;\n        const [trg0, trg1] = target;\n        for (let i = fromIndex; i < toIndex; i++) {\n            const l = src0[i];\n            const r = src1[i];\n            trg0[i] = m.ll * l + m.rl * r;\n            trg1[i] = m.lr * l + m.rr * r;\n        }\n    };\n    StereoMatrix.replaceFrames = (m, [ch0, ch1], fromIndex, toIndex) => {\n        for (let i = fromIndex; i < toIndex; i++) {\n            const l = ch0[i];\n            const r = ch1[i];\n            ch0[i] = m.ll * l + m.rl * r;\n            ch1[i] = m.lr * l + m.rr * r;\n        }\n    };\n})(StereoMatrix || (StereoMatrix = {}));\n", "import { StereoMatrix } from \"./stereo\";\nexport var Ramp;\n(function (Ramp) {\n    Ramp.linear = (sampleRate, durationInSeconds = 0.005) => {\n        return new LinearRamp(Math.ceil(sampleRate * durationInSeconds) | 0);\n    };\n    Ramp.stereoMatrix = (sampleRate, durationInSeconds = 0.005) => {\n        return new StereoMatrixRamp(Math.ceil(sampleRate * durationInSeconds) | 0);\n    };\n    class LinearRamp {\n        #length;\n        #value = 0.0;\n        #target = 0.0;\n        #delta = 0.0;\n        #remaining = 0 | 0;\n        constructor(length) { this.#length = length; }\n        set(target, smooth) {\n            if (this.#value === target) {\n                return;\n            }\n            if (smooth === true) {\n                this.#target = target;\n                this.#delta = (target - this.#value) / this.#length;\n                this.#remaining = this.#length;\n            }\n            else {\n                this.#value = this.#target = target;\n                this.#delta = 0.0;\n                this.#remaining = 0;\n            }\n        }\n        get() { return this.#value; }\n        moveAndGet() {\n            if (0 < this.#remaining) {\n                this.#value += this.#delta;\n                if (0 === --this.#remaining) {\n                    this.#delta = 0.0;\n                    this.#value = this.#target;\n                }\n            }\n            return this.#value;\n        }\n        isFixed(value) { return this.#value === value && 0 === this.#remaining; }\n        isInterpolating() { return this.#remaining > 0; }\n    }\n    class StereoMatrixRamp {\n        #length;\n        #value = StereoMatrix.zero();\n        #target = StereoMatrix.zero();\n        #delta = StereoMatrix.zero();\n        #remaining = 0 | 0;\n        constructor(length) { this.#length = length; }\n        update(params, mixing, smooth) {\n            StereoMatrix.update(this.#target, params, mixing);\n            if (smooth === true) {\n                this.#delta.ll = (this.#target.ll - this.#value.ll) / this.#length;\n                this.#delta.lr = (this.#target.lr - this.#value.lr) / this.#length;\n                this.#delta.rl = (this.#target.rl - this.#value.rl) / this.#length;\n                this.#delta.rr = (this.#target.rr - this.#value.rr) / this.#length;\n                this.#remaining = this.#length;\n            }\n            else {\n                this.#value.ll = this.#target.ll;\n                this.#value.lr = this.#target.lr;\n                this.#value.rl = this.#target.rl;\n                this.#value.rr = this.#target.rr;\n                this.#delta.ll = 0.0;\n                this.#delta.lr = 0.0;\n                this.#delta.rl = 0.0;\n                this.#delta.rr = 0.0;\n                this.#remaining = 0;\n            }\n        }\n        processFrames(source, target, fromIndex, toIndex) {\n            const [src0, src1] = source;\n            const [trg0, trg1] = target;\n            if (this.isInterpolating()) {\n                for (let i = fromIndex; i < toIndex; i++) {\n                    const l = src0[i];\n                    const r = src1[i];\n                    const m = this.moveAndGet();\n                    trg0[i] = m.ll * l + m.rl * r;\n                    trg1[i] = m.lr * l + m.rr * r;\n                }\n            }\n            else {\n                const m = this.#target;\n                for (let i = fromIndex; i < toIndex; i++) {\n                    const l = src0[i];\n                    const r = src1[i];\n                    trg0[i] = m.ll * l + m.rl * r;\n                    trg1[i] = m.lr * l + m.rr * r;\n                }\n            }\n        }\n        set(target, smooth) {\n            if (this.#equals(target)) {\n                return;\n            }\n            if (smooth === true) {\n                this.#target.ll = target.ll;\n                this.#target.lr = target.lr;\n                this.#target.rl = target.rl;\n                this.#target.rr = target.rr;\n                this.#delta.ll = (target.ll - this.#value.ll) / this.#length;\n                this.#delta.lr = (target.lr - this.#value.lr) / this.#length;\n                this.#delta.rl = (target.rl - this.#value.rl) / this.#length;\n                this.#delta.rr = (target.rr - this.#value.rr) / this.#length;\n                this.#remaining = this.#length;\n            }\n            else {\n                this.#value.ll = this.#target.ll = target.ll;\n                this.#value.lr = this.#target.lr = target.lr;\n                this.#value.rl = this.#target.rl = target.rl;\n                this.#value.rr = this.#target.rr = target.rr;\n                this.#delta.ll = 0.0;\n                this.#delta.lr = 0.0;\n                this.#delta.rl = 0.0;\n                this.#delta.rr = 0.0;\n                this.#remaining = 0;\n            }\n        }\n        get() { return this.#value; }\n        moveAndGet() {\n            if (0 < this.#remaining) {\n                this.#value.ll += this.#delta.ll;\n                this.#value.lr += this.#delta.lr;\n                this.#value.rl += this.#delta.rl;\n                this.#value.rr += this.#delta.rr;\n                if (0 === --this.#remaining) {\n                    this.#delta.ll = 0.0;\n                    this.#delta.lr = 0.0;\n                    this.#delta.rl = 0.0;\n                    this.#delta.rr = 0.0;\n                    this.#value.ll = this.#target.ll;\n                    this.#value.lr = this.#target.lr;\n                    this.#value.rl = this.#target.rl;\n                    this.#value.rr = this.#target.rr;\n                }\n            }\n            return this.#value;\n        }\n        isFixed(value) { return this.#equals(value) && this.#remaining === 0; }\n        isInterpolating() { return this.#remaining > 0; }\n        #equals(value) {\n            return this.#value.ll === value.ll && this.#value.lr === value.lr\n                && this.#value.rl === value.rl && this.#value.rr === value.rr;\n        }\n    }\n    Ramp.StereoMatrixRamp = StereoMatrixRamp;\n})(Ramp || (Ramp = {}));\n", "import { Arrays } from \"@naomiarotest/lib-std\";\nimport { RenderQuantum } from \"./constants\";\n/**\n * Vibe-coded resampler (Claude 4.5 Sonnet)\n */\n// Properly normalized halfband filter coefficients\n// These sum to exactly 1.0 for DC preservation\nconst HALFBAND_COEFF = new Float32Array([\n    -0.00048076361, 0.0, 0.00174689293, 0.0, -0.00421638042, 0.0, 0.00854519755, 0.0,\n    -0.01627072692, 0.0, 0.03203375191, 0.0, -0.08251235634, 0.0, 0.31203505397, 0.5,\n    0.31203505397, 0.0, -0.08251235634, 0.0, 0.03203375191, 0.0, -0.01627072692, 0.0,\n    0.00854519755, 0.0, -0.00421638042, 0.0, 0.00174689293, 0.0, -0.00048076361\n]);\n// Extract only non-zero coefficients for efficient polyphase implementation\nconst PHASE0_COEFF = new Float32Array(12); // Even-indexed taps (including center)\nconst PHASE1_COEFF = new Float32Array(11); // Odd-indexed taps (all zeros in halfband)\n// Fill polyphase coefficient arrays\nfor (let i = 0, p0 = 0, p1 = 0; i < HALFBAND_COEFF.length; i++) {\n    if (i % 2 === 0) {\n        PHASE0_COEFF[p0++] = HALFBAND_COEFF[i];\n    }\n    else {\n        PHASE1_COEFF[p1++] = HALFBAND_COEFF[i];\n    }\n}\n// Single-stage 2x resampler using polyphase halfband filter\nclass Resampler2xMono {\n    #upBuffer = new Float32Array(PHASE0_COEFF.length);\n    #downBuffer = new Float32Array(HALFBAND_COEFF.length);\n    #upIndex = 0;\n    #downIndex = 0;\n    reset() {\n        this.#upBuffer.fill(0);\n        this.#downBuffer.fill(0);\n        this.#upIndex = 0;\n        this.#downIndex = 0;\n    }\n    upsample(input, output, fromIndex, toIndex) {\n        const buffer = this.#upBuffer;\n        const phase0 = PHASE0_COEFF;\n        const phase1 = PHASE1_COEFF;\n        for (let i = fromIndex; i < toIndex; i++) {\n            const x = input[i];\n            const outIdx = (i - fromIndex) * 2;\n            // Store input in circular buffer\n            buffer[this.#upIndex] = x;\n            // Polyphase filter for even output sample (phase 0)\n            let sum0 = 0;\n            for (let j = 0; j < phase0.length; j++) {\n                const idx = (this.#upIndex - j + buffer.length) % buffer.length;\n                sum0 += buffer[idx] * phase0[j];\n            }\n            output[outIdx] = sum0 * 2; // Compensate for zero-stuffing\n            // Polyphase filter for odd output sample (phase 1)\n            let sum1 = 0;\n            for (let j = 0; j < phase1.length; j++) {\n                // Phase 1 uses samples offset by 0.5 at input rate\n                const idx = (this.#upIndex - j + buffer.length - 1) % buffer.length;\n                sum1 += buffer[idx] * phase1[j];\n            }\n            output[outIdx + 1] = sum1 * 2; // Compensate for zero-stuffing\n            this.#upIndex = (this.#upIndex + 1) % buffer.length;\n        }\n    }\n    downsample(input, output, fromIndex, toIndex) {\n        const buffer = this.#downBuffer;\n        const coeff = HALFBAND_COEFF;\n        for (let i = fromIndex; i < toIndex; i++) {\n            const inIdx = (i - fromIndex) * 2;\n            // Add both input samples to buffer\n            buffer[this.#downIndex] = input[inIdx];\n            this.#downIndex = (this.#downIndex + 1) % buffer.length;\n            buffer[this.#downIndex] = input[inIdx + 1];\n            this.#downIndex = (this.#downIndex + 1) % buffer.length;\n            // Apply full anti-aliasing filter and decimate\n            let sum = 0;\n            for (let j = 0; j < coeff.length; j++) {\n                const idx = (this.#downIndex - 1 - j + buffer.length) % buffer.length;\n                sum += buffer[idx] * coeff[j];\n            }\n            output[i] = sum;\n        }\n    }\n}\nexport class ResamplerMono {\n    #factor;\n    #stages;\n    #buffers;\n    constructor(factor) {\n        this.#factor = factor;\n        const numStages = factor === 2 ? 1 : factor === 4 ? 2 : 3;\n        this.#stages = Arrays.create(() => new Resampler2xMono(), numStages);\n        this.#buffers = Arrays.create((i) => new Float32Array(RenderQuantum * (2 << i)), numStages - 1);\n    }\n    reset() { this.#stages.forEach(stage => stage.reset()); }\n    upsample(input, output, fromIndex, toIndex) {\n        const count = toIndex - fromIndex;\n        let inBuffer = input;\n        let inFrom = fromIndex;\n        let inTo = toIndex;\n        for (let i = 0; i < this.#stages.length; i++) {\n            const isLast = i === this.#stages.length - 1;\n            const outBuffer = isLast ? output : this.#buffers[i];\n            this.#stages[i].upsample(inBuffer, outBuffer, inFrom, inTo);\n            inBuffer = outBuffer;\n            inFrom = 0;\n            inTo = count * (2 << i);\n        }\n    }\n    downsample(input, output, fromIndex, toIndex) {\n        const count = toIndex - fromIndex;\n        let inBuffer = input;\n        let inTo = count * this.#factor;\n        for (let i = this.#stages.length - 1; i >= 0; i--) {\n            const isLast = i === 0;\n            const outBuffer = isLast ? output : this.#buffers[i - 1];\n            const outFrom = isLast ? fromIndex : 0;\n            const outTo = isLast ? toIndex : inTo / 2;\n            this.#stages[i].downsample(inBuffer, outBuffer, outFrom, outTo);\n            inBuffer = outBuffer;\n            inTo = outTo;\n        }\n    }\n}\nexport class ResamplerStereo {\n    #left;\n    #right;\n    constructor(factor) {\n        this.#left = new ResamplerMono(factor);\n        this.#right = new ResamplerMono(factor);\n    }\n    reset() {\n        this.#left.reset();\n        this.#right.reset();\n    }\n    upsample(input, output, fromIndex, toIndex) {\n        this.#left.upsample(input[0], output[0], fromIndex, toIndex);\n        this.#right.upsample(input[1], output[1], fromIndex, toIndex);\n    }\n    downsample(input, output, fromIndex, toIndex) {\n        this.#left.downsample(input[0], output[0], fromIndex, toIndex);\n        this.#right.downsample(input[1], output[1], fromIndex, toIndex);\n    }\n}\n", "export class RMS {\n    #values;\n    #inv;\n    #index;\n    #sum;\n    constructor(n) {\n        this.#values = new Float32Array(n);\n        this.#inv = 1.0 / n;\n        this.#index = 0 | 0;\n        this.#sum = 0.0;\n    }\n    pushPop(x) {\n        const squared = x * x;\n        this.#sum -= this.#values[this.#index];\n        this.#sum += squared;\n        this.#values[this.#index] = squared;\n        if (++this.#index === this.#values.length) {\n            this.#index = 0;\n        }\n        return this.#sum <= 0.0 ? 0.0 : Math.sqrt(this.#sum * this.#inv);\n    }\n    processBlock(buffer, fromIndex, toIndex) {\n        const values = this.#values;\n        const len = values.length;\n        let index = this.#index;\n        let sum = this.#sum;\n        for (let i = fromIndex; i < toIndex; i++) {\n            const squared = buffer[i] * buffer[i];\n            sum += squared - values[index];\n            values[index] = squared;\n            if (++index === len) {\n                index = 0;\n            }\n        }\n        this.#index = index;\n        this.#sum = sum;\n        return sum <= 0.0 ? 0.0 : Math.sqrt(sum * this.#inv);\n    }\n    clear() {\n        this.#values.fill(0.0);\n        this.#sum = 0.0;\n        this.#index = 0 | 0;\n    }\n}\n", "export class SimpleLimiter {\n    static #LIMITER_ATTACK_SEC = 0.003;\n    static #LIMITER_RELEASE_SEC = 0.020;\n    #envelopeAttack;\n    #envelopeRelease;\n    #envelope = 0.0;\n    constructor(sampleRate) {\n        this.#envelopeAttack = Math.pow(0.01, 1.0 / (SimpleLimiter.#LIMITER_ATTACK_SEC * sampleRate));\n        this.#envelopeRelease = Math.pow(0.01, 1.0 / (SimpleLimiter.#LIMITER_RELEASE_SEC * sampleRate));\n    }\n    clear() { this.#envelope = 0.0; }\n    replace(buffer, fromIndex, toIndex) {\n        const attack = this.#envelopeAttack;\n        const release = this.#envelopeRelease;\n        const [bufL, bufR] = buffer.channels();\n        let env = this.#envelope;\n        for (let i = fromIndex; i < toIndex; ++i) {\n            const l = bufL[i];\n            const r = bufR[i];\n            const abs = Math.max(Math.abs(l), Math.abs(r));\n            env = abs > env ? attack * (env - abs) + abs : release * (env - abs) + abs;\n            if (env > 1.0) {\n                const gain = 1.0 / env;\n                bufL[i] = l * gain;\n                bufR[i] = r * gain;\n            }\n        }\n        this.#envelope = env;\n    }\n}\n", "export class Smooth {\n    #a;\n    value = 0.0;\n    constructor(time, sampleRate) {\n        this.#a = 1.0 - Math.exp(-1.0 / (time * sampleRate));\n    }\n    process(x) {\n        this.value += this.#a * (x - this.value);\n        return this.value;\n    }\n}\n", "import { PPQN } from \"./ppqn\";\nimport { Notifier, Terminator } from \"@naomiarotest/lib-std\";\n/**\n * Simple constant tempo map implementation.\n * All conversions are linear since the tempo never changes.\n */\nexport class ConstantTempoMap {\n    #terminator = new Terminator();\n    #notifier;\n    #tempo;\n    constructor(observableTempo) {\n        this.#notifier = this.#terminator.own(new Notifier());\n        this.#terminator.own(observableTempo.subscribe(owner => {\n            this.#tempo = owner.getValue();\n            this.#notifier.notify(this);\n        }));\n        this.#tempo = observableTempo.getValue();\n    }\n    subscribe(observer) {\n        return this.#notifier.subscribe(observer);\n    }\n    getTempoAt(_position) { return this.#tempo; }\n    positionToSeconds(position) {\n        return PPQN.pulsesToSeconds(position, this.#tempo);\n    }\n    positionToPPQN(time) {\n        return PPQN.secondsToPulses(time, this.#tempo);\n    }\n    intervalToSeconds(fromPPQN, toPPQN) {\n        return PPQN.pulsesToSeconds(toPPQN - fromPPQN, this.#tempo);\n    }\n    intervalToPPQN(fromSeconds, toSeconds) {\n        return PPQN.secondsToPulses(toSeconds - fromSeconds, this.#tempo);\n    }\n    terminate() { this.#notifier.terminate(); }\n}\n", "import { asEnumValue } from \"@naomiarotest/lib-std\";\nexport var TimeBase;\n(function (TimeBase) {\n    TimeBase[\"Musical\"] = \"musical\";\n    TimeBase[\"Seconds\"] = \"seconds\";\n})(TimeBase || (TimeBase = {}));\nexport var TimeBaseConverter;\n(function (TimeBaseConverter) {\n    function musical(tempoMap, position, property) {\n        return new TimeBaseMusicalConverter(tempoMap, position, property);\n    }\n    TimeBaseConverter.musical = musical;\n    function aware(tempoMap, timeBase, position, property) {\n        return new TimeBaseAwareConverter(tempoMap, timeBase, position, property);\n    }\n    TimeBaseConverter.aware = aware;\n})(TimeBaseConverter || (TimeBaseConverter = {}));\nclass TimeBaseAwareConverter {\n    #tempoMap;\n    #timeBase;\n    #position;\n    #property;\n    constructor(tempoMap, timeBase, position, property) {\n        this.#property = property;\n        this.#timeBase = timeBase;\n        this.#position = position;\n        this.#tempoMap = tempoMap;\n    }\n    toPPQN() {\n        const value = this.#property.getValue();\n        if (this.getTimeBase() === TimeBase.Musical) {\n            return value;\n        }\n        const position = this.#position.getValue();\n        const startSeconds = this.#tempoMap.positionToSeconds(position);\n        const endSeconds = startSeconds + value;\n        return this.#tempoMap.intervalToPPQN(startSeconds, endSeconds);\n    }\n    fromPPQN(ppqn) {\n        if (this.getTimeBase() === TimeBase.Musical) {\n            this.#property.setValue(ppqn);\n        }\n        else {\n            const position = this.#position.getValue();\n            const seconds = this.#tempoMap.intervalToSeconds(position, position + ppqn);\n            this.#property.setValue(seconds);\n        }\n    }\n    toSeconds() {\n        const value = this.#property.getValue();\n        if (this.getTimeBase() === TimeBase.Seconds) {\n            return value;\n        }\n        const position = this.#position.getValue();\n        return this.#tempoMap.intervalToSeconds(position, position + value);\n    }\n    toSamples(sampleRate) { return this.toSeconds() * sampleRate; }\n    rawValue() { return this.#property.getValue(); }\n    getTimeBase() { return asEnumValue(this.#timeBase.getValue(), TimeBase); }\n}\nclass TimeBaseMusicalConverter {\n    #tempoMap;\n    #position;\n    #property;\n    constructor(tempoMap, position, property) {\n        this.#property = property;\n        this.#position = position;\n        this.#tempoMap = tempoMap;\n    }\n    toPPQN() { return this.#property.getValue(); }\n    fromPPQN(ppqn) { this.#property.setValue(ppqn); }\n    toSeconds() {\n        const value = this.#property.getValue();\n        const position = this.#position.getValue();\n        return this.#tempoMap.intervalToSeconds(position, position + value);\n    }\n    toSamples(sampleRate) { return this.toSeconds() * sampleRate; }\n    rawValue() { return this.#property.getValue(); }\n    getTimeBase() { return TimeBase.Musical; }\n}\n", "import { PPQN } from \"./ppqn\";\nexport const UpdateClockRate = PPQN.fromSignature(1, 384);\n", "import { BinarySearch, Curve, Iterables, panic } from \"@naomiarotest/lib-std\";\nexport const Interpolation = {\n    None: { type: \"none\" },\n    Linear: { type: \"linear\" },\n    Curve: (slope) => ({ type: \"curve\", slope })\n};\nexport var ValueEvent;\n(function (ValueEvent) {\n    ValueEvent.Comparator = (a, b) => {\n        const positionDiff = a.position - b.position;\n        if (positionDiff !== 0) {\n            return positionDiff;\n        }\n        const indexDiff = a.index - b.index;\n        if (indexDiff !== 0) {\n            return indexDiff;\n        }\n        return a === b ? 0 : panic(`${a} and ${b} are identical in terms of comparison`);\n    };\n    function* iterateWindow(events, fromPosition, toPosition) {\n        if (events.isEmpty()) {\n            return Iterables.empty();\n        }\n        for (const event of events.iterateFrom(fromPosition)) {\n            yield event;\n            if (event.position >= toPosition) {\n                return;\n            }\n        }\n    }\n    ValueEvent.iterateWindow = iterateWindow;\n    ValueEvent.nextEvent = (events, precursor) => {\n        const sorted = events.asArray();\n        const index = BinarySearch.rightMost(sorted, precursor, ValueEvent.Comparator);\n        return index === -1 ? null : sorted[index + 1] ?? null;\n    };\n    /**\n     * Computes a value at a given position\n     */\n    ValueEvent.valueAt = (events, position, fallback) => {\n        if (events.isEmpty()) {\n            return fallback;\n        } // no events, nothing to iterate\n        const iterator = events.iterateFrom(position);\n        const { done, value: prevEvent } = iterator.next();\n        if (done) {\n            return fallback;\n        }\n        if (prevEvent.position <= position) {\n            const { done, value: nextEvent } = iterator.next();\n            if (done) {\n                return prevEvent.value;\n            }\n            else if (position < nextEvent.position) {\n                return interpolate(prevEvent, nextEvent, position);\n            }\n            else if (prevEvent.interpolation === Interpolation.None) {\n                return prevEvent.value;\n            }\n        }\n        return prevEvent.value;\n    };\n    /**\n     * Quantize an automation in equal segments but also include min/max values.\n     * This is used for the ValueClipPainter to draw circular automation curves.\n     * It has been tested in the AutomationPage.\n     */\n    function* quantise(events, position, duration, numSteps) {\n        if (events.isEmpty()) {\n            return;\n        } // no events, nothing to iterate\n        const iterator = events.iterateFrom(position);\n        const { done, value } = iterator.next();\n        if (done) {\n            return;\n        }\n        const step = duration / numSteps;\n        let prevEvent = value;\n        if (prevEvent.position > position) {\n            while (position < prevEvent.position) {\n                yield { position, value: prevEvent.value };\n                position += step;\n                if (position > duration) {\n                    return;\n                }\n            }\n            if (prevEvent.position <= duration) {\n                yield prevEvent;\n            }\n        }\n        while (position <= duration) {\n            const { done, value: nextEvent } = iterator.next();\n            if (done) {\n                break;\n            }\n            while (position < nextEvent.position) {\n                if (position > duration) {\n                    return;\n                }\n                yield { position, value: interpolate(prevEvent, nextEvent, position) };\n                position += step;\n            }\n            if (nextEvent.position < duration) {\n                if (prevEvent.interpolation === Interpolation.None) {\n                    yield { position: nextEvent.position, value: prevEvent.value };\n                }\n                yield nextEvent;\n            }\n            prevEvent = nextEvent;\n        }\n        while (position <= duration) {\n            yield { position, value: prevEvent.value };\n            position += step;\n        }\n    }\n    ValueEvent.quantise = quantise;\n    const interpolate = ({ value, position, interpolation }, b, x) => {\n        if (interpolation.type === \"none\") {\n            return value;\n        }\n        else if (interpolation.type === \"linear\") {\n            return value + (x - position) / (b.position - position) * (b.value - value);\n        }\n        else if (interpolation.type === \"curve\") {\n            return Curve.valueAt({\n                slope: interpolation.slope,\n                steps: b.position - position,\n                y0: value,\n                y1: b.value\n            }, x - position);\n        }\n        else {\n            return panic(\"Unknown interpolation\");\n        }\n    };\n})(ValueEvent || (ValueEvent = {}));\n", "export var Window;\n(function (Window) {\n    let Type;\n    (function (Type) {\n        Type[Type[\"Bartlett\"] = 0] = \"Bartlett\";\n        Type[Type[\"Blackman\"] = 1] = \"Blackman\";\n        Type[Type[\"BlackmanHarris\"] = 2] = \"BlackmanHarris\";\n        Type[Type[\"Hamming\"] = 3] = \"Hamming\";\n        Type[Type[\"Hanning\"] = 4] = \"Hanning\";\n    })(Type = Window.Type || (Window.Type = {}));\n    Window.create = (type, n) => {\n        const values = new Float32Array(n);\n        const a = Math.PI / (n - 1);\n        switch (type) {\n            case Type.Bartlett: {\n                const n2 = (n >> 1) - 1;\n                let i = 0;\n                for (; i <= n2; ++i) {\n                    values[i] = 2.0 * i / (n - 1.0);\n                }\n                for (; i < n; ++i) {\n                    values[i] = 2.0 - 2.0 * i / (n - 1.0);\n                }\n                return values;\n            }\n            case Type.Blackman: {\n                const c = 2.0 * a;\n                const d = 4.0 * a;\n                for (let i = 0; i < n; ++i) {\n                    values[i] = 0.42323 - 0.49755 * Math.cos(c * i) + 0.07922 * Math.cos(d * i);\n                }\n                return values;\n            }\n            case Type.BlackmanHarris: {\n                const c = 2.0 * a;\n                const d = 4.0 * a;\n                const e = 6.0 * a;\n                for (let i = 0; i < n; ++i) {\n                    values[i] = 0.35875 - 0.48829 * Math.cos(c * i) + 0.14128 * Math.cos(d * i) - 0.01168 * Math.cos(e * i);\n                }\n                return values;\n            }\n            case Type.Hamming: {\n                const c = 2.0 * a;\n                for (let i = 0; i < n; ++i) {\n                    values[i] = 0.54 - 0.46 * Math.cos(c * i);\n                }\n                return values;\n            }\n            case Type.Hanning: {\n                const c = 2.0 * a;\n                for (let i = 0; i < n; ++i) {\n                    values[i] = 0.5 - 0.5 * Math.cos(c * i);\n                }\n                return values;\n            }\n        }\n    };\n})(Window || (Window = {}));\n", "const key = Symbol.for(\"@openDAW/lib-dsp\");\nif (globalThis[key]) {\n    console.debug(`%c${key.description}%c is already available in ${globalThis.constructor.name}.`, \"color: hsl(10, 83%, 60%)\", \"color: inherit\");\n}\nelse {\n    globalThis[key] = true;\n    console.debug(`%c${key.description}%c is now available in ${globalThis.constructor.name}.`, \"color: hsl(200, 83%, 60%)\", \"color: inherit\");\n}\nexport * from \"./AudioBuffer\";\nexport * from \"./adsr\";\nexport * from \"./bpm-tools\";\nexport * from \"./biquad-coeff\";\nexport * from \"./biquad-processor\";\nexport * from \"./crusher\";\nexport * from \"./chords\";\nexport * from \"./constants\";\nexport * from \"./delay\";\nexport * from \"./tidal\";\nexport * from \"./events\";\nexport * from \"./fft\";\nexport * from \"./functions\";\nexport * from \"./fractions\";\nexport * from \"./fragmentor\";\nexport * from \"./glide\";\nexport * from \"./graph\";\nexport * from \"./grooves\";\nexport * from \"./lfo\";\nexport * from \"./mixing\";\nexport * from \"./midi-keys\";\nexport * from \"./noise\";\nexport * from \"./notes\";\nexport * from \"./osc\";\nexport * from \"./ppqn\";\nexport * from \"./ramp\";\nexport * from \"./resampler\";\nexport * from \"./rms\";\nexport * from \"./simple-limiter\";\nexport * from \"./smooth\";\nexport * from \"./tempo\";\nexport * from \"./time-base\";\nexport * from \"./stereo\";\nexport * from \"./rates\";\nexport * from \"./utils\";\nexport * from \"./value\";\nexport * from \"./window\";\nexport { ClassicWaveform } from \"./classic-waveform\";\n", "import {PeakMeterProcessorOptions} from \"@naomiarotest/studio-adapters\"\nimport {RenderQuantum, RMS} from \"@naomiarotest/lib-dsp\"\nimport {Arrays, int, Schema, SyncStream} from \"@naomiarotest/lib-std\"\n\nexport class MeterProcessor extends AudioWorkletProcessor {\n    readonly #numberOfChannels: int\n    readonly #maxPeak: Float32Array\n    readonly #maxSquared: Float32Array\n    readonly #rmsChannels: ReadonlyArray<RMS>\n    readonly #writer: SyncStream.Writer\n\n    #blocksProcessed: int = 0 | 0\n\n    constructor({processorOptions: {sab, numberOfChannels, rmsWindowInSeconds, valueDecay}}: {\n        processorOptions: PeakMeterProcessorOptions\n    } & AudioNodeOptions) {\n        super()\n\n        this.#numberOfChannels = numberOfChannels\n        this.#maxPeak = new Float32Array(numberOfChannels)\n        this.#maxSquared = new Float32Array(numberOfChannels)\n        this.#rmsChannels = Arrays.create(() => new RMS(sampleRate * rmsWindowInSeconds), numberOfChannels)\n\n        const io = Schema.createBuilder({\n            peak: Schema.floats(numberOfChannels),\n            rms: Schema.floats(numberOfChannels)\n        })()\n\n        this.#writer = SyncStream.writer(io, sab, x => {\n            const valueDecayMultiplier = Math.exp(-(128.0 * this.#blocksProcessed) / (sampleRate * valueDecay))\n            for (let channelIndex: number = 0; channelIndex < numberOfChannels; ++channelIndex) {\n                const peak = this.#maxPeak[channelIndex]\n                const square = this.#maxSquared[channelIndex]\n                x.peak[channelIndex] = peak\n                x.rms[channelIndex] = Math.sqrt(square)\n                this.#maxPeak[channelIndex] = peak * valueDecayMultiplier\n                this.#maxSquared[channelIndex] = square * valueDecayMultiplier\n            }\n            this.#blocksProcessed = 0\n        })\n    }\n\n    process([input]: ReadonlyArray<ReadonlyArray<Float32Array>>): boolean {\n        for (let channel: int = 0; channel < this.#numberOfChannels; ++channel) {\n            const inputChannel: Float32Array = input[channel]\n            if (undefined === inputChannel) {\n                this.#maxPeak[channel] = 0.0\n                this.#maxSquared[channel] = 0.0\n            } else {\n                const rms: RMS = this.#rmsChannels[channel]\n                let peak: number = this.#maxPeak[channel]\n                let squared: number = this.#maxSquared[channel]\n                for (let i: int = 0 | 0; i < RenderQuantum; ++i) {\n                    const inp = inputChannel[i] // we pass the signal\n                    peak = Math.max(peak, Math.abs(inp))\n                    squared = Math.max(squared, rms.pushPop(inp * inp))\n                }\n                this.#maxPeak[channel] = peak\n                this.#maxSquared[channel] = squared\n            }\n        }\n        this.#blocksProcessed++\n        this.#writer.tryWrite()\n        return true\n    }\n}", "import { Arrays, assert, BinarySearch, SortedSet, UUID } from \"@naomiarotest/lib-std\";\nexport class Address {\n    static newSet(keyExtractor) {\n        return new SortedSet(keyExtractor, Address.Comparator);\n    }\n    static compose = (uuid, ...fieldKeys) => {\n        const keys = fieldKeys.length === 0 ? this.#EMPTY_FIELD_KEYS : new Int16Array(fieldKeys);\n        assert(keys.every((value, index) => value === fieldKeys[index]), `fieldKeys (${keys.join(\",\")}) only allows i16`);\n        return new Address(uuid, keys);\n    };\n    static decode(str) {\n        const parts = str.split(\"/\");\n        assert(parts.length > 0, \"Unable to parse Address\");\n        return Address.compose(UUID.parse(parts[0]), ...parts.slice(1).map(x => parseInt(x)));\n    }\n    static reconstruct(layout) { return this.compose(layout[0], ...layout[1]); }\n    static boxRange(set, id, map) {\n        const sorted = set.values();\n        const startIndex = BinarySearch.leftMostMapped(sorted, id, UUID.Comparator, map);\n        const length = sorted.length;\n        if (startIndex < 0 || startIndex >= length) {\n            return null;\n        }\n        for (let endIndex = startIndex; endIndex < length; endIndex++) {\n            if (UUID.Comparator(map(sorted[endIndex]), id) !== 0) {\n                if (startIndex < endIndex) {\n                    return [startIndex, endIndex];\n                }\n                else {\n                    return null;\n                }\n            }\n        }\n        return [startIndex, length];\n    }\n    static Comparator = (a, b) => {\n        const compareId = UUID.Comparator(a.#uuid, b.#uuid);\n        if (compareId !== 0) {\n            return compareId;\n        }\n        const n = Math.min(a.#fieldKeys.length, b.#fieldKeys.length);\n        for (let i = 0; i < n; i++) {\n            const comparison = (a.#fieldKeys)[i] - (b.#fieldKeys)[i];\n            if (comparison !== 0) {\n                return comparison;\n            }\n        }\n        return a.#fieldKeys.length - b.#fieldKeys.length;\n    };\n    static MinimalComparator = (a, b) => {\n        const compareId = UUID.Comparator(a.#uuid, b.#uuid);\n        if (compareId !== 0) {\n            return compareId;\n        }\n        const n = Math.min(a.#fieldKeys.length, b.#fieldKeys.length);\n        for (let i = 0; i < n; i++) {\n            const comparison = (a.#fieldKeys)[i] - (b.#fieldKeys)[i];\n            if (comparison !== 0) {\n                return comparison;\n            }\n        }\n        return 0;\n    };\n    static LengthComparator = (a, b) => {\n        const compareId = UUID.Comparator(a.#uuid, b.#uuid);\n        if (compareId !== 0) {\n            return compareId;\n        }\n        return b.#fieldKeys.length - a.#fieldKeys.length;\n    };\n    static #EMPTY_FIELD_KEYS = new Int16Array(0);\n    #uuid;\n    #fieldKeys;\n    constructor(uuid, fieldKeys) {\n        this.#uuid = uuid;\n        this.#fieldKeys = fieldKeys;\n    }\n    get uuid() { return this.#uuid; }\n    get fieldKeys() { return this.#fieldKeys; }\n    isBox() { return this.#fieldKeys.length === 0; }\n    isContent() { return !this.isBox(); }\n    equals(other) { return Address.Comparator(this, other) === 0; }\n    compareTo(other) { return Address.Comparator(this, other); }\n    append(key) {\n        return new Address(this.#uuid, new Int16Array([...this.#fieldKeys, key]));\n    }\n    startsWith(other) {\n        return UUID.Comparator(other.#uuid, this.#uuid) === 0\n            && other.#fieldKeys.length <= this.#fieldKeys.length\n            && other.#fieldKeys.every((value, index) => this.#fieldKeys[index] === value);\n    }\n    write(output) {\n        output.writeBytes(new Int8Array(this.#uuid.buffer));\n        output.writeByte(this.#fieldKeys.length);\n        this.#fieldKeys.forEach(key => output.writeShort(key));\n    }\n    moveTo(target) { return new Address(target, this.#fieldKeys); }\n    decompose() { return [this.#uuid, this.#fieldKeys]; }\n    toJSON() { return { uuid: Array.from(this.#uuid.values()), fields: Array.from(this.#fieldKeys.values()) }; }\n    toArrayBuffer() {\n        const array = new Uint8Array(UUID.length + this.#fieldKeys.length);\n        array.set(this.#uuid, 0);\n        array.set(this.#fieldKeys, UUID.length);\n        return array.buffer;\n    }\n    toString() { return [UUID.toString(this.#uuid), ...this.#fieldKeys].join(\"/\"); }\n    static read(input) {\n        const uuidBytes = UUID.fromDataInput(input);\n        const numFields = input.readByte();\n        return Address.compose(uuidBytes, ...Arrays.create(() => input.readShort(), numFields));\n    }\n}\nexport var Addressable;\n(function (Addressable) {\n    Addressable.AddressReader = (addressable) => addressable.address;\n    Addressable.Comparator = ({ address: a }, { address: b }) => Address.Comparator(a, b);\n    Addressable.equals = (address, sorted) => {\n        const [l, r] = BinarySearch.rangeMapped(sorted, address, Address.Comparator, Addressable.AddressReader);\n        return sorted.slice(l, r + 1);\n    };\n    Addressable.startsWith = (address, sorted) => {\n        const [l, r] = BinarySearch.rangeMapped(sorted, address, Address.MinimalComparator, Addressable.AddressReader);\n        return sorted\n            .slice(l, r + 1)\n            .filter((addressable) => addressable.address.startsWith(address));\n    };\n    Addressable.endsWith = (address, sorted) => {\n        const l = BinarySearch.leftMostMapped(sorted, address, Address.LengthComparator, Addressable.AddressReader);\n        const r = BinarySearch.rightMostMapped(sorted, address, Address.MinimalComparator, Addressable.AddressReader);\n        return sorted\n            .slice(l, r + 1)\n            .filter((addressable) => address.startsWith(addressable.address));\n    };\n})(Addressable || (Addressable = {}));\nexport class AddressIdEncoder {\n    #ids;\n    #idCount;\n    constructor() {\n        this.#ids = Address.newSet(({ address }) => address);\n        this.#idCount = 0;\n    }\n    getOrCreate(address) {\n        return `id${this.#ids.getOrCreate(address, () => ({ address, id: `${++this.#idCount}` })).id}`;\n    }\n}\n", "import { Iterables, Listeners, Option, panic } from \"@naomiarotest/lib-std\";\nimport { Address } from \"./address\";\nexport class PointerHub {\n    static validate(pointer, target) {\n        if (pointer.address.equals(target.address)) {\n            return Option.wrap(`PointerField cannot point to itself: ${pointer}`);\n        }\n        if (!target.pointerRules.accepts.some((type) => type === pointer.pointerType)) {\n            const accepting = target.pointerRules.accepts.join(\", \");\n            return Option.wrap(`${String(pointer.pointerType)} does not satisfy any of the allowed types (${accepting}).`);\n        }\n        return Option.None;\n    }\n    #vertex;\n    #listeners;\n    constructor(vertex) {\n        this.#vertex = vertex;\n        this.#listeners = new Listeners();\n    }\n    subscribe(listener, ...filter) {\n        return this.#addFilteredListener(this.#listeners, listener, filter);\n    }\n    catchupAndSubscribe(listener, ...filter) {\n        const added = Address.newSet(pointer => pointer.address);\n        added.addMany(this.filter(...filter));\n        added.forEach(pointer => listener.onAdded(pointer));\n        // This takes track of the listener notification state.\n        // It is possible that the pointer has been added, but it has not been notified yet.\n        // That would cause the listener.onAdd method to be invoked twice.\n        return this.subscribe({\n            onAdded: (pointer) => {\n                if (added.add(pointer)) {\n                    listener.onAdded(pointer);\n                }\n            },\n            onRemoved: (pointer) => {\n                added.removeByKey(pointer.address);\n                listener.onRemoved(pointer);\n            }\n        }, ...filter);\n    }\n    filter(...types) {\n        return (types.length === 0 ? this.incoming() : Iterables.filter(this.incoming().values(), (pointerField) => types.some((type) => type === pointerField.pointerType)));\n    }\n    size() { return this.incoming().length; }\n    isEmpty() { return this.size() === 0; }\n    nonEmpty() { return this.size() > 0; }\n    contains(pointer) { return this.incoming().some(incoming => pointer.address.equals(incoming.address)); }\n    incoming() { return this.#vertex.graph.edges().incomingEdgesOf(this.#vertex).slice(); }\n    onAdded(pointerField) {\n        const issue = PointerHub.validate(pointerField, this.#vertex);\n        if (issue.nonEmpty()) {\n            return panic(issue.unwrap());\n        }\n        this.#listeners.proxy.onAdded(pointerField);\n    }\n    onRemoved(pointerField) {\n        this.#listeners.proxy.onRemoved(pointerField);\n    }\n    toString() {\n        return `{Pointers ${this.#vertex.address}, pointers: ${this.incoming().values()\n            .map((pointerField) => pointerField.toString())}}`;\n    }\n    #addFilteredListener(listeners, listener, filter) {\n        return listeners.subscribe({\n            onAdded: (pointer) => {\n                if (filter.length === 0 || filter.some((type) => type === pointer.pointerType)) {\n                    listener.onAdded(pointer);\n                }\n            },\n            onRemoved: (pointer) => {\n                if (filter.length === 0 || filter.some((type) => type === pointer.pointerType)) {\n                    listener.onRemoved(pointer);\n                }\n            }\n        });\n    }\n}\n", "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Arrays, Lazy, Objects, Option, panic, safeExecute } from \"@naomiarotest/lib-std\";\nimport { Address } from \"./address\";\nimport { PointerHub } from \"./pointer-hub\";\nexport class Field {\n    static hook(construct) {\n        return new Field(construct);\n    }\n    #parent;\n    #fieldKey;\n    #fieldName;\n    #pointerRules;\n    #deprecated;\n    constructor({ parent, fieldKey, fieldName, pointerRules, deprecated }) {\n        this.#parent = parent;\n        this.#fieldKey = fieldKey;\n        this.#fieldName = fieldName;\n        this.#pointerRules = pointerRules;\n        this.#deprecated = deprecated;\n        if (pointerRules.mandatory) {\n            this.graph.edges().watchVertex(this);\n        }\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitField, this);\n    }\n    get box() { return this.#parent.box; }\n    get graph() { return this.#parent.graph; }\n    get parent() { return this.#parent; }\n    get fieldKey() { return this.#fieldKey; }\n    get fieldName() { return this.#fieldName; }\n    get pointerRules() { return this.#pointerRules; }\n    get deprecated() { return this.#deprecated; }\n    get pointerHub() { return new PointerHub(this); }\n    get address() { return this.#parent.address.append(this.#fieldKey); }\n    get debugPath() {\n        return `${this.box.name}:${this.box.mapFields(field => field.fieldName, ...this.address.fieldKeys).join(\"/\")}`;\n    }\n    isBox() { return false; }\n    isField() { return true; }\n    isAttached() { return this.graph.findBox(this.address.uuid).nonEmpty(); }\n    fields() { return Arrays.empty(); }\n    record() { return Objects.empty(); }\n    getField(_key) { return panic(); }\n    optField(_key) { return Option.None; }\n    read(_input) { }\n    write(_output) { }\n    toJSON() { return undefined; }\n    fromJSON(_value) { return panic(\"fromJSON should never be called on a field\"); }\n    disconnect() {\n        if (this.pointerHub.isEmpty()) {\n            return;\n        }\n        const incoming = this.pointerHub.incoming();\n        incoming.forEach(pointer => {\n            pointer.defer();\n            if (pointer.mandatory || (this.pointerRules.mandatory && incoming.length === 1)) {\n                pointer.box.delete();\n            }\n        });\n    }\n    toString() { return `{${this.box.constructor.name}:${this.constructor.name} (${this.fieldName}) ${this.address.toString()}`; }\n}\n__decorate([\n    Lazy,\n    __metadata(\"design:type\", PointerHub),\n    __metadata(\"design:paramtypes\", [])\n], Field.prototype, \"pointerHub\", null);\n__decorate([\n    Lazy,\n    __metadata(\"design:type\", Address),\n    __metadata(\"design:paramtypes\", [])\n], Field.prototype, \"address\", null);\n__decorate([\n    Lazy,\n    __metadata(\"design:type\", String),\n    __metadata(\"design:paramtypes\", [])\n], Field.prototype, \"debugPath\", null);\n", "export const NoPointers = Object.freeze({ mandatory: false, accepts: [] });\n", "import { Field } from \"./field\";\nimport { Arrays, asDefined, Option, panic, safeExecute } from \"@naomiarotest/lib-std\";\nimport { NoPointers } from \"./vertex\";\nexport class ArrayField extends Field {\n    static create(construct, factory, length) {\n        return new ArrayField(construct, factory, length);\n    }\n    #fields;\n    constructor(construct, factory, length) {\n        super(construct);\n        this.#fields = Arrays.create((index) => factory({\n            parent: this,\n            fieldKey: index,\n            fieldName: String(index),\n            pointerRules: NoPointers,\n            deprecated: construct.deprecated\n        }), length);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitArrayField, this);\n    }\n    fields() { return this.#fields; }\n    record() {\n        return Arrays.toRecord(this.#fields, field => String(field.fieldKey));\n    }\n    getField(key) {\n        return asDefined(this.#fields[key]);\n    }\n    optField(key) {\n        return Option.wrap(this.#fields[key]);\n    }\n    read(input) { this.#fields.forEach(field => field.read(input)); }\n    write(output) {\n        this.#fields.filter(field => !field.deprecated)\n            .forEach(field => field.write(output));\n    }\n    size() { return this.#fields.length; }\n    toJSON() {\n        if (this.deprecated) {\n            return undefined;\n        }\n        return Object.values(this.#fields).map((field) => field.toJSON() ?? null);\n    }\n    fromJSON(values) {\n        if (this.deprecated) {\n            return;\n        }\n        if (Array.isArray(values)) {\n            values.forEach((value, index) => this.#fields[index].fromJSON(value));\n        }\n        else {\n            return panic(\"Type mismatch\");\n        }\n    }\n}\n", "import { assert, ByteArrayInput, ByteArrayOutput, isUndefined, tryCatch } from \"@naomiarotest/lib-std\";\nexport var Serializer;\n(function (Serializer) {\n    const MAGIC_HEADER = 0x464c4453;\n    Serializer.writeFields = (output, fields) => {\n        const entries = Object.entries(fields).filter(([_, field]) => !field.deprecated);\n        output.writeInt(MAGIC_HEADER);\n        output.writeShort(entries.length);\n        entries.forEach(([key, field]) => {\n            const bytes = ByteArrayOutput.create();\n            field.write(bytes);\n            const buffer = new Int8Array(bytes.toArrayBuffer());\n            output.writeShort(Number(key));\n            output.writeInt(buffer.length);\n            output.writeBytes(buffer);\n        });\n    };\n    Serializer.readFields = (input, fields) => {\n        assert(input.readInt() === MAGIC_HEADER, \"Serializer header is corrupt\");\n        const numFields = input.readShort();\n        for (let i = 0; i < numFields; i++) {\n            const key = input.readShort();\n            if (isUndefined(fields[key])) {\n                continue;\n            }\n            const byteLength = input.readInt();\n            const bytes = new Int8Array(byteLength);\n            input.readBytes(bytes);\n            const { status, error } = tryCatch(() => fields[key]?.read(new ByteArrayInput(bytes.buffer)));\n            if (status === \"failure\") {\n                console.warn(fields, error);\n            }\n        }\n    };\n})(Serializer || (Serializer = {}));\n", "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Address } from \"./address\";\nimport { Arrays, asDefined, asInstanceOf, ByteArrayOutput, ByteCounter, isDefined, isRecord, Lazy, Option, panic } from \"@naomiarotest/lib-std\";\nimport { PointerHub } from \"./pointer-hub\";\nimport { Serializer } from \"./serializer\";\nexport class Box {\n    static DEBUG_DELETION = false;\n    static Index = 0 | 0;\n    #address;\n    #graph;\n    #name;\n    #pointerRules;\n    #fields;\n    #creationIndex = Box.Index++;\n    constructor({ uuid, graph, name, pointerRules }) {\n        this.#address = Address.compose(uuid);\n        this.#graph = graph;\n        this.#name = name;\n        this.#pointerRules = pointerRules;\n        this.#fields = this.initializeFields();\n        if (pointerRules.mandatory) {\n            this.graph.edges().watchVertex(this);\n        }\n    }\n    fields() { return Object.values(this.#fields); }\n    record() { return this.#fields; }\n    getField(key) {\n        return asDefined(this.#fields[key], () => `Field ${String(key)} not found in ${this.toString()}`);\n    }\n    optField(key) { return Option.wrap(this.#fields[key]); }\n    subscribe(propagation, procedure) {\n        return this.graph.subscribeVertexUpdates(propagation, this.address, procedure);\n    }\n    get box() { return this; }\n    get name() { return this.#name; }\n    get graph() { return this.#graph; }\n    get parent() { return this; }\n    get address() { return this.#address; }\n    get pointerRules() { return this.#pointerRules; }\n    get creationIndex() { return this.#creationIndex; }\n    get pointerHub() { return new PointerHub(this); }\n    estimateMemory() {\n        const byteCounter = new ByteCounter();\n        this.write(byteCounter);\n        return byteCounter.count;\n    }\n    isBox() { return true; }\n    asBox(type) { return asInstanceOf(this, type); }\n    isField() { return false; }\n    isAttached() { return this.#graph.findBox(this.address.uuid).nonEmpty(); }\n    read(input) { Serializer.readFields(input, this.#fields); }\n    write(output) { Serializer.writeFields(output, this.#fields); }\n    serialize() {\n        const output = ByteArrayOutput.create();\n        output.writeInt(this.#creationIndex); // allows to re-load the boxes in the same order as created\n        output.writeString(this.name);\n        output.writeBytes(new Int8Array(this.address.uuid.buffer));\n        this.write(output);\n        return output.toArrayBuffer();\n    }\n    toArrayBuffer() {\n        const output = ByteArrayOutput.create();\n        this.write(output);\n        return output.toArrayBuffer();\n    }\n    toJSON() {\n        return Object.entries(this.#fields).reduce((result, [key, field]) => {\n            const value = field.toJSON();\n            if (isDefined(value)) {\n                result[key] = value;\n            }\n            return result;\n        }, {});\n    }\n    fromJSON(record) {\n        if (isRecord(record)) {\n            Object.entries(record).forEach(([key, value]) => {\n                const field = this.#fields[parseInt(key)];\n                if (isDefined(value)) {\n                    field.fromJSON(value);\n                }\n            });\n        }\n        else {\n            return panic(\"Type mismatch\");\n        }\n    }\n    incomingEdges() { return this.graph.edges().incomingEdgesOf(this); }\n    outgoingEdges() { return this.graph.edges().outgoingEdgesOf(this); }\n    mapFields(map, ...keys) {\n        if (keys.length === 0) {\n            return Arrays.empty();\n        }\n        let parent = this.getField(keys[0]);\n        const result = [map(parent)];\n        for (let index = 1; index < keys.length; index++) {\n            parent = parent.getField(keys[index]);\n            result.push(map(parent));\n        }\n        return result;\n    }\n    searchVertex(keys) {\n        if (keys.length === 0) {\n            return Option.wrap(this);\n        }\n        let parent = this.optField(keys[0]);\n        if (parent.isEmpty()) {\n            return Option.None;\n        }\n        for (let index = 1; index < keys.length; index++) {\n            parent = parent.unwrap().optField(keys[index]);\n            if (parent.isEmpty()) {\n                return Option.None;\n            }\n        }\n        return parent;\n    }\n    delete() {\n        if (!this.isAttached()) {\n            return;\n        }\n        const { boxes, pointers } = this.graph.dependenciesOf(this);\n        if (Box.DEBUG_DELETION) {\n            console.debug(`Delete ${this.toString()}`);\n            console.debug(\"\\tunplugs\", [...pointers].map(x => x.toString()).join(\"\\n\"));\n            console.debug(\"\\tunstages\", [...boxes].map(x => x.toString()).join(\"\\n\"), this);\n        }\n        for (const pointer of pointers) {\n            pointer.defer();\n        }\n        for (const box of boxes) {\n            box.unstage();\n        }\n        this.unstage();\n    }\n    unstage() { this.graph.unstageBox(this); }\n    isValid() {\n        if (this.#pointerRules.mandatory && this.pointerHub.incoming().length === 0) {\n            return false;\n        }\n        const walkRecursive = (fields) => fields.every(field => field.accept({\n            visitPointerField: (field) => !field.mandatory || field.nonEmpty(),\n            visitArrayField: (field) => walkRecursive(field.fields()),\n            visitObjectField: (field) => walkRecursive(field.fields()),\n            visitPrimitiveField: (_field) => true,\n            visitField: (_field) => true\n        }) ?? true);\n        return walkRecursive(this.fields());\n    }\n    toString() { return `${this.constructor.name} ${this.address.toString()}`; }\n}\n__decorate([\n    Lazy,\n    __metadata(\"design:type\", PointerHub),\n    __metadata(\"design:paramtypes\", [])\n], Box.prototype, \"pointerHub\", null);\n", "export var Constraints;\n(function (Constraints) {\n    // TODO There are many challenges to be solved. One is project-migration:\n    //  Old values might be out of range now!\n    Constraints.clampInt32 = (constraint, value) => {\n        // TODO\n        /*if (constraint === \"any\") {\n            return value\n        } else if (constraint === \"index\" || constraint === \"non-negative\") {\n            assert(value >= 0, () => `value(${value}) must be non-negative`)\n        } else if (constraint === \"positive\") {\n            assert(value > 0, () => `value(${value}) must be positive`)\n        } else if (typeof constraint === \"object\") {\n            if (\"min\" in constraint && \"max\" in constraint) {\n                assert(constraint.min <= value && value <= constraint.max,\n                    () => `value(${value}) must be in minmax(${constraint.min}, ${constraint.max})`)\n            } else if (\"values\" in constraint) {\n                assert(constraint.values.includes(value),\n                    () => `value(${value}) must be in values(${constraint.values.join(\", \")})`)\n            } else if (\"length\" in constraint) {\n                assert(value >= 0 && value < constraint.length,\n                    () => `value(${value}) must be non-negative and lower then length(${constraint.length})`)\n            }\n        }*/\n        return value;\n    };\n    Constraints.clampFloat32 = (constraint, value) => {\n        // TODO\n        /*if (constraint === \"any\") {\n            return value\n        } else if (constraint === \"unipolar\") {\n            assert(value >= 0 && value <= 1, () => `value(${value}) must be in [0, 1]`)\n        } else if (constraint === \"bipolar\") {\n            assert(value >= -1 && value <= 1, () => `value(${value}) must be in [-1, 1]`)\n        } else if (constraint === \"decibel\") {\n            assert(value <= 0.0, () => `value(${value}) must be in [-INFINITY, 0]`)\n        } else if (constraint === \"non-negative\") {\n            assert(value >= 0, () => `value(${value}) must be non-negative`)\n        } else if (constraint === \"positive\") {\n            assert(value > 0, () => `value(${value}) must be positive`)\n        } else if (typeof constraint === \"object\") {\n            if (\"min\" in constraint && \"max\" in constraint) {\n                assert(constraint.min <= value && value <= constraint.max,\n                    () => `value(${value}) must be in minmax(${constraint.min}, ${constraint.max})`)\n            }\n        }*/\n        return value;\n    };\n})(Constraints || (Constraints = {}));\n", "import { Terminator, Unhandled } from \"@naomiarotest/lib-std\";\nimport { Addressable } from \"./address\";\nexport var Propagation;\n(function (Propagation) {\n    Propagation[Propagation[\"This\"] = 0] = \"This\";\n    Propagation[Propagation[\"Parent\"] = 1] = \"Parent\";\n    Propagation[Propagation[\"Children\"] = 2] = \"Children\";\n})(Propagation || (Propagation = {}));\nexport var Dispatchers;\n(function (Dispatchers) {\n    Dispatchers.create = () => new DispatchersImpl();\n})(Dispatchers || (Dispatchers = {}));\nclass DispatchersImpl {\n    #thisDispatcher = new Dispatcher(Addressable.equals);\n    #parentDispatcher = new Dispatcher(Addressable.startsWith);\n    #childrenDispatcher = new Dispatcher(Addressable.endsWith);\n    #deferredStations = [];\n    #order = 0 | 0;\n    #dispatching = false;\n    subscribe(propagation, address, procedure) {\n        const monitor = new Monitor(address, propagation, this.#order++, procedure);\n        if (this.#dispatching) {\n            const deferred = new DeferredMonitor(monitor, propagation);\n            this.#deferredStations.push(deferred);\n            return deferred;\n        }\n        else {\n            return this.subscribeMonitor(monitor, propagation);\n        }\n    }\n    dispatch(target) {\n        this.#dispatching = true;\n        const invoked = [\n            ...this.#thisDispatcher.filter(target),\n            ...this.#parentDispatcher.filter(target),\n            ...this.#childrenDispatcher.filter(target)\n        ];\n        invoked\n            .sort(({ order: a }, { order: b }) => a - b)\n            .forEach((station) => station.procedure(target));\n        this.#dispatching = false;\n        this.#deferredStations.forEach((station) => station.subscribe(this));\n        this.#deferredStations.length = 0;\n    }\n    subscribeMonitor(monitor, propagation) {\n        switch (propagation) {\n            case Propagation.This:\n                return this.#thisDispatcher.subscribe(monitor);\n            case Propagation.Parent:\n                return this.#parentDispatcher.subscribe(monitor);\n            case Propagation.Children:\n                return this.#childrenDispatcher.subscribe(monitor);\n            default:\n                return Unhandled(propagation);\n        }\n    }\n    countStations() {\n        return this.#thisDispatcher.count() + this.#parentDispatcher.count() + this.#childrenDispatcher.count();\n    }\n}\nclass Monitor {\n    address;\n    propagation;\n    order;\n    procedure;\n    constructor(address, propagation, order, procedure) {\n        this.address = address;\n        this.propagation = propagation;\n        this.order = order;\n        this.procedure = procedure;\n    }\n    toString() {\n        return `{ Monitor address: ${this.address}, propagation: ${Propagation[this.propagation]}, order: ${this.order} }`;\n    }\n}\nclass Dispatcher {\n    filterStrategy;\n    #monitors = [];\n    #sorted = true;\n    constructor(filterStrategy) {\n        this.filterStrategy = filterStrategy;\n    }\n    subscribe(monitor) {\n        this.#monitors.push(monitor);\n        this.#sorted = this.#monitors.length < 2;\n        return {\n            terminate: () => {\n                let index = this.#monitors.length;\n                while (--index >= 0) {\n                    if (this.#monitors[index] === monitor) {\n                        this.#monitors.splice(index, 1);\n                    }\n                }\n            }\n        };\n    }\n    stations() {\n        if (!this.#sorted) {\n            this.#monitors.sort(Addressable.Comparator);\n            this.#sorted = true;\n        }\n        return this.#monitors;\n    }\n    filter(target) { return this.filterStrategy(target.address, this.stations()); }\n    count() { return this.#monitors.length; }\n}\nclass DeferredMonitor {\n    monitor;\n    propagation;\n    #terminator = new Terminator();\n    #terminated = false;\n    constructor(monitor, propagation) {\n        this.monitor = monitor;\n        this.propagation = propagation;\n    }\n    subscribe(dispatchers) {\n        if (this.#terminated) {\n            return;\n        }\n        this.#terminator.terminate();\n        this.#terminator.own(dispatchers.subscribeMonitor(this.monitor, this.propagation));\n    }\n    terminate() {\n        this.#terminated = true;\n        this.#terminator.terminate();\n    }\n}\n", "import { Field } from \"./field\";\nimport { assert, Float, Integer, panic, safeExecute } from \"@naomiarotest/lib-std\";\nimport { Propagation } from \"./dispatchers\";\nimport { Constraints } from \"./constraints\";\nexport var PrimitiveType;\n(function (PrimitiveType) {\n    PrimitiveType[\"Boolean\"] = \"boolean\";\n    PrimitiveType[\"Float32\"] = \"float32\";\n    PrimitiveType[\"Int32\"] = \"int32\";\n    PrimitiveType[\"String\"] = \"string\";\n    PrimitiveType[\"Bytes\"] = \"bytes\";\n})(PrimitiveType || (PrimitiveType = {}));\nexport const ValueSerialization = {\n    [PrimitiveType.Boolean]: {\n        type: PrimitiveType.Boolean,\n        encode: (output, value) => output.writeBoolean(value),\n        decode: (input) => input.readBoolean()\n    },\n    [PrimitiveType.Float32]: {\n        type: PrimitiveType.Float32,\n        encode: (output, value) => output.writeFloat(value),\n        decode: (input) => input.readFloat()\n    },\n    [PrimitiveType.Int32]: {\n        type: PrimitiveType.Int32,\n        encode: (output, value) => output.writeInt(value),\n        decode: (input) => input.readInt()\n    },\n    [PrimitiveType.String]: {\n        type: PrimitiveType.String,\n        encode: (output, value) => output.writeString(value),\n        decode: (input) => input.readString()\n    },\n    [PrimitiveType.Bytes]: {\n        type: PrimitiveType.Bytes,\n        encode: (output, value) => {\n            output.writeInt(value.length);\n            output.writeBytes(value);\n        },\n        decode: (input) => {\n            const array = new Int8Array(input.readInt());\n            input.readBytes(array);\n            return array;\n        }\n    }\n};\nexport class PrimitiveField extends Field {\n    #type;\n    #initValue;\n    #value;\n    constructor(field, type, value) {\n        super(field);\n        this.#type = type;\n        this.#initValue = value;\n        this.#value = this.#initValue;\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitPrimitiveField, this);\n    }\n    subscribe(observer) {\n        return this.graph.subscribeVertexUpdates(Propagation.This, this.address, () => observer(this));\n    }\n    catchupAndSubscribe(observer) {\n        observer(this);\n        return this.subscribe(observer);\n    }\n    get type() { return this.#type; }\n    get initValue() { return this.#initValue; }\n    setInitValue(value) {\n        assert(this.graph.constructingBox(), \"Cannot change initial value at runtime\");\n        this.setValue(this.#initValue = this.clamp(value));\n    }\n    getValue() { return this.#value; }\n    setValue(value) {\n        const oldValue = this.#value;\n        const newValue = this.clamp(value);\n        if (this.equals(newValue)) {\n            return;\n        }\n        this.#value = newValue;\n        this.graph.onPrimitiveValueUpdate(this, oldValue, newValue);\n    }\n    writeValue(output, value) {\n        assert(!this.deprecated, \"PrimitiveField.write: deprecated field\");\n        this.serialization().encode(output, value);\n    }\n    readValue(input) { return this.serialization().decode(input); }\n    toJSON() {\n        if (this.deprecated) {\n            return undefined;\n        }\n        const value = this.getValue();\n        return ArrayBuffer.isView(value) ? panic(\"not implemented\") : value;\n    }\n    fromJSON(_value) { return panic(\"Type mismatch\"); }\n    reset() { this.setValue(this.#initValue); }\n}\nexport class BooleanField extends PrimitiveField {\n    static create(construct, value = false) {\n        return new BooleanField(construct, value);\n    }\n    constructor(construct, value) { super(construct, PrimitiveType.Boolean, value); }\n    toggle() { this.setValue(!this.getValue()); }\n    serialization() { return ValueSerialization[PrimitiveType.Boolean]; }\n    equals(value) { return this.getValue() === value; }\n    clamp(value) { return value; }\n    read(input) { this.setValue(input.readBoolean()); }\n    write(output) {\n        assert(!this.deprecated, \"BooleanField.write: deprecated field\");\n        output.writeBoolean(this.getValue());\n    }\n    fromJSON(value) {\n        if (this.deprecated) {\n            return;\n        }\n        if (typeof value === \"boolean\") {\n            this.setValue(value);\n        }\n        else {\n            console.warn(\"BooleanField Type mismatch\", value, this.address.toString());\n        }\n    }\n}\nexport class Float32Field extends PrimitiveField {\n    static create(construct, constraints, unit, value = 0.0) {\n        return new Float32Field(construct, constraints, unit, value);\n    }\n    #constraints;\n    #unit;\n    constructor(construct, constraints, unit, value) {\n        super(construct, PrimitiveType.Float32, value);\n        this.#constraints = constraints;\n        this.#unit = unit;\n    }\n    serialization() { return ValueSerialization[PrimitiveType.Float32]; }\n    equals(value) { return this.getValue() === value; }\n    clamp(value) { return Constraints.clampFloat32(this.#constraints, Float.toFloat32(value)); }\n    read(input) { this.setValue(input.readFloat()); }\n    write(output) {\n        assert(!this.deprecated, \"FLoat32Field.write: deprecated field\");\n        output.writeFloat(this.getValue());\n    }\n    get unit() { return this.#unit; }\n    get constraints() { return this.#constraints; }\n    fromJSON(value) {\n        if (this.deprecated) {\n            return;\n        }\n        if (typeof value === \"number\") {\n            this.setValue(value);\n        }\n        else {\n            console.warn(\"Float32Field Type mismatch\", value, this.address.toString());\n        }\n    }\n}\nexport class Int32Field extends PrimitiveField {\n    static create(construct, constraints, unit, value = 0) {\n        return new Int32Field(construct, constraints, unit, value);\n    }\n    #constraints;\n    #unit;\n    constructor(construct, constraints, unit, value) {\n        super(construct, PrimitiveType.Int32, value);\n        this.#constraints = constraints;\n        this.#unit = unit;\n    }\n    serialization() { return ValueSerialization[PrimitiveType.Int32]; }\n    equals(value) { return this.getValue() === value; }\n    clamp(value) { return Constraints.clampInt32(this.#constraints, Integer.toInt(value)); }\n    read(input) { this.setValue(input.readInt()); }\n    write(output) {\n        assert(!this.deprecated, \"Int32Field.write: deprecated field\");\n        output.writeInt(this.getValue());\n    }\n    get unit() { return this.#unit; }\n    get constraints() { return this.#constraints; }\n    fromJSON(value) {\n        if (this.deprecated) {\n            return;\n        }\n        if (typeof value === \"number\" && value === Math.floor(value)\n            && value >= Integer.MIN_VALUE && value <= Integer.MAX_VALUE) {\n            this.setValue(value);\n        }\n        else {\n            console.warn(\"Int32Field Type mismatch\", value, this.address.toString());\n        }\n    }\n}\nexport class StringField extends PrimitiveField {\n    static create(construct, value = \"\") {\n        return new StringField(construct, value);\n    }\n    constructor(construct, value) { super(construct, PrimitiveType.String, value); }\n    serialization() { return ValueSerialization[PrimitiveType.String]; }\n    equals(value) { return this.getValue() === value; }\n    clamp(value) { return value; }\n    read(input) { this.setValue(input.readString()); }\n    write(output) {\n        assert(!this.deprecated, \"StringField.write: deprecated field\");\n        output.writeString(this.getValue());\n    }\n    fromJSON(value) {\n        if (this.deprecated) {\n            return;\n        }\n        if (typeof value === \"string\") {\n            this.setValue(value);\n        }\n        else {\n            console.warn(\"StringField Type mismatch\", value, this.address.toString());\n        }\n    }\n}\nexport class ByteArrayField extends PrimitiveField {\n    static create(construct, value = this.#empty) {\n        return new ByteArrayField(construct, value);\n    }\n    static #empty = Object.freeze(new Int8Array(0));\n    constructor(construct, value) { super(construct, PrimitiveType.Bytes, value); }\n    serialization() { return ValueSerialization[PrimitiveType.Bytes]; }\n    equals(value) {\n        return this.getValue().length === value.length && this.getValue().every((x, index) => value[index] === x);\n    }\n    clamp(value) { return value; }\n    read(input) {\n        const bytes = new Int8Array(input.readInt());\n        input.readBytes(bytes);\n        this.setValue(bytes);\n    }\n    write(output) {\n        assert(!this.deprecated, \"ByteArrayField.write: deprecated field\");\n        const bytes = this.getValue();\n        output.writeInt(bytes.length);\n        output.writeBytes(bytes);\n    }\n    toJSON() {\n        if (this.deprecated) {\n            return undefined;\n        }\n        return Array.from(this.getValue().values());\n    }\n    fromJSON(value) {\n        if (this.deprecated) {\n            return;\n        }\n        if (Array.isArray(value) && value.every(number => typeof number === \"number\")) {\n            this.setValue(new Int8Array(value));\n        }\n        else {\n            console.warn(\"ByteArrayField Type mismatch\", value, this.address.toString());\n        }\n    }\n}\n", "import { ValueSerialization } from \"./primitive\";\nimport { Address } from \"./address\";\nimport { Arrays, ByteArrayInput, Option, UUID } from \"@naomiarotest/lib-std\";\nexport var Updates;\n(function (Updates) {\n    Updates.decode = (input) => {\n        const numBlocks = input.readInt();\n        return Arrays.create(() => {\n            const type = input.readString();\n            switch (type) {\n                case \"new\": {\n                    const uuid = UUID.fromDataInput(input);\n                    const name = input.readString();\n                    const settings = new Int8Array(input.readInt());\n                    input.readBytes(settings);\n                    return new NewUpdate(uuid, name, settings.buffer);\n                }\n                case \"pointer\": {\n                    const address = Address.read(input);\n                    const oldAddress = input.readBoolean() ? Option.wrap(Address.read(input)) : Option.None;\n                    const newAddress = input.readBoolean() ? Option.wrap(Address.read(input)) : Option.None;\n                    return new PointerUpdate(address, oldAddress, newAddress);\n                }\n                case \"primitive\": {\n                    const address = Address.read(input);\n                    const type = input.readString();\n                    const serializer = ValueSerialization[type];\n                    const oldValue = serializer.decode(input);\n                    const newValue = serializer.decode(input);\n                    return new PrimitiveUpdate(address, serializer, oldValue, newValue);\n                }\n                case \"delete\": {\n                    const uuid = UUID.fromDataInput(input);\n                    const name = input.readString();\n                    const settings = new Int8Array(input.readInt());\n                    input.readBytes(settings);\n                    return new DeleteUpdate(uuid, name, settings.buffer);\n                }\n            }\n        }, numBlocks);\n    };\n})(Updates || (Updates = {}));\nexport class NewUpdate {\n    type = \"new\";\n    #uuid;\n    #name;\n    #settings;\n    constructor(uuid, name, settings) {\n        this.#uuid = uuid;\n        this.#name = name;\n        this.#settings = settings;\n    }\n    get uuid() { return this.#uuid; }\n    get name() { return this.#name; }\n    get settings() { return this.#settings; }\n    forward(graph) {\n        graph.createBox(this.#name, this.#uuid, box => box.read(new ByteArrayInput(this.#settings)));\n    }\n    inverse(graph) {\n        graph.findBox(this.#uuid).unwrap(() => `Could not find ${this.#name}`).unstage();\n    }\n    write(output) {\n        output.writeString(this.type);\n        UUID.toDataOutput(output, this.#uuid);\n        output.writeString(this.#name);\n        output.writeInt(this.#settings.byteLength);\n        output.writeBytes(new Int8Array(this.#settings));\n    }\n    toString() {\n        return `{NewUpdate uuid: ${UUID.toString(this.#uuid)}, attachment: ${this.settings.byteLength}b`;\n    }\n    toDebugString(_graph) { return this.toString(); }\n}\nexport class PrimitiveUpdate {\n    type = \"primitive\";\n    #address;\n    #serialization;\n    #oldValue;\n    #newValue;\n    constructor(address, serialization, oldValue, newValue) {\n        this.#address = address;\n        this.#serialization = serialization;\n        this.#oldValue = oldValue;\n        this.#newValue = newValue;\n    }\n    get address() { return this.#address; }\n    get oldValue() { return this.#oldValue; }\n    get newValue() { return this.#newValue; }\n    matches(field) { return field.address.equals(this.address); }\n    inverse(graph) { this.field(graph).setValue(this.#oldValue); }\n    forward(graph) { this.field(graph).setValue(this.#newValue); }\n    field(graph) {\n        return graph.findVertex(this.#address)\n            .unwrap(() => `Could not find PrimitiveField at ${this.#address}`);\n    }\n    write(output) {\n        output.writeString(this.type);\n        this.#address.write(output);\n        output.writeString(this.#serialization.type);\n        this.#serialization.encode(output, this.#oldValue);\n        this.#serialization.encode(output, this.#newValue);\n    }\n    toString() {\n        return `{PrimitiveUpdate oldValue: ${this.#oldValue}, newValue: ${this.#newValue}`;\n    }\n}\nexport class PointerUpdate {\n    type = \"pointer\";\n    #address;\n    #oldAddress;\n    #newAddress;\n    constructor(address, oldAddress, newAddress) {\n        this.#address = address;\n        this.#oldAddress = oldAddress;\n        this.#newAddress = newAddress;\n    }\n    get address() { return this.#address; }\n    get oldAddress() { return this.#oldAddress; }\n    get newAddress() { return this.#newAddress; }\n    matches(field) { return field.address.equals(this.address); }\n    inverse(graph) { this.field(graph).targetAddress = this.#oldAddress; }\n    forward(graph) { this.field(graph).targetAddress = this.#newAddress; }\n    field(graph) {\n        return graph.findVertex(this.#address)\n            .unwrap(() => `Could not find PointerField at ${this.#address}`);\n    }\n    write(output) {\n        output.writeString(this.type);\n        this.#address.write(output);\n        this.#oldAddress.match({\n            none: () => output.writeBoolean(false),\n            some: address => {\n                output.writeBoolean(true);\n                address.write(output);\n            }\n        });\n        this.#newAddress.match({\n            none: () => output.writeBoolean(false),\n            some: address => {\n                output.writeBoolean(true);\n                address.write(output);\n            }\n        });\n    }\n    toString() {\n        return `{PointerUpdate oldValue: ${this.#oldAddress.unwrapOrNull()}, newValue: ${this.#newAddress.unwrapOrNull()}`;\n    }\n}\nexport class DeleteUpdate {\n    type = \"delete\";\n    #uuid;\n    #name;\n    #settings;\n    constructor(uuid, name, settings) {\n        this.#uuid = uuid;\n        this.#name = name;\n        this.#settings = settings;\n    }\n    get uuid() { return this.#uuid; }\n    get name() { return this.#name; }\n    get settings() { return this.#settings; }\n    forward(graph) {\n        graph.findBox(this.#uuid).unwrap(() => `Could not find ${this.#name}`).unstage();\n    }\n    inverse(graph) {\n        graph.createBox(this.#name, this.#uuid, box => box.read(new ByteArrayInput(this.#settings)));\n    }\n    write(output) {\n        output.writeString(this.type);\n        UUID.toDataOutput(output, this.#uuid);\n        output.writeString(this.#name);\n        output.writeInt(this.#settings.byteLength);\n        output.writeBytes(new Int8Array(this.#settings));\n    }\n    toString() {\n        return `{DeleteUpdate uuid: ${UUID.toString(this.#uuid)}, attachment: ${this.settings.byteLength}b`;\n    }\n}\n", "import { assert, isNull, Option, panic, safeExecute, tryCatch } from \"@naomiarotest/lib-std\";\nimport { Address } from \"./address\";\nimport { PointerHub } from \"./pointer-hub\";\nimport { Field } from \"./field\";\nimport { Propagation } from \"./dispatchers\";\nconst _Unreferenceable = Symbol(\"Unreferenceable\");\nexport class PointerField extends Field {\n    static create(construct, pointerType, mandatory) {\n        return new PointerField(construct, pointerType, mandatory);\n    }\n    static encodeWith(encoder, exec) {\n        assert(this.#encoder.isEmpty(), \"SerializationEncoder already in use\");\n        this.#encoder = Option.wrap(encoder);\n        const result = tryCatch(exec);\n        this.#encoder = Option.None;\n        if (result.status === \"failure\") {\n            throw result.error;\n        }\n        return result.value;\n    }\n    static decodeWith(decoder, exec) {\n        assert(this.#decoder.isEmpty(), \"SerializationDecoder already in use\");\n        this.#decoder = Option.wrap(decoder);\n        const result = tryCatch(exec);\n        this.#decoder = Option.None;\n        if (result.status === \"failure\") {\n            throw result.error;\n        }\n        return result.value;\n    }\n    static #encoder = Option.None;\n    static #decoder = Option.None;\n    #pointerType;\n    #mandatory;\n    #targetVertex = Option.None;\n    #targetAddress = Option.None;\n    constructor(field, pointerType, mandatory) {\n        super(field);\n        this.#pointerType = pointerType;\n        this.#mandatory = mandatory;\n        if (mandatory) {\n            this.graph.edges().watchVertex(this);\n        }\n    }\n    get pointerHub() { return panic(`${this} cannot be pointed to`); }\n    get pointerType() { return this.#pointerType; }\n    get mandatory() { return this.#mandatory; }\n    accept(visitor) {\n        return safeExecute(visitor.visitPointerField, this);\n    }\n    subscribe(observer) {\n        return this.graph.subscribeVertexUpdates(Propagation.This, this.address, () => this.graph.subscribeEndTransaction(() => observer(this)));\n    }\n    catchupAndSubscribe(observer) {\n        observer(this);\n        return this.subscribe(observer);\n    }\n    refer(vertex) {\n        this.targetVertex = Option.wrap(vertex);\n    }\n    defer() { this.targetVertex = Option.None; }\n    get targetVertex() {\n        return this.graph.inTransaction()\n            ? this.#targetAddress.flatMap((address) => this.graph.findVertex(address))\n            : this.#targetVertex;\n    }\n    set targetVertex(option) {\n        if (option.nonEmpty()) {\n            const issue = PointerHub.validate(this, option.unwrap());\n            if (issue.nonEmpty()) {\n                panic(issue.unwrap());\n            }\n        }\n        this.targetAddress = option.map(vertex => vertex.address);\n    }\n    get targetAddress() { return this.#targetAddress; }\n    set targetAddress(newValue) {\n        const oldValue = this.#targetAddress;\n        if ((oldValue.isEmpty() && newValue.isEmpty())\n            || (newValue.nonEmpty() && oldValue.unwrapOrNull()?.equals(newValue.unwrap())) === true) {\n            return;\n        }\n        this.#targetAddress = newValue;\n        this.graph.onPointerAddressUpdated(this, oldValue, newValue);\n    }\n    isEmpty() { return this.targetAddress.isEmpty(); }\n    nonEmpty() { return this.targetAddress.nonEmpty(); }\n    resolvedTo(newTarget) { this.#targetVertex = newTarget; }\n    read(input) {\n        const address = input.readBoolean()\n            ? Option.wrap(Address.read(input))\n            : Option.None;\n        this.targetAddress = PointerField.#decoder.match({\n            none: () => address,\n            some: decoder => decoder.map(this, address)\n        });\n    }\n    write(output) {\n        assert(!this.deprecated, \"PointerField.write: deprecated field\");\n        PointerField.#encoder.match({\n            none: () => this.#targetAddress,\n            some: encoder => encoder.map(this)\n        }).match({\n            none: () => output.writeBoolean(false),\n            some: address => {\n                output.writeBoolean(true);\n                address.write(output);\n            }\n        });\n    }\n    toJSON() {\n        if (this.deprecated) {\n            return undefined;\n        }\n        return PointerField.#encoder\n            .match({\n            none: () => this.#targetAddress,\n            some: encoder => encoder.map(this)\n        }).match({\n            none: () => null,\n            some: address => address.toString()\n        });\n    }\n    fromJSON(value) {\n        if (this.deprecated) {\n            return;\n        }\n        if (isNull(value) || typeof value === \"string\") {\n            const address = Option.wrap(isNull(value) ? null : Address.decode(value));\n            this.targetAddress = PointerField.#decoder.match({\n                none: () => address,\n                some: decoder => decoder.map(this, address)\n            });\n        }\n        else {\n            return panic(`Pointer: Type mismatch. value (${typeof value}) must be a string.`);\n        }\n    }\n}\n", "import { Arrays, isDefined, isInstanceOf, panic } from \"@naomiarotest/lib-std\";\nimport { Address } from \"./address\";\nimport { PointerField } from \"./pointer\";\nexport class GraphEdges {\n    #requiresTarget;\n    #requiresPointer;\n    #incoming;\n    #outgoing;\n    constructor() {\n        this.#requiresTarget = Address.newSet(source => source.address);\n        this.#requiresPointer = Address.newSet(vertex => vertex.address);\n        this.#incoming = Address.newSet(([address]) => address);\n        this.#outgoing = Address.newSet(([source]) => source.address);\n    }\n    watchVertex(vertex) {\n        if (isInstanceOf(vertex, PointerField)) {\n            if (!vertex.mandatory) {\n                return panic(\"watchVertex called but has no edge requirement\");\n            }\n            this.#requiresTarget.add(vertex);\n        }\n        else {\n            if (!vertex.pointerRules.mandatory) {\n                return panic(\"watchVertex called but has no edge requirement\");\n            }\n            this.#requiresPointer.add(vertex);\n        }\n    }\n    unwatchVerticesOf(...boxes) {\n        const map = ({ box: { address: { uuid } } }) => uuid;\n        for (const { address: { uuid } } of boxes) {\n            this.#removeSameBox(this.#requiresTarget, uuid, map);\n            this.#removeSameBox(this.#requiresPointer, uuid, map);\n        }\n        for (const box of boxes) {\n            const outgoingLinks = this.outgoingEdgesOf(box);\n            if (outgoingLinks.length > 0) {\n                return panic(`${box} has outgoing edges: ${outgoingLinks.map(([source, target]) => `[${source.toString()}, ${target.toString()}]`)}`);\n            }\n            const incomingPointers = this.incomingEdgesOf(box);\n            if (incomingPointers.length > 0) {\n                return panic(`${box} has incoming edges from: ${incomingPointers.map((source) => source.toString())}`);\n            }\n        }\n    }\n    connect(source, target) {\n        this.#outgoing.add([source, target]);\n        this.#incoming.opt(target).match({\n            none: () => this.#incoming.add([target, [source]]),\n            some: ([, sources]) => sources.push(source)\n        });\n    }\n    disconnect(source) {\n        const [, target] = this.#outgoing.removeByKey(source.address);\n        const [, sources] = this.#incoming.get(target);\n        Arrays.remove(sources, source);\n        if (sources.length === 0) {\n            this.#incoming.removeByKey(target);\n        }\n    }\n    isConnected(source, target) {\n        return this.#outgoing.opt(source.address).mapOr(([, actualTarget]) => actualTarget.equals(target), false);\n    }\n    outgoingEdgesOf(box) {\n        return this.#collectSameBox(this.#outgoing, box.address.uuid, ([{ box: { address: { uuid } } }]) => uuid);\n    }\n    incomingEdgesOf(vertex) {\n        if (vertex.isBox()) {\n            return this.#collectSameBox(this.#incoming, vertex.address.uuid, ([{ uuid }]) => uuid)\n                .flatMap(([_, pointers]) => pointers);\n        }\n        else {\n            return this.#incoming.opt(vertex.address).mapOr(([_, pointers]) => pointers, Arrays.empty());\n        }\n    }\n    validateRequirements() {\n        // TODO I removed the assertions because they were too slow in busy graphs.\n        //  I tried to use a Set<Box> in BoxGraph, but that wasn't faster than the SortedSet.\n        //  We could just use a boolean in Box, but it could be set from the outside world and break it.\n        //  Claude suggest to use dirty sets, but I am too lazy to implement it right now.\n        // const now = performance.now()\n        this.#requiresTarget.forEach(pointer => {\n            // assert(pointer.isAttached(), `Pointer ${pointer.address.toString()} is not attached`)\n            if (pointer.isEmpty()) {\n                if (pointer.mandatory) {\n                    return panic(`Pointer ${pointer.toString()} requires an edge.`);\n                }\n                else {\n                    return panic(`Illegal state: ${pointer} has no edge requirements.`);\n                }\n            }\n        });\n        this.#requiresPointer.forEach(target => {\n            // assert(target.isAttached(), `Target ${target.address.toString()} is not attached`)\n            if (target.pointerHub.isEmpty()) {\n                if (target.pointerRules.mandatory) {\n                    return panic(`Target ${target.toString()} requires an edge.`);\n                }\n                else {\n                    return panic(`Illegal state: ${target} has no edge requirements.`);\n                }\n            }\n        });\n        // console.debug(`GraphEdges validation took ${performance.now() - now} ms.`)\n    }\n    #collectSameBox(set, id, map) {\n        const range = Address.boxRange(set, id, map);\n        return isDefined(range) ? set.values().slice(range[0], range[1]) : Arrays.empty();\n    }\n    #removeSameBox(set, id, map) {\n        const range = Address.boxRange(set, id, map);\n        if (isDefined(range)) {\n            set.removeRange(range[0], range[1]);\n        }\n    }\n}\n", "import { asDefined, assert, ByteArrayInput, ByteArrayOutput, Checksum, isDefined, Listeners, Option, panic, Predicates, UUID } from \"@naomiarotest/lib-std\";\nimport { Address } from \"./address\";\nimport { DeleteUpdate, NewUpdate, PointerUpdate, PrimitiveUpdate } from \"./updates\";\nimport { Dispatchers } from \"./dispatchers\";\nimport { GraphEdges } from \"./graph-edges\";\nexport class BoxGraph {\n    #boxFactory;\n    #boxes;\n    #deferredPointerUpdates;\n    #updateListeners;\n    #immediateUpdateListeners;\n    #transactionListeners;\n    #dispatchers;\n    #edges;\n    #pointerTransactionState;\n    #finalizeTransactionObservers;\n    #inTransaction = false;\n    #constructingBox = false;\n    constructor(boxFactory = Option.None) {\n        this.#boxFactory = boxFactory;\n        this.#boxes = UUID.newSet(box => box.address.uuid);\n        this.#deferredPointerUpdates = [];\n        this.#dispatchers = Dispatchers.create();\n        this.#updateListeners = new Listeners();\n        this.#immediateUpdateListeners = new Listeners();\n        this.#transactionListeners = new Listeners();\n        this.#edges = new GraphEdges();\n        this.#pointerTransactionState = Address.newSet(({ pointer }) => pointer.address);\n        this.#finalizeTransactionObservers = [];\n    }\n    beginTransaction() {\n        assert(!this.#inTransaction, \"Transaction already in progress\");\n        this.#inTransaction = true;\n        this.#transactionListeners.proxy.onBeginTransaction();\n    }\n    endTransaction() {\n        assert(this.#inTransaction, \"No transaction in progress\");\n        if (this.#deferredPointerUpdates.length > 0) {\n            this.#deferredPointerUpdates.forEach(({ pointerField, update }) => this.#processPointerVertexUpdate(pointerField, update));\n            this.#deferredPointerUpdates.length = 0;\n        }\n        this.#pointerTransactionState.values()\n            .toSorted((a, b) => a.index - b.index)\n            .forEach(({ pointer, initial, final }) => {\n            if (!initial.equals(final)) {\n                initial.ifSome(address => this.findVertex(address).unwrapOrUndefined()?.pointerHub.onRemoved(pointer));\n                final.ifSome(address => this.findVertex(address).unwrapOrUndefined()?.pointerHub.onAdded(pointer));\n            }\n        });\n        this.#pointerTransactionState.clear();\n        this.#inTransaction = false;\n        // it is possible that new observers will be added while executing\n        while (this.#finalizeTransactionObservers.length > 0) {\n            this.#finalizeTransactionObservers.splice(0).forEach(observer => observer());\n            if (this.#finalizeTransactionObservers.length > 0) {\n                console.debug(`${this.#finalizeTransactionObservers.length} new observers while notifying`);\n            }\n        }\n        this.#transactionListeners.proxy.onEndTransaction();\n    }\n    inTransaction() { return this.#inTransaction; }\n    constructingBox() { return this.#constructingBox; }\n    createBox(name, uuid, constructor) {\n        return this.#boxFactory.unwrap(\"No box-factory installed\")(name, this, uuid, constructor);\n    }\n    stageBox(box, constructor) {\n        this.#assertTransaction();\n        assert(!this.#constructingBox, \"Cannot construct box while other box is constructing\");\n        if (isDefined(constructor)) {\n            this.#constructingBox = true;\n            constructor(box);\n            this.#constructingBox = false;\n        }\n        const added = this.#boxes.add(box);\n        assert(added, `${box} already staged`);\n        const update = new NewUpdate(box.address.uuid, box.name, box.toArrayBuffer());\n        this.#updateListeners.proxy.onUpdate(update);\n        this.#immediateUpdateListeners.proxy.onUpdate(update);\n        return box;\n    }\n    subscribeTransaction(listener) {\n        return this.#transactionListeners.subscribe(listener);\n    }\n    subscribeToAllUpdates(listener) {\n        return this.#updateListeners.subscribe(listener);\n    }\n    subscribeToAllUpdatesImmediate(listener) {\n        return this.#immediateUpdateListeners.subscribe(listener);\n    }\n    subscribeVertexUpdates(propagation, address, procedure) {\n        return this.#dispatchers.subscribe(propagation, address, procedure);\n    }\n    subscribeEndTransaction(observer) { this.#finalizeTransactionObservers.push(observer); }\n    unstageBox(box) {\n        this.#assertTransaction();\n        const deleted = this.#boxes.removeByKey(box.address.uuid);\n        assert(deleted === box, `${box} could not be found to unstage`);\n        this.#edges.unwatchVerticesOf(box);\n        const update = new DeleteUpdate(box.address.uuid, box.name, box.toArrayBuffer());\n        this.#updateListeners.proxy.onUpdate(update);\n        this.#immediateUpdateListeners.proxy.onUpdate(update);\n    }\n    findBox(uuid) {\n        return this.#boxes.opt(uuid);\n    }\n    findVertex(address) {\n        return this.#boxes.opt(address.uuid).flatMap(box => box.searchVertex(address.fieldKeys));\n    }\n    boxes() { return this.#boxes.values(); }\n    edges() { return this.#edges; }\n    checksum() {\n        const checksum = new Checksum();\n        this.boxes().forEach(box => box.write(checksum));\n        return checksum.result();\n    }\n    onPrimitiveValueUpdate(field, oldValue, newValue) {\n        this.#assertTransaction();\n        if (field.isAttached() && !this.#constructingBox) {\n            const update = new PrimitiveUpdate(field.address, field.serialization(), oldValue, newValue);\n            this.#dispatchers.dispatch(update);\n            this.#updateListeners.proxy.onUpdate(update);\n            this.#immediateUpdateListeners.proxy.onUpdate(update);\n        }\n    }\n    onPointerAddressUpdated(pointerField, oldValue, newValue) {\n        this.#assertTransaction();\n        if (oldValue.nonEmpty()) {\n            this.#edges.disconnect(pointerField);\n        }\n        if (newValue.nonEmpty()) {\n            this.#edges.connect(pointerField, newValue.unwrap());\n        }\n        const update = new PointerUpdate(pointerField.address, oldValue, newValue);\n        if (this.#constructingBox) {\n            this.#deferredPointerUpdates.push({ pointerField, update });\n        }\n        else {\n            this.#processPointerVertexUpdate(pointerField, update);\n            this.#immediateUpdateListeners.proxy.onUpdate(update);\n        }\n    }\n    #processPointerVertexUpdate(pointerField, update) {\n        const { oldAddress, newAddress } = update;\n        pointerField.resolvedTo(newAddress.flatMap(address => this.findVertex(address)));\n        const optState = this.#pointerTransactionState.opt(pointerField.address);\n        optState.match({\n            none: () => this.#pointerTransactionState.add({\n                pointer: pointerField,\n                initial: oldAddress,\n                final: newAddress,\n                index: this.#pointerTransactionState.size()\n            }),\n            some: state => state.final = newAddress\n        });\n        this.#dispatchers.dispatch(update);\n        this.#updateListeners.proxy.onUpdate(update);\n    }\n    dependenciesOf(box, options = {}) {\n        const excludeBox = isDefined(options.excludeBox) ? options.excludeBox : Predicates.alwaysFalse;\n        const alwaysFollowMandatory = isDefined(options.alwaysFollowMandatory) ? options.alwaysFollowMandatory : false;\n        const boxes = new Set();\n        const pointers = new Set();\n        const trace = (box) => {\n            if (boxes.has(box) || excludeBox(box)) {\n                return;\n            }\n            boxes.add(box);\n            box.outgoingEdges()\n                .filter(([pointer]) => !pointers.has(pointer))\n                .forEach(([source, targetAddress]) => {\n                const targetVertex = this.findVertex(targetAddress)\n                    .unwrap(`Could not find target of ${source.toString()}`);\n                pointers.add(source);\n                if (targetVertex.pointerRules.mandatory &&\n                    (alwaysFollowMandatory || targetVertex.pointerHub.incoming()\n                        .every(pointer => pointers.has(pointer)))) {\n                    return trace(targetVertex.box);\n                }\n            });\n            box.incomingEdges()\n                .forEach(pointer => {\n                pointers.add(pointer);\n                if (pointer.mandatory) {\n                    trace(pointer.box);\n                }\n            });\n        };\n        trace(box);\n        boxes.delete(box);\n        return { boxes, pointers: Array.from(pointers).reverse() };\n    }\n    verifyPointers() {\n        this.#edges.validateRequirements();\n        let count = 0 | 0;\n        const verify = (vertex) => {\n            for (const field of vertex.fields()) {\n                field.accept({\n                    visitPointerField: (pointer) => {\n                        if (pointer.targetAddress.nonEmpty()) {\n                            const isResolved = pointer.targetVertex.nonEmpty();\n                            const inGraph = this.findVertex(pointer.targetAddress.unwrap()).nonEmpty();\n                            assert(isResolved, `pointer ${pointer.address} is broken`);\n                            assert(inGraph, `Cannot find target for pointer ${pointer.address}`);\n                            count++;\n                        }\n                    },\n                    visitObjectField: (object) => verify(object)\n                });\n            }\n        };\n        this.#boxes.forEach((box) => verify(box));\n        console.debug(\"verification complete.\");\n        return { count };\n    }\n    debugBoxes() {\n        console.table(this.#boxes.values().reduce((dict, box) => {\n            dict[UUID.toString(box.address.uuid)] = {\n                class: box.name,\n                \"incoming links\": box.incomingEdges().length,\n                \"outgoing links\": box.outgoingEdges().length,\n                \"est. memory (bytes)\": box.estimateMemory()\n            };\n            return dict;\n        }, {}));\n    }\n    debugDependencies() {\n        console.debug(\"Dependencies:\");\n        this.boxes().forEach(box => {\n            console.debug(`\\t${box}`);\n            for (const dependency of this.dependenciesOf(box).boxes) {\n                console.debug(`\\t\\t${dependency}`);\n            }\n        });\n    }\n    addressToDebugPath(address) {\n        return address.flatMap(address => address.isBox()\n            ? this.findBox(address.uuid).map(box => box.name)\n            : this.findBox(address.uuid)\n                .flatMap(box => box.searchVertex(address.fieldKeys)\n                .map(vertex => vertex.isField() ? vertex.debugPath : panic(\"Unknown address\"))));\n    }\n    toArrayBuffer() {\n        const output = ByteArrayOutput.create();\n        const boxes = this.#boxes.values();\n        output.writeInt(boxes.length);\n        boxes.forEach(box => {\n            const buffer = box.serialize();\n            output.writeInt(buffer.byteLength);\n            output.writeBytes(new Int8Array(buffer));\n        });\n        return output.toArrayBuffer();\n    }\n    fromArrayBuffer(arrayBuffer) {\n        assert(this.#boxes.isEmpty(), \"Cannot call fromArrayBuffer if boxes is not empty\");\n        const input = new ByteArrayInput(arrayBuffer);\n        const numBoxes = input.readInt();\n        this.beginTransaction();\n        const boxes = [];\n        for (let i = 0; i < numBoxes; i++) {\n            const length = input.readInt();\n            const int8Array = new Int8Array(length);\n            input.readBytes(int8Array);\n            const boxStream = new ByteArrayInput(int8Array.buffer);\n            const creationIndex = boxStream.readInt();\n            const name = boxStream.readString();\n            const uuid = UUID.fromDataInput(boxStream);\n            boxes.push({ creationIndex, name, uuid, boxStream });\n        }\n        boxes\n            .sort((a, b) => a.creationIndex - b.creationIndex)\n            .forEach(({ name, uuid, boxStream }) => this.createBox(name, uuid, box => box.read(boxStream)));\n        this.endTransaction();\n    }\n    toJSON() {\n        return this.#boxes.values().map(box => ({\n            name: box.name,\n            uuid: box.address.toString(),\n            fields: asDefined(box.toJSON())\n        }));\n    }\n    #assertTransaction() {\n        assert(this.#inTransaction, () => \"Modification only prohibited in transaction mode.\");\n    }\n}\n", "import { clamp, panic } from \"@naomiarotest/lib-std\";\nimport { Int32Field } from \"./primitive\";\nexport var IndexedBox;\n(function (IndexedBox) {\n    IndexedBox.insertOrder = (field, insertIndex = Number.MAX_SAFE_INTEGER) => {\n        const boxes = IndexedBox.collectIndexedBoxes(field);\n        const newIndex = clamp(insertIndex, 0, boxes.length);\n        if (newIndex < boxes.length) {\n            for (let index = newIndex; index < boxes.length; index++) {\n                boxes[index].index.setValue(index + 1);\n            }\n        }\n        return newIndex;\n    };\n    IndexedBox.removeOrder = (field, removeIndex) => {\n        const boxes = IndexedBox.collectIndexedBoxes(field);\n        if (removeIndex < boxes.length) {\n            for (let index = removeIndex + 1; index < boxes.length; index++) {\n                boxes[index].index.setValue(index - 1);\n            }\n        }\n    };\n    IndexedBox.moveIndex = (field, startIndex, delta) => {\n        const boxes = IndexedBox.collectIndexedBoxes(field);\n        const movingBox = boxes[startIndex];\n        if (delta < 0) {\n            const newIndex = clamp(startIndex + delta, 0, boxes.length - 1);\n            for (let index = newIndex; index < startIndex; index++) {\n                boxes[index].index.setValue(index + 1);\n            }\n            movingBox.index.setValue(newIndex);\n        }\n        else if (delta > 1) {\n            const newIndex = clamp(startIndex + (delta - 1), 0, boxes.length - 1);\n            for (let index = startIndex; index < newIndex; index++) {\n                boxes[index + 1].index.setValue(index);\n            }\n            movingBox.index.setValue(newIndex);\n        }\n        else {\n            console.warn(`moveIndex had no effect: startIndex: ${startIndex}, delta: ${delta}`);\n        }\n    };\n    IndexedBox.isIndexedBox = (box) => \"index\" in box && box.index instanceof Int32Field;\n    IndexedBox.collectIndexedBoxes = (field, type) => field.pointerHub.incoming()\n        .map(({ box }) => IndexedBox.isIndexedBox(box) && (type === undefined || box instanceof type)\n        ? box\n        : panic(`${box} has no index field`))\n        .sort((a, b) => a.index.getValue() - b.index.getValue());\n})(IndexedBox || (IndexedBox = {}));\n", "import { Field } from \"./field\";\nimport { asDefined, isDefined, isRecord, Option, panic, safeExecute } from \"@naomiarotest/lib-std\";\nimport { Serializer } from \"./serializer\";\nimport { Propagation } from \"./dispatchers\";\nexport class ObjectField extends Field {\n    #fields;\n    constructor(construct) {\n        super(construct);\n        this.#fields = this.initializeFields();\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitObjectField, this);\n    }\n    fields() { return Object.values(this.#fields); }\n    record() { return this.#fields; }\n    getField(key) { return asDefined(this.#fields[key]); }\n    optField(key) { return Option.wrap(this.#fields[key]); }\n    subscribe(observer) {\n        return this.graph.subscribeVertexUpdates(Propagation.Children, this.address, () => this.graph.subscribeEndTransaction(() => observer(this)));\n    }\n    read(input) { Serializer.readFields(input, this.#fields); }\n    write(output) { Serializer.writeFields(output, this.#fields); }\n    toJSON() {\n        if (this.deprecated) {\n            return undefined;\n        }\n        return Object.entries(this.#fields).reduce((result, [key, field]) => {\n            result[key] = field.toJSON();\n            return result;\n        }, {});\n    }\n    fromJSON(record) {\n        if (this.deprecated) {\n            return;\n        }\n        if (isRecord(record)) {\n            Object.entries(record).forEach(([key, value]) => {\n                const field = this.#fields[parseInt(key)];\n                if (isDefined(value)) {\n                    field.fromJSON(value);\n                }\n            });\n        }\n        else {\n            return panic(\"Type mismatch\");\n        }\n    }\n}\n", "import { asDefined, assert, isDefined, Iterables, panic } from \"@naomiarotest/lib-std\";\n/**\n * Communicator provides type-safe communication between Window, Worker, MessagePort, BroadcastChannel.\n * Passed objects are structured cloned: https://developer.mozilla.org/en-US/docs/Web/API/structuredClone\n * It is highly advised not to pass classes with methods and or real private properties (starting with #).\n * They will lose their prototype and private property inheritance, and it is cumbersome to patch that up later.\n * Also read: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain\n */\nexport var Communicator;\n(function (Communicator) {\n    Communicator.sender = (messenger, bind) => bind(new Sender(messenger));\n    Communicator.executor = (messenger, protocol) => new Executor(messenger, protocol);\n    const extractTransferables = (args) => {\n        const transferables = [];\n        for (const arg of args) {\n            if (arg instanceof MessagePort) {\n                transferables.push(arg);\n            }\n            if (typeof ImageBitmap !== \"undefined\" && arg instanceof ImageBitmap) {\n                transferables.push(arg);\n            }\n            if (typeof OffscreenCanvas !== \"undefined\" && arg instanceof OffscreenCanvas) {\n                transferables.push(arg);\n            }\n        }\n        return transferables;\n    };\n    class Sender {\n        #messenger;\n        #expected = new Map();\n        #subscription;\n        #returnId = 0;\n        constructor(messenger) {\n            this.#messenger = messenger;\n            this.#subscription = messenger.subscribe(this.#messageHandler);\n        }\n        terminate() { this.#subscription.terminate(); }\n        dispatchAndForget = (func, ...args) => {\n            const transferables = extractTransferables(args);\n            this.#messenger.send({\n                type: \"send\",\n                returnId: false,\n                func: func.name,\n                args: Array.from(Iterables.map(args, arg => ({ value: arg })))\n            }, transferables);\n        };\n        dispatchAndReturn = (func, ...args) => new Promise((resolve, reject) => {\n            const entries = Iterables.reduce(args, (callbacks, arg, index) => {\n                if (typeof arg === \"function\") {\n                    callbacks.push([index, arg]);\n                }\n                return callbacks;\n            }, []);\n            this.#expected.set(this.#returnId, {\n                executorTuple: { resolve, reject },\n                callbacks: new Map(entries)\n            });\n            const transferables = extractTransferables(args);\n            this.#messenger.send({\n                type: \"send\",\n                returnId: this.#returnId,\n                func: func.name,\n                args: Array.from(Iterables.map(args, (arg, index) => typeof arg === \"function\" ? ({ callback: index }) : ({ value: arg })))\n            }, transferables);\n            this.#returnId++;\n        });\n        #messageHandler = (message) => {\n            const returns = this.#expected.get(message.returnId);\n            if (isDefined(returns)) {\n                if (message.type === \"resolve\") {\n                    returns.executorTuple.resolve(message.resolve);\n                    this.#expected.delete(message.returnId);\n                }\n                else if (message.type === \"reject\") {\n                    returns.executorTuple.reject(message.reject);\n                    this.#expected.delete(message.returnId);\n                }\n                else if (message.type === \"callback\") {\n                    returns.callbacks?.get(message.funcAt).apply(this, message.args);\n                }\n            }\n            else {\n                panic(`Promise has already been resolved. ${JSON.stringify(message)}`);\n            }\n        };\n    }\n    class Executor {\n        #messenger;\n        #protocol;\n        #subscription;\n        constructor(messenger, protocol) {\n            this.#messenger = messenger;\n            this.#protocol = protocol;\n            this.#subscription = messenger.subscribe(this.#messageHandler);\n        }\n        terminate() { this.#subscription.terminate(); }\n        #messageHandler = (message) => {\n            assert(message.type === \"send\", () => \"Message type must be 'send'\");\n            const object = Object.getPrototypeOf(this.#protocol) === Object.getPrototypeOf({})\n                ? this.#protocol : Object.getPrototypeOf(this.#protocol);\n            const func = asDefined(object[message.func], `${message.func.toString()} does not exists on ${this.#protocol}`);\n            const returnId = message.returnId;\n            if (returnId === false) {\n                func.apply(this.#protocol, message.args.map((arg) => \"value\" in arg\n                    ? arg.value : panic(`${message.func.toString()} has no promise.`)));\n            }\n            else {\n                try {\n                    const promise = func.apply(this.#protocol, message.args\n                        .map(arg => \"callback\" in arg ? (...args) => this.#sendCallback(returnId, arg.callback, args) : arg.value));\n                    promise.then(value => {\n                        try {\n                            this.#sendResolve(returnId, value);\n                        }\n                        catch (reason) {\n                            this.#sendReject(returnId, reason);\n                        }\n                    }, reason => this.#sendReject(returnId, reason));\n                }\n                catch (reason) {\n                    this.#sendReject(returnId, reason);\n                }\n            }\n        };\n        #sendResolve = (returnId, value) => this.#messenger.send({ type: \"resolve\", returnId, resolve: value });\n        #sendReject = (returnId, reason) => this.#messenger.send({ type: \"reject\", returnId, reject: reason });\n        #sendCallback = (returnId, func, args) => this.#messenger.send({ type: \"callback\", returnId, funcAt: func, args });\n    }\n    Communicator.Executor = Executor;\n})(Communicator || (Communicator = {}));\n", "import { asDefined, ByteArrayOutput } from \"@naomiarotest/lib-std\";\nexport var Fetch;\n(function (Fetch) {\n    Fetch.ProgressArrayBuffer = (progress) => async (response) => {\n        if (!response.headers.has(\"Content-Length\")) {\n            console.debug(\"No Content-Length\");\n            return response.arrayBuffer();\n        }\n        const length = parseInt(response.headers.get(\"Content-Length\"));\n        console.debug(`Content-Length: ${length}b`);\n        if (isNaN(length) || length < 4096) {\n            return response.arrayBuffer();\n        } // smaller sizes do not need progress\n        progress(0.0);\n        const output = ByteArrayOutput.create(length);\n        const reader = asDefined(response.body, \"response.body is empty\").getReader();\n        while (true) {\n            const { done, value } = await reader.read();\n            if (done) {\n                break;\n            }\n            value.forEach((value) => output.writeByte(value));\n            progress(output.position / length);\n        }\n        progress(1.0);\n        return output.toArrayBuffer();\n    };\n})(Fetch || (Fetch = {}));\n", "export var Runtime;\n(function (Runtime) {\n    // Debounce execution by delaying the call until after the timeout has passed without new invocations.\n    Runtime.debounce = (() => {\n        let id = undefined;\n        return (exec, timeout = 1000) => {\n            clearTimeout(id);\n            id = setTimeout(exec, timeout);\n        };\n    })();\n    Runtime.scheduleInterval = (exec, time, ...args) => {\n        const id = setInterval(exec, time, ...args);\n        return { terminate: () => clearInterval(id) };\n    };\n    Runtime.scheduleTimeout = (exec, time, ...args) => {\n        const id = setTimeout(exec, time, ...args);\n        return { terminate: () => clearTimeout(id) };\n    };\n})(Runtime || (Runtime = {}));\n", "import { isDefined, Notifier } from \"@naomiarotest/lib-std\";\nexport const Messenger = { for: (port) => new NativeMessenger(port) };\nconst EmptyTransferables = [];\nclass NativeMessenger {\n    #port;\n    #notifier = new Notifier();\n    constructor(port) {\n        this.#port = port;\n        if (isDefined(port.onmessage) || isDefined(port.onmessageerror)) {\n            console.error(port);\n            throw new Error(`${port} is already wrapped.`);\n        }\n        port.onmessage = (event) => this.#notifier.notify(event.data);\n        port.onmessageerror = (event) => { throw new Error(event.type); };\n    }\n    send(message, transfer) {\n        this.#port.postMessage(message, transfer ?? EmptyTransferables);\n    }\n    channel(name) { return new Channel(this, name); }\n    subscribe(observer) { return this.#notifier.subscribe(observer); }\n    terminate() {\n        this.#notifier.terminate();\n        this.#port.onmessage = null;\n        this.#port.onmessageerror = null;\n    }\n}\n// with '__id__' we put in a little security that we are only communicating with the messenger we created\nclass Channel {\n    #messages;\n    #name;\n    #notifier = new Notifier();\n    #subscription;\n    constructor(messages, name) {\n        this.#messages = messages;\n        this.#name = name;\n        this.#subscription = messages.subscribe(data => {\n            if (\"__id__\" in data && data.__id__ === \"42\" && \"message\" in data && \"channel\" in data && data.channel === name) {\n                this.#notifier.notify(data.message);\n            }\n        });\n    }\n    send(message, transferrables) {\n        this.#messages.send({ __id__: \"42\", channel: this.#name, message }, transferrables);\n    }\n    channel(name) { return new Channel(this, name); }\n    subscribe(observer) { return this.#notifier.subscribe(observer); }\n    terminate() {\n        this.#subscription.terminate();\n        this.#notifier.terminate();\n    }\n}\n", "import { tryCatch } from \"@naomiarotest/lib-std\";\nexport var Wait;\n(function (Wait) {\n    Wait.frame = () => new Promise(resolve => requestAnimationFrame(() => resolve()));\n    Wait.frames = (numFrames) => new Promise(resolve => {\n        let count = numFrames;\n        const callback = () => { if (--count <= 0) {\n            resolve();\n        }\n        else {\n            requestAnimationFrame(callback);\n        } };\n        requestAnimationFrame(callback);\n    });\n    Wait.timeSpan = (time, ...args) => new Promise(resolve => setTimeout(resolve, time.millis(), ...args));\n    Wait.event = (target, type) => new Promise(resolve => target.addEventListener(type, resolve, { once: true }));\n    Wait.observable = (observable) => new Promise(resolve => {\n        const terminable = observable.subscribe(() => {\n            terminable.terminate();\n            resolve();\n        });\n    });\n    Wait.complete = (generator) => new Promise((resolve, reject) => {\n        const interval = setInterval(() => {\n            const { status, value: next, error } = tryCatch(() => generator.next());\n            if (status === \"success\") {\n                const { done, value } = next;\n                if (done) {\n                    clearInterval(interval);\n                    resolve(value);\n                }\n            }\n            else {\n                clearInterval(interval);\n                reject(error);\n            }\n        }, 0);\n    });\n})(Wait || (Wait = {}));\n", "import { assert, InaccessibleProperty, isDefined, isNull, Option, RuntimeNotifier, safeExecute, Terminable, TimeSpan } from \"@naomiarotest/lib-std\";\nimport { Wait } from \"./wait\";\nexport class IntervalRetryOption {\n    maxRetry;\n    timeSpan;\n    #count = 0 | 0;\n    constructor(maxRetry, timeSpan) {\n        this.maxRetry = maxRetry;\n        this.timeSpan = timeSpan;\n    }\n    retry(reason, exec) {\n        if (++this.#count === this.maxRetry) {\n            return false;\n        }\n        console.debug(`${reason} > will retry in ${this.timeSpan.toString()}`);\n        setTimeout(exec, this.timeSpan.millis());\n        return true;\n    }\n}\nexport var Promises;\n(function (Promises) {\n    class ResolveResult {\n        value;\n        status = \"resolved\";\n        constructor(value) {\n            this.value = value;\n        }\n        error = InaccessibleProperty(\"Cannot access error when promise is resolved\");\n    }\n    Promises.ResolveResult = ResolveResult;\n    class RejectedResult {\n        error;\n        status = \"rejected\";\n        constructor(error) {\n            this.error = error;\n        }\n        value = InaccessibleProperty(\"Cannot access value when promise is rejected\");\n    }\n    Promises.RejectedResult = RejectedResult;\n    Promises.makeAbortable = async (owner, promise) => {\n        let running = true;\n        owner.own(Terminable.create(() => running = false));\n        return new Promise((resolve, reject) => promise.then(value => { if (running) {\n            resolve(value);\n        } }, reason => { if (running) {\n            reject(reason);\n        } }));\n    };\n    Promises.tryCatch = (promise) => promise.then(value => new ResolveResult(value), error => new RejectedResult(error));\n    const DefaultRetryOption = new IntervalRetryOption(3, TimeSpan.seconds(3));\n    Promises.retry = (factory, retryOption = DefaultRetryOption) => factory().catch(reason => new Promise((resolve, reject) => {\n        const onFailure = (reason) => {\n            if (!retryOption.retry(reason, () => factory().then((value) => resolve(value), onFailure))) {\n                reject(reason);\n            }\n        };\n        onFailure(reason);\n    }));\n    Promises.guardedRetry = (factory, retryIf) => {\n        const attempt = async (count = 0) => {\n            try {\n                return await factory();\n            }\n            catch (reason) {\n                if (retryIf(reason, ++count)) {\n                    console.debug(\"retrying after failure:\", reason);\n                    await Wait.timeSpan(TimeSpan.seconds(1));\n                    return attempt(count);\n                }\n                throw new Error(`Failed after ${count} retries: ${reason}`);\n            }\n        };\n        return attempt();\n    };\n    Promises.approvedRetry = (factory, approve) => {\n        const attempt = async () => {\n            try {\n                return await factory();\n            }\n            catch (reason) {\n                if (await RuntimeNotifier.approve(approve(reason))) {\n                    return attempt();\n                }\n                throw reason;\n            }\n        };\n        return attempt();\n    };\n    // this is for testing the catch branch\n    Promises.fail = (after, thenUse) => {\n        let use = () => new Promise((_, reject) => setTimeout(() => reject(\"fails first\"), after.millis()));\n        return () => {\n            const promise = use();\n            use = thenUse;\n            return promise;\n        };\n    };\n    Promises.timeout = (promise, timeSpan, fail) => {\n        return new Promise((resolve, reject) => {\n            let running = true;\n            const timeout = setTimeout(() => {\n                running = false;\n                reject(new Error(fail ?? \"timeout\"));\n            }, timeSpan.millis());\n            promise\n                .then((value) => { if (running) {\n                resolve(value);\n            } }, reason => { if (running) {\n                reject(reason);\n            } })\n                .finally(() => clearTimeout(timeout));\n        });\n    };\n    Promises.sequentialAll = (factories) => factories.reduce((promise, factory) => promise\n        .then(async (results) => [...results, await factory()]), Promise.resolve([]));\n    Promises.sequentialize = (handler) => {\n        let lastPromise = Promise.resolve();\n        return (arg) => {\n            const execute = () => handler(arg);\n            const currentPromise = lastPromise.then(execute, execute);\n            lastPromise = currentPromise.catch(() => { });\n            return currentPromise;\n        };\n    };\n    Promises.memoizeAsync = (factory, timeout) => {\n        let resolving = null;\n        let lastCall = Date.now();\n        return () => {\n            const now = Date.now();\n            if (isNull(resolving) || (isDefined(timeout) && now - lastCall > timeout.millis())) {\n                lastCall = now;\n                resolving = factory();\n                resolving.catch(error => {\n                    resolving = null;\n                    return error;\n                });\n            }\n            return resolving;\n        };\n    };\n    Promises.allWithLimit = async (tasks, limit = 1) => {\n        const results = new Array(tasks.length);\n        let index = 0;\n        let hasError = false;\n        const run = async () => {\n            while (index < tasks.length && !hasError) {\n                const i = index++;\n                try {\n                    const value = await tasks[i]();\n                    if (!hasError) {\n                        results[i] = value;\n                    }\n                }\n                catch (reason) {\n                    hasError = true;\n                    throw reason;\n                }\n            }\n        };\n        await Promise.all(Array.from({ length: Math.min(limit, tasks.length) }, run));\n        return results;\n    };\n    Promises.allSettledWithLimit = async (tasks, limit = 1) => {\n        const results = new Array(tasks.length);\n        let index = 0;\n        const run = async () => {\n            while (index < tasks.length) {\n                const i = index++;\n                try {\n                    const value = await tasks[i]();\n                    results[i] = { status: \"fulfilled\", value };\n                }\n                catch (reason) {\n                    results[i] = { status: \"rejected\", reason };\n                }\n            }\n        };\n        await Promise.all(Array.from({ length: Math.min(limit, tasks.length) }, run));\n        return results;\n    };\n    class Limit {\n        max;\n        #waiting;\n        #running = 0 | 0;\n        constructor(max = 1) {\n            this.max = max;\n            this.#waiting = [];\n        }\n        async add(provider) {\n            if (this.#running < this.max) {\n                this.#running++;\n                return provider().finally(() => this.#continue());\n            }\n            else {\n                const resolvers = Promise.withResolvers();\n                this.#waiting.push([provider, resolvers]);\n                return resolvers.promise.finally(() => this.#continue());\n            }\n        }\n        #continue() {\n            assert(this.#running > 0, \"Internal Error in Promises.Limit\");\n            if (--this.#running < this.max) {\n                if (this.#waiting.length > 0) {\n                    const [provider, { resolve, reject }] = this.#waiting.shift();\n                    this.#running++;\n                    provider().then(resolve, reject);\n                }\n            }\n        }\n    }\n    Promises.Limit = Limit;\n    class Latest {\n        #onResolve;\n        #onReject;\n        #onFinally;\n        #latest = Option.None;\n        constructor(onResolve, onReject, onFinally) {\n            this.#onResolve = onResolve;\n            this.#onReject = onReject;\n            this.#onFinally = onFinally;\n        }\n        update(promise) {\n            this.#latest = Option.wrap(promise);\n            promise\n                .then(value => { if (this.#latest.contains(promise)) {\n                this.#onResolve(value);\n            } })\n                .catch(reason => { if (this.#latest.contains(promise)) {\n                this.#onReject(reason);\n            } })\n                .finally(() => {\n                if (this.#latest.contains(promise)) {\n                    this.terminate();\n                    safeExecute(this.#onFinally);\n                }\n            });\n        }\n        terminate() { this.#latest = Option.None; }\n    }\n    Promises.Latest = Latest;\n})(Promises || (Promises = {}));\n", "import { Promises } from \"./promises\";\nimport { Errors, isAbsent, isInstanceOf } from \"@naomiarotest/lib-std\";\nexport var network;\n(function (network) {\n    const limit = new Promises.Limit(4);\n    network.limitFetch = (input, init) => limit.add(() => fetch(input, init));\n    network.DefaultRetry = (reason, count) => {\n        return !isInstanceOf(reason, Errors.FileNotFound) || count <= 100;\n    };\n    network.progress = (progress) => (response) => {\n        const body = response.body;\n        if (isAbsent(body)) {\n            return response;\n        }\n        const total = parseInt(response.headers.get(\"Content-Length\") ?? \"0\", 10);\n        if (total === 0) {\n            return response;\n        }\n        let loaded = 0;\n        const reader = body.getReader();\n        const stream = new ReadableStream({\n            async start(controller) {\n                while (true) {\n                    const { done, value } = await reader.read();\n                    if (done) {\n                        controller.close();\n                        break;\n                    }\n                    loaded += value.byteLength;\n                    progress(loaded / total);\n                    controller.enqueue(value);\n                }\n            }\n        });\n        return new Response(stream, {\n            headers: response.headers,\n            status: response.status,\n            statusText: response.statusText\n        });\n    };\n})(network || (network = {}));\n", "export const stopwatch = (level = \"debug\") => {\n    const startTime = performance.now();\n    return {\n        lab: (label) => console[level].call(console, `${label} in ${(performance.now() - startTime).toFixed(1)}ms`)\n    };\n};\n", "import { TimeSpan } from \"@naomiarotest/lib-std\";\nexport var TimeSpanUtils;\n(function (TimeSpanUtils) {\n    TimeSpanUtils.startEstimator = () => {\n        const startTime = performance.now();\n        return (progress) => {\n            if (progress === 0.0) {\n                return TimeSpan.POSITIVE_INFINITY;\n            }\n            const runtime = (performance.now() - startTime);\n            return TimeSpan.millis(runtime / progress - runtime);\n        };\n    };\n})(TimeSpanUtils || (TimeSpanUtils = {}));\n", "const key = Symbol.for(\"@openDAW/lib-runtime\");\nif (globalThis[key]) {\n    console.debug(`%c${key.description}%c is already available in ${globalThis.constructor.name}.`, \"color: hsl(10, 83%, 60%)\", \"color: inherit\");\n}\nelse {\n    globalThis[key] = true;\n    console.debug(`%c${key.description}%c is now available in ${globalThis.constructor.name}.`, \"color: hsl(200, 83%, 60%)\", \"color: inherit\");\n}\nexport * from \"./communicator\";\nexport * from \"./fetch\";\nexport * from \"./runtime\";\nexport * from \"./messenger\";\nexport * from \"./network\";\nexport * from \"./promises\";\nexport * from \"./stopwatch\";\nexport * from \"./timespan\";\nexport * from \"./wait\";\n", "import { Arrays, ByteArrayInput, isDefined, Option, UUID } from \"@naomiarotest/lib-std\";\nimport { Communicator } from \"@naomiarotest/lib-runtime\";\nimport { Address } from \"./address\";\nexport const createSyncTarget = (graph, messenger) => {\n    return Communicator.executor(messenger, new class {\n        sendUpdates(updates) {\n            graph.beginTransaction();\n            updates.forEach(update => {\n                const type = update.type;\n                if (type === \"new\") {\n                    graph.createBox(update.name, update.uuid, box => box.read(new ByteArrayInput(update.buffer)));\n                }\n                else if (type === \"update-primitive\") {\n                    graph.findVertex(Address.reconstruct(update.address))\n                        .unwrap(() => `Could not find primitive field ${update.address}`)\n                        .setValue(update.value);\n                }\n                else if (type === \"update-pointer\") {\n                    graph.findVertex(Address.reconstruct(update.address))\n                        .unwrap(() => `Could not find pointer field ${update.address}`)\n                        .targetAddress = isDefined(update.target)\n                        ? Option.wrap(Address.reconstruct(update.target))\n                        : Option.None;\n                }\n                else if (update.type === \"delete\") {\n                    graph.unstageBox(graph.findBox(update.uuid).unwrap(() => `Could not find box ${UUID.toString(update.uuid)}`));\n                }\n            });\n            graph.endTransaction();\n        }\n        checksum(value) {\n            if (Arrays.equals(graph.checksum(), value)) {\n                return Promise.resolve();\n            }\n            else {\n                return Promise.reject(\"Checksum mismatch\");\n            }\n        }\n    });\n};\n", "const key = Symbol.for(\"@openDAW/lib-box\");\nif (globalThis[key]) {\n    console.debug(`%c${key.description}%c is already available in ${globalThis.constructor.name}.`, \"color: hsl(10, 83%, 60%)\", \"color: inherit\");\n}\nelse {\n    globalThis[key] = true;\n    console.debug(`%c${key.description}%c is now available in ${globalThis.constructor.name}.`, \"color: hsl(200, 83%, 60%)\", \"color: inherit\");\n}\nexport * from \"./address\";\nexport * from \"./array\";\nexport * from \"./box\";\nexport * from \"./constraints\";\nexport * from \"./dispatchers\";\nexport * from \"./editing\";\nexport * from \"./field\";\nexport * from \"./graph\";\nexport * from \"./graph-edges\";\nexport * from \"./indexed-box\";\nexport * from \"./object\";\nexport * from \"./pointer\";\nexport * from \"./pointer-hub\";\nexport * from \"./primitive\";\nexport * from \"./sync\";\nexport * from \"./sync-source\";\nexport * from \"./sync-target\";\nexport * from \"./updates\";\nexport * from \"./vertex\";\n", "import {ppqn} from \"@naomiarotest/lib-dsp\"\n\nexport class TimeInfo {\n    #position: number = 0.0\n\n    #transporting: boolean = false\n    #leap: boolean = false\n    isRecording: boolean = false\n    isCountingIn: boolean = false\n    metronomeEnabled: boolean = false\n\n    getLeapStateAndReset(): boolean {\n        const leap = this.#leap\n        this.#leap = false\n        return leap\n    }\n\n    get position(): number {return this.#position}\n    set position(value: ppqn) {\n        this.#position = value\n        this.#leap = true\n    }\n\n    get transporting(): boolean {return this.#transporting}\n    set transporting(value: boolean) {\n        if (this.#transporting === value) {return}\n        this.#transporting = value\n    }\n\n    pause(): void {\n        this.#transporting = false\n        this.isRecording = false\n        this.isCountingIn = false\n    }\n\n    advanceTo(position: ppqn): void {this.#position = position}\n}", "export var Pointers;\n(function (Pointers) {\n    Pointers[Pointers[\"Timeline\"] = 0] = \"Timeline\";\n    Pointers[Pointers[\"Selection\"] = 1] = \"Selection\";\n    Pointers[Pointers[\"PianoMode\"] = 2] = \"PianoMode\";\n    Pointers[Pointers[\"User\"] = 3] = \"User\";\n    Pointers[Pointers[\"AudioConnection\"] = 4] = \"AudioConnection\";\n    Pointers[Pointers[\"InstrumentHost\"] = 5] = \"InstrumentHost\";\n    Pointers[Pointers[\"AudioOutput\"] = 6] = \"AudioOutput\";\n    Pointers[Pointers[\"Capture\"] = 7] = \"Capture\";\n    Pointers[Pointers[\"NotesConnection\"] = 8] = \"NotesConnection\";\n    Pointers[Pointers[\"VoltageConnection\"] = 9] = \"VoltageConnection\";\n    Pointers[Pointers[\"AudioUnits\"] = 10] = \"AudioUnits\";\n    Pointers[Pointers[\"MidiEffectHost\"] = 11] = \"MidiEffectHost\";\n    Pointers[Pointers[\"AudioEffectHost\"] = 12] = \"AudioEffectHost\";\n    Pointers[Pointers[\"AudioBusses\"] = 13] = \"AudioBusses\";\n    Pointers[Pointers[\"AuxSend\"] = 14] = \"AuxSend\";\n    Pointers[Pointers[\"FileUploadState\"] = 15] = \"FileUploadState\";\n    Pointers[Pointers[\"Modulation\"] = 16] = \"Modulation\";\n    Pointers[Pointers[\"Automation\"] = 17] = \"Automation\";\n    Pointers[Pointers[\"Parameter\"] = 18] = \"Parameter\";\n    Pointers[Pointers[\"ParameterController\"] = 19] = \"ParameterController\";\n    Pointers[Pointers[\"MidiControl\"] = 20] = \"MidiControl\";\n    Pointers[Pointers[\"StepAutomation\"] = 21] = \"StepAutomation\";\n    Pointers[Pointers[\"Editing\"] = 22] = \"Editing\";\n    Pointers[Pointers[\"AudioFile\"] = 23] = \"AudioFile\";\n    Pointers[Pointers[\"SoundfontFile\"] = 24] = \"SoundfontFile\";\n    Pointers[Pointers[\"AudioUnit\"] = 25] = \"AudioUnit\";\n    Pointers[Pointers[\"MarkerTrack\"] = 26] = \"MarkerTrack\";\n    Pointers[Pointers[\"MarkerEvents\"] = 27] = \"MarkerEvents\";\n    Pointers[Pointers[\"ClipCollection\"] = 28] = \"ClipCollection\";\n    Pointers[Pointers[\"RegionCollection\"] = 29] = \"RegionCollection\";\n    Pointers[Pointers[\"TrackCollection\"] = 30] = \"TrackCollection\";\n    Pointers[Pointers[\"Device\"] = 31] = \"Device\";\n    Pointers[Pointers[\"MIDIDevice\"] = 32] = \"MIDIDevice\";\n    Pointers[Pointers[\"Groove\"] = 33] = \"Groove\";\n    Pointers[Pointers[\"ModularSetup\"] = 34] = \"ModularSetup\";\n    Pointers[Pointers[\"ModuleCollection\"] = 35] = \"ModuleCollection\";\n    Pointers[Pointers[\"ConnectionCollection\"] = 36] = \"ConnectionCollection\";\n    Pointers[Pointers[\"DeviceUserInterface\"] = 37] = \"DeviceUserInterface\";\n    Pointers[Pointers[\"NoteEvents\"] = 38] = \"NoteEvents\";\n    Pointers[Pointers[\"NoteEventFeature\"] = 39] = \"NoteEventFeature\";\n    Pointers[Pointers[\"NoteEventCollection\"] = 40] = \"NoteEventCollection\";\n    Pointers[Pointers[\"ValueEvents\"] = 41] = \"ValueEvents\";\n    Pointers[Pointers[\"ValueEventCollection\"] = 42] = \"ValueEventCollection\";\n    Pointers[Pointers[\"ValueInterpolation\"] = 43] = \"ValueInterpolation\";\n    Pointers[Pointers[\"Sample\"] = 44] = \"Sample\";\n})(Pointers || (Pointers = {}));\n", "export var AudioPlayback;\n(function (AudioPlayback) {\n    AudioPlayback[\"NoSync\"] = \"nosync\";\n    AudioPlayback[\"Pitch\"] = \"pitch\";\n    AudioPlayback[\"Timestretch\"] = \"timestretch\";\n    AudioPlayback[\"AudioFit\"] = \"audiofit\"; // deprecated\n})(AudioPlayback || (AudioPlayback = {}));\n", "export var AudioSendRouting;\n(function (AudioSendRouting) {\n    AudioSendRouting[AudioSendRouting[\"Pre\"] = 0] = \"Pre\";\n    AudioSendRouting[AudioSendRouting[\"Post\"] = 1] = \"Post\";\n})(AudioSendRouting || (AudioSendRouting = {}));\n", "export var AudioUnitType;\n(function (AudioUnitType) {\n    AudioUnitType[\"Instrument\"] = \"instrument\";\n    AudioUnitType[\"Bus\"] = \"bus\";\n    AudioUnitType[\"Aux\"] = \"aux\";\n    AudioUnitType[\"Output\"] = \"output\";\n})(AudioUnitType || (AudioUnitType = {}));\n", "import { Color } from \"@naomiarotest/lib-std\";\nexport const Colors = {\n    white: new Color(0, 0, 100),\n    blue: new Color(189, 100, 65),\n    green: new Color(150, 77, 69),\n    yellow: new Color(60, 100, 84),\n    cream: new Color(65, 20, 83),\n    orange: new Color(31, 100, 73),\n    red: new Color(354, 100, 65),\n    purple: new Color(314, 100, 78),\n    bright: new Color(197, 0, 100),\n    gray: new Color(197, 31, 85),\n    dark: new Color(197, 15, 62),\n    shadow: new Color(197, 10, 42),\n    black: new Color(197, 10, 14),\n    background: new Color(197, 6, 3),\n    panelBackground: new Color(197, 14, 7),\n    panelBackgroundBright: new Color(197, 14, 10),\n    panelBackgroundDark: new Color(197, 14, 4)\n};\nexport const initializeColors = (root) => {\n    Object.entries(Colors).forEach(([name, value]) => {\n        const cssName = name.replace(/([A-Z])/g, \"-$1\").toLowerCase();\n        root.style.setProperty(`--color-${cssName}`, value.toString());\n    });\n};\n", "export var IconSymbol;\n(function (IconSymbol) {\n    IconSymbol[IconSymbol[\"Add\"] = 0] = \"Add\";\n    IconSymbol[IconSymbol[\"Adsr\"] = 1] = \"Adsr\";\n    IconSymbol[IconSymbol[\"ArrayDown\"] = 2] = \"ArrayDown\";\n    IconSymbol[IconSymbol[\"AudioBus\"] = 3] = \"AudioBus\";\n    IconSymbol[IconSymbol[\"AudioDevice\"] = 4] = \"AudioDevice\";\n    IconSymbol[IconSymbol[\"AudioFile\"] = 5] = \"AudioFile\";\n    IconSymbol[IconSymbol[\"AutoGain\"] = 6] = \"AutoGain\";\n    IconSymbol[IconSymbol[\"Automation\"] = 7] = \"Automation\";\n    IconSymbol[IconSymbol[\"BassGuitar\"] = 8] = \"BassGuitar\";\n    IconSymbol[IconSymbol[\"Book\"] = 9] = \"Book\";\n    IconSymbol[IconSymbol[\"Box\"] = 10] = \"Box\";\n    IconSymbol[IconSymbol[\"Bug\"] = 11] = \"Bug\";\n    IconSymbol[IconSymbol[\"Fold\"] = 12] = \"Fold\";\n    IconSymbol[IconSymbol[\"Checkbox\"] = 13] = \"Checkbox\";\n    IconSymbol[IconSymbol[\"Clips\"] = 14] = \"Clips\";\n    IconSymbol[IconSymbol[\"Close\"] = 15] = \"Close\";\n    IconSymbol[IconSymbol[\"CloudFolder\"] = 16] = \"CloudFolder\";\n    IconSymbol[IconSymbol[\"CollapseDown\"] = 17] = \"CollapseDown\";\n    IconSymbol[IconSymbol[\"Compressor\"] = 18] = \"Compressor\";\n    IconSymbol[IconSymbol[\"Connected\"] = 19] = \"Connected\";\n    IconSymbol[IconSymbol[\"Cube\"] = 20] = \"Cube\";\n    IconSymbol[IconSymbol[\"Cursor\"] = 21] = \"Cursor\";\n    IconSymbol[IconSymbol[\"Curve\"] = 22] = \"Curve\";\n    IconSymbol[IconSymbol[\"Dattorro\"] = 23] = \"Dattorro\";\n    IconSymbol[IconSymbol[\"Delete\"] = 24] = \"Delete\";\n    IconSymbol[IconSymbol[\"Dial\"] = 25] = \"Dial\";\n    IconSymbol[IconSymbol[\"DinSlot\"] = 26] = \"DinSlot\";\n    IconSymbol[IconSymbol[\"Disconnected\"] = 27] = \"Disconnected\";\n    IconSymbol[IconSymbol[\"Divide\"] = 28] = \"Divide\";\n    IconSymbol[IconSymbol[\"DragConnections\"] = 29] = \"DragConnections\";\n    IconSymbol[IconSymbol[\"Dropdown\"] = 30] = \"Dropdown\";\n    IconSymbol[IconSymbol[\"Dropbox\"] = 31] = \"Dropbox\";\n    IconSymbol[IconSymbol[\"DrumSet\"] = 32] = \"DrumSet\";\n    IconSymbol[IconSymbol[\"Tidal\"] = 33] = \"Tidal\";\n    IconSymbol[IconSymbol[\"Duration\"] = 34] = \"Duration\";\n    IconSymbol[IconSymbol[\"EditBox\"] = 35] = \"EditBox\";\n    IconSymbol[IconSymbol[\"Effects\"] = 36] = \"Effects\";\n    IconSymbol[IconSymbol[\"Embed\"] = 37] = \"Embed\";\n    IconSymbol[IconSymbol[\"EQ\"] = 38] = \"EQ\";\n    IconSymbol[IconSymbol[\"Eraser\"] = 39] = \"Eraser\";\n    IconSymbol[IconSymbol[\"Exclude\"] = 40] = \"Exclude\";\n    IconSymbol[IconSymbol[\"Exit\"] = 41] = \"Exit\";\n    IconSymbol[IconSymbol[\"ExpandWidth\"] = 42] = \"ExpandWidth\";\n    IconSymbol[IconSymbol[\"FileList\"] = 43] = \"FileList\";\n    IconSymbol[IconSymbol[\"Flask\"] = 44] = \"Flask\";\n    IconSymbol[IconSymbol[\"Focus\"] = 45] = \"Focus\";\n    IconSymbol[IconSymbol[\"Generator\"] = 46] = \"Generator\";\n    IconSymbol[IconSymbol[\"GoogleDrive\"] = 47] = \"GoogleDrive\";\n    IconSymbol[IconSymbol[\"Groove\"] = 48] = \"Groove\";\n    IconSymbol[IconSymbol[\"Guitar\"] = 49] = \"Guitar\";\n    IconSymbol[IconSymbol[\"GuitarTab\"] = 50] = \"GuitarTab\";\n    IconSymbol[IconSymbol[\"Headphone\"] = 51] = \"Headphone\";\n    IconSymbol[IconSymbol[\"Heart\"] = 52] = \"Heart\";\n    IconSymbol[IconSymbol[\"Help\"] = 53] = \"Help\";\n    IconSymbol[IconSymbol[\"HighPass\"] = 54] = \"HighPass\";\n    IconSymbol[IconSymbol[\"HighShelf\"] = 55] = \"HighShelf\";\n    IconSymbol[IconSymbol[\"Insert\"] = 56] = \"Insert\";\n    IconSymbol[IconSymbol[\"Invert\"] = 57] = \"Invert\";\n    IconSymbol[IconSymbol[\"Loop\"] = 58] = \"Loop\";\n    IconSymbol[IconSymbol[\"LowPass\"] = 59] = \"LowPass\";\n    IconSymbol[IconSymbol[\"LowShelf\"] = 60] = \"LowShelf\";\n    IconSymbol[IconSymbol[\"Magnet\"] = 61] = \"Magnet\";\n    IconSymbol[IconSymbol[\"MainMenu\"] = 62] = \"MainMenu\";\n    IconSymbol[IconSymbol[\"Maximized\"] = 63] = \"Maximized\";\n    IconSymbol[IconSymbol[\"Menu\"] = 64] = \"Menu\";\n    IconSymbol[IconSymbol[\"Merge\"] = 65] = \"Merge\";\n    IconSymbol[IconSymbol[\"Metronome\"] = 66] = \"Metronome\";\n    IconSymbol[IconSymbol[\"Microphone\"] = 67] = \"Microphone\";\n    IconSymbol[IconSymbol[\"Midi\"] = 68] = \"Midi\";\n    IconSymbol[IconSymbol[\"Minimized\"] = 69] = \"Minimized\";\n    IconSymbol[IconSymbol[\"Mix\"] = 70] = \"Mix\";\n    IconSymbol[IconSymbol[\"Mixing\"] = 71] = \"Mixing\";\n    IconSymbol[IconSymbol[\"Mute\"] = 72] = \"Mute\";\n    IconSymbol[IconSymbol[\"NanoWave\"] = 73] = \"NanoWave\";\n    IconSymbol[IconSymbol[\"New\"] = 74] = \"New\";\n    IconSymbol[IconSymbol[\"NoAudio\"] = 75] = \"NoAudio\";\n    IconSymbol[IconSymbol[\"Note\"] = 76] = \"Note\";\n    IconSymbol[IconSymbol[\"NotePad\"] = 77] = \"NotePad\";\n    IconSymbol[IconSymbol[\"OpenDAW\"] = 78] = \"OpenDAW\";\n    IconSymbol[IconSymbol[\"Panel\"] = 79] = \"Panel\";\n    IconSymbol[IconSymbol[\"Peak\"] = 80] = \"Peak\";\n    IconSymbol[IconSymbol[\"Pencil\"] = 81] = \"Pencil\";\n    IconSymbol[IconSymbol[\"Piano\"] = 82] = \"Piano\";\n    IconSymbol[IconSymbol[\"Playfield\"] = 83] = \"Playfield\";\n    IconSymbol[IconSymbol[\"Play\"] = 84] = \"Play\";\n    IconSymbol[IconSymbol[\"Pointer\"] = 85] = \"Pointer\";\n    IconSymbol[IconSymbol[\"Popout\"] = 86] = \"Popout\";\n    IconSymbol[IconSymbol[\"Primary\"] = 87] = \"Primary\";\n    IconSymbol[IconSymbol[\"Random\"] = 88] = \"Random\";\n    IconSymbol[IconSymbol[\"Record\"] = 89] = \"Record\";\n    IconSymbol[IconSymbol[\"Rectangle\"] = 90] = \"Rectangle\";\n    IconSymbol[IconSymbol[\"Region\"] = 91] = \"Region\";\n    IconSymbol[IconSymbol[\"Robot\"] = 92] = \"Robot\";\n    IconSymbol[IconSymbol[\"RoundDown\"] = 93] = \"RoundDown\";\n    IconSymbol[IconSymbol[\"RoundUp\"] = 94] = \"RoundUp\";\n    IconSymbol[IconSymbol[\"Run\"] = 95] = \"Run\";\n    IconSymbol[IconSymbol[\"Sawtooth\"] = 96] = \"Sawtooth\";\n    IconSymbol[IconSymbol[\"Saxophone\"] = 97] = \"Saxophone\";\n    IconSymbol[IconSymbol[\"Scissors\"] = 98] = \"Scissors\";\n    IconSymbol[IconSymbol[\"Search\"] = 99] = \"Search\";\n    IconSymbol[IconSymbol[\"Sine\"] = 100] = \"Sine\";\n    IconSymbol[IconSymbol[\"Solo\"] = 101] = \"Solo\";\n    IconSymbol[IconSymbol[\"SoundFont\"] = 102] = \"SoundFont\";\n    IconSymbol[IconSymbol[\"SpeakerHeadphone\"] = 103] = \"SpeakerHeadphone\";\n    IconSymbol[IconSymbol[\"Square\"] = 104] = \"Square\";\n    IconSymbol[IconSymbol[\"Stack\"] = 105] = \"Stack\";\n    IconSymbol[IconSymbol[\"Start\"] = 106] = \"Start\";\n    IconSymbol[IconSymbol[\"Stereo\"] = 107] = \"Stereo\";\n    IconSymbol[IconSymbol[\"Stop\"] = 108] = \"Stop\";\n    IconSymbol[IconSymbol[\"Subtract\"] = 109] = \"Subtract\";\n    IconSymbol[IconSymbol[\"Sun\"] = 110] = \"Sun\";\n    IconSymbol[IconSymbol[\"Swap\"] = 111] = \"Swap\";\n    IconSymbol[IconSymbol[\"System\"] = 112] = \"System\";\n    IconSymbol[IconSymbol[\"Table\"] = 113] = \"Table\";\n    IconSymbol[IconSymbol[\"Tape\"] = 114] = \"Tape\";\n    IconSymbol[IconSymbol[\"Time\"] = 115] = \"Time\";\n    IconSymbol[IconSymbol[\"Timeline\"] = 116] = \"Timeline\";\n    IconSymbol[IconSymbol[\"Tool\"] = 117] = \"Tool\";\n    IconSymbol[IconSymbol[\"Triangle\"] = 118] = \"Triangle\";\n    IconSymbol[IconSymbol[\"Unknown\"] = 119] = \"Unknown\";\n    IconSymbol[IconSymbol[\"UserFolder\"] = 120] = \"UserFolder\";\n    IconSymbol[IconSymbol[\"Velocity\"] = 121] = \"Velocity\";\n    IconSymbol[IconSymbol[\"Vinyl\"] = 122] = \"Vinyl\";\n    IconSymbol[IconSymbol[\"VUMeter\"] = 123] = \"VUMeter\";\n    IconSymbol[IconSymbol[\"Waveform\"] = 124] = \"Waveform\";\n    IconSymbol[IconSymbol[\"Zeitgeist\"] = 125] = \"Zeitgeist\";\n})(IconSymbol || (IconSymbol = {}));\n(function (IconSymbol) {\n    IconSymbol.toName = (symbol) => IconSymbol[symbol];\n    IconSymbol.fromName = (name) => IconSymbol[name] ?? IconSymbol.Rectangle;\n})(IconSymbol || (IconSymbol = {}));\n", "export var VoicingMode;\n(function (VoicingMode) {\n    VoicingMode[VoicingMode[\"Monophonic\"] = 0] = \"Monophonic\";\n    VoicingMode[VoicingMode[\"Polyphonic\"] = 1] = \"Polyphonic\";\n})(VoicingMode || (VoicingMode = {}));\n", "import { panic } from \"@naomiarotest/lib-std\";\nexport const IndexComparator = (a, b) => {\n    if (a === b) {\n        return 0;\n    }\n    const difference = a - b;\n    if (difference === 0) {\n        return panic(`Indices cannot be equal (${a}, ${b})`);\n    }\n    return difference;\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _IndexedBoxAdapterCollection_field, _IndexedBoxAdapterCollection_entries, _IndexedBoxAdapterCollection_listeners, _IndexedBoxAdapterCollection_subscription, _IndexedBoxAdapterCollection_sorted;\nimport { assert, BinarySearch, clamp, Listeners, Option, UUID } from \"@naomiarotest/lib-std\";\nimport { IndexComparator } from \"./IndexComparator\";\nexport class IndexedBoxAdapterCollection {\n    static create(field, provider, pointers) {\n        return new IndexedBoxAdapterCollection(field, provider, pointers);\n    }\n    constructor(field, provider, pointers) {\n        _IndexedBoxAdapterCollection_field.set(this, void 0);\n        _IndexedBoxAdapterCollection_entries.set(this, void 0);\n        _IndexedBoxAdapterCollection_listeners.set(this, void 0);\n        _IndexedBoxAdapterCollection_subscription.set(this, void 0);\n        _IndexedBoxAdapterCollection_sorted.set(this, null);\n        __classPrivateFieldSet(this, _IndexedBoxAdapterCollection_field, field, \"f\");\n        __classPrivateFieldSet(this, _IndexedBoxAdapterCollection_entries, UUID.newSet(entry => entry.adapter.uuid), \"f\");\n        __classPrivateFieldSet(this, _IndexedBoxAdapterCollection_listeners, new Listeners(), \"f\");\n        __classPrivateFieldSet(this, _IndexedBoxAdapterCollection_subscription, field.pointerHub.catchupAndSubscribe({\n            onAdded: (pointer) => {\n                __classPrivateFieldSet(this, _IndexedBoxAdapterCollection_sorted, null, \"f\");\n                const adapter = provider(pointer.box);\n                const subscription = adapter.indexField.subscribe(() => {\n                    __classPrivateFieldSet(this, _IndexedBoxAdapterCollection_sorted, null, \"f\");\n                    __classPrivateFieldGet(this, _IndexedBoxAdapterCollection_listeners, \"f\").proxy.onReorder(adapter);\n                });\n                const added = __classPrivateFieldGet(this, _IndexedBoxAdapterCollection_entries, \"f\").add({ adapter, subscription });\n                assert(added, `Could not add ${adapter}`);\n                __classPrivateFieldGet(this, _IndexedBoxAdapterCollection_listeners, \"f\").proxy.onAdd(adapter);\n            },\n            onRemoved: (pointer) => {\n                __classPrivateFieldSet(this, _IndexedBoxAdapterCollection_sorted, null, \"f\");\n                const uuid = pointer.box.address.uuid;\n                const { adapter, subscription } = __classPrivateFieldGet(this, _IndexedBoxAdapterCollection_entries, \"f\").removeByKey(uuid);\n                subscription.terminate();\n                __classPrivateFieldGet(this, _IndexedBoxAdapterCollection_listeners, \"f\").proxy.onRemove(adapter);\n            }\n        }, pointers), \"f\");\n    }\n    field() { return __classPrivateFieldGet(this, _IndexedBoxAdapterCollection_field, \"f\"); }\n    subscribe(listener) {\n        return __classPrivateFieldGet(this, _IndexedBoxAdapterCollection_listeners, \"f\").subscribe(listener);\n    }\n    catchupAndSubscribe(listener) {\n        __classPrivateFieldGet(this, _IndexedBoxAdapterCollection_entries, \"f\").forEach(({ adapter }) => listener.onAdd(adapter));\n        return this.subscribe(listener);\n    }\n    getAdapterByIndex(index) {\n        const idx = BinarySearch.exactMapped(this.adapters(), index, IndexComparator, adapter => adapter.indexField.getValue());\n        return idx === -1 ? Option.None : Option.wrap(this.adapters()[idx]);\n    }\n    getAdapterById(uuid) { return __classPrivateFieldGet(this, _IndexedBoxAdapterCollection_entries, \"f\").opt(uuid).map(({ adapter }) => adapter); }\n    getMinFreeIndex() {\n        const adapters = this.adapters();\n        for (let index = 0; index < adapters.length; index++) {\n            if (adapters[index].indexField.getValue() > index) {\n                return index;\n            }\n        }\n        return adapters.length;\n    }\n    adapters() {\n        if (__classPrivateFieldGet(this, _IndexedBoxAdapterCollection_sorted, \"f\") === null) {\n            __classPrivateFieldSet(this, _IndexedBoxAdapterCollection_sorted, __classPrivateFieldGet(this, _IndexedBoxAdapterCollection_entries, \"f\").values()\n                .map(({ adapter }) => adapter)\n                .sort((a, b) => a.indexField.getValue() - b.indexField.getValue()), \"f\");\n        }\n        return __classPrivateFieldGet(this, _IndexedBoxAdapterCollection_sorted, \"f\");\n    }\n    move(adapter, delta) {\n        this.moveIndex(adapter.indexField.getValue(), delta);\n    }\n    moveIndex(startIndex, delta) {\n        const adapters = this.adapters();\n        const adapter = adapters[startIndex];\n        if (delta < 0) {\n            const newIndex = clamp(startIndex + delta, 0, adapters.length - 1);\n            for (let index = newIndex; index < startIndex; index++) {\n                adapters[index].indexField.setValue(index + 1);\n            }\n            adapter.indexField.setValue(newIndex);\n        }\n        else if (delta > 1) {\n            const newIndex = clamp(startIndex + (delta - 1), 0, adapters.length - 1);\n            for (let index = startIndex; index < newIndex; index++) {\n                adapters[index + 1].indexField.setValue(index);\n            }\n            adapter.indexField.setValue(newIndex);\n        }\n        else {\n            console.warn(`moveIndex had no effect: startIndex: ${startIndex}, delta: ${delta}`);\n        }\n    }\n    size() { return __classPrivateFieldGet(this, _IndexedBoxAdapterCollection_entries, \"f\").size(); }\n    isEmpty() { return this.size() === 0; }\n    terminate() {\n        __classPrivateFieldSet(this, _IndexedBoxAdapterCollection_sorted, null, \"f\");\n        __classPrivateFieldGet(this, _IndexedBoxAdapterCollection_entries, \"f\").forEach(({ subscription }) => subscription.terminate());\n        __classPrivateFieldGet(this, _IndexedBoxAdapterCollection_entries, \"f\").clear();\n        __classPrivateFieldGet(this, _IndexedBoxAdapterCollection_listeners, \"f\").terminate();\n        __classPrivateFieldGet(this, _IndexedBoxAdapterCollection_subscription, \"f\").terminate();\n    }\n}\n_IndexedBoxAdapterCollection_field = new WeakMap(), _IndexedBoxAdapterCollection_entries = new WeakMap(), _IndexedBoxAdapterCollection_listeners = new WeakMap(), _IndexedBoxAdapterCollection_subscription = new WeakMap(), _IndexedBoxAdapterCollection_sorted = new WeakMap();\n", "import { RootBox, SelectionBox, UserInterfaceBox, UploadFileBox, TimelineBox, TrackBox, NoteEventBox, NoteEventRepeatBox, NoteEventCollectionBox, NoteRegionBox, NoteClipBox, ValueEventBox, ValueEventCollectionBox, ValueEventCurveBox, ValueRegionBox, ValueClipBox, AudioRegionBox, AudioClipBox, MarkerBox, AudioFileBox, SoundfontFileBox, AudioUnitBox, CaptureAudioBox, CaptureMidiBox, AudioBusBox, AuxSendBox, GrooveShuffleBox, UnknownAudioEffectDeviceBox, UnknownMidiEffectDeviceBox, DeviceInterfaceKnobBox, ModularDeviceBox, StereoToolDeviceBox, CompressorDeviceBox, DelayDeviceBox, CrusherDeviceBox, DattorroReverbDeviceBox, VelocityDeviceBox, FoldDeviceBox, TidalDeviceBox, RevampDeviceBox, ReverbDeviceBox, VaporisateurDeviceBox, MIDIOutputDeviceBox, MIDIOutputBox, MIDIOutputParameterBox, SoundfontDeviceBox, NanoDeviceBox, PlayfieldDeviceBox, PlayfieldSampleBox, TapeDeviceBox, ArpeggioDeviceBox, PitchDeviceBox, ZeitgeistDeviceBox, ModularBox, ModuleConnectionBox, ModularAudioInputBox, ModularAudioOutputBox, ModuleDelayBox, ModuleMultiplierBox, ModuleGainBox, } from \".\";\nimport { ByteArrayInput, panic, UUID } from \"@naomiarotest/lib-std\";\n//\n//   ___          ___\n//  | _ ) _____ _| __|__ _ _ __ _ ___\n//  | _ \\/ _ \\ \\ / _/ _ \\ '_/ _` / -_)\n//  |___/\\___/_\\_\\_|\\___/_| \\__, \\___|\n//                         |___/\n//\n//  auto-generated | do not edit | blame andre.michelle@opendaw.org\n//\nexport var BoxIO;\n(function (BoxIO) {\n    BoxIO.create = (name, graph, uuid, constructor) => {\n        switch (name) {\n            case \"RootBox\":\n                return RootBox.create(graph, uuid, constructor);\n            case \"SelectionBox\":\n                return SelectionBox.create(graph, uuid, constructor);\n            case \"UserInterfaceBox\":\n                return UserInterfaceBox.create(graph, uuid, constructor);\n            case \"UploadFileBox\":\n                return UploadFileBox.create(graph, uuid, constructor);\n            case \"TimelineBox\":\n                return TimelineBox.create(graph, uuid, constructor);\n            case \"TrackBox\":\n                return TrackBox.create(graph, uuid, constructor);\n            case \"NoteEventBox\":\n                return NoteEventBox.create(graph, uuid, constructor);\n            case \"NoteEventRepeatBox\":\n                return NoteEventRepeatBox.create(graph, uuid, constructor);\n            case \"NoteEventCollectionBox\":\n                return NoteEventCollectionBox.create(graph, uuid, constructor);\n            case \"NoteRegionBox\":\n                return NoteRegionBox.create(graph, uuid, constructor);\n            case \"NoteClipBox\":\n                return NoteClipBox.create(graph, uuid, constructor);\n            case \"ValueEventBox\":\n                return ValueEventBox.create(graph, uuid, constructor);\n            case \"ValueEventCollectionBox\":\n                return ValueEventCollectionBox.create(graph, uuid, constructor);\n            case \"ValueEventCurveBox\":\n                return ValueEventCurveBox.create(graph, uuid, constructor);\n            case \"ValueRegionBox\":\n                return ValueRegionBox.create(graph, uuid, constructor);\n            case \"ValueClipBox\":\n                return ValueClipBox.create(graph, uuid, constructor);\n            case \"AudioRegionBox\":\n                return AudioRegionBox.create(graph, uuid, constructor);\n            case \"AudioClipBox\":\n                return AudioClipBox.create(graph, uuid, constructor);\n            case \"MarkerBox\":\n                return MarkerBox.create(graph, uuid, constructor);\n            case \"AudioFileBox\":\n                return AudioFileBox.create(graph, uuid, constructor);\n            case \"SoundfontFileBox\":\n                return SoundfontFileBox.create(graph, uuid, constructor);\n            case \"AudioUnitBox\":\n                return AudioUnitBox.create(graph, uuid, constructor);\n            case \"CaptureAudioBox\":\n                return CaptureAudioBox.create(graph, uuid, constructor);\n            case \"CaptureMidiBox\":\n                return CaptureMidiBox.create(graph, uuid, constructor);\n            case \"AudioBusBox\":\n                return AudioBusBox.create(graph, uuid, constructor);\n            case \"AuxSendBox\":\n                return AuxSendBox.create(graph, uuid, constructor);\n            case \"GrooveShuffleBox\":\n                return GrooveShuffleBox.create(graph, uuid, constructor);\n            case \"UnknownAudioEffectDeviceBox\":\n                return UnknownAudioEffectDeviceBox.create(graph, uuid, constructor);\n            case \"UnknownMidiEffectDeviceBox\":\n                return UnknownMidiEffectDeviceBox.create(graph, uuid, constructor);\n            case \"DeviceInterfaceKnobBox\":\n                return DeviceInterfaceKnobBox.create(graph, uuid, constructor);\n            case \"ModularDeviceBox\":\n                return ModularDeviceBox.create(graph, uuid, constructor);\n            case \"StereoToolDeviceBox\":\n                return StereoToolDeviceBox.create(graph, uuid, constructor);\n            case \"CompressorDeviceBox\":\n                return CompressorDeviceBox.create(graph, uuid, constructor);\n            case \"DelayDeviceBox\":\n                return DelayDeviceBox.create(graph, uuid, constructor);\n            case \"CrusherDeviceBox\":\n                return CrusherDeviceBox.create(graph, uuid, constructor);\n            case \"DattorroReverbDeviceBox\":\n                return DattorroReverbDeviceBox.create(graph, uuid, constructor);\n            case \"VelocityDeviceBox\":\n                return VelocityDeviceBox.create(graph, uuid, constructor);\n            case \"FoldDeviceBox\":\n                return FoldDeviceBox.create(graph, uuid, constructor);\n            case \"TidalDeviceBox\":\n                return TidalDeviceBox.create(graph, uuid, constructor);\n            case \"RevampDeviceBox\":\n                return RevampDeviceBox.create(graph, uuid, constructor);\n            case \"ReverbDeviceBox\":\n                return ReverbDeviceBox.create(graph, uuid, constructor);\n            case \"VaporisateurDeviceBox\":\n                return VaporisateurDeviceBox.create(graph, uuid, constructor);\n            case \"MIDIOutputDeviceBox\":\n                return MIDIOutputDeviceBox.create(graph, uuid, constructor);\n            case \"MIDIOutputBox\":\n                return MIDIOutputBox.create(graph, uuid, constructor);\n            case \"MIDIOutputParameterBox\":\n                return MIDIOutputParameterBox.create(graph, uuid, constructor);\n            case \"SoundfontDeviceBox\":\n                return SoundfontDeviceBox.create(graph, uuid, constructor);\n            case \"NanoDeviceBox\":\n                return NanoDeviceBox.create(graph, uuid, constructor);\n            case \"PlayfieldDeviceBox\":\n                return PlayfieldDeviceBox.create(graph, uuid, constructor);\n            case \"PlayfieldSampleBox\":\n                return PlayfieldSampleBox.create(graph, uuid, constructor);\n            case \"TapeDeviceBox\":\n                return TapeDeviceBox.create(graph, uuid, constructor);\n            case \"ArpeggioDeviceBox\":\n                return ArpeggioDeviceBox.create(graph, uuid, constructor);\n            case \"PitchDeviceBox\":\n                return PitchDeviceBox.create(graph, uuid, constructor);\n            case \"ZeitgeistDeviceBox\":\n                return ZeitgeistDeviceBox.create(graph, uuid, constructor);\n            case \"ModularBox\":\n                return ModularBox.create(graph, uuid, constructor);\n            case \"ModuleConnectionBox\":\n                return ModuleConnectionBox.create(graph, uuid, constructor);\n            case \"ModularAudioInputBox\":\n                return ModularAudioInputBox.create(graph, uuid, constructor);\n            case \"ModularAudioOutputBox\":\n                return ModularAudioOutputBox.create(graph, uuid, constructor);\n            case \"ModuleDelayBox\":\n                return ModuleDelayBox.create(graph, uuid, constructor);\n            case \"ModuleMultiplierBox\":\n                return ModuleMultiplierBox.create(graph, uuid, constructor);\n            case \"ModuleGainBox\":\n                return ModuleGainBox.create(graph, uuid, constructor);\n            default:\n                return panic(`Unknown box class '${name}'`);\n        }\n    };\n    BoxIO.deserialize = (graph, buffer) => {\n        const stream = new ByteArrayInput(buffer);\n        const className = stream.readString();\n        const uuidBytes = UUID.fromDataInput(stream);\n        const box = BoxIO.create(className, graph, uuidBytes);\n        box.read(stream);\n        return box;\n    };\n})(BoxIO || (BoxIO = {}));\n", "import \"@naomiarotest/lib-std\";\nimport { ObjectField, NoPointers, Int32Field, Float32Field, BooleanField, } from \"@naomiarotest/lib-box\";\nexport class PianoMode extends ObjectField {\n    static create(construct) {\n        return new PianoMode(construct);\n    }\n    constructor(construct) {\n        super(construct);\n    }\n    get keyboard() {\n        return this.getField(1);\n    }\n    get timeRangeInQuarters() {\n        return this.getField(2);\n    }\n    get noteScale() {\n        return this.getField(3);\n    }\n    get noteLabels() {\n        return this.getField(4);\n    }\n    get transpose() {\n        return this.getField(5);\n    }\n    initializeFields() {\n        return {\n            1: Int32Field.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"keyboard\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { length: 4 }, \"\", 0),\n            2: Float32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"timeRangeInQuarters\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 1, max: 64, scaling: \"linear\" }, \"\", 8),\n            3: Float32Field.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"noteScale\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 0.5, max: 2, scaling: \"linear\" }, \"\", 1),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"noteLabels\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            5: Int32Field.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"transpose\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: -48, max: 48 }, \"st\", 0),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Field, StringField, } from \"@naomiarotest/lib-box\";\nimport { PianoMode } from \"./PianoMode\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class RootBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new RootBox({\n            uuid,\n            graph,\n            name: \"RootBox\",\n            pointerRules: NoPointers,\n        }), constructor);\n    }\n    static ClassName = \"RootBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitRootBox, this);\n    }\n    get timeline() {\n        return this.getField(1);\n    }\n    get users() {\n        return this.getField(2);\n    }\n    get created() {\n        return this.getField(3);\n    }\n    get groove() {\n        return this.getField(4);\n    }\n    get modularSetups() {\n        return this.getField(10);\n    }\n    get audioUnits() {\n        return this.getField(20);\n    }\n    get audioBusses() {\n        return this.getField(21);\n    }\n    get outputDevice() {\n        return this.getField(30);\n    }\n    get outputMidiDevices() {\n        return this.getField(35);\n    }\n    get pianoMode() {\n        return this.getField(40);\n    }\n    get editingChannel() {\n        return this.getField(111);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"timeline\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.Timeline, true),\n            2: Field.hook({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"users\",\n                deprecated: false,\n                pointerRules: { accepts: [Pointers.User], mandatory: true },\n            }),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"created\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: PointerField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"groove\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.Groove, true),\n            10: Field.hook({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"modularSetups\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.ModularSetup],\n                    mandatory: false,\n                },\n            }),\n            20: Field.hook({\n                parent: this,\n                fieldKey: 20,\n                fieldName: \"audioUnits\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.AudioUnits],\n                    mandatory: false,\n                },\n            }),\n            21: Field.hook({\n                parent: this,\n                fieldKey: 21,\n                fieldName: \"audioBusses\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.AudioBusses],\n                    mandatory: false,\n                },\n            }),\n            30: Field.hook({\n                parent: this,\n                fieldKey: 30,\n                fieldName: \"outputDevice\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.AudioOutput],\n                    mandatory: true,\n                },\n            }),\n            35: Field.hook({\n                parent: this,\n                fieldKey: 35,\n                fieldName: \"outputMidiDevices\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.MIDIDevice],\n                    mandatory: false,\n                },\n            }),\n            40: PianoMode.create({\n                parent: this,\n                fieldKey: 40,\n                fieldName: \"pianoMode\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            111: PointerField.create({\n                parent: this,\n                fieldKey: 111,\n                fieldName: \"editingChannel\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.Editing, false),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class SelectionBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new SelectionBox({\n            uuid,\n            graph,\n            name: \"SelectionBox\",\n            pointerRules: NoPointers,\n        }), constructor);\n    }\n    static ClassName = \"SelectionBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitSelectionBox, this);\n    }\n    get selection() {\n        return this.getField(1);\n    }\n    get selectable() {\n        return this.getField(2);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"selection\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.Selection, true),\n            2: PointerField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"selectable\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.Selection, true),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class UserInterfaceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new UserInterfaceBox({\n            uuid,\n            graph,\n            name: \"UserInterfaceBox\",\n            pointerRules: NoPointers,\n        }), constructor);\n    }\n    static ClassName = \"UserInterfaceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitUserInterfaceBox, this);\n    }\n    get root() {\n        return this.getField(1);\n    }\n    get selection() {\n        return this.getField(10);\n    }\n    get uploadStates() {\n        return this.getField(11);\n    }\n    get editingDeviceChain() {\n        return this.getField(21);\n    }\n    get editingTimelineRegion() {\n        return this.getField(22);\n    }\n    get editingModularSystem() {\n        return this.getField(23);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"root\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.User, true),\n            10: Field.hook({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"selection\",\n                deprecated: false,\n                pointerRules: { accepts: [Pointers.Selection], mandatory: false },\n            }),\n            11: Field.hook({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"uploadStates\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.FileUploadState],\n                    mandatory: false,\n                },\n            }),\n            21: PointerField.create({\n                parent: this,\n                fieldKey: 21,\n                fieldName: \"editingDeviceChain\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.Editing, false),\n            22: PointerField.create({\n                parent: this,\n                fieldKey: 22,\n                fieldName: \"editingTimelineRegion\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.Editing, false),\n            23: PointerField.create({\n                parent: this,\n                fieldKey: 23,\n                fieldName: \"editingModularSystem\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.Editing, false),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class UploadFileBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new UploadFileBox({\n            uuid,\n            graph,\n            name: \"UploadFileBox\",\n            pointerRules: NoPointers,\n        }), constructor);\n    }\n    static ClassName = \"UploadFileBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitUploadFileBox, this);\n    }\n    get user() {\n        return this.getField(1);\n    }\n    get file() {\n        return this.getField(2);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"user\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.FileUploadState, true),\n            2: PointerField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"file\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.FileUploadState, true),\n        };\n    }\n}\n", "import \"@naomiarotest/lib-std\";\nimport { ObjectField, NoPointers, Int32Field, } from \"@naomiarotest/lib-box\";\nexport class Signature extends ObjectField {\n    static create(construct) {\n        return new Signature(construct);\n    }\n    constructor(construct) {\n        super(construct);\n    }\n    get nominator() {\n        return this.getField(1);\n    }\n    get denominator() {\n        return this.getField(2);\n    }\n    initializeFields() {\n        return {\n            1: Int32Field.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"nominator\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 1, max: 32 }, \"\", 4),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"denominator\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 1, max: 32 }, \"\", 4),\n        };\n    }\n}\n", "import \"@naomiarotest/lib-std\";\nimport { ObjectField, NoPointers, BooleanField, Int32Field, } from \"@naomiarotest/lib-box\";\nexport class LoopArea extends ObjectField {\n    static create(construct) {\n        return new LoopArea(construct);\n    }\n    constructor(construct) {\n        super(construct);\n    }\n    get enabled() {\n        return this.getField(1);\n    }\n    get from() {\n        return this.getField(2);\n    }\n    get to() {\n        return this.getField(3);\n    }\n    initializeFields() {\n        return {\n            1: BooleanField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"from\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"ppqn\", 0),\n            3: Int32Field.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"to\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"ppqn\", 15360),\n        };\n    }\n}\n", "import \"@naomiarotest/lib-std\";\nimport { ObjectField, NoPointers, Field, Int32Field, BooleanField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class MarkerTrack extends ObjectField {\n    static create(construct) {\n        return new MarkerTrack(construct);\n    }\n    constructor(construct) {\n        super(construct);\n    }\n    get markers() {\n        return this.getField(1);\n    }\n    get index() {\n        return this.getField(10);\n    }\n    get enabled() {\n        return this.getField(20);\n    }\n    initializeFields() {\n        return {\n            1: Field.hook({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"markers\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.MarkerTrack],\n                    mandatory: false,\n                },\n            }),\n            10: Int32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            20: BooleanField.create({\n                parent: this,\n                fieldKey: 20,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, Field, Int32Field, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Signature } from \"./Signature\";\nimport { LoopArea } from \"./LoopArea\";\nimport { MarkerTrack } from \"./MarkerTrack\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class TimelineBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new TimelineBox({\n            uuid,\n            graph,\n            name: \"TimelineBox\",\n            pointerRules: NoPointers,\n        }), constructor);\n    }\n    static ClassName = \"TimelineBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitTimelineBox, this);\n    }\n    get root() {\n        return this.getField(1);\n    }\n    get signature() {\n        return this.getField(10);\n    }\n    get loopArea() {\n        return this.getField(11);\n    }\n    get deprecatedMarkerTrack() {\n        return this.getField(20);\n    }\n    get markerTrack() {\n        return this.getField(21);\n    }\n    get durationInPulses() {\n        return this.getField(30);\n    }\n    get bpm() {\n        return this.getField(31);\n    }\n    initializeFields() {\n        return {\n            1: Field.hook({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"root\",\n                deprecated: false,\n                pointerRules: { accepts: [Pointers.Timeline], mandatory: true },\n            }),\n            10: Signature.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"signature\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            11: LoopArea.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"loopArea\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            20: Field.hook({\n                parent: this,\n                fieldKey: 20,\n                fieldName: \"deprecatedMarkerTrack\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.MarkerTrack],\n                    mandatory: false,\n                },\n            }),\n            21: MarkerTrack.create({\n                parent: this,\n                fieldKey: 21,\n                fieldName: \"markerTrack\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            30: Int32Field.create({\n                parent: this,\n                fieldKey: 30,\n                fieldName: \"durationInPulses\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"positive\", \"ppqn\", 491520),\n            31: Float32Field.create({\n                parent: this,\n                fieldKey: 31,\n                fieldName: \"bpm\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 30, max: 999, scaling: \"exponential\" }, \"bpm\", 120),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Field, Int32Field, BooleanField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class TrackBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new TrackBox({\n            uuid,\n            graph,\n            name: \"TrackBox\",\n            pointerRules: {\n                accepts: [Pointers.Selection, Pointers.PianoMode],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"TrackBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitTrackBox, this);\n    }\n    get tracks() {\n        return this.getField(1);\n    }\n    get target() {\n        return this.getField(2);\n    }\n    get regions() {\n        return this.getField(3);\n    }\n    get clips() {\n        return this.getField(4);\n    }\n    get index() {\n        return this.getField(10);\n    }\n    get type() {\n        return this.getField(11);\n    }\n    get enabled() {\n        return this.getField(20);\n    }\n    get excludePianoMode() {\n        return this.getField(30);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"tracks\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.TrackCollection, true),\n            2: PointerField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"target\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.Automation, true),\n            3: Field.hook({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"regions\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.RegionCollection],\n                    mandatory: false,\n                },\n            }),\n            4: Field.hook({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"clips\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.ClipCollection],\n                    mandatory: false,\n                },\n            }),\n            10: Int32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            11: Int32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"type\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { values: [0, 1, 2, 3] }, \"\"),\n            20: BooleanField.create({\n                parent: this,\n                fieldKey: 20,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            30: BooleanField.create({\n                parent: this,\n                fieldKey: 30,\n                fieldName: \"excludePianoMode\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class NoteEventBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new NoteEventBox({\n            uuid,\n            graph,\n            name: \"NoteEventBox\",\n            pointerRules: {\n                accepts: [Pointers.Selection, Pointers.NoteEventFeature],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"NoteEventBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitNoteEventBox, this);\n    }\n    get events() {\n        return this.getField(1);\n    }\n    get position() {\n        return this.getField(10);\n    }\n    get duration() {\n        return this.getField(11);\n    }\n    get pitch() {\n        return this.getField(20);\n    }\n    get velocity() {\n        return this.getField(21);\n    }\n    get playCount() {\n        return this.getField(22);\n    }\n    get playCurve() {\n        return this.getField(23);\n    }\n    get cent() {\n        return this.getField(24);\n    }\n    get chance() {\n        return this.getField(25);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"events\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.NoteEvents, true),\n            10: Int32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"position\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"ppqn\"),\n            11: Int32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"duration\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"positive\", \"ppqn\", 240),\n            20: Int32Field.create({\n                parent: this,\n                fieldKey: 20,\n                fieldName: \"pitch\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 0, max: 127 }, \"\", 60),\n            21: Float32Field.create({\n                parent: this,\n                fieldKey: 21,\n                fieldName: \"velocity\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"unipolar\", \"%\", 0.7874015748031497),\n            22: Int32Field.create({\n                parent: this,\n                fieldKey: 22,\n                fieldName: \"playCount\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 1, max: 128 }, \"\", 1),\n            23: Float32Field.create({\n                parent: this,\n                fieldKey: 23,\n                fieldName: \"playCurve\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"bipolar\", \"%\", 0),\n            24: Float32Field.create({\n                parent: this,\n                fieldKey: 24,\n                fieldName: \"cent\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: -50, max: 50, scaling: \"linear\" }, \"ct\", 0),\n            25: Int32Field.create({\n                parent: this,\n                fieldKey: 25,\n                fieldName: \"chance\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 0, max: 100 }, \"\", 100),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class NoteEventRepeatBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new NoteEventRepeatBox({\n            uuid,\n            graph,\n            name: \"NoteEventRepeatBox\",\n            pointerRules: NoPointers,\n        }), constructor);\n    }\n    static ClassName = \"NoteEventRepeatBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitNoteEventRepeatBox, this);\n    }\n    get event() {\n        return this.getField(1);\n    }\n    get count() {\n        return this.getField(2);\n    }\n    get curve() {\n        return this.getField(3);\n    }\n    get length() {\n        return this.getField(4);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"event\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.NoteEventFeature, true),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"count\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 1, max: 128 }, \"\", 1),\n            3: Float32Field.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"curve\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"bipolar\", \"%\", 0),\n            4: Float32Field.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"length\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"unipolar\", \"%\", 1),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, Field } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class NoteEventCollectionBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new NoteEventCollectionBox({\n            uuid,\n            graph,\n            name: \"NoteEventCollectionBox\",\n            pointerRules: { accepts: [Pointers.Selection], mandatory: false },\n        }), constructor);\n    }\n    static ClassName = \"NoteEventCollectionBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitNoteEventCollectionBox, this);\n    }\n    get events() {\n        return this.getField(1);\n    }\n    get owners() {\n        return this.getField(2);\n    }\n    initializeFields() {\n        return {\n            1: Field.hook({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"events\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.NoteEvents],\n                    mandatory: false,\n                },\n            }),\n            2: Field.hook({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"owners\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.NoteEventCollection],\n                    mandatory: true,\n                },\n            }),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, BooleanField, StringField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class NoteRegionBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new NoteRegionBox({\n            uuid,\n            graph,\n            name: \"NoteRegionBox\",\n            pointerRules: {\n                accepts: [Pointers.Selection, Pointers.Editing],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"NoteRegionBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitNoteRegionBox, this);\n    }\n    get regions() {\n        return this.getField(1);\n    }\n    get events() {\n        return this.getField(2);\n    }\n    get position() {\n        return this.getField(10);\n    }\n    get duration() {\n        return this.getField(11);\n    }\n    get loopOffset() {\n        return this.getField(12);\n    }\n    get loopDuration() {\n        return this.getField(13);\n    }\n    get eventOffset() {\n        return this.getField(14);\n    }\n    get mute() {\n        return this.getField(15);\n    }\n    get label() {\n        return this.getField(16);\n    }\n    get hue() {\n        return this.getField(17);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"regions\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.RegionCollection, true),\n            2: PointerField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"events\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.NoteEventCollection, true),\n            10: Int32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"position\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"ppqn\"),\n            11: Int32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"duration\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"positive\", \"ppqn\"),\n            12: Int32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"loopOffset\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"ppqn\"),\n            13: Int32Field.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"loopDuration\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"positive\", \"ppqn\"),\n            14: Int32Field.create({\n                parent: this,\n                fieldKey: 14,\n                fieldName: \"eventOffset\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"ppqn\"),\n            15: BooleanField.create({\n                parent: this,\n                fieldKey: 15,\n                fieldName: \"mute\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            16: StringField.create({\n                parent: this,\n                fieldKey: 16,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            17: Int32Field.create({\n                parent: this,\n                fieldKey: 17,\n                fieldName: \"hue\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 0, max: 360 }, \"\u00B0\"),\n        };\n    }\n}\n", "import \"@naomiarotest/lib-std\";\nimport { ObjectField, NoPointers, BooleanField, Int32Field, } from \"@naomiarotest/lib-box\";\nexport class ClipPlaybackFields extends ObjectField {\n    static create(construct) {\n        return new ClipPlaybackFields(construct);\n    }\n    constructor(construct) {\n        super(construct);\n    }\n    get loop() {\n        return this.getField(1);\n    }\n    get reverse() {\n        return this.getField(2);\n    }\n    get mute() {\n        return this.getField(3);\n    }\n    get speed() {\n        return this.getField(4);\n    }\n    get quantise() {\n        return this.getField(5);\n    }\n    get trigger() {\n        return this.getField(6);\n    }\n    initializeFields() {\n        return {\n            1: BooleanField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"loop\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            2: BooleanField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"reverse\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            3: BooleanField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"mute\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: Int32Field.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"speed\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"non-negative\", \"\"),\n            5: Int32Field.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"quantise\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"non-negative\", \"\"),\n            6: Int32Field.create({\n                parent: this,\n                fieldKey: 6,\n                fieldName: \"trigger\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"non-negative\", \"\"),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, BooleanField, StringField, } from \"@naomiarotest/lib-box\";\nimport { ClipPlaybackFields } from \"./ClipPlaybackFields\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class NoteClipBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new NoteClipBox({\n            uuid,\n            graph,\n            name: \"NoteClipBox\",\n            pointerRules: {\n                accepts: [Pointers.Selection, Pointers.Editing],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"NoteClipBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitNoteClipBox, this);\n    }\n    get clips() {\n        return this.getField(1);\n    }\n    get events() {\n        return this.getField(2);\n    }\n    get index() {\n        return this.getField(3);\n    }\n    get playback() {\n        return this.getField(4);\n    }\n    get duration() {\n        return this.getField(10);\n    }\n    get mute() {\n        return this.getField(11);\n    }\n    get label() {\n        return this.getField(12);\n    }\n    get hue() {\n        return this.getField(13);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"clips\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.ClipCollection, true),\n            2: PointerField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"events\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.NoteEventCollection, true),\n            3: Int32Field.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            4: ClipPlaybackFields.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"playback\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            10: Int32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"duration\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"positive\", \"ppqn\"),\n            11: BooleanField.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"mute\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            12: StringField.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            13: Int32Field.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"hue\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 0, max: 360 }, \"\u00B0\"),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class ValueEventBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new ValueEventBox({\n            uuid,\n            graph,\n            name: \"ValueEventBox\",\n            pointerRules: { accepts: [Pointers.Selection], mandatory: false },\n        }), constructor);\n    }\n    static ClassName = \"ValueEventBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitValueEventBox, this);\n    }\n    get events() {\n        return this.getField(1);\n    }\n    get position() {\n        return this.getField(10);\n    }\n    get index() {\n        return this.getField(11);\n    }\n    get interpolation() {\n        return this.getField(12);\n    }\n    get value() {\n        return this.getField(13);\n    }\n    get slope() {\n        return this.getField(14);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"events\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.ValueEvents, true),\n            10: Int32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"position\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"ppqn\"),\n            11: Int32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            12: Int32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"interpolation\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.ValueInterpolation],\n                    mandatory: false,\n                },\n            }, { values: [0, 1] }, \"\", 1),\n            13: Float32Field.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"value\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"unipolar\", \"%\"),\n            14: Float32Field.create({\n                parent: this,\n                fieldKey: 14,\n                fieldName: \"slope\",\n                deprecated: true,\n                pointerRules: NoPointers,\n            }, \"any\", \"\", NaN),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, Field } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class ValueEventCollectionBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new ValueEventCollectionBox({\n            uuid,\n            graph,\n            name: \"ValueEventCollectionBox\",\n            pointerRules: { accepts: [Pointers.Selection], mandatory: false },\n        }), constructor);\n    }\n    static ClassName = \"ValueEventCollectionBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitValueEventCollectionBox, this);\n    }\n    get events() {\n        return this.getField(1);\n    }\n    get owners() {\n        return this.getField(2);\n    }\n    initializeFields() {\n        return {\n            1: Field.hook({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"events\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.ValueEvents],\n                    mandatory: false,\n                },\n            }),\n            2: Field.hook({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"owners\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.ValueEventCollection],\n                    mandatory: true,\n                },\n            }),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class ValueEventCurveBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new ValueEventCurveBox({\n            uuid,\n            graph,\n            name: \"ValueEventCurveBox\",\n            pointerRules: NoPointers,\n        }), constructor);\n    }\n    static ClassName = \"ValueEventCurveBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitValueEventCurveBox, this);\n    }\n    get event() {\n        return this.getField(1);\n    }\n    get slope() {\n        return this.getField(2);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"event\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.ValueInterpolation, true),\n            2: Float32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"slope\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"unipolar\", \"%\", 0.5),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, BooleanField, StringField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class ValueRegionBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new ValueRegionBox({\n            uuid,\n            graph,\n            name: \"ValueRegionBox\",\n            pointerRules: {\n                accepts: [Pointers.Selection, Pointers.Editing],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"ValueRegionBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitValueRegionBox, this);\n    }\n    get regions() {\n        return this.getField(1);\n    }\n    get events() {\n        return this.getField(2);\n    }\n    get position() {\n        return this.getField(10);\n    }\n    get duration() {\n        return this.getField(11);\n    }\n    get loopOffset() {\n        return this.getField(12);\n    }\n    get loopDuration() {\n        return this.getField(13);\n    }\n    get mute() {\n        return this.getField(14);\n    }\n    get label() {\n        return this.getField(15);\n    }\n    get hue() {\n        return this.getField(16);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"regions\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.RegionCollection, true),\n            2: PointerField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"events\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.ValueEventCollection, true),\n            10: Int32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"position\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"ppqn\"),\n            11: Int32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"duration\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"positive\", \"ppqn\"),\n            12: Int32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"loopOffset\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"ppqn\"),\n            13: Int32Field.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"loopDuration\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"positive\", \"ppqn\"),\n            14: BooleanField.create({\n                parent: this,\n                fieldKey: 14,\n                fieldName: \"mute\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            15: StringField.create({\n                parent: this,\n                fieldKey: 15,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            16: Int32Field.create({\n                parent: this,\n                fieldKey: 16,\n                fieldName: \"hue\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 0, max: 360 }, \"\u00B0\"),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, BooleanField, StringField, } from \"@naomiarotest/lib-box\";\nimport { ClipPlaybackFields } from \"./ClipPlaybackFields\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class ValueClipBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new ValueClipBox({\n            uuid,\n            graph,\n            name: \"ValueClipBox\",\n            pointerRules: {\n                accepts: [Pointers.Selection, Pointers.Editing],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"ValueClipBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitValueClipBox, this);\n    }\n    get clips() {\n        return this.getField(1);\n    }\n    get events() {\n        return this.getField(2);\n    }\n    get index() {\n        return this.getField(3);\n    }\n    get playback() {\n        return this.getField(4);\n    }\n    get duration() {\n        return this.getField(10);\n    }\n    get mute() {\n        return this.getField(11);\n    }\n    get label() {\n        return this.getField(12);\n    }\n    get hue() {\n        return this.getField(13);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"clips\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.ClipCollection, true),\n            2: PointerField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"events\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.ValueEventCollection, true),\n            3: Int32Field.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            4: ClipPlaybackFields.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"playback\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            10: Int32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"duration\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"positive\", \"ppqn\"),\n            11: BooleanField.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"mute\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            12: StringField.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            13: Int32Field.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"hue\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 0, max: 360 }, \"\u00B0\"),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, StringField, Int32Field, Float32Field, BooleanField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class AudioRegionBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new AudioRegionBox({\n            uuid,\n            graph,\n            name: \"AudioRegionBox\",\n            pointerRules: {\n                accepts: [Pointers.Selection, Pointers.Editing],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"AudioRegionBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitAudioRegionBox, this);\n    }\n    get regions() {\n        return this.getField(1);\n    }\n    get file() {\n        return this.getField(2);\n    }\n    get playback() {\n        return this.getField(3);\n    }\n    get timeBase() {\n        return this.getField(4);\n    }\n    get events() {\n        return this.getField(5);\n    }\n    get position() {\n        return this.getField(10);\n    }\n    get duration() {\n        return this.getField(11);\n    }\n    get loopOffset() {\n        return this.getField(12);\n    }\n    get loopDuration() {\n        return this.getField(13);\n    }\n    get mute() {\n        return this.getField(14);\n    }\n    get label() {\n        return this.getField(15);\n    }\n    get hue() {\n        return this.getField(16);\n    }\n    get gain() {\n        return this.getField(17);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"regions\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.RegionCollection, true),\n            2: PointerField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"file\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioFile, true),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"playback\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"pitch\"),\n            4: StringField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"timeBase\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"musical\"),\n            5: PointerField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"events\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.ValueEventCollection, true),\n            10: Int32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"position\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"ppqn\"),\n            11: Float32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"duration\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"mixed\"),\n            12: Float32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"loopOffset\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"mixed\"),\n            13: Float32Field.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"loopDuration\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"mixed\"),\n            14: BooleanField.create({\n                parent: this,\n                fieldKey: 14,\n                fieldName: \"mute\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            15: StringField.create({\n                parent: this,\n                fieldKey: 15,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            16: Int32Field.create({\n                parent: this,\n                fieldKey: 16,\n                fieldName: \"hue\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 0, max: 360 }, \"\u00B0\"),\n            17: Float32Field.create({\n                parent: this,\n                fieldKey: 17,\n                fieldName: \"gain\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"decibel\", \"db\"),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, BooleanField, StringField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { ClipPlaybackFields } from \"./ClipPlaybackFields\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class AudioClipBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new AudioClipBox({\n            uuid,\n            graph,\n            name: \"AudioClipBox\",\n            pointerRules: {\n                accepts: [Pointers.Selection, Pointers.Editing],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"AudioClipBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitAudioClipBox, this);\n    }\n    get clips() {\n        return this.getField(1);\n    }\n    get file() {\n        return this.getField(2);\n    }\n    get index() {\n        return this.getField(3);\n    }\n    get playback() {\n        return this.getField(4);\n    }\n    get events() {\n        return this.getField(5);\n    }\n    get duration() {\n        return this.getField(10);\n    }\n    get mute() {\n        return this.getField(11);\n    }\n    get label() {\n        return this.getField(12);\n    }\n    get hue() {\n        return this.getField(13);\n    }\n    get gain() {\n        return this.getField(14);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"clips\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.ClipCollection, true),\n            2: PointerField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"file\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioFile, true),\n            3: Int32Field.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            4: ClipPlaybackFields.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"playback\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            5: PointerField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"events\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.ValueEventCollection, true),\n            10: Int32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"duration\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"ppqn\"),\n            11: BooleanField.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"mute\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            12: StringField.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            13: Int32Field.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"hue\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 0, max: 360 }, \"\u00B0\"),\n            14: Float32Field.create({\n                parent: this,\n                fieldKey: 14,\n                fieldName: \"gain\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"decibel\", \"db\"),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, StringField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class MarkerBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new MarkerBox({\n            uuid,\n            graph,\n            name: \"MarkerBox\",\n            pointerRules: { accepts: [Pointers.Selection], mandatory: false },\n        }), constructor);\n    }\n    static ClassName = \"MarkerBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitMarkerBox, this);\n    }\n    get track() {\n        return this.getField(1);\n    }\n    get position() {\n        return this.getField(2);\n    }\n    get plays() {\n        return this.getField(3);\n    }\n    get label() {\n        return this.getField(4);\n    }\n    get hue() {\n        return this.getField(5);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"track\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.MarkerTrack, true),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"position\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"ppqn\"),\n            3: Int32Field.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"plays\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"non-negative\", \"\", 1),\n            4: StringField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            5: Int32Field.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"hue\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 0, max: 360 }, \"\u00B0\"),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, Float32Field, StringField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class AudioFileBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new AudioFileBox({\n            uuid,\n            graph,\n            name: \"AudioFileBox\",\n            pointerRules: {\n                accepts: [Pointers.AudioFile, Pointers.FileUploadState],\n                mandatory: true,\n            },\n        }), constructor);\n    }\n    static ClassName = \"AudioFileBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitAudioFileBox, this);\n    }\n    get startInSeconds() {\n        return this.getField(1);\n    }\n    get endInSeconds() {\n        return this.getField(2);\n    }\n    get fileName() {\n        return this.getField(3);\n    }\n    initializeFields() {\n        return {\n            1: Float32Field.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"startInSeconds\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"non-negative\", \"s\"),\n            2: Float32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"endInSeconds\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"non-negative\", \"s\"),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"fileName\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, StringField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class SoundfontFileBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new SoundfontFileBox({\n            uuid,\n            graph,\n            name: \"SoundfontFileBox\",\n            pointerRules: {\n                accepts: [Pointers.SoundfontFile],\n                mandatory: true,\n            },\n        }), constructor);\n    }\n    static ClassName = \"SoundfontFileBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitSoundfontFileBox, this);\n    }\n    get fileName() {\n        return this.getField(1);\n    }\n    initializeFields() {\n        return {\n            1: StringField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"fileName\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, StringField, PointerField, Field, Int32Field, Float32Field, BooleanField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class AudioUnitBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new AudioUnitBox({\n            uuid,\n            graph,\n            name: \"AudioUnitBox\",\n            pointerRules: {\n                accepts: [Pointers.Selection, Pointers.Automation],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"AudioUnitBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitAudioUnitBox, this);\n    }\n    get type() {\n        return this.getField(1);\n    }\n    get collection() {\n        return this.getField(2);\n    }\n    get editing() {\n        return this.getField(3);\n    }\n    get index() {\n        return this.getField(11);\n    }\n    get volume() {\n        return this.getField(12);\n    }\n    get panning() {\n        return this.getField(13);\n    }\n    get mute() {\n        return this.getField(14);\n    }\n    get solo() {\n        return this.getField(15);\n    }\n    get tracks() {\n        return this.getField(20);\n    }\n    get midiEffects() {\n        return this.getField(21);\n    }\n    get input() {\n        return this.getField(22);\n    }\n    get audioEffects() {\n        return this.getField(23);\n    }\n    get auxSends() {\n        return this.getField(24);\n    }\n    get output() {\n        return this.getField(25);\n    }\n    get capture() {\n        return this.getField(26);\n    }\n    initializeFields() {\n        return {\n            1: StringField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"type\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"instrument\"),\n            2: PointerField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"collection\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioUnits, true),\n            3: Field.hook({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"editing\",\n                deprecated: false,\n                pointerRules: { accepts: [Pointers.Editing], mandatory: false },\n            }),\n            11: Int32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            12: Float32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"volume\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: -96, mid: -9, max: 6, scaling: \"decibel\" }, \"dB\"),\n            13: Float32Field.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"panning\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"bipolar\", \"%\"),\n            14: BooleanField.create({\n                parent: this,\n                fieldKey: 14,\n                fieldName: \"mute\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }),\n            15: BooleanField.create({\n                parent: this,\n                fieldKey: 15,\n                fieldName: \"solo\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }),\n            20: Field.hook({\n                parent: this,\n                fieldKey: 20,\n                fieldName: \"tracks\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.TrackCollection],\n                    mandatory: false,\n                },\n            }),\n            21: Field.hook({\n                parent: this,\n                fieldKey: 21,\n                fieldName: \"midiEffects\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.MidiEffectHost],\n                    mandatory: false,\n                },\n            }),\n            22: Field.hook({\n                parent: this,\n                fieldKey: 22,\n                fieldName: \"input\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.InstrumentHost, Pointers.AudioOutput],\n                    mandatory: false,\n                },\n            }),\n            23: Field.hook({\n                parent: this,\n                fieldKey: 23,\n                fieldName: \"audioEffects\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.AudioEffectHost],\n                    mandatory: false,\n                },\n            }),\n            24: Field.hook({\n                parent: this,\n                fieldKey: 24,\n                fieldName: \"auxSends\",\n                deprecated: false,\n                pointerRules: { accepts: [Pointers.AuxSend], mandatory: false },\n            }),\n            25: PointerField.create({\n                parent: this,\n                fieldKey: 25,\n                fieldName: \"output\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioOutput, false),\n            26: PointerField.create({\n                parent: this,\n                fieldKey: 26,\n                fieldName: \"capture\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.Capture, false),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, StringField, Int32Field, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class CaptureAudioBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new CaptureAudioBox({\n            uuid,\n            graph,\n            name: \"CaptureAudioBox\",\n            pointerRules: { accepts: [Pointers.Capture], mandatory: true },\n        }), constructor);\n    }\n    static ClassName = \"CaptureAudioBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitCaptureAudioBox, this);\n    }\n    get deviceId() {\n        return this.getField(1);\n    }\n    get recordMode() {\n        return this.getField(2);\n    }\n    get requestChannels() {\n        return this.getField(10);\n    }\n    get gainDb() {\n        return this.getField(11);\n    }\n    initializeFields() {\n        return {\n            1: StringField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"deviceId\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            2: StringField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"recordMode\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"normal\"),\n            10: Int32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"requestChannels\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"\", 1),\n            11: Float32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"gainDb\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"decibel\", \"dB\", 0),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, StringField, Int32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class CaptureMidiBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new CaptureMidiBox({\n            uuid,\n            graph,\n            name: \"CaptureMidiBox\",\n            pointerRules: { accepts: [Pointers.Capture], mandatory: true },\n        }), constructor);\n    }\n    static ClassName = \"CaptureMidiBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitCaptureMidiBox, this);\n    }\n    get deviceId() {\n        return this.getField(1);\n    }\n    get recordMode() {\n        return this.getField(2);\n    }\n    get channel() {\n        return this.getField(10);\n    }\n    initializeFields() {\n        return {\n            1: StringField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"deviceId\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            2: StringField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"recordMode\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"normal\"),\n            10: Int32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"channel\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"\", -1),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Field, BooleanField, StringField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class AudioBusBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new AudioBusBox({\n            uuid,\n            graph,\n            name: \"AudioBusBox\",\n            pointerRules: NoPointers,\n        }), constructor);\n    }\n    static ClassName = \"AudioBusBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitAudioBusBox, this);\n    }\n    get collection() {\n        return this.getField(1);\n    }\n    get output() {\n        return this.getField(2);\n    }\n    get input() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get icon() {\n        return this.getField(5);\n    }\n    get label() {\n        return this.getField(6);\n    }\n    get color() {\n        return this.getField(7);\n    }\n    get minimized() {\n        return this.getField(8);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"collection\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioBusses, true),\n            2: PointerField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"output\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioOutput, true),\n            3: Field.hook({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"input\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.AudioOutput],\n                    mandatory: false,\n                },\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: StringField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"icon\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            6: StringField.create({\n                parent: this,\n                fieldKey: 6,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            7: StringField.create({\n                parent: this,\n                fieldKey: 7,\n                fieldName: \"color\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"red\"),\n            8: BooleanField.create({\n                parent: this,\n                fieldKey: 8,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class AuxSendBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new AuxSendBox({\n            uuid,\n            graph,\n            name: \"AuxSendBox\",\n            pointerRules: NoPointers,\n        }), constructor);\n    }\n    static ClassName = \"AuxSendBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitAuxSendBox, this);\n    }\n    get audioUnit() {\n        return this.getField(1);\n    }\n    get targetBus() {\n        return this.getField(2);\n    }\n    get index() {\n        return this.getField(3);\n    }\n    get routing() {\n        return this.getField(4);\n    }\n    get sendGain() {\n        return this.getField(5);\n    }\n    get sendPan() {\n        return this.getField(6);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"audioUnit\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AuxSend, true),\n            2: PointerField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"targetBus\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioOutput, true),\n            3: Int32Field.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            4: Int32Field.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"routing\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { values: [0, 1] }, \"\", 1),\n            5: Float32Field.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"sendGain\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"decibel\", \"dB\"),\n            6: Float32Field.create({\n                parent: this,\n                fieldKey: 6,\n                fieldName: \"sendPan\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"bipolar\", \"\"),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, StringField, Float32Field, Int32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class GrooveShuffleBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new GrooveShuffleBox({\n            uuid,\n            graph,\n            name: \"GrooveShuffleBox\",\n            pointerRules: { accepts: [Pointers.Groove], mandatory: true },\n        }), constructor);\n    }\n    static ClassName = \"GrooveShuffleBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitGrooveShuffleBox, this);\n    }\n    get label() {\n        return this.getField(1);\n    }\n    get amount() {\n        return this.getField(10);\n    }\n    get duration() {\n        return this.getField(11);\n    }\n    initializeFields() {\n        return {\n            1: StringField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            10: Float32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"amount\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 0.6),\n            11: Int32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"duration\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"non-negative\", \"ppqn\", 480),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, StringField, BooleanField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class UnknownAudioEffectDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new UnknownAudioEffectDeviceBox({\n            uuid,\n            graph,\n            name: \"UnknownAudioEffectDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"UnknownAudioEffectDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitUnknownAudioEffectDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get index() {\n        return this.getField(2);\n    }\n    get label() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get comment() {\n        return this.getField(10);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioEffectHost, true),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: StringField.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"comment\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, StringField, BooleanField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class UnknownMidiEffectDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new UnknownMidiEffectDeviceBox({\n            uuid,\n            graph,\n            name: \"UnknownMidiEffectDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"UnknownMidiEffectDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitUnknownMidiEffectDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get index() {\n        return this.getField(2);\n    }\n    get label() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get comment() {\n        return this.getField(10);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.MidiEffectHost, true),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: StringField.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"comment\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, Float32Field, StringField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class DeviceInterfaceKnobBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new DeviceInterfaceKnobBox({\n            uuid,\n            graph,\n            name: \"DeviceInterfaceKnobBox\",\n            pointerRules: NoPointers,\n        }), constructor);\n    }\n    static ClassName = \"DeviceInterfaceKnobBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitDeviceInterfaceKnobBox, this);\n    }\n    get userInterface() {\n        return this.getField(1);\n    }\n    get parameter() {\n        return this.getField(2);\n    }\n    get index() {\n        return this.getField(3);\n    }\n    get anchor() {\n        return this.getField(10);\n    }\n    get color() {\n        return this.getField(11);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"userInterface\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.DeviceUserInterface, true),\n            2: PointerField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"parameter\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.ParameterController, true),\n            3: Int32Field.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            10: Float32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"anchor\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"unipolar\", \"%\"),\n            11: StringField.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"color\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n        };\n    }\n}\n", "import \"@naomiarotest/lib-std\";\nimport { ObjectField, Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class DeviceUserInterface extends ObjectField {\n    static create(construct) {\n        return new DeviceUserInterface(construct);\n    }\n    constructor(construct) {\n        super(construct);\n    }\n    get elements() {\n        return this.getField(1);\n    }\n    initializeFields() {\n        return {\n            1: Field.hook({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"elements\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.DeviceUserInterface],\n                    mandatory: false,\n                },\n            }),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, StringField, BooleanField, } from \"@naomiarotest/lib-box\";\nimport { DeviceUserInterface } from \"./DeviceUserInterface\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class ModularDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new ModularDeviceBox({\n            uuid,\n            graph,\n            name: \"ModularDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"ModularDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitModularDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get index() {\n        return this.getField(2);\n    }\n    get label() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get modularSetup() {\n        return this.getField(10);\n    }\n    get userInterface() {\n        return this.getField(11);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioEffectHost, true),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: PointerField.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"modularSetup\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.ModularSetup, true),\n            11: DeviceUserInterface.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"userInterface\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, StringField, BooleanField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class StereoToolDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new StereoToolDeviceBox({\n            uuid,\n            graph,\n            name: \"StereoToolDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"StereoToolDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitStereoToolDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get index() {\n        return this.getField(2);\n    }\n    get label() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get volume() {\n        return this.getField(10);\n    }\n    get panning() {\n        return this.getField(11);\n    }\n    get stereo() {\n        return this.getField(12);\n    }\n    get invertL() {\n        return this.getField(13);\n    }\n    get invertR() {\n        return this.getField(14);\n    }\n    get swap() {\n        return this.getField(15);\n    }\n    get panningMixing() {\n        return this.getField(20);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioEffectHost, true),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: Float32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"volume\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: -72, mid: 0, max: 12, scaling: \"decibel\" }, \"dB\", 0),\n            11: Float32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"panning\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"bipolar\", \"%\", 0),\n            12: Float32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"stereo\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"bipolar\", \"%\", 0),\n            13: BooleanField.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"invertL\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }),\n            14: BooleanField.create({\n                parent: this,\n                fieldKey: 14,\n                fieldName: \"invertR\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }),\n            15: BooleanField.create({\n                parent: this,\n                fieldKey: 15,\n                fieldName: \"swap\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }),\n            20: Int32Field.create({\n                parent: this,\n                fieldKey: 20,\n                fieldName: \"panningMixing\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { values: [0, 1] }, \"\", 1),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, StringField, BooleanField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class CompressorDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new CompressorDeviceBox({\n            uuid,\n            graph,\n            name: \"CompressorDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"CompressorDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitCompressorDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get index() {\n        return this.getField(2);\n    }\n    get label() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get lookahead() {\n        return this.getField(10);\n    }\n    get automakeup() {\n        return this.getField(11);\n    }\n    get autoattack() {\n        return this.getField(12);\n    }\n    get autorelease() {\n        return this.getField(13);\n    }\n    get inputgain() {\n        return this.getField(14);\n    }\n    get threshold() {\n        return this.getField(15);\n    }\n    get ratio() {\n        return this.getField(16);\n    }\n    get knee() {\n        return this.getField(17);\n    }\n    get attack() {\n        return this.getField(18);\n    }\n    get release() {\n        return this.getField(19);\n    }\n    get makeup() {\n        return this.getField(20);\n    }\n    get mix() {\n        return this.getField(21);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioEffectHost, true),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: BooleanField.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"lookahead\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, false),\n            11: BooleanField.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"automakeup\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, true),\n            12: BooleanField.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"autoattack\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, false),\n            13: BooleanField.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"autorelease\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, false),\n            14: Float32Field.create({\n                parent: this,\n                fieldKey: 14,\n                fieldName: \"inputgain\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: -30, max: 30, scaling: \"linear\" }, \"dB\", 0),\n            15: Float32Field.create({\n                parent: this,\n                fieldKey: 15,\n                fieldName: \"threshold\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: -60, max: 0, scaling: \"linear\" }, \"dB\", -10),\n            16: Float32Field.create({\n                parent: this,\n                fieldKey: 16,\n                fieldName: \"ratio\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 1, max: 24, scaling: \"exponential\" }, \"\", 2),\n            17: Float32Field.create({\n                parent: this,\n                fieldKey: 17,\n                fieldName: \"knee\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0, max: 24, scaling: \"linear\" }, \"dB\", 0),\n            18: Float32Field.create({\n                parent: this,\n                fieldKey: 18,\n                fieldName: \"attack\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0, max: 100, scaling: \"linear\" }, \"ms\", 0),\n            19: Float32Field.create({\n                parent: this,\n                fieldKey: 19,\n                fieldName: \"release\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 5, max: 1500, scaling: \"linear\" }, \"ms\", 5),\n            20: Float32Field.create({\n                parent: this,\n                fieldKey: 20,\n                fieldName: \"makeup\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: -40, max: 40, scaling: \"linear\" }, \"dB\", 0),\n            21: Float32Field.create({\n                parent: this,\n                fieldKey: 21,\n                fieldName: \"mix\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 1),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, StringField, BooleanField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class DelayDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new DelayDeviceBox({\n            uuid,\n            graph,\n            name: \"DelayDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"DelayDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitDelayDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get index() {\n        return this.getField(2);\n    }\n    get label() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get delay() {\n        return this.getField(10);\n    }\n    get feedback() {\n        return this.getField(11);\n    }\n    get cross() {\n        return this.getField(12);\n    }\n    get filter() {\n        return this.getField(13);\n    }\n    get wet() {\n        return this.getField(14);\n    }\n    get dry() {\n        return this.getField(15);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioEffectHost, true),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: Float32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"delay\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"any\", \"\", 4),\n            11: Float32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"feedback\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 0.5),\n            12: Float32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"cross\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"bipolar\", \"%\", 0),\n            13: Float32Field.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"filter\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"bipolar\", \"%\", 0),\n            14: Float32Field.create({\n                parent: this,\n                fieldKey: 14,\n                fieldName: \"wet\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"decibel\", \"dB\", -6),\n            15: Float32Field.create({\n                parent: this,\n                fieldKey: 15,\n                fieldName: \"dry\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"decibel\", \"dB\", 0),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, StringField, BooleanField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class CrusherDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new CrusherDeviceBox({\n            uuid,\n            graph,\n            name: \"CrusherDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"CrusherDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitCrusherDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get index() {\n        return this.getField(2);\n    }\n    get label() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get crush() {\n        return this.getField(10);\n    }\n    get bits() {\n        return this.getField(11);\n    }\n    get boost() {\n        return this.getField(12);\n    }\n    get mix() {\n        return this.getField(13);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioEffectHost, true),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: Float32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"crush\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 0),\n            11: Int32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"bits\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 1, max: 16 }, \"bits\", 16),\n            12: Float32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"boost\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0, max: 24, scaling: \"linear\" }, \"dB\", 0),\n            13: Float32Field.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"mix\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 1),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, StringField, BooleanField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class DattorroReverbDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new DattorroReverbDeviceBox({\n            uuid,\n            graph,\n            name: \"DattorroReverbDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"DattorroReverbDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitDattorroReverbDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get index() {\n        return this.getField(2);\n    }\n    get label() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get preDelay() {\n        return this.getField(10);\n    }\n    get bandwidth() {\n        return this.getField(11);\n    }\n    get inputDiffusion1() {\n        return this.getField(12);\n    }\n    get inputDiffusion2() {\n        return this.getField(13);\n    }\n    get decay() {\n        return this.getField(14);\n    }\n    get decayDiffusion1() {\n        return this.getField(15);\n    }\n    get decayDiffusion2() {\n        return this.getField(16);\n    }\n    get damping() {\n        return this.getField(17);\n    }\n    get excursionRate() {\n        return this.getField(18);\n    }\n    get excursionDepth() {\n        return this.getField(19);\n    }\n    get wet() {\n        return this.getField(20);\n    }\n    get dry() {\n        return this.getField(21);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioEffectHost, true),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: Float32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"preDelay\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0, max: 1000, scaling: \"linear\" }, \"ms\", 0),\n            11: Float32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"bandwidth\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 0.9999),\n            12: Float32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"inputDiffusion1\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 0.75),\n            13: Float32Field.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"inputDiffusion2\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 0.625),\n            14: Float32Field.create({\n                parent: this,\n                fieldKey: 14,\n                fieldName: \"decay\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 0.5),\n            15: Float32Field.create({\n                parent: this,\n                fieldKey: 15,\n                fieldName: \"decayDiffusion1\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 0.7),\n            16: Float32Field.create({\n                parent: this,\n                fieldKey: 16,\n                fieldName: \"decayDiffusion2\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 0.5),\n            17: Float32Field.create({\n                parent: this,\n                fieldKey: 17,\n                fieldName: \"damping\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 0.005),\n            18: Float32Field.create({\n                parent: this,\n                fieldKey: 18,\n                fieldName: \"excursionRate\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 0.5),\n            19: Float32Field.create({\n                parent: this,\n                fieldKey: 19,\n                fieldName: \"excursionDepth\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 0.7),\n            20: Float32Field.create({\n                parent: this,\n                fieldKey: 20,\n                fieldName: \"wet\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"decibel\", \"dB\", -6),\n            21: Float32Field.create({\n                parent: this,\n                fieldKey: 21,\n                fieldName: \"dry\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"decibel\", \"dB\", 0),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, StringField, BooleanField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class VelocityDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new VelocityDeviceBox({\n            uuid,\n            graph,\n            name: \"VelocityDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"VelocityDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitVelocityDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get index() {\n        return this.getField(2);\n    }\n    get label() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get magnetPosition() {\n        return this.getField(10);\n    }\n    get magnetStrength() {\n        return this.getField(11);\n    }\n    get randomSeed() {\n        return this.getField(12);\n    }\n    get randomAmount() {\n        return this.getField(13);\n    }\n    get offset() {\n        return this.getField(14);\n    }\n    get mix() {\n        return this.getField(15);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.MidiEffectHost, true),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: Float32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"magnetPosition\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 0.5),\n            11: Float32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"magnetStrength\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\"),\n            12: Int32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"randomSeed\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"\", 2048),\n            13: Float32Field.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"randomAmount\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\"),\n            14: Float32Field.create({\n                parent: this,\n                fieldKey: 14,\n                fieldName: \"offset\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"bipolar\", \"%\", 0),\n            15: Float32Field.create({\n                parent: this,\n                fieldKey: 15,\n                fieldName: \"mix\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 1),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, StringField, BooleanField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class FoldDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new FoldDeviceBox({\n            uuid,\n            graph,\n            name: \"FoldDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"FoldDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitFoldDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get index() {\n        return this.getField(2);\n    }\n    get label() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get drive() {\n        return this.getField(10);\n    }\n    get overSampling() {\n        return this.getField(11);\n    }\n    get volume() {\n        return this.getField(12);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioEffectHost, true),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: Float32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"drive\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0, max: 30, scaling: \"linear\" }, \"dB\", 0),\n            11: Int32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"overSampling\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { length: 3 }, \"\", 0),\n            12: Float32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"volume\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: -18, max: 0, scaling: \"linear\" }, \"dB\", 0),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, StringField, BooleanField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class TidalDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new TidalDeviceBox({\n            uuid,\n            graph,\n            name: \"TidalDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"TidalDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitTidalDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get index() {\n        return this.getField(2);\n    }\n    get label() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get slope() {\n        return this.getField(10);\n    }\n    get symmetry() {\n        return this.getField(11);\n    }\n    get rate() {\n        return this.getField(20);\n    }\n    get depth() {\n        return this.getField(21);\n    }\n    get offset() {\n        return this.getField(22);\n    }\n    get channelOffset() {\n        return this.getField(23);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioEffectHost, true),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: Float32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"slope\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"bipolar\", \"%\", -0.25),\n            11: Float32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"symmetry\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 0.5),\n            20: Float32Field.create({\n                parent: this,\n                fieldKey: 20,\n                fieldName: \"rate\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 3),\n            21: Float32Field.create({\n                parent: this,\n                fieldKey: 21,\n                fieldName: \"depth\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"\", 1),\n            22: Float32Field.create({\n                parent: this,\n                fieldKey: 22,\n                fieldName: \"offset\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: -180, max: 180, scaling: \"linear\" }, \"\u00B0\", 0),\n            23: Float32Field.create({\n                parent: this,\n                fieldKey: 23,\n                fieldName: \"channelOffset\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: -180, max: 180, scaling: \"linear\" }, \"\u00B0\", 0),\n        };\n    }\n}\n", "import \"@naomiarotest/lib-std\";\nimport { ObjectField, BooleanField, Float32Field, Int32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class RevampPass extends ObjectField {\n    static create(construct) {\n        return new RevampPass(construct);\n    }\n    constructor(construct) {\n        super(construct);\n    }\n    get enabled() {\n        return this.getField(1);\n    }\n    get frequency() {\n        return this.getField(10);\n    }\n    get order() {\n        return this.getField(11);\n    }\n    get q() {\n        return this.getField(12);\n    }\n    initializeFields() {\n        return {\n            1: BooleanField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }),\n            10: Float32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"frequency\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 20, max: 20000, scaling: \"exponential\" }, \"Hz\"),\n            11: Int32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"order\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { length: 4 }, \"\"),\n            12: Float32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"q\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0.01, max: 10, scaling: \"exponential\" }, \"\"),\n        };\n    }\n}\n", "import \"@naomiarotest/lib-std\";\nimport { ObjectField, BooleanField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class RevampShelf extends ObjectField {\n    static create(construct) {\n        return new RevampShelf(construct);\n    }\n    constructor(construct) {\n        super(construct);\n    }\n    get enabled() {\n        return this.getField(1);\n    }\n    get frequency() {\n        return this.getField(10);\n    }\n    get gain() {\n        return this.getField(11);\n    }\n    initializeFields() {\n        return {\n            1: BooleanField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }),\n            10: Float32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"frequency\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 20, max: 20000, scaling: \"exponential\" }, \"Hz\"),\n            11: Float32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"gain\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: -24, max: 24, scaling: \"linear\" }, \"dB\"),\n        };\n    }\n}\n", "import \"@naomiarotest/lib-std\";\nimport { ObjectField, BooleanField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class RevampBell extends ObjectField {\n    static create(construct) {\n        return new RevampBell(construct);\n    }\n    constructor(construct) {\n        super(construct);\n    }\n    get enabled() {\n        return this.getField(1);\n    }\n    get frequency() {\n        return this.getField(10);\n    }\n    get gain() {\n        return this.getField(11);\n    }\n    get q() {\n        return this.getField(12);\n    }\n    initializeFields() {\n        return {\n            1: BooleanField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }),\n            10: Float32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"frequency\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 20, max: 20000, scaling: \"exponential\" }, \"Hz\"),\n            11: Float32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"gain\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: -24, max: 24, scaling: \"linear\" }, \"dB\"),\n            12: Float32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"q\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0.01, max: 10, scaling: \"exponential\" }, \"\"),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, StringField, BooleanField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { RevampPass } from \"./RevampPass\";\nimport { RevampShelf } from \"./RevampShelf\";\nimport { RevampBell } from \"./RevampBell\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class RevampDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new RevampDeviceBox({\n            uuid,\n            graph,\n            name: \"RevampDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"RevampDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitRevampDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get index() {\n        return this.getField(2);\n    }\n    get label() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get highPass() {\n        return this.getField(10);\n    }\n    get lowShelf() {\n        return this.getField(11);\n    }\n    get lowBell() {\n        return this.getField(12);\n    }\n    get midBell() {\n        return this.getField(13);\n    }\n    get highBell() {\n        return this.getField(14);\n    }\n    get highShelf() {\n        return this.getField(15);\n    }\n    get lowPass() {\n        return this.getField(16);\n    }\n    get gain() {\n        return this.getField(17);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioEffectHost, true),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: RevampPass.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"highPass\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            11: RevampShelf.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"lowShelf\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            12: RevampBell.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"lowBell\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            13: RevampBell.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"midBell\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            14: RevampBell.create({\n                parent: this,\n                fieldKey: 14,\n                fieldName: \"highBell\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            15: RevampShelf.create({\n                parent: this,\n                fieldKey: 15,\n                fieldName: \"highShelf\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            16: RevampPass.create({\n                parent: this,\n                fieldKey: 16,\n                fieldName: \"lowPass\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            17: Float32Field.create({\n                parent: this,\n                fieldKey: 17,\n                fieldName: \"gain\",\n                deprecated: true,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: -18, max: 18, scaling: \"linear\" }, \"db\"),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, StringField, BooleanField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class ReverbDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new ReverbDeviceBox({\n            uuid,\n            graph,\n            name: \"ReverbDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"ReverbDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitReverbDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get index() {\n        return this.getField(2);\n    }\n    get label() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get decay() {\n        return this.getField(10);\n    }\n    get preDelay() {\n        return this.getField(11);\n    }\n    get damp() {\n        return this.getField(12);\n    }\n    get filter() {\n        return this.getField(13);\n    }\n    get wet() {\n        return this.getField(14);\n    }\n    get dry() {\n        return this.getField(15);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioEffectHost, true),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: Float32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"decay\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 0.5),\n            11: Float32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"preDelay\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0.001, max: 0.5, scaling: \"exponential\" }, \"s\", 0),\n            12: Float32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"damp\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 0.5),\n            13: Float32Field.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"filter\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"bipolar\", \"%\", 0),\n            14: Float32Field.create({\n                parent: this,\n                fieldKey: 14,\n                fieldName: \"wet\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"decibel\", \"dB\", -3),\n            15: Float32Field.create({\n                parent: this,\n                fieldKey: 15,\n                fieldName: \"dry\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"decibel\", \"dB\", 0),\n        };\n    }\n}\n", "import \"@naomiarotest/lib-std\";\nimport { ObjectField, Int32Field, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class VaporisateurOsc extends ObjectField {\n    static create(construct) {\n        return new VaporisateurOsc(construct);\n    }\n    constructor(construct) {\n        super(construct);\n    }\n    get waveform() {\n        return this.getField(1);\n    }\n    get volume() {\n        return this.getField(2);\n    }\n    get octave() {\n        return this.getField(3);\n    }\n    get tune() {\n        return this.getField(4);\n    }\n    initializeFields() {\n        return {\n            1: Int32Field.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"waveform\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { values: [0, 1, 2, 3] }, \"\"),\n            2: Float32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"volume\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"decibel\", \"db\", -Infinity),\n            3: Int32Field.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"octave\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: -3, max: 3 }, \"oct\", 0),\n            4: Float32Field.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"tune\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: -1200, max: 1200, scaling: \"linear\" }, \"ct\"),\n        };\n    }\n}\n", "import \"@naomiarotest/lib-std\";\nimport { ObjectField, Int32Field, Float32Field, BooleanField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class VaporisateurLFO extends ObjectField {\n    static create(construct) {\n        return new VaporisateurLFO(construct);\n    }\n    constructor(construct) {\n        super(construct);\n    }\n    get waveform() {\n        return this.getField(1);\n    }\n    get rate() {\n        return this.getField(2);\n    }\n    get sync() {\n        return this.getField(3);\n    }\n    get targetTune() {\n        return this.getField(10);\n    }\n    get targetCutoff() {\n        return this.getField(11);\n    }\n    get targetVolume() {\n        return this.getField(12);\n    }\n    initializeFields() {\n        return {\n            1: Int32Field.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"waveform\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { values: [0, 1, 2, 3] }, \"\"),\n            2: Float32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"rate\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0.0001, max: 30, scaling: \"exponential\" }, \"Hz\", 0.0001),\n            3: BooleanField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"sync\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, false),\n            10: Float32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"targetTune\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"bipolar\", \"%\"),\n            11: Float32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"targetCutoff\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"bipolar\", \"%\"),\n            12: Float32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"targetVolume\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"bipolar\", \"%\"),\n        };\n    }\n}\n", "import \"@naomiarotest/lib-std\";\nimport { ObjectField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class VaporisateurNoise extends ObjectField {\n    static create(construct) {\n        return new VaporisateurNoise(construct);\n    }\n    constructor(construct) {\n        super(construct);\n    }\n    get attack() {\n        return this.getField(1);\n    }\n    get hold() {\n        return this.getField(2);\n    }\n    get release() {\n        return this.getField(3);\n    }\n    get volume() {\n        return this.getField(4);\n    }\n    initializeFields() {\n        return {\n            1: Float32Field.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"attack\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0.001, max: 5, scaling: \"exponential\" }, \"s\", 0.001),\n            2: Float32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"hold\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0.001, max: 5, scaling: \"exponential\" }, \"s\", 0.001),\n            3: Float32Field.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"release\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0.001, max: 5, scaling: \"exponential\" }, \"s\", 0.001),\n            4: Float32Field.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"volume\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"decibel\", \"db\", 0.001),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, StringField, BooleanField, Float32Field, Int32Field, ArrayField, } from \"@naomiarotest/lib-box\";\nimport { VaporisateurOsc } from \"./VaporisateurOsc\";\nimport { VaporisateurLFO } from \"./VaporisateurLFO\";\nimport { VaporisateurNoise } from \"./VaporisateurNoise\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class VaporisateurDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new VaporisateurDeviceBox({\n            uuid,\n            graph,\n            name: \"VaporisateurDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"VaporisateurDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitVaporisateurDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get label() {\n        return this.getField(2);\n    }\n    get icon() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get volume() {\n        return this.getField(10);\n    }\n    get octave() {\n        return this.getField(11);\n    }\n    get tune() {\n        return this.getField(12);\n    }\n    get waveform() {\n        return this.getField(13);\n    }\n    get cutoff() {\n        return this.getField(14);\n    }\n    get resonance() {\n        return this.getField(15);\n    }\n    get attack() {\n        return this.getField(16);\n    }\n    get release() {\n        return this.getField(17);\n    }\n    get filterEnvelope() {\n        return this.getField(18);\n    }\n    get decay() {\n        return this.getField(19);\n    }\n    get sustain() {\n        return this.getField(20);\n    }\n    get glideTime() {\n        return this.getField(21);\n    }\n    get voicingMode() {\n        return this.getField(22);\n    }\n    get unisonCount() {\n        return this.getField(23);\n    }\n    get unisonDetune() {\n        return this.getField(24);\n    }\n    get unisonStereo() {\n        return this.getField(25);\n    }\n    get filterOrder() {\n        return this.getField(26);\n    }\n    get filterKeyboard() {\n        return this.getField(27);\n    }\n    get lfo() {\n        return this.getField(30);\n    }\n    get oscillators() {\n        return this.getField(40);\n    }\n    get noise() {\n        return this.getField(50);\n    }\n    get version() {\n        return this.getField(99);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.InstrumentHost, true),\n            2: StringField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"icon\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: Float32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"volume\",\n                deprecated: true,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"decibel\", \"dB\", -6),\n            11: Int32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"octave\",\n                deprecated: true,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"any\", \"oct\"),\n            12: Float32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"tune\",\n                deprecated: true,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"any\", \"ct\"),\n            13: Int32Field.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"waveform\",\n                deprecated: true,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"any\", \"\"),\n            14: Float32Field.create({\n                parent: this,\n                fieldKey: 14,\n                fieldName: \"cutoff\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 20, max: 20000, scaling: \"exponential\" }, \"Hz\"),\n            15: Float32Field.create({\n                parent: this,\n                fieldKey: 15,\n                fieldName: \"resonance\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0.01, max: 10, scaling: \"exponential\" }, \"q\"),\n            16: Float32Field.create({\n                parent: this,\n                fieldKey: 16,\n                fieldName: \"attack\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0.001, max: 5, scaling: \"exponential\" }, \"s\"),\n            17: Float32Field.create({\n                parent: this,\n                fieldKey: 17,\n                fieldName: \"release\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0.001, max: 5, scaling: \"exponential\" }, \"s\"),\n            18: Float32Field.create({\n                parent: this,\n                fieldKey: 18,\n                fieldName: \"filterEnvelope\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"bipolar\", \"%\"),\n            19: Float32Field.create({\n                parent: this,\n                fieldKey: 19,\n                fieldName: \"decay\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0.001, max: 5, scaling: \"exponential\" }, \"s\", 0.001),\n            20: Float32Field.create({\n                parent: this,\n                fieldKey: 20,\n                fieldName: \"sustain\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 1),\n            21: Float32Field.create({\n                parent: this,\n                fieldKey: 21,\n                fieldName: \"glideTime\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 0),\n            22: Int32Field.create({\n                parent: this,\n                fieldKey: 22,\n                fieldName: \"voicingMode\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { values: [0, 1] }, \"\", 1),\n            23: Int32Field.create({\n                parent: this,\n                fieldKey: 23,\n                fieldName: \"unisonCount\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { values: [1, 3, 5] }, \"\", 1),\n            24: Float32Field.create({\n                parent: this,\n                fieldKey: 24,\n                fieldName: \"unisonDetune\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 1, max: 1200, scaling: \"exponential\" }, \"ct\", 30),\n            25: Float32Field.create({\n                parent: this,\n                fieldKey: 25,\n                fieldName: \"unisonStereo\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 1),\n            26: Int32Field.create({\n                parent: this,\n                fieldKey: 26,\n                fieldName: \"filterOrder\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { values: [1, 2, 3, 4] }, \"\", 1),\n            27: Float32Field.create({\n                parent: this,\n                fieldKey: 27,\n                fieldName: \"filterKeyboard\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"bipolar\", \"%\"),\n            30: VaporisateurLFO.create({\n                parent: this,\n                fieldKey: 30,\n                fieldName: \"lfo\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            40: ArrayField.create({\n                parent: this,\n                fieldKey: 40,\n                fieldName: \"oscillators\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, (construct) => VaporisateurOsc.create(construct), 2),\n            50: VaporisateurNoise.create({\n                parent: this,\n                fieldKey: 50,\n                fieldName: \"noise\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            99: Int32Field.create({\n                parent: this,\n                fieldKey: 99,\n                fieldName: \"version\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"\"),\n        };\n    }\n}\n", "import \"@naomiarotest/lib-std\";\nimport { ObjectField, NoPointers, StringField, } from \"@naomiarotest/lib-box\";\nexport class Device extends ObjectField {\n    static create(construct) {\n        return new Device(construct);\n    }\n    constructor(construct) {\n        super(construct);\n    }\n    get id() {\n        return this.getField(1);\n    }\n    get label() {\n        return this.getField(2);\n    }\n    initializeFields() {\n        return {\n            1: StringField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"id\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            2: StringField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, StringField, BooleanField, Int32Field, Field, } from \"@naomiarotest/lib-box\";\nimport { Device } from \"./Device\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class MIDIOutputDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new MIDIOutputDeviceBox({\n            uuid,\n            graph,\n            name: \"MIDIOutputDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"MIDIOutputDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitMIDIOutputDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get label() {\n        return this.getField(2);\n    }\n    get icon() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get deprecatedDevice() {\n        return this.getField(10);\n    }\n    get channel() {\n        return this.getField(11);\n    }\n    get deprecatedDelay() {\n        return this.getField(12);\n    }\n    get parameters() {\n        return this.getField(13);\n    }\n    get device() {\n        return this.getField(14);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.InstrumentHost, true),\n            2: StringField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"icon\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: Device.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"deprecatedDevice\",\n                deprecated: true,\n                pointerRules: NoPointers,\n            }),\n            11: Int32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"channel\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 0, max: 15 }, \"ch\"),\n            12: Int32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"deprecatedDelay\",\n                deprecated: true,\n                pointerRules: NoPointers,\n            }, \"any\", \"ms\", 10),\n            13: Field.hook({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"parameters\",\n                deprecated: false,\n                pointerRules: { accepts: [Pointers.Parameter], mandatory: false },\n            }),\n            14: PointerField.create({\n                parent: this,\n                fieldKey: 14,\n                fieldName: \"device\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.MIDIDevice, false),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Field, StringField, Int32Field, BooleanField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class MIDIOutputBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new MIDIOutputBox({\n            uuid,\n            graph,\n            name: \"MIDIOutputBox\",\n            pointerRules: NoPointers,\n        }), constructor);\n    }\n    static ClassName = \"MIDIOutputBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitMIDIOutputBox, this);\n    }\n    get root() {\n        return this.getField(1);\n    }\n    get device() {\n        return this.getField(2);\n    }\n    get id() {\n        return this.getField(3);\n    }\n    get label() {\n        return this.getField(4);\n    }\n    get delayInMs() {\n        return this.getField(5);\n    }\n    get sendTransportMessages() {\n        return this.getField(6);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"root\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.MIDIDevice, true),\n            2: Field.hook({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"device\",\n                deprecated: false,\n                pointerRules: { accepts: [Pointers.MIDIDevice], mandatory: true },\n            }),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"id\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: StringField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            5: Int32Field.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"delayInMs\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 0, max: 500 }, \"ms\", 10),\n            6: BooleanField.create({\n                parent: this,\n                fieldKey: 6,\n                fieldName: \"sendTransportMessages\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, StringField, Int32Field, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class MIDIOutputParameterBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new MIDIOutputParameterBox({\n            uuid,\n            graph,\n            name: \"MIDIOutputParameterBox\",\n            pointerRules: NoPointers,\n        }), constructor);\n    }\n    static ClassName = \"MIDIOutputParameterBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitMIDIOutputParameterBox, this);\n    }\n    get owner() {\n        return this.getField(1);\n    }\n    get label() {\n        return this.getField(2);\n    }\n    get controller() {\n        return this.getField(3);\n    }\n    get value() {\n        return this.getField(4);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"owner\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.Parameter, true),\n            2: StringField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"\"),\n            3: Int32Field.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"controller\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 0, max: 127 }, \"#\", 64),\n            4: Float32Field.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"value\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: true,\n                },\n            }, \"unipolar\", \"%\"),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, StringField, BooleanField, Int32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class SoundfontDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new SoundfontDeviceBox({\n            uuid,\n            graph,\n            name: \"SoundfontDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"SoundfontDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitSoundfontDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get label() {\n        return this.getField(2);\n    }\n    get icon() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get file() {\n        return this.getField(10);\n    }\n    get presetIndex() {\n        return this.getField(11);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.InstrumentHost, true),\n            2: StringField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"icon\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: PointerField.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"file\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.SoundfontFile, false),\n            11: Int32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"presetIndex\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 0, max: 65535 }, \"\"),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, StringField, BooleanField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class NanoDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new NanoDeviceBox({\n            uuid,\n            graph,\n            name: \"NanoDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"NanoDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitNanoDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get label() {\n        return this.getField(2);\n    }\n    get icon() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get volume() {\n        return this.getField(10);\n    }\n    get file() {\n        return this.getField(15);\n    }\n    get release() {\n        return this.getField(20);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.InstrumentHost, true),\n            2: StringField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"icon\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: Float32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"volume\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"decibel\", \"dB\", -3),\n            15: PointerField.create({\n                parent: this,\n                fieldKey: 15,\n                fieldName: \"file\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioFile, false),\n            20: Float32Field.create({\n                parent: this,\n                fieldKey: 20,\n                fieldName: \"release\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0.001, max: 8, scaling: \"exponential\" }, \"s\", 0.1),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, StringField, BooleanField, Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class PlayfieldDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new PlayfieldDeviceBox({\n            uuid,\n            graph,\n            name: \"PlayfieldDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"PlayfieldDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitPlayfieldDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get label() {\n        return this.getField(2);\n    }\n    get icon() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get samples() {\n        return this.getField(10);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.InstrumentHost, true),\n            2: StringField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"icon\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: Field.hook({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"samples\",\n                deprecated: false,\n                pointerRules: { accepts: [Pointers.Sample], mandatory: false },\n            }),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Field, Int32Field, StringField, BooleanField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class PlayfieldSampleBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new PlayfieldSampleBox({\n            uuid,\n            graph,\n            name: \"PlayfieldSampleBox\",\n            pointerRules: { accepts: [Pointers.Editing], mandatory: false },\n        }), constructor);\n    }\n    static ClassName = \"PlayfieldSampleBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitPlayfieldSampleBox, this);\n    }\n    get device() {\n        return this.getField(10);\n    }\n    get file() {\n        return this.getField(11);\n    }\n    get midiEffects() {\n        return this.getField(12);\n    }\n    get audioEffects() {\n        return this.getField(13);\n    }\n    get index() {\n        return this.getField(15);\n    }\n    get label() {\n        return this.getField(20);\n    }\n    get icon() {\n        return this.getField(21);\n    }\n    get enabled() {\n        return this.getField(22);\n    }\n    get minimized() {\n        return this.getField(23);\n    }\n    get mute() {\n        return this.getField(40);\n    }\n    get solo() {\n        return this.getField(41);\n    }\n    get exclude() {\n        return this.getField(42);\n    }\n    get polyphone() {\n        return this.getField(43);\n    }\n    get gate() {\n        return this.getField(44);\n    }\n    get pitch() {\n        return this.getField(45);\n    }\n    get sampleStart() {\n        return this.getField(46);\n    }\n    get sampleEnd() {\n        return this.getField(47);\n    }\n    get attack() {\n        return this.getField(48);\n    }\n    get release() {\n        return this.getField(49);\n    }\n    initializeFields() {\n        return {\n            10: PointerField.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"device\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.Sample, true),\n            11: PointerField.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"file\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.AudioFile, true),\n            12: Field.hook({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"midiEffects\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.MidiEffectHost],\n                    mandatory: false,\n                },\n            }),\n            13: Field.hook({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"audioEffects\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.AudioEffectHost],\n                    mandatory: false,\n                },\n            }),\n            15: Int32Field.create({\n                parent: this,\n                fieldKey: 15,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { min: 0, max: 127 }, \"\", 60),\n            20: StringField.create({\n                parent: this,\n                fieldKey: 20,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            21: StringField.create({\n                parent: this,\n                fieldKey: 21,\n                fieldName: \"icon\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            22: BooleanField.create({\n                parent: this,\n                fieldKey: 22,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            23: BooleanField.create({\n                parent: this,\n                fieldKey: 23,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            40: BooleanField.create({\n                parent: this,\n                fieldKey: 40,\n                fieldName: \"mute\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            41: BooleanField.create({\n                parent: this,\n                fieldKey: 41,\n                fieldName: \"solo\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            42: BooleanField.create({\n                parent: this,\n                fieldKey: 42,\n                fieldName: \"exclude\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            43: BooleanField.create({\n                parent: this,\n                fieldKey: 43,\n                fieldName: \"polyphone\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            44: Int32Field.create({\n                parent: this,\n                fieldKey: 44,\n                fieldName: \"gate\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, { length: 3 }, \"\", 0),\n            45: Float32Field.create({\n                parent: this,\n                fieldKey: 45,\n                fieldName: \"pitch\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: -1200, max: 1200, scaling: \"linear\" }, \"ct\"),\n            46: Float32Field.create({\n                parent: this,\n                fieldKey: 46,\n                fieldName: \"sampleStart\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 0),\n            47: Float32Field.create({\n                parent: this,\n                fieldKey: 47,\n                fieldName: \"sampleEnd\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\", 1),\n            48: Float32Field.create({\n                parent: this,\n                fieldKey: 48,\n                fieldName: \"attack\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0.001, max: 5, scaling: \"exponential\" }, \"s\", 0.001),\n            49: Float32Field.create({\n                parent: this,\n                fieldKey: 49,\n                fieldName: \"release\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0.001, max: 5, scaling: \"exponential\" }, \"s\", 0.02),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, StringField, BooleanField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class TapeDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new TapeDeviceBox({\n            uuid,\n            graph,\n            name: \"TapeDeviceBox\",\n            pointerRules: {\n                accepts: [\n                    Pointers.Device,\n                    Pointers.Selection,\n                    Pointers.Automation,\n                ],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"TapeDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitTapeDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get label() {\n        return this.getField(2);\n    }\n    get icon() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get flutter() {\n        return this.getField(10);\n    }\n    get wow() {\n        return this.getField(11);\n    }\n    get noise() {\n        return this.getField(12);\n    }\n    get saturation() {\n        return this.getField(13);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.InstrumentHost, true),\n            2: StringField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"icon\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: Float32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"flutter\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\"),\n            11: Float32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"wow\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\"),\n            12: Float32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"noise\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\"),\n            13: Float32Field.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"saturation\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"unipolar\", \"%\"),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, StringField, BooleanField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class ArpeggioDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new ArpeggioDeviceBox({\n            uuid,\n            graph,\n            name: \"ArpeggioDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"ArpeggioDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitArpeggioDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get index() {\n        return this.getField(2);\n    }\n    get label() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get modeIndex() {\n        return this.getField(10);\n    }\n    get numOctaves() {\n        return this.getField(11);\n    }\n    get rateIndex() {\n        return this.getField(12);\n    }\n    get gate() {\n        return this.getField(13);\n    }\n    get repeat() {\n        return this.getField(14);\n    }\n    get velocity() {\n        return this.getField(15);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.MidiEffectHost, true),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: Int32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"modeIndex\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { length: 3 }, \"\", 0),\n            11: Int32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"numOctaves\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 1, max: 5 }, \"oct\", 1),\n            12: Int32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"rateIndex\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { length: 17 }, \"\", 9),\n            13: Float32Field.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"gate\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 0, max: 2, scaling: \"linear\" }, \"\", 1),\n            14: Int32Field.create({\n                parent: this,\n                fieldKey: 14,\n                fieldName: \"repeat\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: 1, max: 16 }, \"\", 1),\n            15: Float32Field.create({\n                parent: this,\n                fieldKey: 15,\n                fieldName: \"velocity\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, \"bipolar\", \"\", 0),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, StringField, BooleanField, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class PitchDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new PitchDeviceBox({\n            uuid,\n            graph,\n            name: \"PitchDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"PitchDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitPitchDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get index() {\n        return this.getField(2);\n    }\n    get label() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get semiTones() {\n        return this.getField(10);\n    }\n    get cents() {\n        return this.getField(11);\n    }\n    get octaves() {\n        return this.getField(12);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.MidiEffectHost, true),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: Int32Field.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"semiTones\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: -36, max: 36 }, \"st\", 0),\n            11: Float32Field.create({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"cents\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: -50, max: 50, scaling: \"linear\" }, \"ct\", 0),\n            12: Int32Field.create({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"octaves\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [\n                        Pointers.Modulation,\n                        Pointers.Automation,\n                        Pointers.MidiControl,\n                    ],\n                    mandatory: false,\n                },\n            }, { min: -7, max: 7 }, \"oct\", 0),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Int32Field, StringField, BooleanField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class ZeitgeistDeviceBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new ZeitgeistDeviceBox({\n            uuid,\n            graph,\n            name: \"ZeitgeistDeviceBox\",\n            pointerRules: {\n                accepts: [Pointers.Device, Pointers.Selection],\n                mandatory: false,\n            },\n        }), constructor);\n    }\n    static ClassName = \"ZeitgeistDeviceBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitZeitgeistDeviceBox, this);\n    }\n    get host() {\n        return this.getField(1);\n    }\n    get index() {\n        return this.getField(2);\n    }\n    get label() {\n        return this.getField(3);\n    }\n    get enabled() {\n        return this.getField(4);\n    }\n    get minimized() {\n        return this.getField(5);\n    }\n    get groove() {\n        return this.getField(10);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"host\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.MidiEffectHost, true),\n            2: Int32Field.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"index\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"index\", \"\"),\n            3: StringField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            4: BooleanField.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"enabled\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"minimized\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            10: PointerField.create({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"groove\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.Groove, true),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, Field, StringField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class ModularBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new ModularBox({\n            uuid,\n            graph,\n            name: \"ModularBox\",\n            pointerRules: NoPointers,\n        }), constructor);\n    }\n    static ClassName = \"ModularBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitModularBox, this);\n    }\n    get collection() {\n        return this.getField(1);\n    }\n    get device() {\n        return this.getField(2);\n    }\n    get editing() {\n        return this.getField(3);\n    }\n    get modules() {\n        return this.getField(11);\n    }\n    get connections() {\n        return this.getField(12);\n    }\n    get label() {\n        return this.getField(13);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"collection\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.ModularSetup, true),\n            2: Field.hook({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"device\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.ModularSetup],\n                    mandatory: true,\n                },\n            }),\n            3: Field.hook({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"editing\",\n                deprecated: false,\n                pointerRules: { accepts: [Pointers.Editing], mandatory: false },\n            }),\n            11: Field.hook({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"modules\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.ModuleCollection],\n                    mandatory: false,\n                },\n            }),\n            12: Field.hook({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"connections\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.ConnectionCollection],\n                    mandatory: false,\n                },\n            }),\n            13: StringField.create({\n                parent: this,\n                fieldKey: 13,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, PointerField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class ModuleConnectionBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new ModuleConnectionBox({\n            uuid,\n            graph,\n            name: \"ModuleConnectionBox\",\n            pointerRules: NoPointers,\n        }), constructor);\n    }\n    static ClassName = \"ModuleConnectionBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitModuleConnectionBox, this);\n    }\n    get collection() {\n        return this.getField(1);\n    }\n    get source() {\n        return this.getField(2);\n    }\n    get target() {\n        return this.getField(3);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"collection\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.ConnectionCollection, true),\n            2: PointerField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"source\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.VoltageConnection, true),\n            3: PointerField.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"target\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.VoltageConnection, true),\n        };\n    }\n}\n", "import \"@naomiarotest/lib-std\";\nimport { ObjectField, NoPointers, PointerField, StringField, Int32Field, BooleanField, } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class ModuleAttributes extends ObjectField {\n    static create(construct) {\n        return new ModuleAttributes(construct);\n    }\n    constructor(construct) {\n        super(construct);\n    }\n    get collection() {\n        return this.getField(1);\n    }\n    get label() {\n        return this.getField(2);\n    }\n    get x() {\n        return this.getField(3);\n    }\n    get y() {\n        return this.getField(4);\n    }\n    get collapsed() {\n        return this.getField(5);\n    }\n    get removable() {\n        return this.getField(6);\n    }\n    initializeFields() {\n        return {\n            1: PointerField.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"collection\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, Pointers.ModuleCollection, true),\n            2: StringField.create({\n                parent: this,\n                fieldKey: 2,\n                fieldName: \"label\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            3: Int32Field.create({\n                parent: this,\n                fieldKey: 3,\n                fieldName: \"x\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"x\"),\n            4: Int32Field.create({\n                parent: this,\n                fieldKey: 4,\n                fieldName: \"y\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"any\", \"y\"),\n            5: BooleanField.create({\n                parent: this,\n                fieldKey: 5,\n                fieldName: \"collapsed\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, false),\n            6: BooleanField.create({\n                parent: this,\n                fieldKey: 6,\n                fieldName: \"removable\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, true),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, Field, } from \"@naomiarotest/lib-box\";\nimport { ModuleAttributes } from \"./ModuleAttributes\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class ModularAudioInputBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new ModularAudioInputBox({\n            uuid,\n            graph,\n            name: \"ModularAudioInputBox\",\n            pointerRules: { accepts: [Pointers.Selection], mandatory: false },\n        }), constructor);\n    }\n    static ClassName = \"ModularAudioInputBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitModularAudioInputBox, this);\n    }\n    get attributes() {\n        return this.getField(1);\n    }\n    get output() {\n        return this.getField(10);\n    }\n    initializeFields() {\n        return {\n            1: ModuleAttributes.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"attributes\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            10: Field.hook({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"output\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.VoltageConnection],\n                    mandatory: false,\n                },\n            }),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, Field, } from \"@naomiarotest/lib-box\";\nimport { ModuleAttributes } from \"./ModuleAttributes\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class ModularAudioOutputBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new ModularAudioOutputBox({\n            uuid,\n            graph,\n            name: \"ModularAudioOutputBox\",\n            pointerRules: { accepts: [Pointers.Selection], mandatory: false },\n        }), constructor);\n    }\n    static ClassName = \"ModularAudioOutputBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitModularAudioOutputBox, this);\n    }\n    get attributes() {\n        return this.getField(1);\n    }\n    get input() {\n        return this.getField(10);\n    }\n    initializeFields() {\n        return {\n            1: ModuleAttributes.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"attributes\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            10: Field.hook({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"input\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.VoltageConnection],\n                    mandatory: false,\n                },\n            }),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, Field, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { ModuleAttributes } from \"./ModuleAttributes\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class ModuleDelayBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new ModuleDelayBox({\n            uuid,\n            graph,\n            name: \"ModuleDelayBox\",\n            pointerRules: { accepts: [Pointers.Selection], mandatory: false },\n        }), constructor);\n    }\n    static ClassName = \"ModuleDelayBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitModuleDelayBox, this);\n    }\n    get attributes() {\n        return this.getField(1);\n    }\n    get voltageInput() {\n        return this.getField(10);\n    }\n    get voltageOutput() {\n        return this.getField(11);\n    }\n    get time() {\n        return this.getField(20);\n    }\n    initializeFields() {\n        return {\n            1: ModuleAttributes.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"attributes\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            10: Field.hook({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"voltageInput\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.VoltageConnection],\n                    mandatory: false,\n                },\n            }),\n            11: Field.hook({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"voltageOutput\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.VoltageConnection],\n                    mandatory: false,\n                },\n            }),\n            20: Float32Field.create({\n                parent: this,\n                fieldKey: 20,\n                fieldName: \"time\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.ParameterController],\n                    mandatory: false,\n                },\n            }, { min: 1, max: 1000, scaling: \"exponential\" }, \"ms\", 500),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, Field, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { ModuleAttributes } from \"./ModuleAttributes\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class ModuleMultiplierBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new ModuleMultiplierBox({\n            uuid,\n            graph,\n            name: \"ModuleMultiplierBox\",\n            pointerRules: { accepts: [Pointers.Selection], mandatory: false },\n        }), constructor);\n    }\n    static ClassName = \"ModuleMultiplierBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitModuleMultiplierBox, this);\n    }\n    get attributes() {\n        return this.getField(1);\n    }\n    get voltageInputX() {\n        return this.getField(10);\n    }\n    get voltageInputY() {\n        return this.getField(11);\n    }\n    get voltageOutput() {\n        return this.getField(12);\n    }\n    get multiplier() {\n        return this.getField(20);\n    }\n    initializeFields() {\n        return {\n            1: ModuleAttributes.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"attributes\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            10: Field.hook({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"voltageInputX\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.VoltageConnection],\n                    mandatory: false,\n                },\n            }),\n            11: Field.hook({\n                parent: this,\n                fieldKey: 11,\n                fieldName: \"voltageInputY\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.VoltageConnection],\n                    mandatory: false,\n                },\n            }),\n            12: Field.hook({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"voltageOutput\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.VoltageConnection],\n                    mandatory: false,\n                },\n            }),\n            20: Float32Field.create({\n                parent: this,\n                fieldKey: 20,\n                fieldName: \"multiplier\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }, \"unipolar\", \"%\"),\n        };\n    }\n}\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { Box, NoPointers, Field, Float32Field, } from \"@naomiarotest/lib-box\";\nimport { ModuleAttributes } from \"./ModuleAttributes\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nexport class ModuleGainBox extends Box {\n    static create(graph, uuid, constructor) {\n        return graph.stageBox(new ModuleGainBox({\n            uuid,\n            graph,\n            name: \"ModuleGainBox\",\n            pointerRules: { accepts: [Pointers.Selection], mandatory: false },\n        }), constructor);\n    }\n    static ClassName = \"ModuleGainBox\";\n    constructor(construct) {\n        super(construct);\n    }\n    accept(visitor) {\n        return safeExecute(visitor.visitModuleGainBox, this);\n    }\n    get attributes() {\n        return this.getField(1);\n    }\n    get voltageInput() {\n        return this.getField(10);\n    }\n    get voltageOutput() {\n        return this.getField(12);\n    }\n    get gain() {\n        return this.getField(20);\n    }\n    initializeFields() {\n        return {\n            1: ModuleAttributes.create({\n                parent: this,\n                fieldKey: 1,\n                fieldName: \"attributes\",\n                deprecated: false,\n                pointerRules: NoPointers,\n            }),\n            10: Field.hook({\n                parent: this,\n                fieldKey: 10,\n                fieldName: \"voltageInput\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.VoltageConnection],\n                    mandatory: false,\n                },\n            }),\n            12: Field.hook({\n                parent: this,\n                fieldKey: 12,\n                fieldName: \"voltageOutput\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.VoltageConnection],\n                    mandatory: false,\n                },\n            }),\n            20: Float32Field.create({\n                parent: this,\n                fieldKey: 20,\n                fieldName: \"gain\",\n                deprecated: false,\n                pointerRules: {\n                    accepts: [Pointers.ParameterController],\n                    mandatory: false,\n                },\n            }, \"decibel\", \"dB\"),\n        };\n    }\n}\n", "import { Pointers } from \"@naomiarotest/studio-enums\";\nimport { Interpolation } from \"@naomiarotest/lib-dsp\";\nimport { ValueEventCurveBox } from \"@naomiarotest/studio-boxes\";\nimport { assertInstanceOf, isDefined, panic, UUID } from \"@naomiarotest/lib-std\";\nexport var InterpolationFieldAdapter;\n(function (InterpolationFieldAdapter) {\n    InterpolationFieldAdapter.write = (field, value) => {\n        if (value.type === \"none\") {\n            field.disconnect();\n            field.setValue(0);\n        }\n        else if (value.type === \"linear\") {\n            field.disconnect();\n            field.setValue(1);\n        }\n        else if (value.type === \"curve\") {\n            field.setValue(0);\n            const curveBox = field.pointerHub.filter(Pointers.ValueInterpolation).at(0)?.box;\n            if (isDefined(curveBox)) {\n                assertInstanceOf(curveBox, ValueEventCurveBox);\n                curveBox.slope.setValue(value.slope);\n            }\n            else {\n                ValueEventCurveBox.create(field.box.graph, UUID.generate(), box => {\n                    box.slope.setValue(value.slope);\n                    box.event.refer(field);\n                });\n            }\n        }\n    };\n    InterpolationFieldAdapter.read = (field) => {\n        const curveBox = field.pointerHub.incoming().at(0)?.box;\n        if (isDefined(curveBox)) {\n            assertInstanceOf(curveBox, ValueEventCurveBox);\n            return { type: \"curve\", slope: curveBox.slope.getValue() };\n        }\n        if (field.getValue() === 0) {\n            return Interpolation.None;\n        }\n        else if (field.getValue() === 1) {\n            return Interpolation.Linear;\n        }\n        else {\n            return panic(\"Unknown Interpolation value\");\n        }\n    };\n})(InterpolationFieldAdapter || (InterpolationFieldAdapter = {}));\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ValueEventBoxAdapter_terminator, _ValueEventBoxAdapter_context, _ValueEventBoxAdapter_box, _ValueEventBoxAdapter_interpolation, _ValueEventBoxAdapter_interpolationSubscription, _ValueEventBoxAdapter_isSelected;\nimport { Arrays, Cache, Terminable, Terminator, UUID } from \"@naomiarotest/lib-std\";\nimport { Propagation } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nimport { ValueEventBox } from \"@naomiarotest/studio-boxes\";\nimport { ValueEventCollectionBoxAdapter } from \"../collection/ValueEventCollectionBoxAdapter\";\nimport { InterpolationFieldAdapter } from \"./InterpolationFieldAdapter\";\nexport class ValueEventBoxAdapter {\n    constructor(context, box) {\n        this.type = \"value-event\";\n        _ValueEventBoxAdapter_terminator.set(this, new Terminator());\n        _ValueEventBoxAdapter_context.set(this, void 0);\n        _ValueEventBoxAdapter_box.set(this, void 0);\n        _ValueEventBoxAdapter_interpolation.set(this, void 0);\n        _ValueEventBoxAdapter_interpolationSubscription.set(this, void 0);\n        _ValueEventBoxAdapter_isSelected.set(this, false);\n        __classPrivateFieldSet(this, _ValueEventBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _ValueEventBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _ValueEventBoxAdapter_interpolation, __classPrivateFieldGet(this, _ValueEventBoxAdapter_terminator, \"f\").own(new Cache(() => InterpolationFieldAdapter.read(__classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\").interpolation))), \"f\");\n        const invalidateInterpolation = () => {\n            __classPrivateFieldGet(this, _ValueEventBoxAdapter_interpolation, \"f\").invalidate();\n            this.collection.ifSome(collection => collection.onEventPropertyChanged());\n        };\n        __classPrivateFieldGet(this, _ValueEventBoxAdapter_terminator, \"f\").ownAll(__classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\").subscribe(Propagation.Children, (update) => {\n            if (this.collection.isEmpty()) {\n                return;\n            }\n            if (update.type === \"primitive\" || update.type === \"pointer\") {\n                const collection = this.collection.unwrap();\n                const updatedFieldKeys = update.address.fieldKeys;\n                const indexChanged = Arrays.equals(__classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\").index.address.fieldKeys, updatedFieldKeys);\n                const positionChanged = Arrays.equals(__classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\").position.address.fieldKeys, updatedFieldKeys);\n                if (indexChanged || positionChanged) {\n                    collection.requestSorting();\n                }\n                else {\n                    collection.onEventPropertyChanged();\n                }\n            }\n        }), __classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\").interpolation.subscribe(invalidateInterpolation), __classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\").interpolation.pointerHub.subscribe({\n            onAdded: ({ box }) => {\n                __classPrivateFieldGet(this, _ValueEventBoxAdapter_interpolationSubscription, \"f\").terminate();\n                __classPrivateFieldSet(this, _ValueEventBoxAdapter_interpolationSubscription, box.subscribe(Propagation.Children, invalidateInterpolation), \"f\");\n                invalidateInterpolation();\n            },\n            onRemoved: () => {\n                __classPrivateFieldGet(this, _ValueEventBoxAdapter_interpolationSubscription, \"f\").terminate();\n                __classPrivateFieldSet(this, _ValueEventBoxAdapter_interpolationSubscription, Terminable.Empty, \"f\");\n                invalidateInterpolation();\n            }\n        }));\n        __classPrivateFieldSet(this, _ValueEventBoxAdapter_interpolationSubscription, __classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\").interpolation.pointerHub\n            .filter(Pointers.ValueInterpolation)\n            .at(0)?.box\n            .subscribe(Propagation.Children, invalidateInterpolation)\n            ?? Terminable.Empty, \"f\");\n    }\n    onSelected() {\n        __classPrivateFieldSet(this, _ValueEventBoxAdapter_isSelected, true, \"f\");\n        this.collection.ifSome(region => region.onEventPropertyChanged());\n    }\n    onDeselected() {\n        __classPrivateFieldSet(this, _ValueEventBoxAdapter_isSelected, false, \"f\");\n        this.collection.ifSome(region => region.onEventPropertyChanged());\n    }\n    terminate() {\n        __classPrivateFieldGet(this, _ValueEventBoxAdapter_interpolationSubscription, \"f\").terminate();\n        __classPrivateFieldGet(this, _ValueEventBoxAdapter_terminator, \"f\").terminate();\n    }\n    get box() { return __classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\").address; }\n    get position() { return __classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\").position.getValue(); }\n    get index() { return __classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\").index.getValue(); }\n    set interpolation(value) { InterpolationFieldAdapter.write(__classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\").interpolation, value); }\n    get interpolation() { return __classPrivateFieldGet(this, _ValueEventBoxAdapter_interpolation, \"f\").get(); }\n    get value() { return __classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\").value.getValue(); }\n    get isSelected() { return __classPrivateFieldGet(this, _ValueEventBoxAdapter_isSelected, \"f\"); }\n    get collection() {\n        return __classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\").events.targetVertex\n            .map(vertex => __classPrivateFieldGet(this, _ValueEventBoxAdapter_context, \"f\").boxAdapters.adapterFor(vertex.box, ValueEventCollectionBoxAdapter));\n    }\n    copyTo(options) {\n        const eventBox = ValueEventBox.create(__classPrivateFieldGet(this, _ValueEventBoxAdapter_context, \"f\").boxGraph, UUID.generate(), box => {\n            box.position.setValue(options?.position ?? this.position);\n            box.index.setValue(options?.index ?? this.index);\n            box.events.refer(options?.events ?? this.collection.unwrap().box.events);\n            box.value.setValue(options?.value ?? this.value);\n        });\n        InterpolationFieldAdapter.write(eventBox.interpolation, options?.interpolation ?? this.interpolation);\n        return __classPrivateFieldGet(this, _ValueEventBoxAdapter_context, \"f\").boxAdapters.adapterFor(eventBox, ValueEventBoxAdapter);\n    }\n    copyFrom(options) {\n        __classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\").position.setValue(options?.position ?? this.position);\n        __classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\").index.setValue(options?.index ?? this.index);\n        __classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\").events.refer(options?.events ?? this.collection.unwrap().box.events);\n        __classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\").value.setValue(options?.value ?? this.value);\n        InterpolationFieldAdapter.write(__classPrivateFieldGet(this, _ValueEventBoxAdapter_box, \"f\").interpolation, options?.interpolation ?? this.interpolation);\n        return this;\n    }\n    toString() { return `{ValueEventBoxAdapter position: ${this.position} index: ${this.index}}`; }\n}\n_ValueEventBoxAdapter_terminator = new WeakMap(), _ValueEventBoxAdapter_context = new WeakMap(), _ValueEventBoxAdapter_box = new WeakMap(), _ValueEventBoxAdapter_interpolation = new WeakMap(), _ValueEventBoxAdapter_interpolationSubscription = new WeakMap(), _ValueEventBoxAdapter_isSelected = new WeakMap();\nValueEventBoxAdapter.Comparator = (a, b) => {\n    const positionDiff = a.position - b.position;\n    if (positionDiff !== 0) {\n        return positionDiff;\n    }\n    const indexDiff = a.index - b.index;\n    if (indexDiff !== 0) {\n        return indexDiff;\n    }\n    throw new Error(`${a} and ${b} are identical in terms of comparison`);\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ValueEventCollectionBoxAdapter_instances, _ValueEventCollectionBoxAdapter_terminator, _ValueEventCollectionBoxAdapter_context, _ValueEventCollectionBoxAdapter_box, _ValueEventCollectionBoxAdapter_changeNotifier, _ValueEventCollectionBoxAdapter_adapters, _ValueEventCollectionBoxAdapter_events, _ValueEventCollectionBoxAdapter_onEventsChanged;\nimport { ValueEventBox, ValueEventCollectionBox } from \"@naomiarotest/studio-boxes\";\nimport { asDefined, Curve, linear, Notifier, Option, panic, Terminator, UUID } from \"@naomiarotest/lib-std\";\nimport { EventCollection, Interpolation, ValueEvent } from \"@naomiarotest/lib-dsp\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nimport { ValueEventBoxAdapter } from \"../event/ValueEventBoxAdapter\";\nimport { InterpolationFieldAdapter } from \"../event/InterpolationFieldAdapter\";\nexport class ValueEventCollectionBoxAdapter {\n    constructor(context, box) {\n        _ValueEventCollectionBoxAdapter_instances.add(this);\n        _ValueEventCollectionBoxAdapter_terminator.set(this, new Terminator());\n        _ValueEventCollectionBoxAdapter_context.set(this, void 0);\n        _ValueEventCollectionBoxAdapter_box.set(this, void 0);\n        _ValueEventCollectionBoxAdapter_changeNotifier.set(this, void 0);\n        _ValueEventCollectionBoxAdapter_adapters.set(this, void 0);\n        _ValueEventCollectionBoxAdapter_events.set(this, void 0);\n        __classPrivateFieldSet(this, _ValueEventCollectionBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _ValueEventCollectionBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _ValueEventCollectionBoxAdapter_changeNotifier, new Notifier(), \"f\");\n        __classPrivateFieldSet(this, _ValueEventCollectionBoxAdapter_adapters, UUID.newSet(adapter => adapter.uuid), \"f\");\n        __classPrivateFieldSet(this, _ValueEventCollectionBoxAdapter_events, EventCollection.create(ValueEventBoxAdapter.Comparator), \"f\");\n        const addValueProcedure = (box) => {\n            const adapter = asDefined(box.accept({\n                visitValueEventBox: (box) => __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_context, \"f\").boxAdapters.adapterFor(box, ValueEventBoxAdapter)\n            }), `Could not find adapter for ${box}`);\n            if (__classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_adapters, \"f\").add(adapter)) {\n                __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_events, \"f\").add(adapter);\n                __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_instances, \"m\", _ValueEventCollectionBoxAdapter_onEventsChanged).call(this);\n            }\n        };\n        __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_box, \"f\").events.pointerHub.incoming().forEach(({ box }) => addValueProcedure(box));\n        __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_terminator, \"f\").own(__classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_box, \"f\").events.pointerHub.subscribe({\n            onAdded: ({ box }) => addValueProcedure(box),\n            onRemoved: ({ box: { address: { uuid } } }) => {\n                __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_events, \"f\").remove(__classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_adapters, \"f\").removeByKey(uuid));\n                __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_instances, \"m\", _ValueEventCollectionBoxAdapter_onEventsChanged).call(this);\n            }\n        }));\n        __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_terminator, \"f\").own(__classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_box, \"f\").owners.pointerHub.subscribe({\n            onAdded: () => __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_changeNotifier, \"f\").notify(this),\n            onRemoved: () => __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_changeNotifier, \"f\").notify(this)\n        }));\n    }\n    valueAt(position, fallback) { return ValueEvent.valueAt(__classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_events, \"f\"), position, fallback); }\n    copy() {\n        const graph = __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_context, \"f\").boxGraph;\n        const boxCopy = ValueEventCollectionBox.create(graph, UUID.generate());\n        __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_events, \"f\").asArray().forEach(source => source.copyTo({ events: boxCopy.events }));\n        return __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_context, \"f\").boxAdapters.adapterFor(boxCopy, ValueEventCollectionBoxAdapter);\n    }\n    cut(position) {\n        const low = this.events.lowerEqual(position);\n        const high = this.events.greaterEqual(position);\n        if (null === high) {\n            if (null === low) {\n                return Option.None;\n            }\n            return Option.wrap(this.createEvent({\n                position,\n                value: low.value,\n                index: low.index,\n                interpolation: low.interpolation\n            }));\n        }\n        if (null === low) {\n            return Option.wrap(this.createEvent({\n                position,\n                value: high.value,\n                index: high.index,\n                interpolation: high.interpolation\n            }));\n        }\n        if (low.position === position) {\n            return Option.wrap(low);\n        }\n        if (low.interpolation.type === \"none\") {\n            return Option.wrap(this.createEvent({\n                position,\n                value: low.value,\n                index: low.index,\n                interpolation: low.interpolation\n            }));\n        }\n        if (low.interpolation.type === \"linear\") {\n            const { position: p0, value: v0 } = low;\n            const { position: p1, value: v1 } = high;\n            return Option.wrap(this.createEvent({\n                position,\n                value: linear(v0, v1, (position - p0) / (p1 - p0)),\n                index: 0,\n                interpolation: low.interpolation\n            }));\n        }\n        if (low.interpolation.type === \"curve\") {\n            const { position: p0, value: y0 } = low;\n            const { position: p1, value: y1 } = high;\n            const steps = p1 - p0;\n            const cutOffset = position - p0;\n            const curve = Curve.byHalf(steps, y0, Curve.valueAt({\n                slope: low.interpolation.slope,\n                steps,\n                y0,\n                y1\n            }, steps * 0.5), y1);\n            const cutValue = Curve.valueAt(curve, cutOffset);\n            const lowSlope = Curve.slopeByHalf(y0, Curve.valueAt(curve, cutOffset * 0.5), cutValue);\n            InterpolationFieldAdapter.write(low.box.interpolation, Interpolation.Curve(lowSlope));\n            return Option.wrap(this.createEvent({\n                position,\n                value: cutValue,\n                index: 0,\n                interpolation: Interpolation.Curve(Curve.slopeByHalf(cutValue, Curve.valueAt(curve, (cutOffset + steps) * 0.5), y1))\n            }));\n        }\n        return panic(\"Unknown interpolation type\");\n    }\n    subscribeChange(observer) { return __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_changeNotifier, \"f\").subscribe(observer); }\n    createEvent({ position, index, value, interpolation }) {\n        const eventBox = ValueEventBox.create(__classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_context, \"f\").boxGraph, UUID.generate(), box => {\n            box.position.setValue(position);\n            box.index.setValue(index);\n            box.value.setValue(value);\n            box.events.refer(__classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_box, \"f\").events);\n        });\n        InterpolationFieldAdapter.write(eventBox.interpolation, interpolation);\n        return __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_context, \"f\").boxAdapters.adapterFor(eventBox, ValueEventBoxAdapter);\n    }\n    requestSorting() {\n        __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_events, \"f\").onIndexingChanged();\n        this.onEventPropertyChanged();\n    }\n    onEventPropertyChanged() { __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_instances, \"m\", _ValueEventCollectionBoxAdapter_onEventsChanged).call(this); }\n    terminate() { __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_terminator, \"f\").terminate(); }\n    get box() { return __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_box, \"f\").address; }\n    get numOwners() { return __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_box, \"f\").owners.pointerHub.filter(Pointers.ValueEventCollection).length; }\n    get events() { return __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_events, \"f\"); }\n    toString() { return `{ValueEventCollectionBox ${UUID.toString(__classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_box, \"f\").address.uuid)}}`; }\n}\n_ValueEventCollectionBoxAdapter_terminator = new WeakMap(), _ValueEventCollectionBoxAdapter_context = new WeakMap(), _ValueEventCollectionBoxAdapter_box = new WeakMap(), _ValueEventCollectionBoxAdapter_changeNotifier = new WeakMap(), _ValueEventCollectionBoxAdapter_adapters = new WeakMap(), _ValueEventCollectionBoxAdapter_events = new WeakMap(), _ValueEventCollectionBoxAdapter_instances = new WeakSet(), _ValueEventCollectionBoxAdapter_onEventsChanged = function _ValueEventCollectionBoxAdapter_onEventsChanged() { __classPrivateFieldGet(this, _ValueEventCollectionBoxAdapter_changeNotifier, \"f\").notify(this); };\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ValueClipBoxAdapter_instances, _ValueClipBoxAdapter_terminator, _ValueClipBoxAdapter_context, _ValueClipBoxAdapter_box, _ValueClipBoxAdapter_selectedValue, _ValueClipBoxAdapter_changeNotifier, _ValueClipBoxAdapter_isConstructing, _ValueClipBoxAdapter_eventCollectionSubscription, _ValueClipBoxAdapter_dispatchChange;\nimport { PPQN } from \"@naomiarotest/lib-dsp\";\nimport { DefaultObservableValue, Notifier, Option, safeExecute, Terminable, Terminator, UUID } from \"@naomiarotest/lib-std\";\nimport { Propagation } from \"@naomiarotest/lib-box\";\nimport { TrackBoxAdapter } from \"../TrackBoxAdapter\";\nimport { ValueEventCollectionBoxAdapter } from \"../collection/ValueEventCollectionBoxAdapter\";\nimport { ValueClipBox } from \"@naomiarotest/studio-boxes\";\nexport class ValueClipBoxAdapter {\n    constructor(context, box) {\n        _ValueClipBoxAdapter_instances.add(this);\n        this.type = \"value-clip\";\n        _ValueClipBoxAdapter_terminator.set(this, new Terminator());\n        _ValueClipBoxAdapter_context.set(this, void 0);\n        _ValueClipBoxAdapter_box.set(this, void 0);\n        _ValueClipBoxAdapter_selectedValue.set(this, void 0);\n        _ValueClipBoxAdapter_changeNotifier.set(this, void 0);\n        _ValueClipBoxAdapter_isConstructing.set(this, void 0); // Prevents stack overflow due to infinite adapter queries\n        _ValueClipBoxAdapter_eventCollectionSubscription.set(this, Terminable.Empty);\n        __classPrivateFieldSet(this, _ValueClipBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _ValueClipBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _ValueClipBoxAdapter_isConstructing, true, \"f\");\n        __classPrivateFieldSet(this, _ValueClipBoxAdapter_selectedValue, __classPrivateFieldGet(this, _ValueClipBoxAdapter_terminator, \"f\").own(new DefaultObservableValue(false)), \"f\");\n        __classPrivateFieldSet(this, _ValueClipBoxAdapter_changeNotifier, __classPrivateFieldGet(this, _ValueClipBoxAdapter_terminator, \"f\").own(new Notifier()), \"f\");\n        __classPrivateFieldGet(this, _ValueClipBoxAdapter_terminator, \"f\").own(__classPrivateFieldGet(this, _ValueClipBoxAdapter_box, \"f\").pointerHub.subscribe({\n            onAdded: () => __classPrivateFieldGet(this, _ValueClipBoxAdapter_instances, \"m\", _ValueClipBoxAdapter_dispatchChange).call(this),\n            onRemoved: () => __classPrivateFieldGet(this, _ValueClipBoxAdapter_instances, \"m\", _ValueClipBoxAdapter_dispatchChange).call(this)\n        }));\n        __classPrivateFieldGet(this, _ValueClipBoxAdapter_terminator, \"f\").own(__classPrivateFieldGet(this, _ValueClipBoxAdapter_box, \"f\").subscribe(Propagation.Children, (_update) => __classPrivateFieldGet(this, _ValueClipBoxAdapter_instances, \"m\", _ValueClipBoxAdapter_dispatchChange).call(this)));\n        __classPrivateFieldGet(this, _ValueClipBoxAdapter_terminator, \"f\").own(__classPrivateFieldGet(this, _ValueClipBoxAdapter_box, \"f\").events.catchupAndSubscribe(({ targetVertex }) => {\n            __classPrivateFieldGet(this, _ValueClipBoxAdapter_eventCollectionSubscription, \"f\").terminate();\n            __classPrivateFieldSet(this, _ValueClipBoxAdapter_eventCollectionSubscription, targetVertex.match({\n                none: () => Terminable.Empty,\n                some: ({ box }) => __classPrivateFieldGet(this, _ValueClipBoxAdapter_context, \"f\").boxAdapters\n                    .adapterFor(box, ValueEventCollectionBoxAdapter)\n                    .subscribeChange(() => __classPrivateFieldGet(this, _ValueClipBoxAdapter_instances, \"m\", _ValueClipBoxAdapter_dispatchChange).call(this))\n            }), \"f\");\n            __classPrivateFieldGet(this, _ValueClipBoxAdapter_instances, \"m\", _ValueClipBoxAdapter_dispatchChange).call(this);\n        }));\n        __classPrivateFieldSet(this, _ValueClipBoxAdapter_isConstructing, false, \"f\");\n    }\n    valueAt(position, fallback) {\n        const content = this.optCollection;\n        return content.isEmpty() ? fallback : content.unwrap().valueAt(position % this.duration, fallback);\n    }\n    catchupAndSubscribeSelected(observer) {\n        return __classPrivateFieldGet(this, _ValueClipBoxAdapter_selectedValue, \"f\").catchupAndSubscribe(observer);\n    }\n    subscribeChange(observer) { return __classPrivateFieldGet(this, _ValueClipBoxAdapter_changeNotifier, \"f\").subscribe(observer); }\n    accept(visitor) { return safeExecute(visitor.visitValueClipBoxAdapter, this); }\n    consolidate() {\n        if (this.isMirrowed) {\n            __classPrivateFieldGet(this, _ValueClipBoxAdapter_box, \"f\").events.refer(this.optCollection.unwrap().copy().box.owners);\n        }\n    }\n    clone(consolidate) {\n        const events = consolidate ? this.optCollection.unwrap().copy().box.owners : __classPrivateFieldGet(this, _ValueClipBoxAdapter_box, \"f\").events.targetVertex.unwrap();\n        ValueClipBox.create(__classPrivateFieldGet(this, _ValueClipBoxAdapter_context, \"f\").boxGraph, UUID.generate(), box => {\n            box.index.setValue(this.indexField.getValue());\n            box.label.setValue(this.label);\n            box.hue.setValue(this.hue);\n            box.duration.setValue(this.duration);\n            box.mute.setValue(this.mute);\n            box.clips.refer(__classPrivateFieldGet(this, _ValueClipBoxAdapter_box, \"f\").clips.targetVertex.unwrap());\n            box.events.refer(events);\n        });\n    }\n    onSelected() { __classPrivateFieldGet(this, _ValueClipBoxAdapter_selectedValue, \"f\").setValue(true); }\n    onDeselected() { __classPrivateFieldGet(this, _ValueClipBoxAdapter_selectedValue, \"f\").setValue(false); }\n    get isSelected() { return __classPrivateFieldGet(this, _ValueClipBoxAdapter_selectedValue, \"f\").getValue(); }\n    terminate() {\n        __classPrivateFieldGet(this, _ValueClipBoxAdapter_eventCollectionSubscription, \"f\").terminate();\n        __classPrivateFieldGet(this, _ValueClipBoxAdapter_terminator, \"f\").terminate();\n    }\n    get box() { return __classPrivateFieldGet(this, _ValueClipBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _ValueClipBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _ValueClipBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _ValueClipBoxAdapter_box, \"f\").index; }\n    get duration() { return __classPrivateFieldGet(this, _ValueClipBoxAdapter_box, \"f\").duration.getValue(); }\n    get mute() { return __classPrivateFieldGet(this, _ValueClipBoxAdapter_box, \"f\").mute.getValue(); }\n    get hue() { return __classPrivateFieldGet(this, _ValueClipBoxAdapter_box, \"f\").hue.getValue(); }\n    get hasCollection() { return !this.optCollection.isEmpty(); }\n    get events() {\n        return this.optCollection.map(collection => collection.events);\n    }\n    get optCollection() {\n        return __classPrivateFieldGet(this, _ValueClipBoxAdapter_box, \"f\").events.targetVertex\n            .map(vertex => __classPrivateFieldGet(this, _ValueClipBoxAdapter_context, \"f\").boxAdapters.adapterFor(vertex.box, ValueEventCollectionBoxAdapter));\n    }\n    get label() { return __classPrivateFieldGet(this, _ValueClipBoxAdapter_box, \"f\").label.getValue(); }\n    get trackBoxAdapter() {\n        if (__classPrivateFieldGet(this, _ValueClipBoxAdapter_isConstructing, \"f\")) {\n            return Option.None;\n        }\n        return __classPrivateFieldGet(this, _ValueClipBoxAdapter_box, \"f\").clips.targetVertex\n            .map(vertex => __classPrivateFieldGet(this, _ValueClipBoxAdapter_context, \"f\").boxAdapters.adapterFor(vertex.box, TrackBoxAdapter));\n    }\n    get isMirrowed() { return this.optCollection.mapOr(adapter => adapter.numOwners > 1, false); }\n    get canMirror() { return true; }\n    toString() { return `{ValueClipBoxAdapter ${UUID.toString(__classPrivateFieldGet(this, _ValueClipBoxAdapter_box, \"f\").address.uuid)} d: ${PPQN.toString(this.duration)}}`; }\n}\n_ValueClipBoxAdapter_terminator = new WeakMap(), _ValueClipBoxAdapter_context = new WeakMap(), _ValueClipBoxAdapter_box = new WeakMap(), _ValueClipBoxAdapter_selectedValue = new WeakMap(), _ValueClipBoxAdapter_changeNotifier = new WeakMap(), _ValueClipBoxAdapter_isConstructing = new WeakMap(), _ValueClipBoxAdapter_eventCollectionSubscription = new WeakMap(), _ValueClipBoxAdapter_instances = new WeakSet(), _ValueClipBoxAdapter_dispatchChange = function _ValueClipBoxAdapter_dispatchChange() {\n    __classPrivateFieldGet(this, _ValueClipBoxAdapter_changeNotifier, \"f\").notify();\n    this.trackBoxAdapter.unwrapOrNull()?.clips?.dispatchChange();\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AudioFileBoxAdapter_context, _AudioFileBoxAdapter_box;\nexport class AudioFileBoxAdapter {\n    constructor(context, box) {\n        _AudioFileBoxAdapter_context.set(this, void 0);\n        _AudioFileBoxAdapter_box.set(this, void 0);\n        __classPrivateFieldSet(this, _AudioFileBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _AudioFileBoxAdapter_box, box, \"f\");\n    }\n    get box() { return __classPrivateFieldGet(this, _AudioFileBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _AudioFileBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _AudioFileBoxAdapter_box, \"f\").address; }\n    get startInSeconds() { return __classPrivateFieldGet(this, _AudioFileBoxAdapter_box, \"f\").startInSeconds.getValue(); }\n    get endInSeconds() { return __classPrivateFieldGet(this, _AudioFileBoxAdapter_box, \"f\").endInSeconds.getValue(); }\n    get data() { return this.getOrCreateLoader().data; }\n    get peaks() { return this.getOrCreateLoader().peaks; }\n    getOrCreateLoader() {\n        return __classPrivateFieldGet(this, _AudioFileBoxAdapter_context, \"f\").sampleManager.getOrCreate(__classPrivateFieldGet(this, _AudioFileBoxAdapter_box, \"f\").address.uuid);\n    }\n    terminate() { }\n}\n_AudioFileBoxAdapter_context = new WeakMap(), _AudioFileBoxAdapter_box = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AudioClipBoxAdapter_instances, _AudioClipBoxAdapter_terminator, _AudioClipBoxAdapter_context, _AudioClipBoxAdapter_box, _AudioClipBoxAdapter_selectedValue, _AudioClipBoxAdapter_changeNotifier, _AudioClipBoxAdapter_isConstructing, _AudioClipBoxAdapter_fileAdapter, _AudioClipBoxAdapter_fileSubscription, _AudioClipBoxAdapter_dispatchChange;\nimport { PPQN } from \"@naomiarotest/lib-dsp\";\nimport { DefaultObservableValue, Notifier, Option, safeExecute, Terminator, UUID } from \"@naomiarotest/lib-std\";\nimport { AudioClipBox } from \"@naomiarotest/studio-boxes\";\nimport { Propagation } from \"@naomiarotest/lib-box\";\nimport { TrackBoxAdapter } from \"../TrackBoxAdapter\";\nimport { AudioFileBoxAdapter } from \"../../audio/AudioFileBoxAdapter\";\nexport class AudioClipBoxAdapter {\n    constructor(context, box) {\n        _AudioClipBoxAdapter_instances.add(this);\n        this.type = \"audio-clip\";\n        _AudioClipBoxAdapter_terminator.set(this, new Terminator());\n        _AudioClipBoxAdapter_context.set(this, void 0);\n        _AudioClipBoxAdapter_box.set(this, void 0);\n        _AudioClipBoxAdapter_selectedValue.set(this, void 0);\n        _AudioClipBoxAdapter_changeNotifier.set(this, void 0);\n        _AudioClipBoxAdapter_isConstructing.set(this, void 0); // Prevents stack overflow due to infinite adapter queries\n        _AudioClipBoxAdapter_fileAdapter.set(this, Option.None);\n        _AudioClipBoxAdapter_fileSubscription.set(this, Option.None);\n        __classPrivateFieldSet(this, _AudioClipBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _AudioClipBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _AudioClipBoxAdapter_isConstructing, true, \"f\");\n        __classPrivateFieldSet(this, _AudioClipBoxAdapter_selectedValue, __classPrivateFieldGet(this, _AudioClipBoxAdapter_terminator, \"f\").own(new DefaultObservableValue(false)), \"f\");\n        __classPrivateFieldSet(this, _AudioClipBoxAdapter_changeNotifier, __classPrivateFieldGet(this, _AudioClipBoxAdapter_terminator, \"f\").own(new Notifier()), \"f\");\n        __classPrivateFieldGet(this, _AudioClipBoxAdapter_terminator, \"f\").ownAll(__classPrivateFieldGet(this, _AudioClipBoxAdapter_box, \"f\").pointerHub.subscribe({\n            onAdded: () => __classPrivateFieldGet(this, _AudioClipBoxAdapter_instances, \"m\", _AudioClipBoxAdapter_dispatchChange).call(this),\n            onRemoved: () => __classPrivateFieldGet(this, _AudioClipBoxAdapter_instances, \"m\", _AudioClipBoxAdapter_dispatchChange).call(this)\n        }), __classPrivateFieldGet(this, _AudioClipBoxAdapter_box, \"f\").file.catchupAndSubscribe((pointerField) => {\n            __classPrivateFieldSet(this, _AudioClipBoxAdapter_fileAdapter, pointerField.targetVertex\n                .map(vertex => __classPrivateFieldGet(this, _AudioClipBoxAdapter_context, \"f\").boxAdapters.adapterFor(vertex.box, AudioFileBoxAdapter)), \"f\");\n            __classPrivateFieldGet(this, _AudioClipBoxAdapter_fileSubscription, \"f\").ifSome(subscription => subscription.terminate());\n            __classPrivateFieldSet(this, _AudioClipBoxAdapter_fileSubscription, __classPrivateFieldGet(this, _AudioClipBoxAdapter_fileAdapter, \"f\").map(adapter => adapter.getOrCreateLoader().subscribe(() => __classPrivateFieldGet(this, _AudioClipBoxAdapter_instances, \"m\", _AudioClipBoxAdapter_dispatchChange).call(this))), \"f\");\n        }), __classPrivateFieldGet(this, _AudioClipBoxAdapter_box, \"f\").subscribe(Propagation.Children, (_update) => __classPrivateFieldGet(this, _AudioClipBoxAdapter_instances, \"m\", _AudioClipBoxAdapter_dispatchChange).call(this)), {\n            terminate: () => {\n                __classPrivateFieldGet(this, _AudioClipBoxAdapter_fileSubscription, \"f\").ifSome(subscription => subscription.terminate());\n                __classPrivateFieldSet(this, _AudioClipBoxAdapter_fileSubscription, Option.None, \"f\");\n            }\n        });\n        __classPrivateFieldSet(this, _AudioClipBoxAdapter_isConstructing, false, \"f\");\n    }\n    catchupAndSubscribeSelected(observer) {\n        return __classPrivateFieldGet(this, _AudioClipBoxAdapter_selectedValue, \"f\").catchupAndSubscribe(observer);\n    }\n    subscribeChange(observer) { return __classPrivateFieldGet(this, _AudioClipBoxAdapter_changeNotifier, \"f\").subscribe(observer); }\n    accept(visitor) { return safeExecute(visitor.visitAudioClipBoxAdapter, this); }\n    consolidate() { }\n    clone(_mirrored) {\n        AudioClipBox.create(__classPrivateFieldGet(this, _AudioClipBoxAdapter_context, \"f\").boxGraph, UUID.generate(), box => {\n            box.index.setValue(this.indexField.getValue());\n            box.gain.setValue(this.gain);\n            box.label.setValue(this.label);\n            box.hue.setValue(this.hue);\n            box.duration.setValue(this.duration);\n            box.mute.setValue(this.mute);\n            box.clips.refer(__classPrivateFieldGet(this, _AudioClipBoxAdapter_box, \"f\").clips.targetVertex.unwrap());\n            box.file.refer(__classPrivateFieldGet(this, _AudioClipBoxAdapter_box, \"f\").file.targetVertex.unwrap());\n            box.events.refer(__classPrivateFieldGet(this, _AudioClipBoxAdapter_box, \"f\").events.targetVertex.unwrap());\n        });\n    }\n    onSelected() { __classPrivateFieldGet(this, _AudioClipBoxAdapter_selectedValue, \"f\").setValue(true); }\n    onDeselected() { __classPrivateFieldGet(this, _AudioClipBoxAdapter_selectedValue, \"f\").setValue(false); }\n    get isSelected() { return __classPrivateFieldGet(this, _AudioClipBoxAdapter_selectedValue, \"f\").getValue(); }\n    terminate() { __classPrivateFieldGet(this, _AudioClipBoxAdapter_terminator, \"f\").terminate(); }\n    get box() { return __classPrivateFieldGet(this, _AudioClipBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _AudioClipBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _AudioClipBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _AudioClipBoxAdapter_box, \"f\").index; }\n    get duration() { return __classPrivateFieldGet(this, _AudioClipBoxAdapter_box, \"f\").duration.getValue(); }\n    get mute() { return __classPrivateFieldGet(this, _AudioClipBoxAdapter_box, \"f\").mute.getValue(); }\n    get hue() { return __classPrivateFieldGet(this, _AudioClipBoxAdapter_box, \"f\").hue.getValue(); }\n    get gain() { return __classPrivateFieldGet(this, _AudioClipBoxAdapter_box, \"f\").gain.getValue(); }\n    get file() { return __classPrivateFieldGet(this, _AudioClipBoxAdapter_fileAdapter, \"f\").unwrap(\"Cannot access file.\"); }\n    get hasCollection() { return !this.optCollection.isEmpty(); }\n    get optCollection() { return Option.None; }\n    get label() { return __classPrivateFieldGet(this, _AudioClipBoxAdapter_box, \"f\").label.getValue(); }\n    get trackBoxAdapter() {\n        if (__classPrivateFieldGet(this, _AudioClipBoxAdapter_isConstructing, \"f\")) {\n            return Option.None;\n        }\n        return __classPrivateFieldGet(this, _AudioClipBoxAdapter_box, \"f\").clips.targetVertex\n            .map(vertex => __classPrivateFieldGet(this, _AudioClipBoxAdapter_context, \"f\").boxAdapters.adapterFor(vertex.box, TrackBoxAdapter));\n    }\n    get isMirrowed() { return false; }\n    get canMirror() { return false; }\n    toString() { return `{AudioClipBoxAdapter ${UUID.toString(__classPrivateFieldGet(this, _AudioClipBoxAdapter_box, \"f\").address.uuid)} d: ${PPQN.toString(this.duration)}}`; }\n}\n_AudioClipBoxAdapter_terminator = new WeakMap(), _AudioClipBoxAdapter_context = new WeakMap(), _AudioClipBoxAdapter_box = new WeakMap(), _AudioClipBoxAdapter_selectedValue = new WeakMap(), _AudioClipBoxAdapter_changeNotifier = new WeakMap(), _AudioClipBoxAdapter_isConstructing = new WeakMap(), _AudioClipBoxAdapter_fileAdapter = new WeakMap(), _AudioClipBoxAdapter_fileSubscription = new WeakMap(), _AudioClipBoxAdapter_instances = new WeakSet(), _AudioClipBoxAdapter_dispatchChange = function _AudioClipBoxAdapter_dispatchChange() {\n    __classPrivateFieldGet(this, _AudioClipBoxAdapter_changeNotifier, \"f\").notify();\n    this.trackBoxAdapter.unwrapOrNull()?.clips?.dispatchChange();\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _NoteEventBoxAdapter_context, _NoteEventBoxAdapter_box, _NoteEventBoxAdapter_subscription, _NoteEventBoxAdapter_isSelected;\nimport { NoteEvent } from \"@naomiarotest/lib-dsp\";\nimport { Arrays, UUID } from \"@naomiarotest/lib-std\";\nimport { NoteEventBox } from \"@naomiarotest/studio-boxes\";\nimport { Propagation } from \"@naomiarotest/lib-box\";\nimport { NoteEventCollectionBoxAdapter } from \"../collection/NoteEventCollectionBoxAdapter\";\nexport class NoteEventBoxAdapter {\n    constructor(context, box) {\n        this.type = \"note-event\";\n        _NoteEventBoxAdapter_context.set(this, void 0);\n        _NoteEventBoxAdapter_box.set(this, void 0);\n        _NoteEventBoxAdapter_subscription.set(this, void 0);\n        _NoteEventBoxAdapter_isSelected.set(this, false);\n        __classPrivateFieldSet(this, _NoteEventBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _NoteEventBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _NoteEventBoxAdapter_subscription, __classPrivateFieldGet(this, _NoteEventBoxAdapter_box, \"f\").subscribe(Propagation.Children, (update) => {\n            if (this.collection.isEmpty()) {\n                return;\n            }\n            if (update.type === \"primitive\" || update.type === \"pointer\") {\n                const collection = this.collection.unwrap();\n                const updatedFieldKeys = update.address.fieldKeys;\n                const pitchChanged = Arrays.equals(__classPrivateFieldGet(this, _NoteEventBoxAdapter_box, \"f\").pitch.address.fieldKeys, updatedFieldKeys);\n                const positionChanged = Arrays.equals(__classPrivateFieldGet(this, _NoteEventBoxAdapter_box, \"f\").position.address.fieldKeys, updatedFieldKeys);\n                if (pitchChanged || positionChanged) {\n                    collection.requestSorting();\n                }\n                else {\n                    collection.onEventPropertyChanged();\n                }\n            }\n        }), \"f\");\n    }\n    onSelected() {\n        __classPrivateFieldSet(this, _NoteEventBoxAdapter_isSelected, true, \"f\");\n        this.collection.ifSome(region => region.onEventPropertyChanged());\n    }\n    onDeselected() {\n        __classPrivateFieldSet(this, _NoteEventBoxAdapter_isSelected, false, \"f\");\n        this.collection.ifSome(region => region.onEventPropertyChanged());\n    }\n    terminate() { __classPrivateFieldGet(this, _NoteEventBoxAdapter_subscription, \"f\").terminate(); }\n    get box() { return __classPrivateFieldGet(this, _NoteEventBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _NoteEventBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _NoteEventBoxAdapter_box, \"f\").address; }\n    get position() { return __classPrivateFieldGet(this, _NoteEventBoxAdapter_box, \"f\").position.getValue(); }\n    get duration() { return __classPrivateFieldGet(this, _NoteEventBoxAdapter_box, \"f\").duration.getValue(); }\n    get complete() { return this.position + this.duration; }\n    get velocity() { return __classPrivateFieldGet(this, _NoteEventBoxAdapter_box, \"f\").velocity.getValue(); } // 0.0...1.0\n    get pitch() { return __classPrivateFieldGet(this, _NoteEventBoxAdapter_box, \"f\").pitch.getValue(); } // 0...127\n    get cent() { return __classPrivateFieldGet(this, _NoteEventBoxAdapter_box, \"f\").cent.getValue(); } // -50.0...+50.0\n    get chance() { return __classPrivateFieldGet(this, _NoteEventBoxAdapter_box, \"f\").chance.getValue(); } // 0...100%\n    get playCount() { return __classPrivateFieldGet(this, _NoteEventBoxAdapter_box, \"f\").playCount.getValue(); } // 1...16\n    get playCurve() { return __classPrivateFieldGet(this, _NoteEventBoxAdapter_box, \"f\").playCurve.getValue(); } // -1...+1\n    get isSelected() { return __classPrivateFieldGet(this, _NoteEventBoxAdapter_isSelected, \"f\"); }\n    get collection() {\n        return __classPrivateFieldGet(this, _NoteEventBoxAdapter_box, \"f\").events.targetVertex\n            .map(vertex => __classPrivateFieldGet(this, _NoteEventBoxAdapter_context, \"f\").boxAdapters.adapterFor(vertex.box, NoteEventCollectionBoxAdapter));\n    }\n    normalizedPitch() {\n        if (this.collection.isEmpty()) {\n            return 0.5;\n        }\n        const { minPitch, maxPitch } = this.collection.unwrap();\n        return minPitch === maxPitch ? 0.5 : 1.0 - (this.pitch - minPitch) / (maxPitch - minPitch);\n    }\n    copyAsNoteEvent() {\n        return {\n            type: \"note-event\",\n            position: this.position,\n            duration: this.duration,\n            pitch: this.pitch,\n            cent: this.cent,\n            velocity: this.velocity\n        };\n    }\n    copyTo(options) {\n        return __classPrivateFieldGet(this, _NoteEventBoxAdapter_context, \"f\").boxAdapters.adapterFor(NoteEventBox.create(__classPrivateFieldGet(this, _NoteEventBoxAdapter_context, \"f\").boxGraph, UUID.generate(), box => {\n            box.position.setValue(options?.position ?? this.position);\n            box.duration.setValue(options?.duration ?? this.duration);\n            box.pitch.setValue(options?.pitch ?? this.pitch);\n            box.playCount.setValue(options?.playCount ?? this.playCount);\n            box.events.refer(options?.events ?? this.collection.unwrap().box.events);\n            box.velocity.setValue(this.velocity);\n            box.cent.setValue(this.cent);\n            box.chance.setValue(this.chance);\n        }), NoteEventBoxAdapter);\n    }\n    computeCurveValue(ratio) { return NoteEvent.curveFunc(ratio, this.playCurve); }\n    canConsolidate() { return this.playCount > 1; }\n    consolidate() {\n        const playCount = this.playCount;\n        const events = this.collection.unwrap().box.events;\n        const adapters = Arrays.create((index) => {\n            const a = Math.floor(this.computeCurveValue(index / playCount) * this.duration);\n            const b = Math.floor(this.computeCurveValue((index + 1) / playCount) * this.duration);\n            return this.copyTo({\n                position: Math.floor(this.position + a),\n                duration: Math.max(1, b - a),\n                playCount: 1,\n                events\n            });\n        }, playCount);\n        __classPrivateFieldGet(this, _NoteEventBoxAdapter_box, \"f\").delete();\n        return adapters;\n    }\n}\n_NoteEventBoxAdapter_context = new WeakMap(), _NoteEventBoxAdapter_box = new WeakMap(), _NoteEventBoxAdapter_subscription = new WeakMap(), _NoteEventBoxAdapter_isSelected = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _NoteEventCollectionBoxAdapter_instances, _NoteEventCollectionBoxAdapter_terminator, _NoteEventCollectionBoxAdapter_context, _NoteEventCollectionBoxAdapter_box, _NoteEventCollectionBoxAdapter_changeNotifier, _NoteEventCollectionBoxAdapter_adapters, _NoteEventCollectionBoxAdapter_events, _NoteEventCollectionBoxAdapter_minPitch, _NoteEventCollectionBoxAdapter_maxPitch, _NoteEventCollectionBoxAdapter_maxDuration, _NoteEventCollectionBoxAdapter_computedExtremas, _NoteEventCollectionBoxAdapter_onEventsChanged, _NoteEventCollectionBoxAdapter_computeExtremas;\nimport { NoteEventBox, NoteEventCollectionBox } from \"@naomiarotest/studio-boxes\";\nimport { asDefined, Intervals, Iterables, Notifier, Terminator, UUID } from \"@naomiarotest/lib-std\";\nimport { EventCollection, NoteEvent } from \"@naomiarotest/lib-dsp\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nimport { NoteEventBoxAdapter } from \"../event/NoteEventBoxAdapter\";\nexport class NoteEventCollectionBoxAdapter {\n    constructor(context, box) {\n        _NoteEventCollectionBoxAdapter_instances.add(this);\n        _NoteEventCollectionBoxAdapter_terminator.set(this, new Terminator());\n        _NoteEventCollectionBoxAdapter_context.set(this, void 0);\n        _NoteEventCollectionBoxAdapter_box.set(this, void 0);\n        _NoteEventCollectionBoxAdapter_changeNotifier.set(this, void 0);\n        _NoteEventCollectionBoxAdapter_adapters.set(this, void 0);\n        _NoteEventCollectionBoxAdapter_events.set(this, void 0);\n        _NoteEventCollectionBoxAdapter_minPitch.set(this, 60);\n        _NoteEventCollectionBoxAdapter_maxPitch.set(this, 60);\n        _NoteEventCollectionBoxAdapter_maxDuration.set(this, 0);\n        _NoteEventCollectionBoxAdapter_computedExtremas.set(this, false);\n        __classPrivateFieldSet(this, _NoteEventCollectionBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _NoteEventCollectionBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _NoteEventCollectionBoxAdapter_changeNotifier, new Notifier(), \"f\");\n        __classPrivateFieldSet(this, _NoteEventCollectionBoxAdapter_adapters, UUID.newSet(adapter => adapter.uuid), \"f\");\n        __classPrivateFieldSet(this, _NoteEventCollectionBoxAdapter_events, EventCollection.create(NoteEvent.Comparator), \"f\");\n        const addNoteProcedure = (box) => {\n            const adapter = asDefined(box.accept({\n                visitNoteEventBox: (box) => __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_context, \"f\").boxAdapters.adapterFor(box, NoteEventBoxAdapter)\n            }), `Could not find adapter for ${box}`);\n            if (__classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_adapters, \"f\").add(adapter)) {\n                __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_events, \"f\").add(adapter);\n                __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_instances, \"m\", _NoteEventCollectionBoxAdapter_onEventsChanged).call(this);\n            }\n        };\n        __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_box, \"f\").events.pointerHub.incoming().forEach(({ box }) => addNoteProcedure(box));\n        __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_terminator, \"f\").own(__classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_box, \"f\").events.pointerHub.subscribe({\n            onAdded: ({ box }) => addNoteProcedure(box),\n            onRemoved: ({ box: { address: { uuid } } }) => {\n                __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_events, \"f\").remove(__classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_adapters, \"f\").removeByKey(uuid));\n                __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_instances, \"m\", _NoteEventCollectionBoxAdapter_onEventsChanged).call(this);\n            }\n        }));\n        __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_terminator, \"f\").own(__classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_box, \"f\").owners.pointerHub.subscribe({\n            onAdded: () => __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_changeNotifier, \"f\").notify(this),\n            onRemoved: () => __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_changeNotifier, \"f\").notify(this)\n        }));\n    }\n    copy() {\n        const graph = __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_context, \"f\").boxGraph;\n        const boxCopy = NoteEventCollectionBox.create(graph, UUID.generate());\n        __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_events, \"f\").asArray().forEach(source => source.copyTo({ events: boxCopy.events }));\n        return __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_context, \"f\").boxAdapters.adapterFor(boxCopy, NoteEventCollectionBoxAdapter);\n    }\n    createEvent({ position, duration, velocity, pitch, chance, playCount, cent }) {\n        return __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_context, \"f\").boxAdapters.adapterFor(NoteEventBox.create(__classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_context, \"f\").boxGraph, UUID.generate(), box => {\n            box.position.setValue(position);\n            box.duration.setValue(duration);\n            box.velocity.setValue(velocity);\n            box.pitch.setValue(pitch);\n            box.chance.setValue(chance);\n            box.playCount.setValue(playCount);\n            box.cent.setValue(cent);\n            box.events.refer(__classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_box, \"f\").events);\n        }), NoteEventBoxAdapter);\n    }\n    subscribeChange(observer) { return __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_changeNotifier, \"f\").subscribe(observer); }\n    selectable() { return __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_events, \"f\").asArray(); }\n    selectableAt(coordinates) {\n        for (const element of __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_events, \"f\").asArray()) { // TODO Use optimized data structures\n            if (element.position <= coordinates.u && coordinates.u < element.complete && element.pitch === coordinates.v) {\n                return Iterables.one(element);\n            }\n        }\n        return Iterables.empty();\n    }\n    selectablesBetween(begin, end) {\n        const events = [];\n        for (const element of __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_events, \"f\").asArray()) { // TODO Use optimized data structures\n            if (Intervals.intersect1D(element.position, element.complete, begin.u, end.u)\n                && Intervals.intersect1D(element.pitch, element.pitch, begin.v, end.v)) {\n                events.push(element);\n            }\n        }\n        return events;\n    }\n    requestSorting() {\n        __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_events, \"f\").onIndexingChanged();\n        this.onEventPropertyChanged();\n    }\n    onEventPropertyChanged() { __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_instances, \"m\", _NoteEventCollectionBoxAdapter_onEventsChanged).call(this); }\n    terminate() { __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_terminator, \"f\").terminate(); }\n    get box() { return __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_box, \"f\").address; }\n    get numOwners() { return __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_box, \"f\").owners.pointerHub.filter(Pointers.NoteEventCollection).length; }\n    get events() {\n        if (!__classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_computedExtremas, \"f\")) {\n            __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_instances, \"m\", _NoteEventCollectionBoxAdapter_computeExtremas).call(this);\n        }\n        return __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_events, \"f\");\n    }\n    get minPitch() {\n        if (!__classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_computedExtremas, \"f\")) {\n            __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_instances, \"m\", _NoteEventCollectionBoxAdapter_computeExtremas).call(this);\n        }\n        return __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_minPitch, \"f\");\n    }\n    get maxPitch() {\n        if (!__classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_computedExtremas, \"f\")) {\n            __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_instances, \"m\", _NoteEventCollectionBoxAdapter_computeExtremas).call(this);\n        }\n        return __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_maxPitch, \"f\");\n    }\n    get maxDuration() {\n        if (!__classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_computedExtremas, \"f\")) {\n            __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_instances, \"m\", _NoteEventCollectionBoxAdapter_computeExtremas).call(this);\n        }\n        return __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_maxDuration, \"f\");\n    }\n    toString() { return `{NoteEventCollectionBox ${UUID.toString(__classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_box, \"f\").address.uuid)}}`; }\n}\n_NoteEventCollectionBoxAdapter_terminator = new WeakMap(), _NoteEventCollectionBoxAdapter_context = new WeakMap(), _NoteEventCollectionBoxAdapter_box = new WeakMap(), _NoteEventCollectionBoxAdapter_changeNotifier = new WeakMap(), _NoteEventCollectionBoxAdapter_adapters = new WeakMap(), _NoteEventCollectionBoxAdapter_events = new WeakMap(), _NoteEventCollectionBoxAdapter_minPitch = new WeakMap(), _NoteEventCollectionBoxAdapter_maxPitch = new WeakMap(), _NoteEventCollectionBoxAdapter_maxDuration = new WeakMap(), _NoteEventCollectionBoxAdapter_computedExtremas = new WeakMap(), _NoteEventCollectionBoxAdapter_instances = new WeakSet(), _NoteEventCollectionBoxAdapter_onEventsChanged = function _NoteEventCollectionBoxAdapter_onEventsChanged() {\n    __classPrivateFieldSet(this, _NoteEventCollectionBoxAdapter_computedExtremas, false, \"f\");\n    __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_changeNotifier, \"f\").notify(this);\n}, _NoteEventCollectionBoxAdapter_computeExtremas = function _NoteEventCollectionBoxAdapter_computeExtremas() {\n    let min = 127 | 0;\n    let max = 0 | 0;\n    let maxDuration = 0;\n    __classPrivateFieldGet(this, _NoteEventCollectionBoxAdapter_events, \"f\").asArray().forEach(({ pitch, duration }) => {\n        min = Math.min(min, pitch);\n        max = Math.max(max, pitch);\n        maxDuration = Math.max(maxDuration, duration);\n    });\n    __classPrivateFieldSet(this, _NoteEventCollectionBoxAdapter_minPitch, min, \"f\");\n    __classPrivateFieldSet(this, _NoteEventCollectionBoxAdapter_maxPitch, max, \"f\");\n    __classPrivateFieldSet(this, _NoteEventCollectionBoxAdapter_maxDuration, maxDuration, \"f\");\n    __classPrivateFieldSet(this, _NoteEventCollectionBoxAdapter_computedExtremas, true, \"f\");\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _NoteClipBoxAdapter_instances, _NoteClipBoxAdapter_terminator, _NoteClipBoxAdapter_context, _NoteClipBoxAdapter_box, _NoteClipBoxAdapter_selectedValue, _NoteClipBoxAdapter_changeNotifier, _NoteClipBoxAdapter_isConstructing, _NoteClipBoxAdapter_eventCollectionSubscription, _NoteClipBoxAdapter_dispatchChange;\nimport { DefaultObservableValue, Notifier, Option, safeExecute, Terminable, Terminator, UUID } from \"@naomiarotest/lib-std\";\nimport { PPQN } from \"@naomiarotest/lib-dsp\";\nimport { Propagation } from \"@naomiarotest/lib-box\";\nimport { NoteClipBox } from \"@naomiarotest/studio-boxes\";\nimport { NoteEventCollectionBoxAdapter } from \"../collection/NoteEventCollectionBoxAdapter\";\nimport { TrackBoxAdapter } from \"../TrackBoxAdapter\";\nexport class NoteClipBoxAdapter {\n    constructor(context, box) {\n        _NoteClipBoxAdapter_instances.add(this);\n        this.type = \"note-clip\";\n        _NoteClipBoxAdapter_terminator.set(this, new Terminator());\n        _NoteClipBoxAdapter_context.set(this, void 0);\n        _NoteClipBoxAdapter_box.set(this, void 0);\n        _NoteClipBoxAdapter_selectedValue.set(this, void 0);\n        _NoteClipBoxAdapter_changeNotifier.set(this, void 0);\n        _NoteClipBoxAdapter_isConstructing.set(this, void 0); // Prevents stack overflow due to infinite adapter queries\n        _NoteClipBoxAdapter_eventCollectionSubscription.set(this, Terminable.Empty);\n        __classPrivateFieldSet(this, _NoteClipBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _NoteClipBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _NoteClipBoxAdapter_isConstructing, true, \"f\");\n        __classPrivateFieldSet(this, _NoteClipBoxAdapter_selectedValue, __classPrivateFieldGet(this, _NoteClipBoxAdapter_terminator, \"f\").own(new DefaultObservableValue(false)), \"f\");\n        __classPrivateFieldSet(this, _NoteClipBoxAdapter_changeNotifier, __classPrivateFieldGet(this, _NoteClipBoxAdapter_terminator, \"f\").own(new Notifier()), \"f\");\n        __classPrivateFieldGet(this, _NoteClipBoxAdapter_terminator, \"f\").ownAll(__classPrivateFieldGet(this, _NoteClipBoxAdapter_box, \"f\").pointerHub.subscribe({\n            onAdded: () => __classPrivateFieldGet(this, _NoteClipBoxAdapter_instances, \"m\", _NoteClipBoxAdapter_dispatchChange).call(this),\n            onRemoved: () => __classPrivateFieldGet(this, _NoteClipBoxAdapter_instances, \"m\", _NoteClipBoxAdapter_dispatchChange).call(this)\n        }), __classPrivateFieldGet(this, _NoteClipBoxAdapter_box, \"f\").subscribe(Propagation.Children, (_update) => __classPrivateFieldGet(this, _NoteClipBoxAdapter_instances, \"m\", _NoteClipBoxAdapter_dispatchChange).call(this)), __classPrivateFieldGet(this, _NoteClipBoxAdapter_box, \"f\").events.catchupAndSubscribe(({ targetVertex }) => {\n            __classPrivateFieldGet(this, _NoteClipBoxAdapter_eventCollectionSubscription, \"f\").terminate();\n            __classPrivateFieldSet(this, _NoteClipBoxAdapter_eventCollectionSubscription, targetVertex.match({\n                none: () => Terminable.Empty,\n                some: ({ box }) => __classPrivateFieldGet(this, _NoteClipBoxAdapter_context, \"f\").boxAdapters\n                    .adapterFor(box, NoteEventCollectionBoxAdapter)\n                    .subscribeChange(() => __classPrivateFieldGet(this, _NoteClipBoxAdapter_instances, \"m\", _NoteClipBoxAdapter_dispatchChange).call(this))\n            }), \"f\");\n            __classPrivateFieldGet(this, _NoteClipBoxAdapter_instances, \"m\", _NoteClipBoxAdapter_dispatchChange).call(this);\n        }));\n        __classPrivateFieldSet(this, _NoteClipBoxAdapter_isConstructing, false, \"f\");\n    }\n    catchupAndSubscribeSelected(observer) {\n        return __classPrivateFieldGet(this, _NoteClipBoxAdapter_selectedValue, \"f\").catchupAndSubscribe(observer);\n    }\n    subscribeChange(observer) { return __classPrivateFieldGet(this, _NoteClipBoxAdapter_changeNotifier, \"f\").subscribe(observer); }\n    accept(visitor) { return safeExecute(visitor.visitNoteClipBoxAdapter, this); }\n    consolidate() {\n        if (this.isMirrowed) {\n            __classPrivateFieldGet(this, _NoteClipBoxAdapter_box, \"f\").events.refer(this.optCollection.unwrap().copy().box.owners);\n        }\n    }\n    clone(consolidate) {\n        const events = consolidate ? this.optCollection.unwrap().copy().box.owners : __classPrivateFieldGet(this, _NoteClipBoxAdapter_box, \"f\").events.targetVertex.unwrap();\n        NoteClipBox.create(__classPrivateFieldGet(this, _NoteClipBoxAdapter_context, \"f\").boxGraph, UUID.generate(), box => {\n            box.index.setValue(this.indexField.getValue());\n            box.label.setValue(this.label);\n            box.hue.setValue(this.hue);\n            box.duration.setValue(this.duration);\n            box.mute.setValue(this.mute);\n            box.clips.refer(__classPrivateFieldGet(this, _NoteClipBoxAdapter_box, \"f\").clips.targetVertex.unwrap());\n            box.events.refer(events);\n        });\n    }\n    onSelected() { __classPrivateFieldGet(this, _NoteClipBoxAdapter_selectedValue, \"f\").setValue(true); }\n    onDeselected() { __classPrivateFieldGet(this, _NoteClipBoxAdapter_selectedValue, \"f\").setValue(false); }\n    get isSelected() { return __classPrivateFieldGet(this, _NoteClipBoxAdapter_selectedValue, \"f\").getValue(); }\n    terminate() {\n        __classPrivateFieldGet(this, _NoteClipBoxAdapter_eventCollectionSubscription, \"f\").terminate();\n        __classPrivateFieldGet(this, _NoteClipBoxAdapter_terminator, \"f\").terminate();\n    }\n    get box() { return __classPrivateFieldGet(this, _NoteClipBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _NoteClipBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _NoteClipBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _NoteClipBoxAdapter_box, \"f\").index; }\n    get duration() { return __classPrivateFieldGet(this, _NoteClipBoxAdapter_box, \"f\").duration.getValue(); }\n    get mute() { return __classPrivateFieldGet(this, _NoteClipBoxAdapter_box, \"f\").mute.getValue(); }\n    get hue() { return __classPrivateFieldGet(this, _NoteClipBoxAdapter_box, \"f\").hue.getValue(); }\n    get events() {\n        return this.optCollection.map(collection => collection.events);\n    }\n    get hasCollection() { return !this.optCollection.isEmpty(); }\n    get optCollection() {\n        return __classPrivateFieldGet(this, _NoteClipBoxAdapter_box, \"f\").events.targetVertex\n            .map(vertex => __classPrivateFieldGet(this, _NoteClipBoxAdapter_context, \"f\").boxAdapters.adapterFor(vertex.box, NoteEventCollectionBoxAdapter));\n    }\n    get label() { return __classPrivateFieldGet(this, _NoteClipBoxAdapter_box, \"f\").label.getValue(); }\n    get trackBoxAdapter() {\n        if (__classPrivateFieldGet(this, _NoteClipBoxAdapter_isConstructing, \"f\")) {\n            return Option.None;\n        }\n        return __classPrivateFieldGet(this, _NoteClipBoxAdapter_box, \"f\").clips.targetVertex\n            .map(vertex => __classPrivateFieldGet(this, _NoteClipBoxAdapter_context, \"f\").boxAdapters.adapterFor(vertex.box, TrackBoxAdapter));\n    }\n    get isMirrowed() { return this.optCollection.mapOr(adapter => adapter.numOwners > 1, false); }\n    get canMirror() { return true; }\n    toString() { return `{NoteClipBoxAdapter ${UUID.toString(__classPrivateFieldGet(this, _NoteClipBoxAdapter_box, \"f\").address.uuid)} d: ${PPQN.toString(this.duration)}}`; }\n}\n_NoteClipBoxAdapter_terminator = new WeakMap(), _NoteClipBoxAdapter_context = new WeakMap(), _NoteClipBoxAdapter_box = new WeakMap(), _NoteClipBoxAdapter_selectedValue = new WeakMap(), _NoteClipBoxAdapter_changeNotifier = new WeakMap(), _NoteClipBoxAdapter_isConstructing = new WeakMap(), _NoteClipBoxAdapter_eventCollectionSubscription = new WeakMap(), _NoteClipBoxAdapter_instances = new WeakSet(), _NoteClipBoxAdapter_dispatchChange = function _NoteClipBoxAdapter_dispatchChange() {\n    __classPrivateFieldGet(this, _NoteClipBoxAdapter_changeNotifier, \"f\").notify();\n    this.trackBoxAdapter.unwrapOrNull()?.clips?.dispatchChange();\n};\n", "import { asDefined } from \"@naomiarotest/lib-std\";\nimport { ValueClipBoxAdapter } from \"./clip/ValueClipBoxAdapter\";\nimport { AudioClipBoxAdapter } from \"./clip/AudioClipBoxAdapter\";\nimport { NoteClipBoxAdapter } from \"./clip/NoteClipBoxAdapter\";\nexport const ClipAdapters = {\n    for: (boxAdapters, box) => asDefined(box.accept({\n        visitNoteClipBox: (box) => boxAdapters.adapterFor(box, NoteClipBoxAdapter),\n        visitValueClipBox: (box) => boxAdapters.adapterFor(box, ValueClipBoxAdapter),\n        visitAudioClipBox: (box) => boxAdapters.adapterFor(box, AudioClipBoxAdapter)\n    }), \"\")\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _TrackClips_trackBoxAdapter, _TrackClips_terminator, _TrackClips_changeNotifier, _TrackClips_collection;\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nimport { Notifier, Terminator } from \"@naomiarotest/lib-std\";\nimport { IndexedBoxAdapterCollection } from \"../IndexedBoxAdapterCollection\";\nimport { ClipAdapters } from \"./ClipBoxAdapter\";\nexport class TrackClips {\n    constructor(adapter, boxAdapters) {\n        _TrackClips_trackBoxAdapter.set(this, void 0);\n        _TrackClips_terminator.set(this, void 0);\n        _TrackClips_changeNotifier.set(this, void 0);\n        _TrackClips_collection.set(this, void 0);\n        __classPrivateFieldSet(this, _TrackClips_trackBoxAdapter, adapter, \"f\");\n        __classPrivateFieldSet(this, _TrackClips_terminator, new Terminator(), \"f\");\n        __classPrivateFieldSet(this, _TrackClips_changeNotifier, __classPrivateFieldGet(this, _TrackClips_terminator, \"f\").own(new Notifier()), \"f\");\n        __classPrivateFieldSet(this, _TrackClips_collection, __classPrivateFieldGet(this, _TrackClips_terminator, \"f\").own(IndexedBoxAdapterCollection.create(adapter.box.clips, box => ClipAdapters.for(boxAdapters, box), Pointers.ClipCollection)), \"f\");\n        __classPrivateFieldGet(this, _TrackClips_collection, \"f\").subscribe({\n            onAdd: () => this.dispatchChange(),\n            onRemove: () => this.dispatchChange(),\n            onReorder: () => this.dispatchChange()\n        });\n    }\n    get trackBoxAdapter() { return __classPrivateFieldGet(this, _TrackClips_trackBoxAdapter, \"f\"); }\n    get collection() { return __classPrivateFieldGet(this, _TrackClips_collection, \"f\"); }\n    dispatchChange() { __classPrivateFieldGet(this, _TrackClips_changeNotifier, \"f\").notify(); }\n    subscribeChanges(observer) { return __classPrivateFieldGet(this, _TrackClips_changeNotifier, \"f\").subscribe(observer); }\n    terminate() { __classPrivateFieldGet(this, _TrackClips_terminator, \"f\").terminate(); }\n}\n_TrackClips_trackBoxAdapter = new WeakMap(), _TrackClips_terminator = new WeakMap(), _TrackClips_changeNotifier = new WeakMap(), _TrackClips_collection = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AudioRegionBoxAdapter_instances, _AudioRegionBoxAdapter_terminator, _AudioRegionBoxAdapter_context, _AudioRegionBoxAdapter_box, _AudioRegionBoxAdapter_durationConverter, _AudioRegionBoxAdapter_loopOffsetConverter, _AudioRegionBoxAdapter_loopDurationConverter, _AudioRegionBoxAdapter_changeNotifier, _AudioRegionBoxAdapter_fileAdapter, _AudioRegionBoxAdapter_fileSubscription, _AudioRegionBoxAdapter_tempoSubscription, _AudioRegionBoxAdapter_eventCollectionSubscription, _AudioRegionBoxAdapter_isSelected, _AudioRegionBoxAdapter_constructing, _AudioRegionBoxAdapter_dispatchChange;\nimport { asEnumValue, Notifier, Option, safeExecute, Terminable, Terminator, UUID } from \"@naomiarotest/lib-std\";\nimport { TimeBase, TimeBaseConverter } from \"@naomiarotest/lib-dsp\";\nimport { Propagation } from \"@naomiarotest/lib-box\";\nimport { AudioPlayback } from \"@naomiarotest/studio-enums\";\nimport { AudioRegionBox } from \"@naomiarotest/studio-boxes\";\nimport { TrackBoxAdapter } from \"../TrackBoxAdapter\";\nimport { AudioFileBoxAdapter } from \"../../audio/AudioFileBoxAdapter\";\nimport { ValueEventCollectionBoxAdapter } from \"../collection/ValueEventCollectionBoxAdapter\";\nexport class AudioRegionBoxAdapter {\n    constructor(context, box) {\n        _AudioRegionBoxAdapter_instances.add(this);\n        this.type = \"audio-region\";\n        _AudioRegionBoxAdapter_terminator.set(this, void 0);\n        _AudioRegionBoxAdapter_context.set(this, void 0);\n        _AudioRegionBoxAdapter_box.set(this, void 0);\n        _AudioRegionBoxAdapter_durationConverter.set(this, void 0);\n        _AudioRegionBoxAdapter_loopOffsetConverter.set(this, void 0);\n        _AudioRegionBoxAdapter_loopDurationConverter.set(this, void 0);\n        _AudioRegionBoxAdapter_changeNotifier.set(this, void 0);\n        _AudioRegionBoxAdapter_fileAdapter.set(this, Option.None);\n        _AudioRegionBoxAdapter_fileSubscription.set(this, Terminable.Empty);\n        _AudioRegionBoxAdapter_tempoSubscription.set(this, Terminable.Empty);\n        _AudioRegionBoxAdapter_eventCollectionSubscription.set(this, Terminable.Empty);\n        _AudioRegionBoxAdapter_isSelected.set(this, void 0);\n        _AudioRegionBoxAdapter_constructing.set(this, void 0);\n        __classPrivateFieldSet(this, _AudioRegionBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _AudioRegionBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _AudioRegionBoxAdapter_terminator, new Terminator(), \"f\");\n        const { timeBase, position, duration, loopOffset, loopDuration } = box;\n        __classPrivateFieldSet(this, _AudioRegionBoxAdapter_durationConverter, TimeBaseConverter.aware(context.tempoMap, timeBase, position, duration), \"f\");\n        __classPrivateFieldSet(this, _AudioRegionBoxAdapter_loopOffsetConverter, TimeBaseConverter.aware(context.tempoMap, timeBase, position, loopOffset), \"f\");\n        __classPrivateFieldSet(this, _AudioRegionBoxAdapter_loopDurationConverter, TimeBaseConverter.aware(context.tempoMap, timeBase, position, loopDuration), \"f\");\n        __classPrivateFieldSet(this, _AudioRegionBoxAdapter_changeNotifier, new Notifier(), \"f\");\n        __classPrivateFieldSet(this, _AudioRegionBoxAdapter_isSelected, false, \"f\");\n        __classPrivateFieldSet(this, _AudioRegionBoxAdapter_constructing, true, \"f\");\n        __classPrivateFieldGet(this, _AudioRegionBoxAdapter_terminator, \"f\").ownAll(__classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").pointerHub.subscribe({\n            onAdded: () => __classPrivateFieldGet(this, _AudioRegionBoxAdapter_instances, \"m\", _AudioRegionBoxAdapter_dispatchChange).call(this),\n            onRemoved: () => __classPrivateFieldGet(this, _AudioRegionBoxAdapter_instances, \"m\", _AudioRegionBoxAdapter_dispatchChange).call(this)\n        }), __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").file.catchupAndSubscribe((pointerField) => {\n            __classPrivateFieldSet(this, _AudioRegionBoxAdapter_fileAdapter, pointerField.targetVertex.map(vertex => __classPrivateFieldGet(this, _AudioRegionBoxAdapter_context, \"f\").boxAdapters.adapterFor(vertex.box, AudioFileBoxAdapter)), \"f\");\n            __classPrivateFieldGet(this, _AudioRegionBoxAdapter_fileSubscription, \"f\").terminate();\n            __classPrivateFieldSet(this, _AudioRegionBoxAdapter_fileSubscription, __classPrivateFieldGet(this, _AudioRegionBoxAdapter_fileAdapter, \"f\").mapOr(adapter => adapter.getOrCreateLoader().subscribe(() => __classPrivateFieldGet(this, _AudioRegionBoxAdapter_instances, \"m\", _AudioRegionBoxAdapter_dispatchChange).call(this)), Terminable.Empty), \"f\");\n        }), __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").timeBase.catchupAndSubscribe(owner => {\n            __classPrivateFieldGet(this, _AudioRegionBoxAdapter_tempoSubscription, \"f\").terminate();\n            if (asEnumValue(owner.getValue(), TimeBase) === TimeBase.Seconds) {\n                __classPrivateFieldSet(this, _AudioRegionBoxAdapter_tempoSubscription, context.tempoMap.subscribe(() => __classPrivateFieldGet(this, _AudioRegionBoxAdapter_instances, \"m\", _AudioRegionBoxAdapter_dispatchChange).call(this)), \"f\");\n            }\n        }), __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").subscribe(Propagation.Children, (update) => {\n            if (this.trackBoxAdapter.isEmpty()) {\n                return;\n            }\n            if (update.type === \"primitive\" || update.type === \"pointer\") {\n                const track = this.trackBoxAdapter.unwrap();\n                if (__classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").position.address.equals(update.address)) {\n                    track.regions.onIndexingChanged();\n                    __classPrivateFieldGet(this, _AudioRegionBoxAdapter_instances, \"m\", _AudioRegionBoxAdapter_dispatchChange).call(this);\n                }\n                else {\n                    __classPrivateFieldGet(this, _AudioRegionBoxAdapter_instances, \"m\", _AudioRegionBoxAdapter_dispatchChange).call(this);\n                }\n            }\n        }), __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").events.catchupAndSubscribe(({ targetVertex }) => {\n            __classPrivateFieldGet(this, _AudioRegionBoxAdapter_eventCollectionSubscription, \"f\").terminate();\n            __classPrivateFieldSet(this, _AudioRegionBoxAdapter_eventCollectionSubscription, targetVertex.match({\n                none: () => Terminable.Empty,\n                some: ({ box }) => __classPrivateFieldGet(this, _AudioRegionBoxAdapter_context, \"f\").boxAdapters\n                    .adapterFor(box, ValueEventCollectionBoxAdapter)\n                    .subscribeChange(() => __classPrivateFieldGet(this, _AudioRegionBoxAdapter_instances, \"m\", _AudioRegionBoxAdapter_dispatchChange).call(this))\n            }), \"f\");\n            __classPrivateFieldGet(this, _AudioRegionBoxAdapter_instances, \"m\", _AudioRegionBoxAdapter_dispatchChange).call(this);\n        }), {\n            terminate: () => {\n                __classPrivateFieldGet(this, _AudioRegionBoxAdapter_fileSubscription, \"f\").terminate();\n                __classPrivateFieldSet(this, _AudioRegionBoxAdapter_fileSubscription, Terminable.Empty, \"f\");\n                __classPrivateFieldGet(this, _AudioRegionBoxAdapter_tempoSubscription, \"f\").terminate();\n                __classPrivateFieldSet(this, _AudioRegionBoxAdapter_tempoSubscription, Terminable.Empty, \"f\");\n            }\n        });\n        __classPrivateFieldSet(this, _AudioRegionBoxAdapter_constructing, false, \"f\");\n    }\n    subscribeChange(observer) { return __classPrivateFieldGet(this, _AudioRegionBoxAdapter_changeNotifier, \"f\").subscribe(observer); }\n    accept(visitor) {\n        return safeExecute(visitor.visitAudioRegionBoxAdapter, this);\n    }\n    onSelected() {\n        __classPrivateFieldSet(this, _AudioRegionBoxAdapter_isSelected, true, \"f\");\n        __classPrivateFieldGet(this, _AudioRegionBoxAdapter_instances, \"m\", _AudioRegionBoxAdapter_dispatchChange).call(this);\n    }\n    onDeselected() {\n        __classPrivateFieldSet(this, _AudioRegionBoxAdapter_isSelected, false, \"f\");\n        __classPrivateFieldGet(this, _AudioRegionBoxAdapter_instances, \"m\", _AudioRegionBoxAdapter_dispatchChange).call(this);\n    }\n    get isSelected() { return __classPrivateFieldGet(this, _AudioRegionBoxAdapter_isSelected, \"f\"); }\n    get box() { return __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").address; }\n    get position() { return __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").position.getValue(); }\n    get duration() { return __classPrivateFieldGet(this, _AudioRegionBoxAdapter_durationConverter, \"f\").toPPQN(); }\n    get complete() { return this.position + this.duration; }\n    get loopOffset() { return __classPrivateFieldGet(this, _AudioRegionBoxAdapter_loopOffsetConverter, \"f\").toPPQN(); }\n    get loopDuration() { return __classPrivateFieldGet(this, _AudioRegionBoxAdapter_loopDurationConverter, \"f\").toPPQN(); }\n    get offset() { return this.position - this.loopOffset; }\n    get mute() { return __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").mute.getValue(); }\n    get hue() { return __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").hue.getValue(); }\n    get gain() { return __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").gain.getValue(); }\n    get file() { return __classPrivateFieldGet(this, _AudioRegionBoxAdapter_fileAdapter, \"f\").unwrap(\"Cannot access file.\"); }\n    get timeBase() { return asEnumValue(__classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").timeBase.getValue(), TimeBase); }\n    get label() {\n        if (__classPrivateFieldGet(this, _AudioRegionBoxAdapter_fileAdapter, \"f\").isEmpty()) {\n            return \"No Audio File\";\n        }\n        const state = __classPrivateFieldGet(this, _AudioRegionBoxAdapter_fileAdapter, \"f\").unwrap().getOrCreateLoader().state;\n        if (state.type === \"progress\") {\n            return `${Math.round(state.progress * 100)}%`;\n        }\n        if (state.type === \"error\") {\n            return String(state.reason);\n        }\n        return __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").label.getValue();\n    }\n    get isMirrowed() { return this.optCollection.mapOr(adapter => adapter.numOwners > 1, false); }\n    get canMirror() { return true; }\n    get trackBoxAdapter() {\n        return __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").regions.targetVertex\n            .map(vertex => __classPrivateFieldGet(this, _AudioRegionBoxAdapter_context, \"f\").boxAdapters.adapterFor(vertex.box, TrackBoxAdapter));\n    }\n    get hasCollection() { return this.optCollection.nonEmpty(); }\n    get optCollection() {\n        return __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").events.targetVertex\n            .map(vertex => __classPrivateFieldGet(this, _AudioRegionBoxAdapter_context, \"f\").boxAdapters.adapterFor(vertex.box, ValueEventCollectionBoxAdapter));\n    }\n    set position(value) { __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").position.setValue(value); }\n    set duration(value) { __classPrivateFieldGet(this, _AudioRegionBoxAdapter_durationConverter, \"f\").fromPPQN(value); }\n    set loopOffset(value) { __classPrivateFieldGet(this, _AudioRegionBoxAdapter_loopOffsetConverter, \"f\").fromPPQN(value); }\n    set loopDuration(value) { __classPrivateFieldGet(this, _AudioRegionBoxAdapter_loopDurationConverter, \"f\").fromPPQN(value); }\n    get playback() { return asEnumValue(__classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").playback.getValue(), AudioPlayback); }\n    setPlayback(value, keepCurrentStretch = false) {\n        const wasMusical = this.timeBase === TimeBase.Musical;\n        __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").playback.setValue(value);\n        if (value === AudioPlayback.NoSync) {\n            if (wasMusical) {\n                if (keepCurrentStretch) {\n                    const duration = __classPrivateFieldGet(this, _AudioRegionBoxAdapter_durationConverter, \"f\").toSeconds();\n                    const loopDuration = __classPrivateFieldGet(this, _AudioRegionBoxAdapter_loopDurationConverter, \"f\").toSeconds();\n                    const loopOffset = __classPrivateFieldGet(this, _AudioRegionBoxAdapter_loopOffsetConverter, \"f\").toSeconds();\n                    __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").timeBase.setValue(TimeBase.Seconds);\n                    __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").duration.setValue(duration);\n                    __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").loopDuration.setValue(loopDuration);\n                    __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").loopOffset.setValue(loopOffset);\n                }\n                else {\n                    // Reset to 100% playback speed (original file speed)\n                    const fileDuration = this.file.endInSeconds - this.file.startInSeconds;\n                    const currentLoopDurationSeconds = __classPrivateFieldGet(this, _AudioRegionBoxAdapter_loopDurationConverter, \"f\").toSeconds();\n                    const scale = fileDuration / currentLoopDurationSeconds;\n                    const currentDurationSeconds = __classPrivateFieldGet(this, _AudioRegionBoxAdapter_durationConverter, \"f\").toSeconds();\n                    const currentLoopOffsetSeconds = __classPrivateFieldGet(this, _AudioRegionBoxAdapter_loopOffsetConverter, \"f\").toSeconds();\n                    __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").timeBase.setValue(TimeBase.Seconds);\n                    __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").duration.setValue(currentDurationSeconds * scale);\n                    __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").loopDuration.setValue(fileDuration);\n                    __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").loopOffset.setValue(currentLoopOffsetSeconds * scale);\n                }\n            }\n        }\n        else {\n            // Switching TO musical (Pitch/Timestretch/AudioFit)\n            if (!wasMusical) {\n                const duration = __classPrivateFieldGet(this, _AudioRegionBoxAdapter_durationConverter, \"f\").toPPQN();\n                const loopDuration = __classPrivateFieldGet(this, _AudioRegionBoxAdapter_loopDurationConverter, \"f\").toPPQN();\n                const loopOffset = __classPrivateFieldGet(this, _AudioRegionBoxAdapter_loopOffsetConverter, \"f\").toPPQN();\n                __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").timeBase.setValue(TimeBase.Musical);\n                __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").duration.setValue(duration);\n                __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").loopOffset.setValue(loopOffset);\n                __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").loopDuration.setValue(loopDuration);\n            }\n        }\n    }\n    copyTo(params) {\n        const eventCollection = this.optCollection.unwrap(\"Cannot make copy without event-collection\");\n        const eventTarget = params?.consolidate === true\n            ? eventCollection.copy().box.owners\n            : eventCollection.box.owners;\n        return __classPrivateFieldGet(this, _AudioRegionBoxAdapter_context, \"f\").boxAdapters.adapterFor(AudioRegionBox.create(__classPrivateFieldGet(this, _AudioRegionBoxAdapter_context, \"f\").boxGraph, UUID.generate(), box => {\n            box.timeBase.setValue(__classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").timeBase.getValue());\n            box.position.setValue(params?.position ?? __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").position.getValue());\n            // TODO Respect time-base.\n            box.duration.setValue(params?.duration ?? __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").duration.getValue());\n            box.loopOffset.setValue(params?.loopOffset ?? __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").loopOffset.getValue());\n            box.loopDuration.setValue(params?.loopDuration ?? __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").loopDuration.getValue());\n            box.regions.refer(params?.track ?? __classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").regions.targetVertex.unwrap());\n            box.file.refer(__classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").file.targetVertex.unwrap());\n            box.events.refer(eventTarget);\n            box.mute.setValue(this.mute);\n            box.hue.setValue(this.hue);\n            box.label.setValue(this.label);\n            box.gain.setValue(this.gain);\n        }), AudioRegionBoxAdapter);\n    }\n    consolidate() {\n        // TODO This needs to done by creating a new audio file\n    }\n    canFlatten(_regions) { return false; }\n    flatten(_regions) {\n        // TODO This needs to done by creating a new audio file\n        return Option.None;\n    }\n    terminate() {\n        __classPrivateFieldGet(this, _AudioRegionBoxAdapter_eventCollectionSubscription, \"f\").terminate();\n        __classPrivateFieldGet(this, _AudioRegionBoxAdapter_terminator, \"f\").terminate();\n    }\n    toString() { return `{AudioRegionBoxAdapter ${UUID.toString(__classPrivateFieldGet(this, _AudioRegionBoxAdapter_box, \"f\").address.uuid)}}`; }\n}\n_AudioRegionBoxAdapter_terminator = new WeakMap(), _AudioRegionBoxAdapter_context = new WeakMap(), _AudioRegionBoxAdapter_box = new WeakMap(), _AudioRegionBoxAdapter_durationConverter = new WeakMap(), _AudioRegionBoxAdapter_loopOffsetConverter = new WeakMap(), _AudioRegionBoxAdapter_loopDurationConverter = new WeakMap(), _AudioRegionBoxAdapter_changeNotifier = new WeakMap(), _AudioRegionBoxAdapter_fileAdapter = new WeakMap(), _AudioRegionBoxAdapter_fileSubscription = new WeakMap(), _AudioRegionBoxAdapter_tempoSubscription = new WeakMap(), _AudioRegionBoxAdapter_eventCollectionSubscription = new WeakMap(), _AudioRegionBoxAdapter_isSelected = new WeakMap(), _AudioRegionBoxAdapter_constructing = new WeakMap(), _AudioRegionBoxAdapter_instances = new WeakSet(), _AudioRegionBoxAdapter_dispatchChange = function _AudioRegionBoxAdapter_dispatchChange() {\n    if (__classPrivateFieldGet(this, _AudioRegionBoxAdapter_constructing, \"f\")) {\n        return;\n    }\n    __classPrivateFieldGet(this, _AudioRegionBoxAdapter_changeNotifier, \"f\").notify();\n    this.trackBoxAdapter.unwrapOrNull()?.regions?.dispatchChange();\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _NoteRegionBoxAdapter_instances, _NoteRegionBoxAdapter_terminator, _NoteRegionBoxAdapter_context, _NoteRegionBoxAdapter_box, _NoteRegionBoxAdapter_changeNotifier, _NoteRegionBoxAdapter_isConstructing, _NoteRegionBoxAdapter_isSelected, _NoteRegionBoxAdapter_eventCollectionSubscription, _NoteRegionBoxAdapter_dispatchChange;\nimport { LoopableRegion, PPQN, RegionCollection } from \"@naomiarotest/lib-dsp\";\nimport { Arrays, Notifier, Option, safeExecute, Terminable, Terminator, UUID } from \"@naomiarotest/lib-std\";\nimport { Propagation } from \"@naomiarotest/lib-box\";\nimport { NoteEventCollectionBox, NoteRegionBox } from \"@naomiarotest/studio-boxes\";\nimport { TrackBoxAdapter } from \"../TrackBoxAdapter\";\nimport { NoteEventCollectionBoxAdapter } from \"../collection/NoteEventCollectionBoxAdapter\";\nexport class NoteRegionBoxAdapter {\n    constructor(context, box) {\n        _NoteRegionBoxAdapter_instances.add(this);\n        this.type = \"note-region\";\n        _NoteRegionBoxAdapter_terminator.set(this, new Terminator());\n        _NoteRegionBoxAdapter_context.set(this, void 0);\n        _NoteRegionBoxAdapter_box.set(this, void 0);\n        _NoteRegionBoxAdapter_changeNotifier.set(this, void 0);\n        _NoteRegionBoxAdapter_isConstructing.set(this, void 0); // Prevents stack overflow due to infinite adapter queries\n        _NoteRegionBoxAdapter_isSelected.set(this, void 0);\n        _NoteRegionBoxAdapter_eventCollectionSubscription.set(this, Terminable.Empty);\n        __classPrivateFieldSet(this, _NoteRegionBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _NoteRegionBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _NoteRegionBoxAdapter_changeNotifier, new Notifier(), \"f\");\n        __classPrivateFieldSet(this, _NoteRegionBoxAdapter_isSelected, false, \"f\");\n        __classPrivateFieldSet(this, _NoteRegionBoxAdapter_isConstructing, true, \"f\");\n        __classPrivateFieldGet(this, _NoteRegionBoxAdapter_terminator, \"f\").ownAll(__classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").pointerHub.subscribe({\n            onAdded: () => __classPrivateFieldGet(this, _NoteRegionBoxAdapter_instances, \"m\", _NoteRegionBoxAdapter_dispatchChange).call(this),\n            onRemoved: () => __classPrivateFieldGet(this, _NoteRegionBoxAdapter_instances, \"m\", _NoteRegionBoxAdapter_dispatchChange).call(this)\n        }), __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").subscribe(Propagation.Children, (update) => {\n            if (this.trackBoxAdapter.isEmpty()) {\n                return;\n            }\n            if (update.type === \"primitive\" || update.type === \"pointer\") {\n                const track = this.trackBoxAdapter.unwrap();\n                if (__classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").position.address.equals(update.address)) {\n                    track.regions.onIndexingChanged();\n                    __classPrivateFieldGet(this, _NoteRegionBoxAdapter_instances, \"m\", _NoteRegionBoxAdapter_dispatchChange).call(this);\n                }\n                else {\n                    __classPrivateFieldGet(this, _NoteRegionBoxAdapter_instances, \"m\", _NoteRegionBoxAdapter_dispatchChange).call(this);\n                }\n            }\n        }), __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").events.catchupAndSubscribe(({ targetVertex }) => {\n            __classPrivateFieldGet(this, _NoteRegionBoxAdapter_eventCollectionSubscription, \"f\").terminate();\n            __classPrivateFieldSet(this, _NoteRegionBoxAdapter_eventCollectionSubscription, targetVertex.match({\n                none: () => Terminable.Empty,\n                some: ({ box }) => __classPrivateFieldGet(this, _NoteRegionBoxAdapter_context, \"f\").boxAdapters\n                    .adapterFor(box, NoteEventCollectionBoxAdapter)\n                    .subscribeChange(() => __classPrivateFieldGet(this, _NoteRegionBoxAdapter_instances, \"m\", _NoteRegionBoxAdapter_dispatchChange).call(this))\n            }), \"f\");\n            __classPrivateFieldGet(this, _NoteRegionBoxAdapter_instances, \"m\", _NoteRegionBoxAdapter_dispatchChange).call(this);\n        }));\n        __classPrivateFieldSet(this, _NoteRegionBoxAdapter_isConstructing, false, \"f\");\n    }\n    set position(value) { __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").position.setValue(value); }\n    set duration(value) { __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").duration.setValue(value); }\n    set loopOffset(value) { __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").loopOffset.setValue(value); }\n    set loopDuration(value) { __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").loopDuration.setValue(value); }\n    subscribeChange(observer) { return __classPrivateFieldGet(this, _NoteRegionBoxAdapter_changeNotifier, \"f\").subscribe(observer); }\n    accept(visitor) { return safeExecute(visitor.visitNoteRegionBoxAdapter, this); }\n    onSelected() {\n        __classPrivateFieldSet(this, _NoteRegionBoxAdapter_isSelected, true, \"f\");\n        __classPrivateFieldGet(this, _NoteRegionBoxAdapter_instances, \"m\", _NoteRegionBoxAdapter_dispatchChange).call(this);\n    }\n    onDeselected() {\n        __classPrivateFieldSet(this, _NoteRegionBoxAdapter_isSelected, false, \"f\");\n        __classPrivateFieldGet(this, _NoteRegionBoxAdapter_instances, \"m\", _NoteRegionBoxAdapter_dispatchChange).call(this);\n    }\n    get isSelected() { return __classPrivateFieldGet(this, _NoteRegionBoxAdapter_isSelected, \"f\"); }\n    *iterateActiveNotesAt(position) {\n        const optCollection = this.optCollection;\n        if (optCollection.isEmpty()) {\n            return;\n        }\n        const collection = optCollection.unwrap();\n        const local = LoopableRegion.globalToLocal(this, position);\n        for (const event of collection.events.iterateFrom(local - collection.maxDuration)) {\n            if (local < event.position) {\n                return;\n            }\n            if (local < event.complete) {\n                yield event.copyAsNoteEvent();\n            }\n        }\n    }\n    terminate() {\n        __classPrivateFieldGet(this, _NoteRegionBoxAdapter_eventCollectionSubscription, \"f\").terminate();\n        __classPrivateFieldGet(this, _NoteRegionBoxAdapter_terminator, \"f\").terminate();\n    }\n    get box() { return __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").address; }\n    get position() { return __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").position.getValue(); }\n    get duration() { return __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").duration.getValue(); }\n    get loopOffset() { return __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").loopOffset.getValue(); }\n    get loopDuration() { return __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").loopDuration.getValue(); }\n    get offset() { return this.position - this.loopOffset; }\n    get complete() { return this.position + this.duration; }\n    get mute() { return __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").mute.getValue(); }\n    get hue() { return __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").hue.getValue(); }\n    get hasCollection() { return this.optCollection.nonEmpty(); }\n    get optCollection() {\n        return __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").events.targetVertex\n            .map(vertex => __classPrivateFieldGet(this, _NoteRegionBoxAdapter_context, \"f\").boxAdapters.adapterFor(vertex.box, NoteEventCollectionBoxAdapter));\n    }\n    get label() { return __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").label.getValue(); }\n    get trackBoxAdapter() {\n        if (__classPrivateFieldGet(this, _NoteRegionBoxAdapter_isConstructing, \"f\")) {\n            return Option.None;\n        }\n        return __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").regions.targetVertex\n            .map(vertex => __classPrivateFieldGet(this, _NoteRegionBoxAdapter_context, \"f\").boxAdapters.adapterFor(vertex.box, TrackBoxAdapter));\n    }\n    get isMirrowed() { return this.optCollection.mapOr(adapter => adapter.numOwners > 1, false); }\n    get canMirror() { return true; }\n    copyTo(params) {\n        const eventCollection = this.optCollection.unwrap(\"Cannot make copy without event-collection\");\n        const eventTarget = params?.consolidate === true\n            ? eventCollection.copy().box.owners\n            : eventCollection.box.owners;\n        return __classPrivateFieldGet(this, _NoteRegionBoxAdapter_context, \"f\").boxAdapters.adapterFor(NoteRegionBox.create(__classPrivateFieldGet(this, _NoteRegionBoxAdapter_context, \"f\").boxGraph, UUID.generate(), box => {\n            box.position.setValue(params?.position ?? this.position);\n            box.duration.setValue(params?.duration ?? this.duration);\n            box.loopOffset.setValue(params?.loopOffset ?? this.loopOffset);\n            box.loopDuration.setValue(params?.loopDuration ?? this.loopDuration);\n            box.hue.setValue(this.hue);\n            box.label.setValue(this.label);\n            box.mute.setValue(this.mute);\n            box.events.refer(eventTarget);\n            box.regions.refer(params?.track ?? __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").regions.targetVertex.unwrap());\n        }), NoteRegionBoxAdapter);\n    }\n    consolidate() {\n        if (!this.isMirrowed) {\n            return;\n        }\n        this.optCollection.ifSome(source => {\n            const graph = __classPrivateFieldGet(this, _NoteRegionBoxAdapter_context, \"f\").boxGraph;\n            const target = NoteEventCollectionBox.create(graph, UUID.generate());\n            source.events.asArray().forEach(adapter => adapter.copyTo({ events: target.events }));\n            __classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").events.refer(target.owners);\n        });\n    }\n    canFlatten(regions) {\n        return regions.length > 0 && Arrays.satisfy(regions, (a, b) => a.trackBoxAdapter.contains(b.trackBoxAdapter.unwrap()))\n            && regions.every(region => region.isSelected && region instanceof NoteRegionBoxAdapter);\n    }\n    flatten(regions) {\n        if (!this.canFlatten(regions)) {\n            return Option.None;\n        }\n        const graph = __classPrivateFieldGet(this, _NoteRegionBoxAdapter_context, \"f\").boxGraph;\n        const sorted = regions.toSorted(RegionCollection.Comparator);\n        const first = Arrays.getFirst(sorted, \"Internal error (no first)\");\n        const last = Arrays.getLast(sorted, \"Internal error (no last)\");\n        const rangeMin = first.position;\n        const rangeMax = last.position + last.duration;\n        const trackBoxAdapter = first.trackBoxAdapter.unwrap();\n        const collectionBox = NoteEventCollectionBox.create(graph, UUID.generate());\n        const overlapping = Array.from(trackBoxAdapter.regions.collection.iterateRange(rangeMin, rangeMax));\n        overlapping\n            .filter(region => region.isSelected)\n            .forEach(anyRegion => {\n            const region = anyRegion; // we made that sure in canFlatten\n            for (const { resultStart, resultEnd, rawStart } of LoopableRegion.locateLoops(region, region.position, region.complete)) {\n                const searchStart = Math.floor(resultStart - rawStart);\n                const searchEnd = Math.floor(resultEnd - rawStart);\n                for (const event of region.optCollection.unwrap().events.iterateRange(searchStart, searchEnd)) {\n                    event.copyTo({\n                        position: event.position + rawStart - first.position,\n                        events: collectionBox.events\n                    });\n                }\n            }\n        });\n        overlapping.forEach(({ box }) => box.delete());\n        return Option.wrap(NoteRegionBox.create(graph, UUID.generate(), box => {\n            box.position.setValue(rangeMin);\n            box.duration.setValue(rangeMax - rangeMin);\n            box.loopDuration.setValue(rangeMax - rangeMin);\n            box.loopOffset.setValue(0);\n            box.hue.setValue(this.hue);\n            box.mute.setValue(this.mute);\n            box.label.setValue(this.label);\n            box.events.refer(collectionBox.owners);\n            box.regions.refer(trackBoxAdapter.box.regions);\n        }));\n    }\n    toString() { return `{NoteRegionBoxAdapter ${UUID.toString(__classPrivateFieldGet(this, _NoteRegionBoxAdapter_box, \"f\").address.uuid)} p: ${PPQN.toString(this.position)}, c: ${PPQN.toString(this.complete)}}`; }\n}\n_NoteRegionBoxAdapter_terminator = new WeakMap(), _NoteRegionBoxAdapter_context = new WeakMap(), _NoteRegionBoxAdapter_box = new WeakMap(), _NoteRegionBoxAdapter_changeNotifier = new WeakMap(), _NoteRegionBoxAdapter_isConstructing = new WeakMap(), _NoteRegionBoxAdapter_isSelected = new WeakMap(), _NoteRegionBoxAdapter_eventCollectionSubscription = new WeakMap(), _NoteRegionBoxAdapter_instances = new WeakSet(), _NoteRegionBoxAdapter_dispatchChange = function _NoteRegionBoxAdapter_dispatchChange() {\n    __classPrivateFieldGet(this, _NoteRegionBoxAdapter_changeNotifier, \"f\").notify();\n    this.trackBoxAdapter.unwrapOrNull()?.regions?.dispatchChange();\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ValueRegionBoxAdapter_instances, _ValueRegionBoxAdapter_terminator, _ValueRegionBoxAdapter_context, _ValueRegionBoxAdapter_box, _ValueRegionBoxAdapter_changeNotifier, _ValueRegionBoxAdapter_isSelected, _ValueRegionBoxAdapter_isConstructing, _ValueRegionBoxAdapter_eventCollectionSubscription, _ValueRegionBoxAdapter_dispatchChange;\nimport { LoopableRegion, PPQN, RegionCollection } from \"@naomiarotest/lib-dsp\";\nimport { Arrays, Notifier, Option, safeExecute, Terminable, Terminator, UUID } from \"@naomiarotest/lib-std\";\nimport { Propagation } from \"@naomiarotest/lib-box\";\nimport { TrackBoxAdapter } from \"../TrackBoxAdapter\";\nimport { ValueEventCollectionBoxAdapter } from \"../collection/ValueEventCollectionBoxAdapter\";\nimport { ValueEventCollectionBox, ValueRegionBox } from \"@naomiarotest/studio-boxes\";\nexport class ValueRegionBoxAdapter {\n    constructor(context, box) {\n        _ValueRegionBoxAdapter_instances.add(this);\n        this.type = \"value-region\";\n        _ValueRegionBoxAdapter_terminator.set(this, new Terminator());\n        _ValueRegionBoxAdapter_context.set(this, void 0);\n        _ValueRegionBoxAdapter_box.set(this, void 0);\n        _ValueRegionBoxAdapter_changeNotifier.set(this, void 0);\n        _ValueRegionBoxAdapter_isSelected.set(this, void 0);\n        _ValueRegionBoxAdapter_isConstructing.set(this, void 0); // Prevents stack overflow due to infinite adapter queries\n        _ValueRegionBoxAdapter_eventCollectionSubscription.set(this, Terminable.Empty);\n        __classPrivateFieldSet(this, _ValueRegionBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _ValueRegionBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _ValueRegionBoxAdapter_isConstructing, true, \"f\");\n        __classPrivateFieldSet(this, _ValueRegionBoxAdapter_changeNotifier, new Notifier(), \"f\");\n        __classPrivateFieldSet(this, _ValueRegionBoxAdapter_isSelected, false, \"f\");\n        __classPrivateFieldGet(this, _ValueRegionBoxAdapter_terminator, \"f\").own(__classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").pointerHub.subscribe({\n            onAdded: () => __classPrivateFieldGet(this, _ValueRegionBoxAdapter_instances, \"m\", _ValueRegionBoxAdapter_dispatchChange).call(this),\n            onRemoved: () => __classPrivateFieldGet(this, _ValueRegionBoxAdapter_instances, \"m\", _ValueRegionBoxAdapter_dispatchChange).call(this)\n        }));\n        __classPrivateFieldGet(this, _ValueRegionBoxAdapter_terminator, \"f\").own(__classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").subscribe(Propagation.Children, (update) => {\n            if (this.trackBoxAdapter.isEmpty()) {\n                return;\n            }\n            if (update.type === \"primitive\" || update.type === \"pointer\") {\n                const track = this.trackBoxAdapter.unwrap();\n                if (__classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").position.address.equals(update.address)) {\n                    track.regions.onIndexingChanged();\n                    __classPrivateFieldGet(this, _ValueRegionBoxAdapter_instances, \"m\", _ValueRegionBoxAdapter_dispatchChange).call(this);\n                }\n                else {\n                    __classPrivateFieldGet(this, _ValueRegionBoxAdapter_instances, \"m\", _ValueRegionBoxAdapter_dispatchChange).call(this);\n                }\n            }\n        }));\n        __classPrivateFieldGet(this, _ValueRegionBoxAdapter_terminator, \"f\").own(__classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").events.catchupAndSubscribe(({ targetVertex }) => {\n            __classPrivateFieldGet(this, _ValueRegionBoxAdapter_eventCollectionSubscription, \"f\").terminate();\n            __classPrivateFieldSet(this, _ValueRegionBoxAdapter_eventCollectionSubscription, targetVertex.match({\n                none: () => Terminable.Empty,\n                some: ({ box }) => __classPrivateFieldGet(this, _ValueRegionBoxAdapter_context, \"f\").boxAdapters\n                    .adapterFor(box, ValueEventCollectionBoxAdapter)\n                    .subscribeChange(() => __classPrivateFieldGet(this, _ValueRegionBoxAdapter_instances, \"m\", _ValueRegionBoxAdapter_dispatchChange).call(this))\n            }), \"f\");\n            __classPrivateFieldGet(this, _ValueRegionBoxAdapter_instances, \"m\", _ValueRegionBoxAdapter_dispatchChange).call(this);\n        }));\n        __classPrivateFieldSet(this, _ValueRegionBoxAdapter_isConstructing, false, \"f\");\n    }\n    valueAt(position, fallback) {\n        const content = this.optCollection;\n        return content.isEmpty() ? fallback : content.unwrap().valueAt(LoopableRegion.globalToLocal(this, position), fallback);\n    }\n    incomingValue(fallback) { return this.valueAt(this.position, fallback); }\n    outgoingValue(fallback) {\n        const optContent = this.optCollection;\n        if (optContent.isEmpty()) {\n            return fallback;\n        }\n        const content = optContent.unwrap();\n        const endsOnLoopPass = (this.complete - this.offset) % this.loopDuration === 0;\n        return endsOnLoopPass\n            ? content.valueAt(this.loopDuration, fallback)\n            : content.valueAt(LoopableRegion.globalToLocal(this, this.complete), fallback);\n    }\n    subscribeChange(observer) { return __classPrivateFieldGet(this, _ValueRegionBoxAdapter_changeNotifier, \"f\").subscribe(observer); }\n    accept(visitor) {\n        return safeExecute(visitor.visitValueRegionBoxAdapter, this);\n    }\n    onSelected() {\n        __classPrivateFieldSet(this, _ValueRegionBoxAdapter_isSelected, true, \"f\");\n        __classPrivateFieldGet(this, _ValueRegionBoxAdapter_instances, \"m\", _ValueRegionBoxAdapter_dispatchChange).call(this);\n    }\n    onDeselected() {\n        __classPrivateFieldSet(this, _ValueRegionBoxAdapter_isSelected, false, \"f\");\n        __classPrivateFieldGet(this, _ValueRegionBoxAdapter_instances, \"m\", _ValueRegionBoxAdapter_dispatchChange).call(this);\n    }\n    get isSelected() { return __classPrivateFieldGet(this, _ValueRegionBoxAdapter_isSelected, \"f\"); }\n    onValuesPropertyChanged() { __classPrivateFieldGet(this, _ValueRegionBoxAdapter_instances, \"m\", _ValueRegionBoxAdapter_dispatchChange).call(this); }\n    onValuesSortingChanged() { this.onValuesPropertyChanged(); }\n    terminate() {\n        __classPrivateFieldGet(this, _ValueRegionBoxAdapter_eventCollectionSubscription, \"f\").terminate();\n        __classPrivateFieldGet(this, _ValueRegionBoxAdapter_terminator, \"f\").terminate();\n    }\n    get box() { return __classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").address; }\n    get position() { return __classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").position.getValue(); }\n    get duration() { return __classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").duration.getValue(); }\n    get loopOffset() { return __classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").loopOffset.getValue(); }\n    get loopDuration() { return __classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").loopDuration.getValue(); }\n    get offset() { return this.position - this.loopOffset; }\n    get complete() { return this.position + this.duration; }\n    get mute() { return __classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").mute.getValue(); }\n    get hue() { return __classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").hue.getValue(); }\n    get hasCollection() { return !this.optCollection.isEmpty(); }\n    get events() {\n        return this.optCollection.map(collection => collection.events);\n    }\n    get optCollection() {\n        return __classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").events.targetVertex\n            .map(vertex => __classPrivateFieldGet(this, _ValueRegionBoxAdapter_context, \"f\").boxAdapters.adapterFor(vertex.box, ValueEventCollectionBoxAdapter));\n    }\n    get label() { return __classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").label.getValue(); }\n    get trackBoxAdapter() {\n        if (__classPrivateFieldGet(this, _ValueRegionBoxAdapter_isConstructing, \"f\")) {\n            return Option.None;\n        }\n        return __classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").regions.targetVertex\n            .map(vertex => __classPrivateFieldGet(this, _ValueRegionBoxAdapter_context, \"f\").boxAdapters.adapterFor(vertex.box, TrackBoxAdapter));\n    }\n    get isMirrowed() { return this.optCollection.mapOr(adapter => adapter.numOwners > 1, false); }\n    get canMirror() { return true; }\n    set position(value) { __classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").position.setValue(value); }\n    set duration(value) { __classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").duration.setValue(value); }\n    set loopOffset(value) { __classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").loopOffset.setValue(value); }\n    set loopDuration(value) { __classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").loopDuration.setValue(value); }\n    copyTo(params) {\n        const eventCollection = this.optCollection.unwrap(\"Cannot make copy without event-collection\");\n        const eventTarget = params?.consolidate === true\n            ? eventCollection.copy().box.owners\n            : eventCollection.box.owners;\n        return __classPrivateFieldGet(this, _ValueRegionBoxAdapter_context, \"f\").boxAdapters.adapterFor(ValueRegionBox.create(__classPrivateFieldGet(this, _ValueRegionBoxAdapter_context, \"f\").boxGraph, UUID.generate(), box => {\n            box.position.setValue(params?.position ?? this.position);\n            box.duration.setValue(params?.duration ?? this.duration);\n            box.loopOffset.setValue(params?.loopOffset ?? this.loopOffset);\n            box.loopDuration.setValue(params?.loopDuration ?? this.loopDuration);\n            box.hue.setValue(this.hue);\n            box.label.setValue(this.label);\n            box.mute.setValue(this.mute);\n            box.events.refer(eventTarget);\n            box.regions.refer(params?.track ?? __classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").regions.targetVertex.unwrap());\n        }), ValueRegionBoxAdapter);\n    }\n    consolidate() {\n        if (!this.isMirrowed) {\n            return;\n        }\n        this.events.ifSome(events => {\n            const graph = __classPrivateFieldGet(this, _ValueRegionBoxAdapter_context, \"f\").boxGraph;\n            const collectionBox = ValueEventCollectionBox.create(graph, UUID.generate());\n            events.asArray().forEach(adapter => adapter.copyTo({ events: collectionBox.events }));\n            __classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").events.refer(collectionBox.owners);\n        });\n    }\n    canFlatten(_regions) {\n        return false;\n        /*return regions.length > 0 && Arrays.satisfy(regions, (a, b) => a.trackAdapter.contains(b.trackAdapter.unwrap()))\n                && regions.every(region => region.isSelected && region instanceof ValueRegionBoxAdapter)*/\n    }\n    flatten(regions) {\n        if (!this.canFlatten(regions)) {\n            return Option.None;\n        }\n        const graph = __classPrivateFieldGet(this, _ValueRegionBoxAdapter_context, \"f\").boxGraph;\n        const sorted = regions.toSorted(RegionCollection.Comparator);\n        const first = Arrays.getFirst(sorted, \"Internal error (no first)\");\n        const last = Arrays.getLast(sorted, \"Internal error (no last)\");\n        const rangeMin = first.position;\n        const rangeMax = last.position + last.duration;\n        const trackBoxAdapter = first.trackBoxAdapter.unwrap();\n        const collectionBox = ValueEventCollectionBox.create(graph, UUID.generate());\n        const overlapping = Array.from(trackBoxAdapter.regions.collection.iterateRange(rangeMin, rangeMax));\n        overlapping\n            .filter(region => region.isSelected)\n            .forEach(anyRegion => {\n            const region = anyRegion; // we made that sure in canFlatten\n            for (const { resultStart, resultEnd, rawStart } of LoopableRegion.locateLoops(region, region.position, region.complete)) {\n                const searchStart = Math.floor(resultStart - rawStart);\n                const searchEnd = Math.floor(resultEnd - rawStart);\n                for (const _event of region.events.unwrap().iterateRange(searchStart, searchEnd)) {\n                    // TODO Flatten\n                }\n            }\n        });\n        overlapping.forEach(({ box }) => box.delete());\n        return Option.wrap(ValueRegionBox.create(graph, UUID.generate(), box => {\n            box.position.setValue(rangeMin);\n            box.duration.setValue(rangeMax - rangeMin);\n            box.loopDuration.setValue(rangeMax - rangeMin);\n            box.loopOffset.setValue(0);\n            box.hue.setValue(this.hue);\n            box.mute.setValue(this.mute);\n            box.label.setValue(this.label);\n            box.events.refer(collectionBox.owners);\n            box.regions.refer(trackBoxAdapter.box.regions);\n        }));\n    }\n    toString() { return `{ValueRegionBoxAdapter ${UUID.toString(__classPrivateFieldGet(this, _ValueRegionBoxAdapter_box, \"f\").address.uuid)} p: ${PPQN.toString(this.position)}, c: ${PPQN.toString(this.complete)}}`; }\n}\n_ValueRegionBoxAdapter_terminator = new WeakMap(), _ValueRegionBoxAdapter_context = new WeakMap(), _ValueRegionBoxAdapter_box = new WeakMap(), _ValueRegionBoxAdapter_changeNotifier = new WeakMap(), _ValueRegionBoxAdapter_isSelected = new WeakMap(), _ValueRegionBoxAdapter_isConstructing = new WeakMap(), _ValueRegionBoxAdapter_eventCollectionSubscription = new WeakMap(), _ValueRegionBoxAdapter_instances = new WeakSet(), _ValueRegionBoxAdapter_dispatchChange = function _ValueRegionBoxAdapter_dispatchChange() {\n    __classPrivateFieldGet(this, _ValueRegionBoxAdapter_changeNotifier, \"f\").notify();\n    this.trackBoxAdapter.unwrapOrNull()?.regions?.dispatchChange();\n};\n", "import { asDefined } from \"@naomiarotest/lib-std\";\nimport { AudioRegionBoxAdapter } from \"./region/AudioRegionBoxAdapter\";\nimport { NoteRegionBoxAdapter } from \"./region/NoteRegionBoxAdapter\";\nimport { ValueRegionBoxAdapter } from \"./region/ValueRegionBoxAdapter\";\nexport const RegionComparator = (a, b) => a.position - b.position;\nexport const RegionAdapters = {\n    for: (boxAdapters, box) => asDefined(box.accept({\n        visitNoteRegionBox: (box) => boxAdapters.adapterFor(box, NoteRegionBoxAdapter),\n        visitAudioRegionBox: (box) => boxAdapters.adapterFor(box, AudioRegionBoxAdapter),\n        visitValueRegionBox: (box) => boxAdapters.adapterFor(box, ValueRegionBoxAdapter)\n    }), \"\")\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _TrackRegions_trackBoxAdapter, _TrackRegions_terminator, _TrackRegions_changeNotifier, _TrackRegions_regionsListeners, _TrackRegions_collection, _TrackRegions_adapters;\nimport { RegionCollection } from \"@naomiarotest/lib-dsp\";\nimport { assert, Listeners, Notifier, Terminator, UUID } from \"@naomiarotest/lib-std\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nimport { RegionAdapters, RegionComparator } from \"./RegionBoxAdapter\";\nexport class TrackRegions {\n    constructor(adapter, boxAdapters) {\n        _TrackRegions_trackBoxAdapter.set(this, void 0);\n        _TrackRegions_terminator.set(this, void 0);\n        _TrackRegions_changeNotifier.set(this, void 0);\n        _TrackRegions_regionsListeners.set(this, void 0);\n        _TrackRegions_collection.set(this, void 0);\n        _TrackRegions_adapters.set(this, void 0);\n        __classPrivateFieldSet(this, _TrackRegions_trackBoxAdapter, adapter, \"f\");\n        __classPrivateFieldSet(this, _TrackRegions_terminator, new Terminator(), \"f\");\n        __classPrivateFieldSet(this, _TrackRegions_changeNotifier, __classPrivateFieldGet(this, _TrackRegions_terminator, \"f\").own(new Notifier()), \"f\");\n        __classPrivateFieldSet(this, _TrackRegions_regionsListeners, __classPrivateFieldGet(this, _TrackRegions_terminator, \"f\").own(new Listeners()), \"f\");\n        __classPrivateFieldSet(this, _TrackRegions_collection, RegionCollection.create(RegionComparator), \"f\");\n        __classPrivateFieldSet(this, _TrackRegions_adapters, UUID.newSet(adapter => adapter.uuid), \"f\");\n        __classPrivateFieldGet(this, _TrackRegions_terminator, \"f\").ownAll(__classPrivateFieldGet(this, _TrackRegions_trackBoxAdapter, \"f\").box.regions.pointerHub.catchupAndSubscribe({\n            onAdded: ({ box }) => {\n                const adapter = RegionAdapters.for(boxAdapters, box);\n                const added = __classPrivateFieldGet(this, _TrackRegions_adapters, \"f\").add(adapter);\n                assert(added, `Cannot add ${box}`);\n                __classPrivateFieldGet(this, _TrackRegions_collection, \"f\").add(adapter);\n                __classPrivateFieldGet(this, _TrackRegions_regionsListeners, \"f\").forEach(listener => listener.onAdded(adapter));\n                this.dispatchChange();\n            },\n            onRemoved: ({ box: { address: { uuid } } }) => {\n                const adapter = __classPrivateFieldGet(this, _TrackRegions_adapters, \"f\").removeByKey(uuid);\n                __classPrivateFieldGet(this, _TrackRegions_collection, \"f\").remove(adapter);\n                __classPrivateFieldGet(this, _TrackRegions_regionsListeners, \"f\").forEach(listener => listener.onRemoved(adapter));\n                this.dispatchChange();\n            }\n        }, Pointers.RegionCollection));\n    }\n    get trackBoxAdapter() { return __classPrivateFieldGet(this, _TrackRegions_trackBoxAdapter, \"f\"); }\n    get collection() { return __classPrivateFieldGet(this, _TrackRegions_collection, \"f\"); }\n    get adapters() { return __classPrivateFieldGet(this, _TrackRegions_adapters, \"f\"); }\n    onIndexingChanged() {\n        __classPrivateFieldGet(this, _TrackRegions_collection, \"f\").onIndexingChanged();\n        this.dispatchChange();\n    }\n    catchupAndSubscribe(listener) {\n        this.collection.asArray().forEach(listener.onAdded);\n        return __classPrivateFieldGet(this, _TrackRegions_regionsListeners, \"f\").subscribe(listener);\n    }\n    subscribeChanges(observer) { return __classPrivateFieldGet(this, _TrackRegions_changeNotifier, \"f\").subscribe(observer); }\n    dispatchChange() { __classPrivateFieldGet(this, _TrackRegions_changeNotifier, \"f\").notify(); }\n    terminate() { __classPrivateFieldGet(this, _TrackRegions_terminator, \"f\").terminate(); }\n}\n_TrackRegions_trackBoxAdapter = new WeakMap(), _TrackRegions_terminator = new WeakMap(), _TrackRegions_changeNotifier = new WeakMap(), _TrackRegions_regionsListeners = new WeakMap(), _TrackRegions_collection = new WeakMap(), _TrackRegions_adapters = new WeakMap();\n", "import { IconSymbol } from \"@naomiarotest/studio-enums\";\nexport var TrackType;\n(function (TrackType) {\n    TrackType[TrackType[\"Undefined\"] = 0] = \"Undefined\";\n    TrackType[TrackType[\"Notes\"] = 1] = \"Notes\";\n    TrackType[TrackType[\"Audio\"] = 2] = \"Audio\";\n    TrackType[TrackType[\"Value\"] = 3] = \"Value\";\n})(TrackType || (TrackType = {}));\n(function (TrackType) {\n    TrackType.toLabelString = (type) => {\n        switch (type) {\n            case TrackType.Audio:\n                return \"Audio\";\n            case TrackType.Notes:\n                return \"Notes\";\n            case TrackType.Value:\n                return \"Automation\";\n            case TrackType.Undefined:\n            default:\n                return \"N/A\";\n        }\n    };\n    TrackType.toIconSymbol = (type) => {\n        switch (type) {\n            case TrackType.Audio:\n                return IconSymbol.Waveform;\n            case TrackType.Notes:\n                return IconSymbol.Piano;\n            case TrackType.Value:\n                return IconSymbol.Automation;\n            case TrackType.Undefined:\n                return IconSymbol.AudioBus;\n            default:\n                return IconSymbol.Unknown;\n        }\n    };\n})(TrackType || (TrackType = {}));\n", "import { Pointers } from \"@naomiarotest/studio-enums\";\nimport { BooleanField, Int32Field, PointerField, StringField } from \"@naomiarotest/lib-box\";\nimport { isDefined, isInstanceOf, panic } from \"@naomiarotest/lib-std\";\nexport var DeviceBoxUtils;\n(function (DeviceBoxUtils) {\n    DeviceBoxUtils.isDeviceBox = (box) => \"host\" in box && isInstanceOf(box.host, PointerField) &&\n        \"label\" in box && isInstanceOf(box.label, StringField) &&\n        \"enabled\" in box && isInstanceOf(box.enabled, BooleanField) &&\n        \"minimized\" in box && isInstanceOf(box.minimized, BooleanField);\n    DeviceBoxUtils.isInstrumentDeviceBox = (box) => DeviceBoxUtils.isDeviceBox(box) && box.host.pointerType === Pointers.InstrumentHost;\n    DeviceBoxUtils.isEffectDeviceBox = (box) => DeviceBoxUtils.isDeviceBox(box) && \"index\" in box && isInstanceOf(box.index, Int32Field) &&\n        (box.host.pointerType === Pointers.MidiEffectHost || box.host.pointerType === Pointers.AudioEffectHost);\n    DeviceBoxUtils.lookupHostField = (box) => isDefined(box) && \"host\" in box && isInstanceOf(box.host, PointerField)\n        ? box.host : panic(`Could not find 'host' field in '${box?.name}'`);\n    DeviceBoxUtils.lookupLabelField = (box) => isDefined(box) && \"label\" in box && isInstanceOf(box.label, StringField)\n        ? box.label : panic(`Could not find 'label' field in '${box?.name}'`);\n    DeviceBoxUtils.lookupEnabledField = (box) => isDefined(box) && \"enabled\" in box && isInstanceOf(box.enabled, BooleanField)\n        ? box.enabled : panic(`Could not find 'enabled' field in '${box?.name}'`);\n    DeviceBoxUtils.lookupMinimizedField = (box) => isDefined(box) && \"minimized\" in box && isInstanceOf(box.minimized, BooleanField)\n        ? box.minimized : panic(`Could not find 'minimized' field in '${box?.name}'`);\n    DeviceBoxUtils.lookupIndexField = (box) => isDefined(box) && \"index\" in box && isInstanceOf(box.index, Int32Field)\n        ? box.index : panic(`Could not find 'index' field in '${box?.name}'`);\n})(DeviceBoxUtils || (DeviceBoxUtils = {}));\n", "import { Arrays, assert, panic, UUID } from \"@naomiarotest/lib-std\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nimport { TrackType } from \"./timeline/TrackType\";\nimport { DeviceBoxUtils } from \"./DeviceBox\";\nexport var DeviceAccepts;\n(function (DeviceAccepts) {\n    DeviceAccepts.toTrackType = (type) => {\n        switch (type) {\n            case \"midi\":\n                return TrackType.Notes;\n            case \"audio\":\n                return TrackType.Audio;\n            default:\n                return panic();\n        }\n    };\n})(DeviceAccepts || (DeviceAccepts = {}));\nexport var Devices;\n(function (Devices) {\n    Devices.isAny = (adapter) => adapter !== null && typeof adapter === \"object\" && \"type\" in adapter\n        && (adapter.type === \"midi-effect\" || adapter.type === \"bus\"\n            || adapter.type === \"instrument\" || adapter.type === \"audio-effect\");\n    Devices.isEffect = (adapter) => adapter !== null && typeof adapter === \"object\" && \"type\" in adapter\n        && (adapter.type === \"midi-effect\" || adapter.type === \"audio-effect\");\n    Devices.isInstrument = (adapter) => adapter !== null && typeof adapter === \"object\" && \"type\" in adapter && adapter.type === \"instrument\";\n    Devices.isMidiEffect = (adapter) => adapter !== null && typeof adapter === \"object\" && \"type\" in adapter && adapter.type === \"midi-effect\";\n    Devices.isAudioEffect = (adapter) => adapter !== null && typeof adapter === \"object\" && \"type\" in adapter && adapter.type === \"audio-effect\";\n    Devices.isHost = (value) => value !== null && typeof value === \"object\" && \"class\" in value && value.class === \"device-host\";\n    Devices.deleteEffectDevices = (devices) => {\n        if (devices.length === 0) {\n            return;\n        }\n        assert(Arrays.satisfy(devices, (a, b) => a.deviceHost().address.equals(b.deviceHost().address)), \"Devices are not connected to the same host\");\n        const device = devices[0];\n        const targets = device.accepts === \"audio\"\n            ? device.deviceHost().audioEffects.field().pointerHub.filter(Pointers.AudioEffectHost)\n            : device.accepts === \"midi\"\n                ? device.deviceHost().midiEffects.field().pointerHub.filter(Pointers.MidiEffectHost)\n                : panic(\"unknown type\");\n        targets.map(({ box }) => DeviceBoxUtils.lookupIndexField(box))\n            .filter(index => devices.some(device => UUID.Comparator(device.uuid, index.address.uuid) !== 0))\n            .sort((a, b) => a.getValue() - b.getValue())\n            .forEach((indexField, index) => indexField.setValue(index));\n        devices.forEach(device => device.box.delete());\n    };\n})(Devices || (Devices = {}));\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AudioUnitTracks_adapter, _AudioUnitTracks_regionNotifier, _AudioUnitTracks_collection, _AudioUnitTracks_subscriptions, _AudioUnitTracks_subscription;\nimport { Notifier, Option, panic, UUID } from \"@naomiarotest/lib-std\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nimport { TrackBox } from \"@naomiarotest/studio-boxes\";\nimport { IndexedBoxAdapterCollection } from \"../IndexedBoxAdapterCollection\";\nimport { TrackBoxAdapter } from \"../timeline/TrackBoxAdapter\";\nexport class AudioUnitTracks {\n    constructor(adapter, boxAdapters) {\n        _AudioUnitTracks_adapter.set(this, void 0);\n        _AudioUnitTracks_regionNotifier.set(this, new Notifier());\n        _AudioUnitTracks_collection.set(this, void 0);\n        _AudioUnitTracks_subscriptions.set(this, void 0);\n        _AudioUnitTracks_subscription.set(this, void 0);\n        __classPrivateFieldSet(this, _AudioUnitTracks_adapter, adapter, \"f\");\n        __classPrivateFieldSet(this, _AudioUnitTracks_collection, IndexedBoxAdapterCollection.create(adapter.box.tracks, box => boxAdapters.adapterFor(box, TrackBoxAdapter), Pointers.TrackCollection), \"f\");\n        __classPrivateFieldSet(this, _AudioUnitTracks_subscriptions, UUID.newSet(({ uuid }) => uuid), \"f\");\n        __classPrivateFieldSet(this, _AudioUnitTracks_subscription, __classPrivateFieldGet(this, _AudioUnitTracks_collection, \"f\").catchupAndSubscribe({\n            onAdd: (adapter) => __classPrivateFieldGet(this, _AudioUnitTracks_subscriptions, \"f\").add({\n                uuid: adapter.uuid,\n                subscription: adapter.regions.subscribeChanges(() => __classPrivateFieldGet(this, _AudioUnitTracks_regionNotifier, \"f\").notify())\n            }),\n            onRemove: ({ uuid }) => __classPrivateFieldGet(this, _AudioUnitTracks_subscriptions, \"f\").removeByKey(uuid).subscription.terminate(),\n            onReorder: (_adapter) => { }\n        }), \"f\");\n    }\n    create(type, target, index) {\n        const graph = __classPrivateFieldGet(this, _AudioUnitTracks_adapter, \"f\").box.graph;\n        const tracks = __classPrivateFieldGet(this, _AudioUnitTracks_adapter, \"f\").box.tracks;\n        TrackBox.create(graph, UUID.generate(), box => {\n            box.index.setValue(index ?? __classPrivateFieldGet(this, _AudioUnitTracks_collection, \"f\").getMinFreeIndex());\n            box.type.setValue(type);\n            box.tracks.refer(tracks);\n            box.target.refer(target);\n        });\n    }\n    controls(target) {\n        return Option.wrap(__classPrivateFieldGet(this, _AudioUnitTracks_collection, \"f\").adapters()\n            .find(adapter => adapter.target.targetVertex.contains(target), false));\n    }\n    delete(adapter) {\n        const adapters = __classPrivateFieldGet(this, _AudioUnitTracks_collection, \"f\").adapters();\n        const deleteIndex = adapters.indexOf(adapter);\n        if (deleteIndex === -1) {\n            return panic(`Cannot delete ${adapter}. Does not exist.`);\n        }\n        for (let index = deleteIndex + 1; index < adapters.length; index++) {\n            adapters[index].indexField.setValue(index - 1);\n        }\n        adapter.box.delete();\n    }\n    get collection() { return __classPrivateFieldGet(this, _AudioUnitTracks_collection, \"f\"); }\n    values() { return __classPrivateFieldGet(this, _AudioUnitTracks_collection, \"f\").adapters(); }\n    catchupAndSubscribe(listener) {\n        return __classPrivateFieldGet(this, _AudioUnitTracks_collection, \"f\").catchupAndSubscribe(listener);\n    }\n    subscribeAnyChange(observer) { return __classPrivateFieldGet(this, _AudioUnitTracks_regionNotifier, \"f\").subscribe(observer); }\n    terminate() {\n        __classPrivateFieldGet(this, _AudioUnitTracks_collection, \"f\").terminate();\n        __classPrivateFieldGet(this, _AudioUnitTracks_subscription, \"f\").terminate();\n        __classPrivateFieldGet(this, _AudioUnitTracks_subscriptions, \"f\").forEach(({ subscription }) => subscription.terminate());\n        __classPrivateFieldGet(this, _AudioUnitTracks_subscriptions, \"f\").clear();\n    }\n}\n_AudioUnitTracks_adapter = new WeakMap(), _AudioUnitTracks_regionNotifier = new WeakMap(), _AudioUnitTracks_collection = new WeakMap(), _AudioUnitTracks_subscriptions = new WeakMap(), _AudioUnitTracks_subscription = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AudioBusBoxAdapter_context, _AudioBusBoxAdapter_box;\nimport { Propagation } from \"@naomiarotest/lib-box\";\nimport { Devices } from \"../DeviceAdapter\";\nimport { IconSymbol } from \"@naomiarotest/studio-enums\";\nexport class AudioBusBoxAdapter {\n    constructor(context, box) {\n        this.type = \"bus\";\n        this.accepts = \"audio\";\n        _AudioBusBoxAdapter_context.set(this, void 0);\n        _AudioBusBoxAdapter_box.set(this, void 0);\n        __classPrivateFieldSet(this, _AudioBusBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _AudioBusBoxAdapter_box, box, \"f\");\n    }\n    catchupAndSubscribe(observer) {\n        observer(this);\n        return __classPrivateFieldGet(this, _AudioBusBoxAdapter_box, \"f\").subscribe(Propagation.Children, () => observer(this));\n    }\n    get uuid() { return __classPrivateFieldGet(this, _AudioBusBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _AudioBusBoxAdapter_box, \"f\").address; }\n    get box() { return __classPrivateFieldGet(this, _AudioBusBoxAdapter_box, \"f\"); }\n    get enabledField() { return __classPrivateFieldGet(this, _AudioBusBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _AudioBusBoxAdapter_box, \"f\").minimized; }\n    get iconField() { return __classPrivateFieldGet(this, _AudioBusBoxAdapter_box, \"f\").icon; }\n    get labelField() { return __classPrivateFieldGet(this, _AudioBusBoxAdapter_box, \"f\").label; }\n    get colorField() { return __classPrivateFieldGet(this, _AudioBusBoxAdapter_box, \"f\").color; }\n    get iconSymbol() { return IconSymbol.fromName(this.iconField.getValue() ?? \"audio-bus\"); }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _AudioBusBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _AudioBusBoxAdapter_box, \"f\").output.targetVertex.unwrap(\"No AudioUnitBox found\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { }\n    toString() { return `{${this.constructor.name}}`; }\n}\n_AudioBusBoxAdapter_context = new WeakMap(), _AudioBusBoxAdapter_box = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AudioUnitInput_terminator, _AudioUnitInput_labelNotifier, _AudioUnitInput_iconValue, _AudioUnitInput_observable, _AudioUnitInput_subscription;\nimport { assert, DefaultObservableValue, Notifier, Option, Terminable, Terminator } from \"@naomiarotest/lib-std\";\nimport { AudioBusBox } from \"@naomiarotest/studio-boxes\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nimport { IconSymbol } from \"@naomiarotest/studio-enums\";\nimport { AudioBusBoxAdapter } from \"./AudioBusBoxAdapter\";\nimport { Devices } from \"../DeviceAdapter\";\nexport class AudioUnitInput {\n    constructor(pointerHub, boxAdapters) {\n        _AudioUnitInput_terminator.set(this, void 0);\n        _AudioUnitInput_labelNotifier.set(this, void 0);\n        _AudioUnitInput_iconValue.set(this, void 0);\n        _AudioUnitInput_observable.set(this, void 0);\n        _AudioUnitInput_subscription.set(this, Terminable.Empty);\n        __classPrivateFieldSet(this, _AudioUnitInput_terminator, new Terminator(), \"f\");\n        __classPrivateFieldSet(this, _AudioUnitInput_labelNotifier, __classPrivateFieldGet(this, _AudioUnitInput_terminator, \"f\").own(new Notifier()), \"f\");\n        __classPrivateFieldSet(this, _AudioUnitInput_iconValue, __classPrivateFieldGet(this, _AudioUnitInput_terminator, \"f\").own(new DefaultObservableValue(IconSymbol.Unknown)), \"f\");\n        __classPrivateFieldSet(this, _AudioUnitInput_observable, __classPrivateFieldGet(this, _AudioUnitInput_terminator, \"f\").own(new DefaultObservableValue(Option.None)), \"f\");\n        __classPrivateFieldGet(this, _AudioUnitInput_terminator, \"f\").own(__classPrivateFieldGet(this, _AudioUnitInput_observable, \"f\").subscribe(owner => {\n            __classPrivateFieldGet(this, _AudioUnitInput_subscription, \"f\").terminate();\n            __classPrivateFieldSet(this, _AudioUnitInput_subscription, owner.getValue().match({\n                none: () => {\n                    __classPrivateFieldGet(this, _AudioUnitInput_labelNotifier, \"f\").notify(Option.None);\n                    return Terminable.Empty;\n                },\n                some: ({ labelField, iconField }) => Terminable.many(iconField.catchupAndSubscribe(field => __classPrivateFieldGet(this, _AudioUnitInput_iconValue, \"f\").setValue(IconSymbol.fromName(field.getValue()))), labelField.catchupAndSubscribe(field => __classPrivateFieldGet(this, _AudioUnitInput_labelNotifier, \"f\").notify(Option.wrap(field.getValue()))))\n            }), \"f\");\n        }));\n        __classPrivateFieldGet(this, _AudioUnitInput_terminator, \"f\").own(pointerHub.catchupAndSubscribe({\n            onAdded: ({ box }) => {\n                assert(__classPrivateFieldGet(this, _AudioUnitInput_observable, \"f\").getValue().isEmpty(), \"Already set\");\n                const input = box instanceof AudioBusBox\n                    ? boxAdapters.adapterFor(box, AudioBusBoxAdapter)\n                    : boxAdapters.adapterFor(box, Devices.isInstrument);\n                if (__classPrivateFieldGet(this, _AudioUnitInput_observable, \"f\").getValue().unwrapOrNull() !== input) {\n                    __classPrivateFieldGet(this, _AudioUnitInput_observable, \"f\").setValue(Option.wrap(input));\n                }\n            },\n            onRemoved: ({ box }) => {\n                assert(__classPrivateFieldGet(this, _AudioUnitInput_observable, \"f\").getValue().unwrap(\"Cannot remove\").box.address\n                    .equals(box.address), \"Unexpected value to remove\");\n                __classPrivateFieldGet(this, _AudioUnitInput_observable, \"f\").setValue(Option.None);\n            }\n        }, Pointers.InstrumentHost, Pointers.AudioOutput));\n    }\n    getValue() { return __classPrivateFieldGet(this, _AudioUnitInput_observable, \"f\").getValue(); }\n    subscribe(observer) {\n        return __classPrivateFieldGet(this, _AudioUnitInput_observable, \"f\").subscribe(observer);\n    }\n    catchupAndSubscribe(observer) {\n        observer(__classPrivateFieldGet(this, _AudioUnitInput_observable, \"f\"));\n        return this.subscribe(observer);\n    }\n    catchupAndSubscribeLabelChange(observer) {\n        observer(this.label);\n        return __classPrivateFieldGet(this, _AudioUnitInput_labelNotifier, \"f\").subscribe(observer);\n    }\n    catchupAndSubscribeIconChange(observer) {\n        return __classPrivateFieldGet(this, _AudioUnitInput_iconValue, \"f\").catchupAndSubscribe(observer);\n    }\n    set label(value) { this.getValue().ifSome(input => input.labelField.setValue(value)); }\n    get label() { return this.getValue().map(input => input.labelField.getValue()); }\n    set icon(value) { this.getValue().ifSome(input => input.iconField.setValue(IconSymbol.toName(value))); }\n    get icon() {\n        return this.getValue().match({\n            none: () => IconSymbol.Unknown,\n            some: input => IconSymbol.fromName(input.iconField.getValue())\n        });\n    }\n    get iconValue() { return __classPrivateFieldGet(this, _AudioUnitInput_iconValue, \"f\"); }\n    terminate() {\n        __classPrivateFieldGet(this, _AudioUnitInput_terminator, \"f\").terminate();\n        __classPrivateFieldGet(this, _AudioUnitInput_subscription, \"f\").terminate();\n    }\n}\n_AudioUnitInput_terminator = new WeakMap(), _AudioUnitInput_labelNotifier = new WeakMap(), _AudioUnitInput_iconValue = new WeakMap(), _AudioUnitInput_observable = new WeakMap(), _AudioUnitInput_subscription = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ParameterAdapterSet_context, _ParameterAdapterSet_parameters;\nimport { Address } from \"@naomiarotest/lib-box\";\nimport { assert } from \"@naomiarotest/lib-std\";\nimport { AutomatableParameterFieldAdapter } from \"./AutomatableParameterFieldAdapter\";\nexport class ParameterAdapterSet {\n    constructor(context) {\n        _ParameterAdapterSet_context.set(this, void 0);\n        _ParameterAdapterSet_parameters.set(this, void 0);\n        __classPrivateFieldSet(this, _ParameterAdapterSet_context, context, \"f\");\n        __classPrivateFieldSet(this, _ParameterAdapterSet_parameters, Address.newSet(adapter => adapter.address), \"f\");\n    }\n    terminate() {\n        __classPrivateFieldGet(this, _ParameterAdapterSet_parameters, \"f\").forEach(parameter => parameter.terminate());\n        __classPrivateFieldGet(this, _ParameterAdapterSet_parameters, \"f\").clear();\n    }\n    parameters() { return __classPrivateFieldGet(this, _ParameterAdapterSet_parameters, \"f\").values(); }\n    parameterAt(address) {\n        return __classPrivateFieldGet(this, _ParameterAdapterSet_parameters, \"f\").getOrThrow(address, () => new Error(`No ParameterAdapter found at [${address.toString()}]`));\n    }\n    createParameter(field, valueMapping, stringMapping, name, anchor) {\n        const adapter = new AutomatableParameterFieldAdapter(__classPrivateFieldGet(this, _ParameterAdapterSet_context, \"f\"), field, valueMapping, stringMapping, name, anchor);\n        const added = __classPrivateFieldGet(this, _ParameterAdapterSet_parameters, \"f\").add(adapter);\n        assert(added, `Could not add adapter for ${field}`);\n        return adapter;\n    }\n    removeParameter(address) {\n        return __classPrivateFieldGet(this, _ParameterAdapterSet_parameters, \"f\").removeByKey(address);\n    }\n}\n_ParameterAdapterSet_context = new WeakMap(), _ParameterAdapterSet_parameters = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AuxSendBoxAdapter_context, _AuxSendBoxAdapter_box, _AuxSendBoxAdapter_terminator, _AuxSendBoxAdapter_busChangeNotifier, _AuxSendBoxAdapter_sendPan, _AuxSendBoxAdapter_sendGain, _AuxSendBoxAdapter_subscription;\nimport { Notifier, Option, StringMapping, Terminable, Terminator, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { AudioBusBoxAdapter } from \"./AudioBusBoxAdapter\";\nimport { AutomatableParameterFieldAdapter } from \"../AutomatableParameterFieldAdapter\";\nexport class AuxSendBoxAdapter {\n    constructor(context, box) {\n        _AuxSendBoxAdapter_context.set(this, void 0);\n        _AuxSendBoxAdapter_box.set(this, void 0);\n        _AuxSendBoxAdapter_terminator.set(this, void 0);\n        _AuxSendBoxAdapter_busChangeNotifier.set(this, void 0);\n        _AuxSendBoxAdapter_sendPan.set(this, void 0);\n        _AuxSendBoxAdapter_sendGain.set(this, void 0);\n        _AuxSendBoxAdapter_subscription.set(this, Terminable.Empty);\n        __classPrivateFieldSet(this, _AuxSendBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _AuxSendBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _AuxSendBoxAdapter_terminator, new Terminator(), \"f\");\n        __classPrivateFieldSet(this, _AuxSendBoxAdapter_busChangeNotifier, __classPrivateFieldGet(this, _AuxSendBoxAdapter_terminator, \"f\").own(new Notifier()), \"f\");\n        __classPrivateFieldGet(this, _AuxSendBoxAdapter_terminator, \"f\").own(box.targetBus.catchupAndSubscribe(() => {\n            __classPrivateFieldGet(this, _AuxSendBoxAdapter_subscription, \"f\").terminate();\n            __classPrivateFieldSet(this, _AuxSendBoxAdapter_subscription, this.optTargetBus.match({\n                none: () => {\n                    __classPrivateFieldGet(this, _AuxSendBoxAdapter_busChangeNotifier, \"f\").notify(Option.None);\n                    return Terminable.Empty;\n                },\n                some: adapter => adapter.catchupAndSubscribe(adapter => __classPrivateFieldGet(this, _AuxSendBoxAdapter_busChangeNotifier, \"f\").notify(Option.wrap(adapter)))\n            }), \"f\");\n        }));\n        __classPrivateFieldSet(this, _AuxSendBoxAdapter_sendPan, __classPrivateFieldGet(this, _AuxSendBoxAdapter_terminator, \"f\").own(new AutomatableParameterFieldAdapter(__classPrivateFieldGet(this, _AuxSendBoxAdapter_context, \"f\"), __classPrivateFieldGet(this, _AuxSendBoxAdapter_box, \"f\").sendPan, ValueMapping.bipolar(), StringMapping.percent({ unit: \"%\", fractionDigits: 0 }), \"panning\")), \"f\");\n        __classPrivateFieldSet(this, _AuxSendBoxAdapter_sendGain, __classPrivateFieldGet(this, _AuxSendBoxAdapter_terminator, \"f\").own(new AutomatableParameterFieldAdapter(__classPrivateFieldGet(this, _AuxSendBoxAdapter_context, \"f\"), __classPrivateFieldGet(this, _AuxSendBoxAdapter_box, \"f\").sendGain, ValueMapping.DefaultDecibel, StringMapping.numeric({\n            unit: \"dB\",\n            fractionDigits: 1\n        }), \"gain\")), \"f\");\n    }\n    catchupAndSubscribeBusChanges(observer) {\n        observer(this.optTargetBus);\n        return __classPrivateFieldGet(this, _AuxSendBoxAdapter_busChangeNotifier, \"f\").subscribe(observer);\n    }\n    get uuid() { return __classPrivateFieldGet(this, _AuxSendBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _AuxSendBoxAdapter_box, \"f\").address; }\n    get box() { return __classPrivateFieldGet(this, _AuxSendBoxAdapter_box, \"f\"); }\n    get indexField() { return __classPrivateFieldGet(this, _AuxSendBoxAdapter_box, \"f\").index; }\n    get sendPan() { return __classPrivateFieldGet(this, _AuxSendBoxAdapter_sendPan, \"f\"); }\n    get sendGain() { return __classPrivateFieldGet(this, _AuxSendBoxAdapter_sendGain, \"f\"); }\n    get targetBus() {\n        return __classPrivateFieldGet(this, _AuxSendBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _AuxSendBoxAdapter_box, \"f\").targetBus.targetVertex.unwrap(\"no audioUnit\").box, AudioBusBoxAdapter);\n    }\n    get optTargetBus() {\n        return __classPrivateFieldGet(this, _AuxSendBoxAdapter_box, \"f\").targetBus.targetVertex\n            .flatMap(target => Option.wrap(target.box.accept({\n            visitAudioBusBox: (box) => __classPrivateFieldGet(this, _AuxSendBoxAdapter_context, \"f\").boxAdapters.adapterFor(box, AudioBusBoxAdapter)\n        })));\n    }\n    delete() { __classPrivateFieldGet(this, _AuxSendBoxAdapter_box, \"f\").delete(); }\n    terminate() {\n        __classPrivateFieldGet(this, _AuxSendBoxAdapter_terminator, \"f\").terminate();\n        __classPrivateFieldGet(this, _AuxSendBoxAdapter_subscription, \"f\").terminate();\n    }\n}\n_AuxSendBoxAdapter_context = new WeakMap(), _AuxSendBoxAdapter_box = new WeakMap(), _AuxSendBoxAdapter_terminator = new WeakMap(), _AuxSendBoxAdapter_busChangeNotifier = new WeakMap(), _AuxSendBoxAdapter_sendPan = new WeakMap(), _AuxSendBoxAdapter_sendGain = new WeakMap(), _AuxSendBoxAdapter_subscription = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AudioUnitOutput_pointerField, _AudioUnitOutput_boxAdapters, _AudioUnitOutput_terminator, _AudioUnitOutput_busChangeNotifier, _AudioUnitOutput_subscription;\nimport { Notifier, Option, Terminable, Terminator } from \"@naomiarotest/lib-std\";\nimport { AudioBusBoxAdapter } from \"./AudioBusBoxAdapter\";\nexport class AudioUnitOutput {\n    constructor(pointerField, boxAdapters) {\n        _AudioUnitOutput_pointerField.set(this, void 0);\n        _AudioUnitOutput_boxAdapters.set(this, void 0);\n        _AudioUnitOutput_terminator.set(this, void 0);\n        _AudioUnitOutput_busChangeNotifier.set(this, void 0);\n        _AudioUnitOutput_subscription.set(this, Terminable.Empty);\n        __classPrivateFieldSet(this, _AudioUnitOutput_pointerField, pointerField, \"f\");\n        __classPrivateFieldSet(this, _AudioUnitOutput_boxAdapters, boxAdapters, \"f\");\n        __classPrivateFieldSet(this, _AudioUnitOutput_terminator, new Terminator(), \"f\");\n        __classPrivateFieldSet(this, _AudioUnitOutput_busChangeNotifier, __classPrivateFieldGet(this, _AudioUnitOutput_terminator, \"f\").own(new Notifier()), \"f\");\n        __classPrivateFieldGet(this, _AudioUnitOutput_terminator, \"f\").own(pointerField.catchupAndSubscribe(() => {\n            __classPrivateFieldGet(this, _AudioUnitOutput_subscription, \"f\").terminate();\n            __classPrivateFieldSet(this, _AudioUnitOutput_subscription, this.adapter.match({\n                none: () => {\n                    __classPrivateFieldGet(this, _AudioUnitOutput_busChangeNotifier, \"f\").notify(Option.None);\n                    return Terminable.Empty;\n                },\n                some: adapter => adapter.catchupAndSubscribe(adapter => __classPrivateFieldGet(this, _AudioUnitOutput_busChangeNotifier, \"f\").notify(Option.wrap(adapter)))\n            }), \"f\");\n        }));\n    }\n    subscribe(observer) {\n        return __classPrivateFieldGet(this, _AudioUnitOutput_busChangeNotifier, \"f\").subscribe(observer);\n    }\n    catchupAndSubscribe(observer) {\n        observer(this.adapter);\n        return this.subscribe(observer);\n    }\n    get adapter() {\n        return __classPrivateFieldGet(this, _AudioUnitOutput_pointerField, \"f\").targetVertex\n            .flatMap(target => Option.wrap(target.box.accept({\n            visitAudioBusBox: (box) => __classPrivateFieldGet(this, _AudioUnitOutput_boxAdapters, \"f\").adapterFor(box, AudioBusBoxAdapter)\n        })));\n    }\n    terminate() {\n        __classPrivateFieldGet(this, _AudioUnitOutput_terminator, \"f\").terminate();\n        __classPrivateFieldGet(this, _AudioUnitOutput_subscription, \"f\").terminate();\n    }\n}\n_AudioUnitOutput_pointerField = new WeakMap(), _AudioUnitOutput_boxAdapters = new WeakMap(), _AudioUnitOutput_terminator = new WeakMap(), _AudioUnitOutput_busChangeNotifier = new WeakMap(), _AudioUnitOutput_subscription = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AudioUnitBoxAdapter_instances, _a, _AudioUnitBoxAdapter_terminator, _AudioUnitBoxAdapter_context, _AudioUnitBoxAdapter_box, _AudioUnitBoxAdapter_parametric, _AudioUnitBoxAdapter_tracks, _AudioUnitBoxAdapter_input, _AudioUnitBoxAdapter_midiEffects, _AudioUnitBoxAdapter_audioEffects, _AudioUnitBoxAdapter_auxSends, _AudioUnitBoxAdapter_output, _AudioUnitBoxAdapter_wrapParameters, _AudioUnitBoxAdapter_sanityCheck;\nimport { assert, StringMapping, Terminator, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { AudioUnitType, Pointers } from \"@naomiarotest/studio-enums\";\nimport { Devices } from \"../DeviceAdapter\";\nimport { AudioUnitTracks } from \"./AudioUnitTracks\";\nimport { AudioUnitInput } from \"./AudioUnitInput\";\nimport { IndexedBoxAdapterCollection } from \"../IndexedBoxAdapterCollection\";\nimport { ParameterAdapterSet } from \"../ParameterAdapterSet\";\nimport { AuxSendBoxAdapter } from \"./AuxSendBoxAdapter\";\nimport { AudioUnitOutput } from \"./AudioUnitOutput\";\nexport class AudioUnitBoxAdapter {\n    constructor(context, box) {\n        _AudioUnitBoxAdapter_instances.add(this);\n        this[\"class\"] = \"device-host\";\n        _AudioUnitBoxAdapter_terminator.set(this, new Terminator());\n        _AudioUnitBoxAdapter_context.set(this, void 0);\n        _AudioUnitBoxAdapter_box.set(this, void 0);\n        _AudioUnitBoxAdapter_parametric.set(this, void 0);\n        _AudioUnitBoxAdapter_tracks.set(this, void 0);\n        _AudioUnitBoxAdapter_input.set(this, void 0);\n        _AudioUnitBoxAdapter_midiEffects.set(this, void 0);\n        _AudioUnitBoxAdapter_audioEffects.set(this, void 0);\n        _AudioUnitBoxAdapter_auxSends.set(this, void 0);\n        _AudioUnitBoxAdapter_output.set(this, void 0);\n        __classPrivateFieldSet(this, _AudioUnitBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _AudioUnitBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _AudioUnitBoxAdapter_parametric, __classPrivateFieldGet(this, _AudioUnitBoxAdapter_terminator, \"f\").own(new ParameterAdapterSet(__classPrivateFieldGet(this, _AudioUnitBoxAdapter_context, \"f\"))), \"f\");\n        __classPrivateFieldSet(this, _AudioUnitBoxAdapter_tracks, __classPrivateFieldGet(this, _AudioUnitBoxAdapter_terminator, \"f\").own(new AudioUnitTracks(this, __classPrivateFieldGet(this, _AudioUnitBoxAdapter_context, \"f\").boxAdapters)), \"f\");\n        __classPrivateFieldSet(this, _AudioUnitBoxAdapter_input, __classPrivateFieldGet(this, _AudioUnitBoxAdapter_terminator, \"f\").own(new AudioUnitInput(__classPrivateFieldGet(this, _AudioUnitBoxAdapter_box, \"f\").input.pointerHub, __classPrivateFieldGet(this, _AudioUnitBoxAdapter_context, \"f\").boxAdapters)), \"f\");\n        __classPrivateFieldSet(this, _AudioUnitBoxAdapter_midiEffects, __classPrivateFieldGet(this, _AudioUnitBoxAdapter_terminator, \"f\").own(IndexedBoxAdapterCollection.create(__classPrivateFieldGet(this, _AudioUnitBoxAdapter_box, \"f\").midiEffects, box => __classPrivateFieldGet(this, _AudioUnitBoxAdapter_context, \"f\").boxAdapters.adapterFor(box, Devices.isMidiEffect), Pointers.MidiEffectHost)), \"f\");\n        __classPrivateFieldSet(this, _AudioUnitBoxAdapter_audioEffects, __classPrivateFieldGet(this, _AudioUnitBoxAdapter_terminator, \"f\").own(IndexedBoxAdapterCollection.create(__classPrivateFieldGet(this, _AudioUnitBoxAdapter_box, \"f\").audioEffects, box => __classPrivateFieldGet(this, _AudioUnitBoxAdapter_context, \"f\").boxAdapters.adapterFor(box, Devices.isAudioEffect), Pointers.AudioEffectHost)), \"f\");\n        __classPrivateFieldSet(this, _AudioUnitBoxAdapter_auxSends, __classPrivateFieldGet(this, _AudioUnitBoxAdapter_terminator, \"f\").own(IndexedBoxAdapterCollection.create(__classPrivateFieldGet(this, _AudioUnitBoxAdapter_box, \"f\").auxSends, box => __classPrivateFieldGet(this, _AudioUnitBoxAdapter_context, \"f\").boxAdapters.adapterFor(box, AuxSendBoxAdapter), Pointers.AuxSend)), \"f\");\n        __classPrivateFieldSet(this, _AudioUnitBoxAdapter_output, __classPrivateFieldGet(this, _AudioUnitBoxAdapter_terminator, \"f\").own(new AudioUnitOutput(__classPrivateFieldGet(this, _AudioUnitBoxAdapter_box, \"f\").output, __classPrivateFieldGet(this, _AudioUnitBoxAdapter_context, \"f\").boxAdapters)), \"f\");\n        this.namedParameter = __classPrivateFieldGet(this, _AudioUnitBoxAdapter_instances, \"m\", _AudioUnitBoxAdapter_wrapParameters).call(this, box);\n        __classPrivateFieldGet(this, _AudioUnitBoxAdapter_instances, \"m\", _AudioUnitBoxAdapter_sanityCheck).call(this);\n    }\n    get box() { return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_box, \"f\").index; }\n    get type() { return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_box, \"f\").type.getValue(); }\n    get captureBox() { return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_box, \"f\").capture.targetVertex; }\n    get tracks() { return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_tracks, \"f\"); }\n    get input() { return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_input, \"f\"); }\n    get midiEffects() { return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_midiEffects, \"f\"); }\n    get audioEffects() { return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_audioEffects, \"f\"); }\n    get inputAdapter() { return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_input, \"f\").getValue(); }\n    get auxSends() { return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_auxSends, \"f\"); }\n    get output() { return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_output, \"f\"); }\n    get isBus() { return this.input.getValue().mapOr(adapter => adapter.type === \"bus\", false); }\n    get isInstrument() { return this.input.getValue().mapOr(adapter => adapter.type === \"instrument\", false); }\n    get isOutput() {\n        return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_box, \"f\").output.targetVertex.mapOr(output => output.box.address.equals(__classPrivateFieldGet(this, _AudioUnitBoxAdapter_context, \"f\").rootBoxAdapter.address), false);\n    }\n    get midiEffectsField() { return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_box, \"f\").midiEffects; }\n    get inputField() { return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_box, \"f\").input; }\n    get audioEffectsField() { return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_box, \"f\").audioEffects; }\n    get tracksField() { return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_box, \"f\").tracks; }\n    get minimizedField() { return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_input, \"f\").getValue().unwrap().minimizedField; }\n    get isAudioUnit() { return true; }\n    get label() { return __classPrivateFieldGet(this, _AudioUnitBoxAdapter_input, \"f\").getValue().mapOr(input => input.labelField.getValue(), \"\"); }\n    audioUnitBoxAdapter() { return this; }\n    indicesLimit() {\n        const adapters = __classPrivateFieldGet(this, _AudioUnitBoxAdapter_context, \"f\").rootBoxAdapter.audioUnits.adapters();\n        const startIndex = this.indexField.getValue();\n        const unitType = this.type;\n        let min = startIndex;\n        let max = startIndex;\n        while (min > 0) {\n            if (adapters[min - 1].type === unitType) {\n                min--;\n            }\n            else {\n                break;\n            }\n        }\n        while (max < adapters.length - 1) {\n            if (adapters[max + 1].type === unitType) {\n                max++;\n            }\n            else {\n                break;\n            }\n        }\n        return [min, max + 1];\n    }\n    move(delta) { __classPrivateFieldGet(this, _AudioUnitBoxAdapter_context, \"f\").rootBoxAdapter.audioUnits.move(this, delta); }\n    moveTrack(adapter, delta) { __classPrivateFieldGet(this, _AudioUnitBoxAdapter_tracks, \"f\").collection.move(adapter, delta); }\n    deleteTrack(adapter) { __classPrivateFieldGet(this, _AudioUnitBoxAdapter_tracks, \"f\").delete(adapter); }\n    toString() { return `{${this.constructor.name}}`; }\n    terminate() { __classPrivateFieldGet(this, _AudioUnitBoxAdapter_terminator, \"f\").terminate(); }\n}\n_a = AudioUnitBoxAdapter, _AudioUnitBoxAdapter_terminator = new WeakMap(), _AudioUnitBoxAdapter_context = new WeakMap(), _AudioUnitBoxAdapter_box = new WeakMap(), _AudioUnitBoxAdapter_parametric = new WeakMap(), _AudioUnitBoxAdapter_tracks = new WeakMap(), _AudioUnitBoxAdapter_input = new WeakMap(), _AudioUnitBoxAdapter_midiEffects = new WeakMap(), _AudioUnitBoxAdapter_audioEffects = new WeakMap(), _AudioUnitBoxAdapter_auxSends = new WeakMap(), _AudioUnitBoxAdapter_output = new WeakMap(), _AudioUnitBoxAdapter_instances = new WeakSet(), _AudioUnitBoxAdapter_wrapParameters = function _AudioUnitBoxAdapter_wrapParameters(box) {\n    return {\n        volume: __classPrivateFieldGet(this, _AudioUnitBoxAdapter_parametric, \"f\").createParameter(box.volume, _a.VolumeMapper, StringMapping.decible, \"volume\"),\n        panning: __classPrivateFieldGet(this, _AudioUnitBoxAdapter_parametric, \"f\").createParameter(box.panning, ValueMapping.bipolar(), StringMapping.panning, \"panning\", 0.5),\n        mute: __classPrivateFieldGet(this, _AudioUnitBoxAdapter_parametric, \"f\").createParameter(box.mute, ValueMapping.bool, StringMapping.bool, \"mute\"),\n        solo: __classPrivateFieldGet(this, _AudioUnitBoxAdapter_parametric, \"f\").createParameter(box.solo, ValueMapping.bool, StringMapping.bool, \"solo\")\n    };\n}, _AudioUnitBoxAdapter_sanityCheck = function _AudioUnitBoxAdapter_sanityCheck() {\n    const address = this.address.toString();\n    const capture = __classPrivateFieldGet(this, _AudioUnitBoxAdapter_box, \"f\").capture.targetAddress.unwrapOrUndefined();\n    const fail = () => `AudioUnit '${address}' must have a capture. AudioUnit is typed ${this.type} and has input ${__classPrivateFieldGet(this, _AudioUnitBoxAdapter_box, \"f\").input.pointerHub.incoming().at(0)?.box.name}, but capture is ${capture}`;\n    assert(this.type !== AudioUnitType.Instrument || __classPrivateFieldGet(this, _AudioUnitBoxAdapter_box, \"f\").capture.targetAddress.nonEmpty(), fail);\n};\nAudioUnitBoxAdapter.VolumeMapper = ValueMapping.decibel(-96.0, -9.0, +6.0);\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _TrackBoxAdapter_instances, _TrackBoxAdapter_context, _TrackBoxAdapter_box, _TrackBoxAdapter_terminator, _TrackBoxAdapter_clips, _TrackBoxAdapter_regions, _TrackBoxAdapter_listIndex, _TrackBoxAdapter_catchupAndSubscribeTargetDeviceName, _TrackBoxAdapter_catchupAndSubscribeTargetControlName;\nimport { asInstanceOf, DefaultObservableValue, isInstanceOf, Option, panic, Terminable, Terminator } from \"@naomiarotest/lib-std\";\nimport { StringField } from \"@naomiarotest/lib-box\";\nimport { UpdateClockRate } from \"@naomiarotest/lib-dsp\";\nimport { TrackClips } from \"./TrackClips\";\nimport { TrackRegions } from \"./TrackRegions\";\nimport { AudioUnitBoxAdapter } from \"../audio-unit/AudioUnitBoxAdapter\";\nimport { TrackType } from \"./TrackType\";\nimport { ValueClipBoxAdapter } from \"./clip/ValueClipBoxAdapter\";\nimport { ValueRegionBoxAdapter } from \"./region/ValueRegionBoxAdapter\";\nimport { AudioUnitBox } from \"@naomiarotest/studio-boxes\";\nexport class TrackBoxAdapter {\n    constructor(context, box) {\n        _TrackBoxAdapter_instances.add(this);\n        _TrackBoxAdapter_context.set(this, void 0);\n        _TrackBoxAdapter_box.set(this, void 0);\n        _TrackBoxAdapter_terminator.set(this, void 0);\n        _TrackBoxAdapter_clips.set(this, void 0);\n        _TrackBoxAdapter_regions.set(this, void 0);\n        _TrackBoxAdapter_listIndex.set(this, void 0);\n        __classPrivateFieldSet(this, _TrackBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _TrackBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _TrackBoxAdapter_terminator, new Terminator(), \"f\");\n        __classPrivateFieldSet(this, _TrackBoxAdapter_clips, __classPrivateFieldGet(this, _TrackBoxAdapter_terminator, \"f\").own(new TrackClips(this, context.boxAdapters)), \"f\");\n        __classPrivateFieldSet(this, _TrackBoxAdapter_regions, __classPrivateFieldGet(this, _TrackBoxAdapter_terminator, \"f\").own(new TrackRegions(this, context.boxAdapters)), \"f\");\n        __classPrivateFieldSet(this, _TrackBoxAdapter_listIndex, __classPrivateFieldGet(this, _TrackBoxAdapter_terminator, \"f\").own(new DefaultObservableValue(-1)), \"f\");\n    }\n    catchupAndSubscribePath(observer) {\n        const path = [Option.None, Option.None];\n        const updater = () => {\n            if (path.every(option => option.nonEmpty())) {\n                observer(Option.wrap(path.map(option => option.unwrap())));\n            }\n            else {\n                observer(Option.None);\n            }\n        };\n        return Terminable.many(__classPrivateFieldGet(this, _TrackBoxAdapter_instances, \"m\", _TrackBoxAdapter_catchupAndSubscribeTargetDeviceName).call(this, option => {\n            if (path[0].equals(option)) {\n                return;\n            }\n            path[0] = option;\n            updater();\n        }), __classPrivateFieldGet(this, _TrackBoxAdapter_instances, \"m\", _TrackBoxAdapter_catchupAndSubscribeTargetControlName).call(this, option => {\n            if (path[1].equals(option)) {\n                return;\n            }\n            path[1] = option;\n            updater();\n        }));\n    }\n    set targetDeviceName(value) {\n        __classPrivateFieldGet(this, _TrackBoxAdapter_box, \"f\").target.targetVertex.ifSome(targetVertex => {\n            const vertex = targetVertex.box;\n            if (vertex instanceof AudioUnitBox) {\n                const adapter = __classPrivateFieldGet(this, _TrackBoxAdapter_context, \"f\").boxAdapters.adapterFor(vertex, AudioUnitBoxAdapter);\n                return adapter.input.getValue().ifSome(({ labelField }) => labelField.setValue(value));\n            }\n            else if (\"label\" in vertex && vertex.label instanceof StringField) {\n                return vertex.label.setValue(value);\n            }\n        });\n    }\n    get targetDeviceName() {\n        return __classPrivateFieldGet(this, _TrackBoxAdapter_box, \"f\").target.targetVertex.flatMap(targetVertex => {\n            const vertex = targetVertex.box;\n            if (vertex instanceof AudioUnitBox) {\n                const adapter = __classPrivateFieldGet(this, _TrackBoxAdapter_context, \"f\").boxAdapters.adapterFor(vertex, AudioUnitBoxAdapter);\n                return adapter.input.label;\n            }\n            else if (\"label\" in vertex && vertex.label instanceof StringField) {\n                return Option.wrap(vertex.label.getValue());\n            }\n            else {\n                return Option.wrap(vertex.name);\n            }\n        });\n    }\n    terminate() { __classPrivateFieldGet(this, _TrackBoxAdapter_terminator, \"f\").terminate(); }\n    get audioUnit() { return asInstanceOf(__classPrivateFieldGet(this, _TrackBoxAdapter_box, \"f\").tracks.targetVertex.unwrap().box, AudioUnitBox); }\n    get target() { return __classPrivateFieldGet(this, _TrackBoxAdapter_box, \"f\").target; }\n    get clips() { return __classPrivateFieldGet(this, _TrackBoxAdapter_clips, \"f\"); }\n    get regions() { return __classPrivateFieldGet(this, _TrackBoxAdapter_regions, \"f\"); }\n    get enabled() { return __classPrivateFieldGet(this, _TrackBoxAdapter_box, \"f\").enabled; }\n    get indexField() { return __classPrivateFieldGet(this, _TrackBoxAdapter_box, \"f\").index; }\n    get type() { return __classPrivateFieldGet(this, _TrackBoxAdapter_box, \"f\").type.getValue(); }\n    get box() { return __classPrivateFieldGet(this, _TrackBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _TrackBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _TrackBoxAdapter_box, \"f\").address; }\n    get listIndex() { return __classPrivateFieldGet(this, _TrackBoxAdapter_listIndex, \"f\").getValue(); }\n    set listIndex(value) { __classPrivateFieldGet(this, _TrackBoxAdapter_listIndex, \"f\").setValue(value); }\n    accepts(subject) {\n        switch (subject.type) {\n            case \"audio-clip\":\n                return this.type === TrackType.Audio;\n            case \"note-clip\":\n                return this.type === TrackType.Notes;\n            case \"value-clip\":\n                return this.type === TrackType.Value;\n            case \"audio-region\":\n                return this.type === TrackType.Audio;\n            case \"note-region\":\n                return this.type === TrackType.Notes;\n            case \"value-region\":\n                return this.type === TrackType.Value;\n        }\n    }\n    valueAt(position, fallback) {\n        if (!this.enabled.getValue()) {\n            return fallback;\n        }\n        let value = fallback;\n        const intervals = __classPrivateFieldGet(this, _TrackBoxAdapter_context, \"f\").clipSequencing.iterate(this.uuid, position, position + UpdateClockRate);\n        for (const { optClip, sectionFrom } of intervals) {\n            value = optClip.match({\n                none: () => {\n                    const region = this.regions.collection.lowerEqual(position, region => !region.mute);\n                    if (region === null) {\n                        const firstRegion = this.regions.collection.optAt(0);\n                        return isInstanceOf(firstRegion, ValueRegionBoxAdapter) ? firstRegion.incomingValue(fallback) : fallback;\n                    }\n                    else if (isInstanceOf(region, ValueRegionBoxAdapter)) {\n                        if (position < region.complete) {\n                            return region.valueAt(position, fallback);\n                        }\n                        else {\n                            return region.outgoingValue(fallback);\n                        }\n                    }\n                    return fallback;\n                },\n                some: clip => {\n                    if (sectionFrom === position) {\n                        if (isInstanceOf(clip, ValueClipBoxAdapter)) {\n                            return clip.valueAt(position, fallback);\n                        }\n                    }\n                    return fallback;\n                }\n            });\n        }\n        return value;\n    }\n}\n_TrackBoxAdapter_context = new WeakMap(), _TrackBoxAdapter_box = new WeakMap(), _TrackBoxAdapter_terminator = new WeakMap(), _TrackBoxAdapter_clips = new WeakMap(), _TrackBoxAdapter_regions = new WeakMap(), _TrackBoxAdapter_listIndex = new WeakMap(), _TrackBoxAdapter_instances = new WeakSet(), _TrackBoxAdapter_catchupAndSubscribeTargetDeviceName = function _TrackBoxAdapter_catchupAndSubscribeTargetDeviceName(observer) {\n    const targetVertex = __classPrivateFieldGet(this, _TrackBoxAdapter_box, \"f\").target.targetVertex;\n    if (targetVertex.nonEmpty()) {\n        const vertex = targetVertex.unwrap().box;\n        if (vertex instanceof AudioUnitBox) {\n            const adapter = __classPrivateFieldGet(this, _TrackBoxAdapter_context, \"f\").boxAdapters.adapterFor(vertex, AudioUnitBoxAdapter);\n            return adapter.input.catchupAndSubscribeLabelChange(option => observer(option));\n        }\n        else if (\"label\" in vertex && vertex.label instanceof StringField) {\n            return vertex.label.catchupAndSubscribe(owner => observer(Option.wrap(owner.getValue())));\n        }\n        else {\n            // This will probably not happen. It is just a fallback.\n            observer(Option.wrap(vertex.name));\n            return Terminable.Empty;\n        }\n    }\n    observer(Option.None);\n    return Terminable.Empty;\n}, _TrackBoxAdapter_catchupAndSubscribeTargetControlName = function _TrackBoxAdapter_catchupAndSubscribeTargetControlName(observer) {\n    const type = this.type;\n    switch (type) {\n        case TrackType.Audio:\n        case TrackType.Notes: {\n            observer(Option.wrap(TrackType[type]));\n            return Terminable.Empty;\n        }\n        case TrackType.Value: {\n            const target = __classPrivateFieldGet(this, _TrackBoxAdapter_box, \"f\").target.targetVertex.unwrap();\n            if (target.isField()) {\n                observer(__classPrivateFieldGet(this, _TrackBoxAdapter_context, \"f\").parameterFieldAdapters.opt(target.address).map(vertex => vertex.name));\n            }\n            else if (target.isBox()) {\n                // I cannot think of a scenario where target is a box, but at least the UI shows the box's name\n                observer(Option.wrap(target.name));\n            }\n            else {\n                return panic(\"Illegal State. Vertex is not a field nor box.\");\n            }\n            return Terminable.Empty;\n        }\n        case TrackType.Undefined: {\n            observer(Option.wrap(\"\"));\n            return Terminable.Empty;\n        }\n        default: {\n            observer(Option.None);\n            return Terminable.Empty;\n        }\n    }\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AutomatableParameterFieldAdapter_context, _AutomatableParameterFieldAdapter_field, _AutomatableParameterFieldAdapter_valueMapping, _AutomatableParameterFieldAdapter_stringMapping, _AutomatableParameterFieldAdapter_name, _AutomatableParameterFieldAdapter_anchor, _AutomatableParameterFieldAdapter_terminator, _AutomatableParameterFieldAdapter_valueChangeNotifier, _AutomatableParameterFieldAdapter_controlSource, _AutomatableParameterFieldAdapter_trackBoxAdapter, _AutomatableParameterFieldAdapter_automationHandle, _AutomatableParameterFieldAdapter_controlledValue, _AutomatableParameterFieldAdapter_midiControlled;\nimport { assert, clamp, Listeners, Notifier, Option, panic, Terminator } from \"@naomiarotest/lib-std\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nimport { TrackBoxAdapter } from \"./timeline/TrackBoxAdapter\";\nconst ExternalControlTypes = [\n    Pointers.Automation,\n    Pointers.Modulation,\n    Pointers.MidiControl,\n    Pointers.ParameterController\n];\nexport class AutomatableParameterFieldAdapter {\n    constructor(context, field, valueMapping, stringMapping, name, anchor) {\n        _AutomatableParameterFieldAdapter_context.set(this, void 0);\n        _AutomatableParameterFieldAdapter_field.set(this, void 0);\n        _AutomatableParameterFieldAdapter_valueMapping.set(this, void 0);\n        _AutomatableParameterFieldAdapter_stringMapping.set(this, void 0);\n        _AutomatableParameterFieldAdapter_name.set(this, void 0);\n        _AutomatableParameterFieldAdapter_anchor.set(this, void 0);\n        _AutomatableParameterFieldAdapter_terminator.set(this, new Terminator());\n        _AutomatableParameterFieldAdapter_valueChangeNotifier.set(this, void 0);\n        _AutomatableParameterFieldAdapter_controlSource.set(this, void 0);\n        _AutomatableParameterFieldAdapter_trackBoxAdapter.set(this, Option.None);\n        _AutomatableParameterFieldAdapter_automationHandle.set(this, Option.None);\n        _AutomatableParameterFieldAdapter_controlledValue.set(this, null);\n        _AutomatableParameterFieldAdapter_midiControlled.set(this, false);\n        __classPrivateFieldSet(this, _AutomatableParameterFieldAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _AutomatableParameterFieldAdapter_field, field, \"f\");\n        __classPrivateFieldSet(this, _AutomatableParameterFieldAdapter_valueMapping, valueMapping, \"f\");\n        __classPrivateFieldSet(this, _AutomatableParameterFieldAdapter_stringMapping, stringMapping, \"f\");\n        __classPrivateFieldSet(this, _AutomatableParameterFieldAdapter_name, name, \"f\");\n        __classPrivateFieldSet(this, _AutomatableParameterFieldAdapter_anchor, anchor ?? 0.0, \"f\");\n        __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_terminator, \"f\").own(__classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_context, \"f\").parameterFieldAdapters.register(this));\n        __classPrivateFieldSet(this, _AutomatableParameterFieldAdapter_valueChangeNotifier, __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_terminator, \"f\").own(new Notifier()), \"f\");\n        __classPrivateFieldSet(this, _AutomatableParameterFieldAdapter_controlSource, new Listeners(), \"f\");\n        __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_terminator, \"f\").own(__classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_field, \"f\").subscribe(() => __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_valueChangeNotifier, \"f\").notify(this)));\n        __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_terminator, \"f\").own(__classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_field, \"f\").pointerHub.catchupAndSubscribe({\n            onAdded: (pointer) => {\n                __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_controlSource, \"f\").proxy.onControlSourceAdd(mapPointerToControlSource(pointer.pointerType));\n                pointer.box.accept({\n                    visitTrackBox: (box) => {\n                        assert(__classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_trackBoxAdapter, \"f\").isEmpty(), \"Already assigned\");\n                        const adapter = __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_context, \"f\").boxAdapters.adapterFor(box, TrackBoxAdapter);\n                        __classPrivateFieldSet(this, _AutomatableParameterFieldAdapter_trackBoxAdapter, Option.wrap(adapter), \"f\");\n                        if (__classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_context, \"f\").isMainThread) {\n                            __classPrivateFieldSet(this, _AutomatableParameterFieldAdapter_automationHandle, Option.wrap(__classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_context, \"f\").liveStreamReceiver\n                                .subscribeFloat(__classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_field, \"f\").address, value => {\n                                if (__classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_controlledValue, \"f\") === value) {\n                                    return;\n                                }\n                                __classPrivateFieldSet(this, _AutomatableParameterFieldAdapter_controlledValue, value, \"f\");\n                                __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_valueChangeNotifier, \"f\").notify(this);\n                            })), \"f\");\n                        }\n                    }\n                });\n            },\n            onRemoved: (pointer) => {\n                __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_controlSource, \"f\").proxy.onControlSourceRemove(mapPointerToControlSource(pointer.pointerType));\n                pointer.box.accept({\n                    visitTrackBox: (box) => {\n                        assert(__classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_trackBoxAdapter, \"f\").unwrapOrNull()?.address?.equals(box.address) === true, `Unknown ${box}`);\n                        __classPrivateFieldSet(this, _AutomatableParameterFieldAdapter_trackBoxAdapter, Option.None, \"f\");\n                        if (__classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_context, \"f\").isMainThread) {\n                            __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_automationHandle, \"f\").ifSome(handle => handle.terminate());\n                            __classPrivateFieldSet(this, _AutomatableParameterFieldAdapter_automationHandle, Option.None, \"f\");\n                            __classPrivateFieldSet(this, _AutomatableParameterFieldAdapter_controlledValue, null, \"f\");\n                            __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_valueChangeNotifier, \"f\").notify(this);\n                        }\n                    }\n                });\n            }\n        }, ...ExternalControlTypes));\n        /*\n        For debugging: It's not live because floating errors expose false positives,\n            and I am too lazy to implement this in the mappings itself.\n        */\n        if (field.getValue() !== valueMapping.clamp(field.getValue())) {\n            console.warn(`${name} (${field.getValue()}) is out of bounds`, \"constraints\" in field ? field[\"constraints\"] : \"no constraints\", valueMapping, field.address.fieldKeys.join(\", \"), field.box.name);\n        }\n    }\n    registerMidiControl() {\n        __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_controlSource, \"f\").proxy.onControlSourceAdd(\"midi\");\n        __classPrivateFieldSet(this, _AutomatableParameterFieldAdapter_midiControlled, true, \"f\");\n        return {\n            terminate: () => {\n                __classPrivateFieldSet(this, _AutomatableParameterFieldAdapter_midiControlled, false, \"f\");\n                __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_controlSource, \"f\").proxy.onControlSourceRemove(\"midi\");\n            }\n        };\n    }\n    get field() { return __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_field, \"f\"); }\n    get valueMapping() { return __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_valueMapping, \"f\"); }\n    get stringMapping() { return __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_stringMapping, \"f\"); }\n    get name() { return __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_name, \"f\"); }\n    get anchor() { return __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_anchor, \"f\"); }\n    get type() { return __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_field, \"f\").type; }\n    get address() { return __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_field, \"f\").address; }\n    get track() { return __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_trackBoxAdapter, \"f\"); }\n    valueAt(position) {\n        const optTrack = __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_trackBoxAdapter, \"f\");\n        if (optTrack.nonEmpty()) {\n            const track = optTrack.unwrap();\n            if (track.enabled) {\n                return this.valueMapping.y(track.valueAt(position, this.getUnitValue()));\n            }\n        }\n        return this.getValue();\n    }\n    subscribe(observer) { return __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_valueChangeNotifier, \"f\").subscribe(observer); }\n    catchupAndSubscribe(observer) {\n        observer(this);\n        return this.subscribe(observer);\n    }\n    catchupAndSubscribeControlSources(observer) {\n        if (__classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_midiControlled, \"f\")) {\n            observer.onControlSourceAdd(\"midi\");\n        }\n        __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_field, \"f\").pointerHub.filter(...ExternalControlTypes)\n            .forEach(pointer => observer.onControlSourceAdd(mapPointerToControlSource(pointer.pointerType)));\n        return __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_controlSource, \"f\").subscribe(observer);\n    }\n    getValue() { return __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_field, \"f\").getValue(); }\n    setValue(value) { __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_field, \"f\").setValue(value); }\n    setUnitValue(value) { this.setValue(__classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_valueMapping, \"f\").y(value)); }\n    getUnitValue() { return __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_valueMapping, \"f\").x(this.getValue()); }\n    getControlledValue() { return __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_valueMapping, \"f\").y(this.getControlledUnitValue()); }\n    getControlledUnitValue() { return __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_controlledValue, \"f\") ?? this.getUnitValue(); }\n    getControlledPrintValue() { return __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_stringMapping, \"f\").x(this.getControlledValue()); }\n    getPrintValue() { return __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_stringMapping, \"f\").x(this.getValue()); }\n    setPrintValue(text) {\n        const result = __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_stringMapping, \"f\").y(text);\n        if (result.type === \"unitValue\") {\n            this.setUnitValue(clamp(result.value, 0.0, 1.0));\n        }\n        else if (result.type === \"explicit\") {\n            this.setValue(this.valueMapping.clamp(result.value));\n        }\n        else {\n            console.debug(`Unknown text input: '${result.value}'`);\n        }\n    }\n    reset() { this.setValue(__classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_valueMapping, \"f\").clamp(__classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_field, \"f\").initValue)); }\n    terminate() {\n        __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_automationHandle, \"f\").ifSome(handle => handle.terminate());\n        __classPrivateFieldSet(this, _AutomatableParameterFieldAdapter_automationHandle, Option.None, \"f\");\n        __classPrivateFieldGet(this, _AutomatableParameterFieldAdapter_terminator, \"f\").terminate();\n    }\n}\n_AutomatableParameterFieldAdapter_context = new WeakMap(), _AutomatableParameterFieldAdapter_field = new WeakMap(), _AutomatableParameterFieldAdapter_valueMapping = new WeakMap(), _AutomatableParameterFieldAdapter_stringMapping = new WeakMap(), _AutomatableParameterFieldAdapter_name = new WeakMap(), _AutomatableParameterFieldAdapter_anchor = new WeakMap(), _AutomatableParameterFieldAdapter_terminator = new WeakMap(), _AutomatableParameterFieldAdapter_valueChangeNotifier = new WeakMap(), _AutomatableParameterFieldAdapter_controlSource = new WeakMap(), _AutomatableParameterFieldAdapter_trackBoxAdapter = new WeakMap(), _AutomatableParameterFieldAdapter_automationHandle = new WeakMap(), _AutomatableParameterFieldAdapter_controlledValue = new WeakMap(), _AutomatableParameterFieldAdapter_midiControlled = new WeakMap();\nconst mapPointerToControlSource = (pointer) => {\n    switch (pointer) {\n        case Pointers.Automation:\n            return \"automated\";\n        case Pointers.Modulation:\n            return \"modulated\";\n        case Pointers.MidiControl:\n            return \"midi\";\n        case Pointers.ParameterController:\n            return \"external\";\n        default:\n            return panic(`${pointer.toString()} is an unknown pointer type`);\n    }\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _BoxAdapterCollection_entries, _BoxAdapterCollection_listeners, _BoxAdapterCollection_subscription;\nimport { assert, Listeners, UUID } from \"@naomiarotest/lib-std\";\nexport class BoxAdapterCollection {\n    constructor(pointerHub, provider, pointers) {\n        _BoxAdapterCollection_entries.set(this, void 0);\n        _BoxAdapterCollection_listeners.set(this, void 0);\n        _BoxAdapterCollection_subscription.set(this, void 0);\n        __classPrivateFieldSet(this, _BoxAdapterCollection_entries, UUID.newSet(adapter => adapter.uuid), \"f\");\n        __classPrivateFieldSet(this, _BoxAdapterCollection_listeners, new Listeners(), \"f\");\n        __classPrivateFieldSet(this, _BoxAdapterCollection_subscription, pointerHub.catchupAndSubscribe({\n            onAdded: (pointer) => {\n                const adapter = provider(pointer.box);\n                const added = __classPrivateFieldGet(this, _BoxAdapterCollection_entries, \"f\").add(adapter);\n                assert(added, `Could not add ${adapter}`);\n                __classPrivateFieldGet(this, _BoxAdapterCollection_listeners, \"f\").proxy.onAdd(adapter);\n            },\n            onRemoved: (pointer) => {\n                const uuid = pointer.box.address.uuid;\n                __classPrivateFieldGet(this, _BoxAdapterCollection_listeners, \"f\").proxy.onRemove(__classPrivateFieldGet(this, _BoxAdapterCollection_entries, \"f\").removeByKey(uuid));\n            }\n        }, pointers), \"f\");\n    }\n    subscribe(listener) { return __classPrivateFieldGet(this, _BoxAdapterCollection_listeners, \"f\").subscribe(listener); }\n    catchupAndSubscribe(listener) {\n        __classPrivateFieldGet(this, _BoxAdapterCollection_entries, \"f\").forEach(adapter => listener.onAdd(adapter));\n        return this.subscribe(listener);\n    }\n    adapters() { return __classPrivateFieldGet(this, _BoxAdapterCollection_entries, \"f\").values(); }\n    size() { return __classPrivateFieldGet(this, _BoxAdapterCollection_entries, \"f\").size(); }\n    isEmpty() { return this.size() === 0; }\n    terminate() {\n        __classPrivateFieldGet(this, _BoxAdapterCollection_entries, \"f\").clear();\n        __classPrivateFieldGet(this, _BoxAdapterCollection_listeners, \"f\").terminate();\n        __classPrivateFieldGet(this, _BoxAdapterCollection_subscription, \"f\").terminate();\n    }\n}\n_BoxAdapterCollection_entries = new WeakMap(), _BoxAdapterCollection_listeners = new WeakMap(), _BoxAdapterCollection_subscription = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _DelayDeviceBoxAdapter_instances, _a, _DelayDeviceBoxAdapter_context, _DelayDeviceBoxAdapter_box, _DelayDeviceBoxAdapter_parametric, _DelayDeviceBoxAdapter_wrapParameters;\nimport { StringMapping, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { Fraction } from \"@naomiarotest/lib-dsp\";\nimport { Devices } from \"../../DeviceAdapter\";\nimport { ParameterAdapterSet } from \"../../ParameterAdapterSet\";\nexport class DelayDeviceBoxAdapter {\n    constructor(context, box) {\n        _DelayDeviceBoxAdapter_instances.add(this);\n        this.type = \"audio-effect\";\n        this.accepts = \"audio\";\n        _DelayDeviceBoxAdapter_context.set(this, void 0);\n        _DelayDeviceBoxAdapter_box.set(this, void 0);\n        _DelayDeviceBoxAdapter_parametric.set(this, void 0);\n        __classPrivateFieldSet(this, _DelayDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _DelayDeviceBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _DelayDeviceBoxAdapter_parametric, new ParameterAdapterSet(__classPrivateFieldGet(this, _DelayDeviceBoxAdapter_context, \"f\")), \"f\");\n        this.namedParameter = __classPrivateFieldGet(this, _DelayDeviceBoxAdapter_instances, \"m\", _DelayDeviceBoxAdapter_wrapParameters).call(this, box);\n    }\n    get box() { return __classPrivateFieldGet(this, _DelayDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _DelayDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _DelayDeviceBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _DelayDeviceBoxAdapter_box, \"f\").index; }\n    get labelField() { return __classPrivateFieldGet(this, _DelayDeviceBoxAdapter_box, \"f\").label; }\n    get enabledField() { return __classPrivateFieldGet(this, _DelayDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _DelayDeviceBoxAdapter_box, \"f\").minimized; }\n    get host() { return __classPrivateFieldGet(this, _DelayDeviceBoxAdapter_box, \"f\").host; }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _DelayDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _DelayDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { __classPrivateFieldGet(this, _DelayDeviceBoxAdapter_parametric, \"f\").terminate(); }\n}\n_a = DelayDeviceBoxAdapter, _DelayDeviceBoxAdapter_context = new WeakMap(), _DelayDeviceBoxAdapter_box = new WeakMap(), _DelayDeviceBoxAdapter_parametric = new WeakMap(), _DelayDeviceBoxAdapter_instances = new WeakSet(), _DelayDeviceBoxAdapter_wrapParameters = function _DelayDeviceBoxAdapter_wrapParameters(box) {\n    return {\n        delay: __classPrivateFieldGet(this, _DelayDeviceBoxAdapter_parametric, \"f\").createParameter(box.delay, ValueMapping.linearInteger(0, _a.OffsetFractions.length - 1), _a.OffsetStringMapping, \"delay\"),\n        feedback: __classPrivateFieldGet(this, _DelayDeviceBoxAdapter_parametric, \"f\").createParameter(box.feedback, ValueMapping.unipolar(), StringMapping.numeric({ unit: \"%\", fractionDigits: 0 }), \"feedback\"),\n        cross: __classPrivateFieldGet(this, _DelayDeviceBoxAdapter_parametric, \"f\").createParameter(box.cross, ValueMapping.unipolar(), StringMapping.numeric({ unit: \"%\", fractionDigits: 0 }), \"cross\"),\n        filter: __classPrivateFieldGet(this, _DelayDeviceBoxAdapter_parametric, \"f\").createParameter(box.filter, ValueMapping.bipolar(), StringMapping.numeric({ unit: \"%\", fractionDigits: 0 }), \"filter\", 0.5),\n        dry: __classPrivateFieldGet(this, _DelayDeviceBoxAdapter_parametric, \"f\").createParameter(box.dry, ValueMapping.DefaultDecibel, StringMapping.numeric({ unit: \"db\", fractionDigits: 1 }), \"dry\"),\n        wet: __classPrivateFieldGet(this, _DelayDeviceBoxAdapter_parametric, \"f\").createParameter(box.wet, ValueMapping.DefaultDecibel, StringMapping.numeric({ unit: \"db\", fractionDigits: 1 }), \"wet\")\n    };\n};\nDelayDeviceBoxAdapter.OffsetFractions = Fraction.builder()\n    .add([1, 1]).add([1, 2]).add([1, 3]).add([1, 4])\n    .add([3, 16]).add([1, 6]).add([1, 8]).add([3, 32])\n    .add([1, 12]).add([1, 16]).add([3, 64]).add([1, 24])\n    .add([1, 32]).add([1, 48]).add([1, 64])\n    .add([1, 96]).add([1, 128])\n    .asDescendingArray();\nDelayDeviceBoxAdapter.OffsetStringMapping = StringMapping.indices(\"\", _a.OffsetFractions.map(([n, d]) => `${n}/${d}`));\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ReverbDeviceBoxAdapter_instances, _ReverbDeviceBoxAdapter_context, _ReverbDeviceBoxAdapter_box, _ReverbDeviceBoxAdapter_parametric, _ReverbDeviceBoxAdapter_wrapParameters;\nimport { StringMapping, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { Devices } from \"../../DeviceAdapter\";\nimport { ParameterAdapterSet } from \"../../ParameterAdapterSet\";\nexport class ReverbDeviceBoxAdapter {\n    constructor(context, box) {\n        _ReverbDeviceBoxAdapter_instances.add(this);\n        this.type = \"audio-effect\";\n        this.accepts = \"audio\";\n        _ReverbDeviceBoxAdapter_context.set(this, void 0);\n        _ReverbDeviceBoxAdapter_box.set(this, void 0);\n        _ReverbDeviceBoxAdapter_parametric.set(this, void 0);\n        __classPrivateFieldSet(this, _ReverbDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _ReverbDeviceBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _ReverbDeviceBoxAdapter_parametric, new ParameterAdapterSet(__classPrivateFieldGet(this, _ReverbDeviceBoxAdapter_context, \"f\")), \"f\");\n        this.namedParameter = __classPrivateFieldGet(this, _ReverbDeviceBoxAdapter_instances, \"m\", _ReverbDeviceBoxAdapter_wrapParameters).call(this, box);\n    }\n    get box() { return __classPrivateFieldGet(this, _ReverbDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _ReverbDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _ReverbDeviceBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _ReverbDeviceBoxAdapter_box, \"f\").index; }\n    get labelField() { return __classPrivateFieldGet(this, _ReverbDeviceBoxAdapter_box, \"f\").label; }\n    get enabledField() { return __classPrivateFieldGet(this, _ReverbDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _ReverbDeviceBoxAdapter_box, \"f\").minimized; }\n    get host() { return __classPrivateFieldGet(this, _ReverbDeviceBoxAdapter_box, \"f\").host; }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _ReverbDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _ReverbDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { __classPrivateFieldGet(this, _ReverbDeviceBoxAdapter_parametric, \"f\").terminate(); }\n}\n_ReverbDeviceBoxAdapter_context = new WeakMap(), _ReverbDeviceBoxAdapter_box = new WeakMap(), _ReverbDeviceBoxAdapter_parametric = new WeakMap(), _ReverbDeviceBoxAdapter_instances = new WeakSet(), _ReverbDeviceBoxAdapter_wrapParameters = function _ReverbDeviceBoxAdapter_wrapParameters(box) {\n    return {\n        decay: __classPrivateFieldGet(this, _ReverbDeviceBoxAdapter_parametric, \"f\").createParameter(box.decay, ValueMapping.unipolar(), StringMapping.numeric({ unit: \"%\", fractionDigits: 0 }), \"Room-Size\"),\n        preDelay: __classPrivateFieldGet(this, _ReverbDeviceBoxAdapter_parametric, \"f\").createParameter(box.preDelay, ValueMapping.exponential(0.001, 0.500), StringMapping.numeric({\n            unit: \"s\", fractionDigits: 1, unitPrefix: true\n        }), \"Pre-Delay\"),\n        damp: __classPrivateFieldGet(this, _ReverbDeviceBoxAdapter_parametric, \"f\").createParameter(box.damp, ValueMapping.unipolar(), StringMapping.numeric({ unit: \"%\", fractionDigits: 0 }), \"damping\"),\n        filter: __classPrivateFieldGet(this, _ReverbDeviceBoxAdapter_parametric, \"f\").createParameter(box.filter, ValueMapping.bipolar(), StringMapping.numeric({ unit: \"%\", fractionDigits: 0 }), \"filter\"),\n        dry: __classPrivateFieldGet(this, _ReverbDeviceBoxAdapter_parametric, \"f\").createParameter(box.dry, ValueMapping.DefaultDecibel, StringMapping.numeric({ unit: \"db\", fractionDigits: 1 }), \"dry\"),\n        wet: __classPrivateFieldGet(this, _ReverbDeviceBoxAdapter_parametric, \"f\").createParameter(box.wet, ValueMapping.DefaultDecibel, StringMapping.numeric({ unit: \"db\", fractionDigits: 1 }), \"wet\")\n    };\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _RevampDeviceBoxAdapter_instances, _RevampDeviceBoxAdapter_context, _RevampDeviceBoxAdapter_box, _RevampDeviceBoxAdapter_parametric, _RevampDeviceBoxAdapter_wrapParameters;\nimport { StringMapping, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { Devices } from \"../../DeviceAdapter\";\nimport { ParameterAdapterSet } from \"../../ParameterAdapterSet\";\nexport class RevampDeviceBoxAdapter {\n    constructor(context, box) {\n        _RevampDeviceBoxAdapter_instances.add(this);\n        this.type = \"audio-effect\";\n        this.accepts = \"audio\";\n        _RevampDeviceBoxAdapter_context.set(this, void 0);\n        _RevampDeviceBoxAdapter_box.set(this, void 0);\n        _RevampDeviceBoxAdapter_parametric.set(this, void 0);\n        __classPrivateFieldSet(this, _RevampDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _RevampDeviceBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _RevampDeviceBoxAdapter_parametric, new ParameterAdapterSet(__classPrivateFieldGet(this, _RevampDeviceBoxAdapter_context, \"f\")), \"f\");\n        this.namedParameter = __classPrivateFieldGet(this, _RevampDeviceBoxAdapter_instances, \"m\", _RevampDeviceBoxAdapter_wrapParameters).call(this, box);\n    }\n    get box() { return __classPrivateFieldGet(this, _RevampDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _RevampDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _RevampDeviceBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _RevampDeviceBoxAdapter_box, \"f\").index; }\n    get labelField() { return __classPrivateFieldGet(this, _RevampDeviceBoxAdapter_box, \"f\").label; }\n    get enabledField() { return __classPrivateFieldGet(this, _RevampDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _RevampDeviceBoxAdapter_box, \"f\").minimized; }\n    get host() { return __classPrivateFieldGet(this, _RevampDeviceBoxAdapter_box, \"f\").host; }\n    get spectrum() { return __classPrivateFieldGet(this, _RevampDeviceBoxAdapter_box, \"f\").address.append(0xFFF); }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _RevampDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _RevampDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { __classPrivateFieldGet(this, _RevampDeviceBoxAdapter_parametric, \"f\").terminate(); }\n}\n_RevampDeviceBoxAdapter_context = new WeakMap(), _RevampDeviceBoxAdapter_box = new WeakMap(), _RevampDeviceBoxAdapter_parametric = new WeakMap(), _RevampDeviceBoxAdapter_instances = new WeakSet(), _RevampDeviceBoxAdapter_wrapParameters = function _RevampDeviceBoxAdapter_wrapParameters(box) {\n    return {\n        highPass: createPass(__classPrivateFieldGet(this, _RevampDeviceBoxAdapter_parametric, \"f\"), box.highPass, \"High-Pass\"),\n        lowShelf: createShelf(__classPrivateFieldGet(this, _RevampDeviceBoxAdapter_parametric, \"f\"), box.lowShelf, \"Low-Shelf\"),\n        lowBell: createBell(__classPrivateFieldGet(this, _RevampDeviceBoxAdapter_parametric, \"f\"), box.lowBell, \"Low-Bell\"),\n        midBell: createBell(__classPrivateFieldGet(this, _RevampDeviceBoxAdapter_parametric, \"f\"), box.midBell, \"Mid-Bell\"),\n        highBell: createBell(__classPrivateFieldGet(this, _RevampDeviceBoxAdapter_parametric, \"f\"), box.highBell, \"High-Bell\"),\n        highShelf: createShelf(__classPrivateFieldGet(this, _RevampDeviceBoxAdapter_parametric, \"f\"), box.highShelf, \"High-Shelf\"),\n        lowPass: createPass(__classPrivateFieldGet(this, _RevampDeviceBoxAdapter_parametric, \"f\"), box.lowPass, \"Low-Pass\")\n    };\n};\nconst FrequencyMapping = ValueMapping.exponential(20.0, 20000);\nconst GainMapping = ValueMapping.linear(-24.0, 24.0);\nconst QMapping = ValueMapping.exponential(0.01, 10.0);\nconst createPass = (parametric, pass, name) => {\n    return ({\n        enabled: parametric.createParameter(pass.enabled, ValueMapping.bool, StringMapping.bool, \"enabled\"),\n        frequency: parametric.createParameter(pass.frequency, FrequencyMapping, StringMapping.numeric({ unit: \"Hz\", fractionDigits: 0 }), `${name} Freq`),\n        order: parametric.createParameter(pass.order, ValueMapping.linearInteger(0, 3), StringMapping.indices(\"db\", [\"12\", \"24\", \"36\", \"48\"]), `${name} Order`),\n        q: parametric.createParameter(pass.q, QMapping, StringMapping.numeric({ fractionDigits: 3 }), `${name} Q`)\n    });\n};\nconst createShelf = (parametric, shelf, name) => ({\n    enabled: parametric.createParameter(shelf.enabled, ValueMapping.bool, StringMapping.bool, \"enabled\"),\n    frequency: parametric.createParameter(shelf.frequency, FrequencyMapping, StringMapping.numeric({ unit: \"Hz\", fractionDigits: 0 }), `${name} Freq`),\n    gain: parametric.createParameter(shelf.gain, GainMapping, StringMapping.numeric({ unit: \"db\", fractionDigits: 1, bipolar: true }), `${name} Gain`, 0.5)\n});\nconst createBell = (parametric, bell, name) => ({\n    enabled: parametric.createParameter(bell.enabled, ValueMapping.bool, StringMapping.bool, \"enabled\"),\n    frequency: parametric.createParameter(bell.frequency, FrequencyMapping, StringMapping.numeric({ unit: \"Hz\", fractionDigits: 0 }), `${name} Freq`),\n    gain: parametric.createParameter(bell.gain, GainMapping, StringMapping.numeric({ unit: \"db\", fractionDigits: 1, bipolar: true }), `${name} Gain`, 0.5),\n    q: parametric.createParameter(bell.q, QMapping, StringMapping.numeric({ fractionDigits: 3 }), `${name} Q`)\n});\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _MarkerBoxAdapter_terminator, _MarkerBoxAdapter_context, _MarkerBoxAdapter_box;\nimport { Terminator, UUID } from \"@naomiarotest/lib-std\";\nimport { Propagation } from \"@naomiarotest/lib-box\";\nimport { TimelineBoxAdapter } from \"./TimelineBoxAdapter\";\nexport class MarkerBoxAdapter {\n    constructor(context, box) {\n        this.type = \"marker-event\";\n        _MarkerBoxAdapter_terminator.set(this, new Terminator());\n        _MarkerBoxAdapter_context.set(this, void 0);\n        _MarkerBoxAdapter_box.set(this, void 0);\n        __classPrivateFieldSet(this, _MarkerBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _MarkerBoxAdapter_box, box, \"f\");\n        __classPrivateFieldGet(this, _MarkerBoxAdapter_terminator, \"f\").own(__classPrivateFieldGet(this, _MarkerBoxAdapter_box, \"f\").subscribe(Propagation.Children, (update) => {\n            if (this.trackAdapter.isEmpty()) {\n                return;\n            }\n            if (update.type === \"primitive\" || update.type === \"pointer\") {\n                const track = this.trackAdapter.unwrap();\n                if (__classPrivateFieldGet(this, _MarkerBoxAdapter_box, \"f\").position.address.equals(update.address)) {\n                    track.onSortingChanged();\n                }\n                else {\n                    track.dispatchChange();\n                }\n            }\n        }));\n    }\n    get box() { return __classPrivateFieldGet(this, _MarkerBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _MarkerBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _MarkerBoxAdapter_box, \"f\").address; }\n    get position() { return __classPrivateFieldGet(this, _MarkerBoxAdapter_box, \"f\").position.getValue(); }\n    get plays() { return __classPrivateFieldGet(this, _MarkerBoxAdapter_box, \"f\").plays.getValue(); }\n    get hue() { return __classPrivateFieldGet(this, _MarkerBoxAdapter_box, \"f\").hue.getValue(); }\n    get label() { return __classPrivateFieldGet(this, _MarkerBoxAdapter_box, \"f\").label.getValue(); }\n    get trackAdapter() {\n        return __classPrivateFieldGet(this, _MarkerBoxAdapter_box, \"f\").track.targetVertex\n            .map(vertex => __classPrivateFieldGet(this, _MarkerBoxAdapter_context, \"f\").boxAdapters.adapterFor(vertex.box, TimelineBoxAdapter).markerTrack);\n    }\n    terminate() { __classPrivateFieldGet(this, _MarkerBoxAdapter_terminator, \"f\").terminate(); }\n    toString() { return `{MarkerBoxAdapter ${UUID.toString(__classPrivateFieldGet(this, _MarkerBoxAdapter_box, \"f\").address.uuid).substring(0, 4)}, plays: ${this.plays}`; }\n}\n_MarkerBoxAdapter_terminator = new WeakMap(), _MarkerBoxAdapter_context = new WeakMap(), _MarkerBoxAdapter_box = new WeakMap();\nMarkerBoxAdapter.Comparator = (a, b) => a.position - b.position;\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _MarkerTrackAdapter_context, _MarkerTrackAdapter_object, _MarkerTrackAdapter_adapters, _MarkerTrackAdapter_events, _MarkerTrackAdapter_subscription;\nimport { assert, Notifier, UUID } from \"@naomiarotest/lib-std\";\nimport { EventCollection } from \"@naomiarotest/lib-dsp\";\nimport { MarkerBoxAdapter } from \"./MarkerBoxAdapter\";\nimport { MarkerBox } from \"@naomiarotest/studio-boxes\";\nexport class MarkerTrackAdapter {\n    constructor(context, object) {\n        _MarkerTrackAdapter_context.set(this, void 0);\n        _MarkerTrackAdapter_object.set(this, void 0);\n        _MarkerTrackAdapter_adapters.set(this, void 0);\n        _MarkerTrackAdapter_events.set(this, void 0);\n        _MarkerTrackAdapter_subscription.set(this, void 0);\n        __classPrivateFieldSet(this, _MarkerTrackAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _MarkerTrackAdapter_object, object, \"f\");\n        this.changeNotifier = new Notifier();\n        __classPrivateFieldSet(this, _MarkerTrackAdapter_adapters, UUID.newSet(adapter => adapter.uuid), \"f\");\n        __classPrivateFieldSet(this, _MarkerTrackAdapter_events, EventCollection.create(MarkerBoxAdapter.Comparator), \"f\");\n        __classPrivateFieldSet(this, _MarkerTrackAdapter_subscription, __classPrivateFieldGet(this, _MarkerTrackAdapter_object, \"f\").markers.pointerHub.catchupAndSubscribe({\n            onAdded: ({ box }) => {\n                if (box instanceof MarkerBox) {\n                    const adapter = __classPrivateFieldGet(this, _MarkerTrackAdapter_context, \"f\").boxAdapters.adapterFor(box, MarkerBoxAdapter);\n                    const added = __classPrivateFieldGet(this, _MarkerTrackAdapter_adapters, \"f\").add(adapter);\n                    assert(added, \"Could not add adapter\");\n                    __classPrivateFieldGet(this, _MarkerTrackAdapter_events, \"f\").add(adapter);\n                    this.dispatchChange();\n                }\n            },\n            onRemoved: ({ box: { address: { uuid } } }) => {\n                __classPrivateFieldGet(this, _MarkerTrackAdapter_events, \"f\").remove(__classPrivateFieldGet(this, _MarkerTrackAdapter_adapters, \"f\").removeByKey(uuid));\n                this.dispatchChange();\n            }\n        }), \"f\");\n    }\n    subscribe(observer) { return this.changeNotifier.subscribe(observer); }\n    get context() { return __classPrivateFieldGet(this, _MarkerTrackAdapter_context, \"f\"); }\n    get enabled() { return __classPrivateFieldGet(this, _MarkerTrackAdapter_object, \"f\").enabled.getValue(); }\n    get events() { return __classPrivateFieldGet(this, _MarkerTrackAdapter_events, \"f\"); }\n    get object() { return __classPrivateFieldGet(this, _MarkerTrackAdapter_object, \"f\"); }\n    dispatchChange() { this.changeNotifier.notify(); }\n    onSortingChanged() {\n        __classPrivateFieldGet(this, _MarkerTrackAdapter_events, \"f\").onIndexingChanged();\n        this.dispatchChange();\n    }\n    terminate() { __classPrivateFieldGet(this, _MarkerTrackAdapter_subscription, \"f\").terminate(); }\n}\n_MarkerTrackAdapter_context = new WeakMap(), _MarkerTrackAdapter_object = new WeakMap(), _MarkerTrackAdapter_adapters = new WeakMap(), _MarkerTrackAdapter_events = new WeakMap(), _MarkerTrackAdapter_subscription = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _TimelineBoxAdapter_box, _TimelineBoxAdapter_markerTrack;\nimport { MarkerTrackAdapter } from \"./MarkerTrackAdapter\";\nimport { PPQN } from \"@naomiarotest/lib-dsp\";\nexport class TimelineBoxAdapter {\n    constructor(context, box) {\n        _TimelineBoxAdapter_box.set(this, void 0);\n        _TimelineBoxAdapter_markerTrack.set(this, void 0);\n        __classPrivateFieldSet(this, _TimelineBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _TimelineBoxAdapter_markerTrack, new MarkerTrackAdapter(context, __classPrivateFieldGet(this, _TimelineBoxAdapter_box, \"f\").markerTrack), \"f\");\n    }\n    terminate() { }\n    get box() { return __classPrivateFieldGet(this, _TimelineBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _TimelineBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _TimelineBoxAdapter_box, \"f\").address; }\n    get markerTrack() { return __classPrivateFieldGet(this, _TimelineBoxAdapter_markerTrack, \"f\"); }\n    get signature() {\n        return [\n            __classPrivateFieldGet(this, _TimelineBoxAdapter_box, \"f\").signature.nominator.getValue(), __classPrivateFieldGet(this, _TimelineBoxAdapter_box, \"f\").signature.denominator.getValue()\n        ];\n    }\n    get signatureDuration() {\n        const { nominator, denominator } = __classPrivateFieldGet(this, _TimelineBoxAdapter_box, \"f\").signature;\n        return PPQN.fromSignature(nominator.getValue(), denominator.getValue());\n    }\n    catchupAndSubscribeSignature(observer) {\n        observer(this.signature);\n        return __classPrivateFieldGet(this, _TimelineBoxAdapter_box, \"f\").signature.subscribe(() => observer(this.signature));\n    }\n}\n_TimelineBoxAdapter_box = new WeakMap(), _TimelineBoxAdapter_markerTrack = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ModuleConnectionAdapter_box;\nexport class ModuleConnectionAdapter {\n    constructor(_context, box) {\n        _ModuleConnectionAdapter_box.set(this, void 0);\n        __classPrivateFieldSet(this, _ModuleConnectionAdapter_box, box, \"f\");\n    }\n    get box() { return __classPrivateFieldGet(this, _ModuleConnectionAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _ModuleConnectionAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _ModuleConnectionAdapter_box, \"f\").address; }\n    get source() { return __classPrivateFieldGet(this, _ModuleConnectionAdapter_box, \"f\").source.targetVertex.unwrap(\"Insufficient Vertex\"); }\n    get target() { return __classPrivateFieldGet(this, _ModuleConnectionAdapter_box, \"f\").target.targetVertex.unwrap(\"Insufficient Vertex\"); }\n    terminate() { }\n}\n_ModuleConnectionAdapter_box = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AbstractModuleAdapter_context, _AbstractModuleAdapter_box, _AbstractModuleAdapter_terminator, _AbstractModuleAdapter_attributes, _AbstractModuleAdapter_parameters, _AbstractModuleAdapter_selected;\nimport { Terminator } from \"@naomiarotest/lib-std\";\nimport { ParameterAdapterSet } from \"../ParameterAdapterSet\";\nimport { ModularAdapter } from \"./modular\";\nexport class AbstractModuleAdapter {\n    constructor(context, box) {\n        _AbstractModuleAdapter_context.set(this, void 0);\n        _AbstractModuleAdapter_box.set(this, void 0);\n        _AbstractModuleAdapter_terminator.set(this, void 0);\n        _AbstractModuleAdapter_attributes.set(this, void 0);\n        _AbstractModuleAdapter_parameters.set(this, void 0);\n        _AbstractModuleAdapter_selected.set(this, false);\n        __classPrivateFieldSet(this, _AbstractModuleAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _AbstractModuleAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _AbstractModuleAdapter_terminator, new Terminator(), \"f\");\n        __classPrivateFieldSet(this, _AbstractModuleAdapter_attributes, box.attributes, \"f\");\n        __classPrivateFieldSet(this, _AbstractModuleAdapter_parameters, __classPrivateFieldGet(this, _AbstractModuleAdapter_terminator, \"f\").own(new ParameterAdapterSet(context)), \"f\");\n    }\n    get inputs() {\n        throw new Error(\"Method not implemented.\");\n    }\n    get outputs() {\n        throw new Error(\"Method not implemented.\");\n    }\n    own(terminable) { return __classPrivateFieldGet(this, _AbstractModuleAdapter_terminator, \"f\").own(terminable); }\n    ownAll(...terminables) { __classPrivateFieldGet(this, _AbstractModuleAdapter_terminator, \"f\").ownAll(...terminables); }\n    onSelected() { __classPrivateFieldSet(this, _AbstractModuleAdapter_selected, true, \"f\"); }\n    onDeselected() { __classPrivateFieldSet(this, _AbstractModuleAdapter_selected, false, \"f\"); }\n    isSelected() { return __classPrivateFieldGet(this, _AbstractModuleAdapter_selected, \"f\"); }\n    get box() { return __classPrivateFieldGet(this, _AbstractModuleAdapter_box, \"f\"); }\n    get attributes() { return __classPrivateFieldGet(this, _AbstractModuleAdapter_attributes, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _AbstractModuleAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _AbstractModuleAdapter_box, \"f\").address; }\n    get parameters() { return __classPrivateFieldGet(this, _AbstractModuleAdapter_parameters, \"f\"); }\n    get modular() {\n        return __classPrivateFieldGet(this, _AbstractModuleAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _AbstractModuleAdapter_box, \"f\").attributes.collection.targetVertex.unwrap().box, ModularAdapter);\n    }\n    terminate() { __classPrivateFieldGet(this, _AbstractModuleAdapter_terminator, \"f\").terminate(); }\n}\n_AbstractModuleAdapter_context = new WeakMap(), _AbstractModuleAdapter_box = new WeakMap(), _AbstractModuleAdapter_terminator = new WeakMap(), _AbstractModuleAdapter_attributes = new WeakMap(), _AbstractModuleAdapter_parameters = new WeakMap(), _AbstractModuleAdapter_selected = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ModuleConnectorAdapter_boxAdapters, _ModuleConnectorAdapter_field, _ModuleConnectorAdapter_direction, _ModuleConnectorAdapter_name;\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nimport { Arrays } from \"@naomiarotest/lib-std\";\nimport { ModuleConnectionAdapter } from \"./connection\";\nexport var Direction;\n(function (Direction) {\n    Direction[\"Input\"] = \"input\";\n    Direction[\"Output\"] = \"output\";\n})(Direction || (Direction = {}));\nexport class ModuleConnectorAdapter {\n    static create(boxAdapters, field, direction, name) {\n        return new ModuleConnectorAdapter(boxAdapters, field, direction, name ?? field.fieldName);\n    }\n    constructor(boxAdapters, field, direction, name) {\n        _ModuleConnectorAdapter_boxAdapters.set(this, void 0);\n        _ModuleConnectorAdapter_field.set(this, void 0);\n        _ModuleConnectorAdapter_direction.set(this, void 0);\n        _ModuleConnectorAdapter_name.set(this, void 0);\n        __classPrivateFieldSet(this, _ModuleConnectorAdapter_boxAdapters, boxAdapters, \"f\");\n        __classPrivateFieldSet(this, _ModuleConnectorAdapter_field, field, \"f\");\n        __classPrivateFieldSet(this, _ModuleConnectorAdapter_direction, direction, \"f\");\n        __classPrivateFieldSet(this, _ModuleConnectorAdapter_name, name, \"f\");\n    }\n    matches(other) {\n        return this.direction !== other.direction && this.field.pointerRules.accepts\n            .some(accepts => other.field.pointerRules.accepts\n            .some(type => type === accepts));\n    }\n    get connections() {\n        if (__classPrivateFieldGet(this, _ModuleConnectorAdapter_field, \"f\").pointerHub.isEmpty()) {\n            return Arrays.empty();\n        }\n        return __classPrivateFieldGet(this, _ModuleConnectorAdapter_field, \"f\").pointerHub.filter(Pointers.VoltageConnection)\n            .map(({ box }) => __classPrivateFieldGet(this, _ModuleConnectorAdapter_boxAdapters, \"f\").adapterFor(box, ModuleConnectionAdapter));\n    }\n    get field() { return __classPrivateFieldGet(this, _ModuleConnectorAdapter_field, \"f\"); }\n    get address() { return __classPrivateFieldGet(this, _ModuleConnectorAdapter_field, \"f\").address; }\n    get direction() { return __classPrivateFieldGet(this, _ModuleConnectorAdapter_direction, \"f\"); }\n    get name() { return __classPrivateFieldGet(this, _ModuleConnectorAdapter_name, \"f\"); }\n    toString() {\n        return `{ModuleConnectorAdapter address: ${__classPrivateFieldGet(this, _ModuleConnectorAdapter_field, \"f\").address.toString()}, direction: ${__classPrivateFieldGet(this, _ModuleConnectorAdapter_direction, \"f\")}}`;\n    }\n}\n_ModuleConnectorAdapter_boxAdapters = new WeakMap(), _ModuleConnectorAdapter_field = new WeakMap(), _ModuleConnectorAdapter_direction = new WeakMap(), _ModuleConnectorAdapter_name = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ModuleDelayAdapter_parameterTime, _ModuleDelayAdapter_voltageInput, _ModuleDelayAdapter_voltageOutput;\nimport { StringMapping, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { AbstractModuleAdapter } from \"../abstract\";\nimport { Direction, ModuleConnectorAdapter } from \"../connector\";\nexport class ModuleDelayAdapter extends AbstractModuleAdapter {\n    constructor(context, box) {\n        super(context, box);\n        _ModuleDelayAdapter_parameterTime.set(this, void 0);\n        _ModuleDelayAdapter_voltageInput.set(this, void 0);\n        _ModuleDelayAdapter_voltageOutput.set(this, void 0);\n        __classPrivateFieldSet(this, _ModuleDelayAdapter_parameterTime, this.parameters.createParameter(box.time, ValueMapping.exponential(1.0, 10000.0), StringMapping.numeric({ unit: \"ms\" }), \"Time\"), \"f\");\n        __classPrivateFieldSet(this, _ModuleDelayAdapter_voltageInput, ModuleConnectorAdapter.create(context.boxAdapters, box.voltageInput, Direction.Input, \"Input\"), \"f\");\n        __classPrivateFieldSet(this, _ModuleDelayAdapter_voltageOutput, ModuleConnectorAdapter.create(context.boxAdapters, box.voltageOutput, Direction.Output, \"Output\"), \"f\");\n    }\n    get parameterTime() { return __classPrivateFieldGet(this, _ModuleDelayAdapter_parameterTime, \"f\"); }\n    get voltageInput() { return __classPrivateFieldGet(this, _ModuleDelayAdapter_voltageInput, \"f\"); }\n    get voltageOutput() { return __classPrivateFieldGet(this, _ModuleDelayAdapter_voltageOutput, \"f\"); }\n    get inputs() {\n        return [__classPrivateFieldGet(this, _ModuleDelayAdapter_voltageInput, \"f\")];\n    }\n    get outputs() {\n        return [__classPrivateFieldGet(this, _ModuleDelayAdapter_voltageOutput, \"f\")];\n    }\n}\n_ModuleDelayAdapter_parameterTime = new WeakMap(), _ModuleDelayAdapter_voltageInput = new WeakMap(), _ModuleDelayAdapter_voltageOutput = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ModularAudioOutputAdapter_voltageInput;\nimport { Arrays } from \"@naomiarotest/lib-std\";\nimport { AbstractModuleAdapter } from \"../abstract\";\nimport { Direction, ModuleConnectorAdapter } from \"../connector\";\nexport class ModularAudioOutputAdapter extends AbstractModuleAdapter {\n    constructor(context, box) {\n        super(context, box);\n        _ModularAudioOutputAdapter_voltageInput.set(this, void 0);\n        __classPrivateFieldSet(this, _ModularAudioOutputAdapter_voltageInput, ModuleConnectorAdapter.create(context.boxAdapters, box.input, Direction.Input, \"Input\"), \"f\");\n    }\n    get voltageInput() { return __classPrivateFieldGet(this, _ModularAudioOutputAdapter_voltageInput, \"f\"); }\n    get inputs() {\n        return [__classPrivateFieldGet(this, _ModularAudioOutputAdapter_voltageInput, \"f\")];\n    }\n    get outputs() {\n        return Arrays.empty();\n    }\n}\n_ModularAudioOutputAdapter_voltageInput = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ModuleGainAdapter_parameterGain, _ModuleGainAdapter_voltageInput, _ModuleGainAdapter_voltageOutput;\nimport { StringMapping, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { AbstractModuleAdapter } from \"../abstract\";\nimport { Direction, ModuleConnectorAdapter } from \"../connector\";\nexport class ModuleGainAdapter extends AbstractModuleAdapter {\n    constructor(context, box) {\n        super(context, box);\n        _ModuleGainAdapter_parameterGain.set(this, void 0);\n        _ModuleGainAdapter_voltageInput.set(this, void 0);\n        _ModuleGainAdapter_voltageOutput.set(this, void 0);\n        __classPrivateFieldSet(this, _ModuleGainAdapter_parameterGain, this.parameters.createParameter(box.gain, ValueMapping.DefaultDecibel, StringMapping.numeric({ unit: \"db\" }), \"Gain\"), \"f\");\n        __classPrivateFieldSet(this, _ModuleGainAdapter_voltageInput, ModuleConnectorAdapter.create(context.boxAdapters, box.voltageInput, Direction.Input, \"Input\"), \"f\");\n        __classPrivateFieldSet(this, _ModuleGainAdapter_voltageOutput, ModuleConnectorAdapter.create(context.boxAdapters, box.voltageOutput, Direction.Output, \"Output\"), \"f\");\n    }\n    get parameterGain() { return __classPrivateFieldGet(this, _ModuleGainAdapter_parameterGain, \"f\"); }\n    get voltageInput() { return __classPrivateFieldGet(this, _ModuleGainAdapter_voltageInput, \"f\"); }\n    get voltageOutput() { return __classPrivateFieldGet(this, _ModuleGainAdapter_voltageOutput, \"f\"); }\n    get inputs() {\n        return [__classPrivateFieldGet(this, _ModuleGainAdapter_voltageInput, \"f\")];\n    }\n    get outputs() {\n        return [__classPrivateFieldGet(this, _ModuleGainAdapter_voltageOutput, \"f\")];\n    }\n}\n_ModuleGainAdapter_parameterGain = new WeakMap(), _ModuleGainAdapter_voltageInput = new WeakMap(), _ModuleGainAdapter_voltageOutput = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ModuleMultiplierAdapter_voltageInputX, _ModuleMultiplierAdapter_voltageInputY, _ModuleMultiplierAdapter_voltageOutput;\nimport { AbstractModuleAdapter } from \"../abstract\";\nimport { Direction, ModuleConnectorAdapter } from \"../connector\";\nexport class ModuleMultiplierAdapter extends AbstractModuleAdapter {\n    constructor(context, box) {\n        super(context, box);\n        _ModuleMultiplierAdapter_voltageInputX.set(this, void 0);\n        _ModuleMultiplierAdapter_voltageInputY.set(this, void 0);\n        _ModuleMultiplierAdapter_voltageOutput.set(this, void 0);\n        __classPrivateFieldSet(this, _ModuleMultiplierAdapter_voltageInputX, ModuleConnectorAdapter.create(context.boxAdapters, box.voltageInputX, Direction.Input, \"X\"), \"f\");\n        __classPrivateFieldSet(this, _ModuleMultiplierAdapter_voltageInputY, ModuleConnectorAdapter.create(context.boxAdapters, box.voltageInputY, Direction.Input, \"Y\"), \"f\");\n        __classPrivateFieldSet(this, _ModuleMultiplierAdapter_voltageOutput, ModuleConnectorAdapter.create(context.boxAdapters, box.voltageOutput, Direction.Output, \"Result\"), \"f\");\n    }\n    get inputs() {\n        return [__classPrivateFieldGet(this, _ModuleMultiplierAdapter_voltageInputX, \"f\"), __classPrivateFieldGet(this, _ModuleMultiplierAdapter_voltageInputY, \"f\")];\n    }\n    get outputs() {\n        return [__classPrivateFieldGet(this, _ModuleMultiplierAdapter_voltageOutput, \"f\")];\n    }\n}\n_ModuleMultiplierAdapter_voltageInputX = new WeakMap(), _ModuleMultiplierAdapter_voltageInputY = new WeakMap(), _ModuleMultiplierAdapter_voltageOutput = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ModularAudioInputAdapter_voltageOutput;\nimport { Arrays } from \"@naomiarotest/lib-std\";\nimport { AbstractModuleAdapter } from \"../abstract\";\nimport { Direction, ModuleConnectorAdapter } from \"../connector\";\nexport class ModularAudioInputAdapter extends AbstractModuleAdapter {\n    constructor(context, box) {\n        super(context, box);\n        _ModularAudioInputAdapter_voltageOutput.set(this, void 0);\n        __classPrivateFieldSet(this, _ModularAudioInputAdapter_voltageOutput, ModuleConnectorAdapter.create(context.boxAdapters, box.output, Direction.Output, \"Output\"), \"f\");\n    }\n    get voltageOutput() { return __classPrivateFieldGet(this, _ModularAudioInputAdapter_voltageOutput, \"f\"); }\n    get inputs() {\n        return Arrays.empty();\n    }\n    get outputs() {\n        return [__classPrivateFieldGet(this, _ModularAudioInputAdapter_voltageOutput, \"f\")];\n    }\n}\n_ModularAudioInputAdapter_voltageOutput = new WeakMap();\n", "import { asDefined } from \"@naomiarotest/lib-std\";\nimport { ModuleDelayAdapter } from \"./modules/delay\";\nimport { ModularAudioOutputAdapter } from \"./modules/audio-output\";\nimport { ModuleGainAdapter } from \"./modules/gain\";\nimport { ModuleMultiplierAdapter } from \"./modules/multiplier\";\nimport { ModularAudioInputAdapter } from \"./modules/audio-input\";\nexport var Modules;\n(function (Modules) {\n    Modules.isVertexOfModule = (vertex) => vertex.box.accept({\n        visitModuleGainBox: () => true,\n        visitModuleDelayBox: () => true,\n        visitModuleMultiplierBox: () => true,\n        visitModularAudioInputBox: () => true,\n        visitModularAudioOutputBox: () => true\n    }) ?? false;\n    Modules.adapterFor = (adapters, box) => asDefined(box.accept({\n        visitModuleGainBox: (box) => adapters.adapterFor(box, ModuleGainAdapter),\n        visitModuleDelayBox: (box) => adapters.adapterFor(box, ModuleDelayAdapter),\n        visitModuleMultiplierBox: (box) => adapters.adapterFor(box, ModuleMultiplierAdapter),\n        visitModularAudioInputBox: (box) => adapters.adapterFor(box, ModularAudioInputAdapter),\n        visitModularAudioOutputBox: (box) => adapters.adapterFor(box, ModularAudioOutputAdapter)\n    }), `Could not find ModuleAdapter for ${box.name}`);\n})(Modules || (Modules = {}));\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _DeviceInterfaceKnobAdapter_instances, _DeviceInterfaceKnobAdapter_context, _DeviceInterfaceKnobAdapter_box, _DeviceInterfaceKnobAdapter_parameterTarget_get;\nimport { Modules } from \"./module\";\nexport class DeviceInterfaceKnobAdapter {\n    constructor(context, box) {\n        _DeviceInterfaceKnobAdapter_instances.add(this);\n        _DeviceInterfaceKnobAdapter_context.set(this, void 0);\n        _DeviceInterfaceKnobAdapter_box.set(this, void 0);\n        __classPrivateFieldSet(this, _DeviceInterfaceKnobAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _DeviceInterfaceKnobAdapter_box, box, \"f\");\n    }\n    get box() { return __classPrivateFieldGet(this, _DeviceInterfaceKnobAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _DeviceInterfaceKnobAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _DeviceInterfaceKnobAdapter_box, \"f\").address; }\n    get moduleAdapter() {\n        return Modules.adapterFor(__classPrivateFieldGet(this, _DeviceInterfaceKnobAdapter_context, \"f\").boxAdapters, __classPrivateFieldGet(this, _DeviceInterfaceKnobAdapter_instances, \"a\", _DeviceInterfaceKnobAdapter_parameterTarget_get).box);\n    }\n    get parameterAdapter() {\n        return this.moduleAdapter.parameters.parameterAt(__classPrivateFieldGet(this, _DeviceInterfaceKnobAdapter_instances, \"a\", _DeviceInterfaceKnobAdapter_parameterTarget_get).address);\n    }\n    terminate() {\n    }\n}\n_DeviceInterfaceKnobAdapter_context = new WeakMap(), _DeviceInterfaceKnobAdapter_box = new WeakMap(), _DeviceInterfaceKnobAdapter_instances = new WeakSet(), _DeviceInterfaceKnobAdapter_parameterTarget_get = function _DeviceInterfaceKnobAdapter_parameterTarget_get() {\n    return __classPrivateFieldGet(this, _DeviceInterfaceKnobAdapter_box, \"f\").parameter.targetVertex.unwrap(\"Parameter not assigned\");\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ModularDeviceBoxAdapter_context, _ModularDeviceBoxAdapter_box;\nimport { panic } from \"@naomiarotest/lib-std\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nimport { Devices } from \"../../DeviceAdapter\";\nimport { ModularAdapter } from \"../../modular/modular\";\nimport { DeviceInterfaceKnobAdapter } from \"../../modular/user-interface\";\nexport class ModularDeviceBoxAdapter {\n    constructor(context, box) {\n        this.type = \"audio-effect\";\n        this.accepts = \"audio\";\n        _ModularDeviceBoxAdapter_context.set(this, void 0);\n        _ModularDeviceBoxAdapter_box.set(this, void 0);\n        __classPrivateFieldSet(this, _ModularDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _ModularDeviceBoxAdapter_box, box, \"f\");\n    }\n    get box() { return __classPrivateFieldGet(this, _ModularDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _ModularDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _ModularDeviceBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _ModularDeviceBoxAdapter_box, \"f\").index; }\n    get labelField() { return __classPrivateFieldGet(this, _ModularDeviceBoxAdapter_box, \"f\").label; }\n    get enabledField() { return __classPrivateFieldGet(this, _ModularDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _ModularDeviceBoxAdapter_box, \"f\").minimized; }\n    get host() { return __classPrivateFieldGet(this, _ModularDeviceBoxAdapter_box, \"f\").host; }\n    parameterAt(_fieldIndices) { return panic(\"Not yet implemented\"); }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _ModularDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _ModularDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    modular() {\n        return __classPrivateFieldGet(this, _ModularDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _ModularDeviceBoxAdapter_box, \"f\").modularSetup.targetVertex.unwrap(\"No Modular found\").box, ModularAdapter);\n    }\n    elements() {\n        return __classPrivateFieldGet(this, _ModularDeviceBoxAdapter_box, \"f\").userInterface.elements.pointerHub.filter(Pointers.DeviceUserInterface)\n            .map(pointer => __classPrivateFieldGet(this, _ModularDeviceBoxAdapter_context, \"f\").boxAdapters.adapterFor(pointer.box, DeviceInterfaceKnobAdapter));\n    }\n    terminate() { }\n}\n_ModularDeviceBoxAdapter_context = new WeakMap(), _ModularDeviceBoxAdapter_box = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ModularAdapter_terminator, _ModularAdapter_listeners, _ModularAdapter_context, _ModularAdapter_box, _ModularAdapter_modules, _ModularAdapter_connections;\nimport { asDefined, ifDefined, Listeners, Terminator, UUID } from \"@naomiarotest/lib-std\";\nimport { ModuleConnectionAdapter } from \"./connection\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nimport { Modules } from \"./module\";\nimport { ModularDeviceBoxAdapter } from \"../devices/audio-effects/ModularDeviceBoxAdapter\";\nexport class ModularAdapter {\n    constructor(context, box) {\n        _ModularAdapter_terminator.set(this, new Terminator());\n        _ModularAdapter_listeners.set(this, void 0);\n        _ModularAdapter_context.set(this, void 0);\n        _ModularAdapter_box.set(this, void 0);\n        _ModularAdapter_modules.set(this, void 0);\n        _ModularAdapter_connections.set(this, void 0);\n        __classPrivateFieldSet(this, _ModularAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _ModularAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _ModularAdapter_listeners, __classPrivateFieldGet(this, _ModularAdapter_terminator, \"f\").own(new Listeners()), \"f\");\n        __classPrivateFieldSet(this, _ModularAdapter_modules, UUID.newSet(adapter => adapter.uuid), \"f\");\n        __classPrivateFieldSet(this, _ModularAdapter_connections, UUID.newSet(adapter => adapter.uuid), \"f\");\n        const addModule = (pointer) => {\n            const adapter = Modules.adapterFor(__classPrivateFieldGet(this, _ModularAdapter_context, \"f\").boxAdapters, pointer.box);\n            const added = __classPrivateFieldGet(this, _ModularAdapter_modules, \"f\").add(adapter);\n            // assert(added, `Could not add ${pointer}`)\n            // TODO Implement catchupAndSubscribeTransactual that deals with that situation\n            if (!added) {\n                return;\n            }\n            __classPrivateFieldGet(this, _ModularAdapter_listeners, \"f\").proxy.onModuleAdded(adapter);\n        };\n        const removeModule = (pointer) => __classPrivateFieldGet(this, _ModularAdapter_listeners, \"f\").proxy.onModuleRemoved(__classPrivateFieldGet(this, _ModularAdapter_modules, \"f\").removeByKey(pointer.address.uuid));\n        const addConnection = (pointer) => {\n            const adapter = __classPrivateFieldGet(this, _ModularAdapter_context, \"f\").boxAdapters.adapterFor(pointer.box, ModuleConnectionAdapter);\n            const added = __classPrivateFieldGet(this, _ModularAdapter_connections, \"f\").add(adapter);\n            // assert(added, `Could not add ${pointer}`)\n            // TODO Implement catchupAndSubscribeTransactual that deals with that situation\n            if (!added) {\n                return;\n            }\n            __classPrivateFieldGet(this, _ModularAdapter_listeners, \"f\").proxy.onConnectionAdded(adapter);\n        };\n        const removeConnection = (pointer) => __classPrivateFieldGet(this, _ModularAdapter_listeners, \"f\").proxy.onConnectionRemoved(__classPrivateFieldGet(this, _ModularAdapter_connections, \"f\").removeByKey(pointer.address.uuid));\n        __classPrivateFieldGet(this, _ModularAdapter_box, \"f\").modules.pointerHub.filter(Pointers.ModuleCollection).forEach(addModule);\n        __classPrivateFieldGet(this, _ModularAdapter_box, \"f\").connections.pointerHub.filter(Pointers.ConnectionCollection).forEach(addConnection);\n        __classPrivateFieldGet(this, _ModularAdapter_terminator, \"f\").own(__classPrivateFieldGet(this, _ModularAdapter_box, \"f\").modules.pointerHub\n            .subscribe({ onAdded: addModule, onRemoved: removeModule }, Pointers.ModuleCollection));\n        __classPrivateFieldGet(this, _ModularAdapter_terminator, \"f\").own(__classPrivateFieldGet(this, _ModularAdapter_box, \"f\").connections.pointerHub\n            .subscribe({ onAdded: addConnection, onRemoved: removeConnection }, Pointers.ConnectionCollection));\n    }\n    catchupAndSubscribe(listener) {\n        ifDefined(listener.onModuleAdded, fn => __classPrivateFieldGet(this, _ModularAdapter_modules, \"f\").forEach(adapter => fn(adapter)));\n        ifDefined(listener.onConnectionAdded, fn => __classPrivateFieldGet(this, _ModularAdapter_connections, \"f\").forEach(adapter => fn(adapter)));\n        return __classPrivateFieldGet(this, _ModularAdapter_listeners, \"f\").subscribe(listener);\n    }\n    get box() { return __classPrivateFieldGet(this, _ModularAdapter_box, \"f\"); }\n    get address() { return __classPrivateFieldGet(this, _ModularAdapter_box, \"f\").address; }\n    get uuid() { return __classPrivateFieldGet(this, _ModularAdapter_box, \"f\").address.uuid; }\n    get editingField() { return __classPrivateFieldGet(this, _ModularAdapter_box, \"f\").editing; }\n    get labelField() { return __classPrivateFieldGet(this, _ModularAdapter_box, \"f\").label; }\n    get modules() { return __classPrivateFieldGet(this, _ModularAdapter_modules, \"f\").values(); }\n    get connections() { return __classPrivateFieldGet(this, _ModularAdapter_connections, \"f\").values(); }\n    get device() {\n        return __classPrivateFieldGet(this, _ModularAdapter_context, \"f\").boxAdapters\n            .adapterFor(asDefined(__classPrivateFieldGet(this, _ModularAdapter_box, \"f\").device.pointerHub.incoming().at(0), \"No device found\").box, ModularDeviceBoxAdapter);\n    }\n    terminate() {\n        console.debug(`terminate ${this}`);\n        __classPrivateFieldGet(this, _ModularAdapter_terminator, \"f\").terminate();\n    }\n}\n_ModularAdapter_terminator = new WeakMap(), _ModularAdapter_listeners = new WeakMap(), _ModularAdapter_context = new WeakMap(), _ModularAdapter_box = new WeakMap(), _ModularAdapter_modules = new WeakMap(), _ModularAdapter_connections = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _GrooveShuffleBoxAdapter_instances, _a, _GrooveShuffleBoxAdapter_terminator, _GrooveShuffleBoxAdapter_context, _GrooveShuffleBoxAdapter_box, _GrooveShuffleBoxAdapter_parametric, _GrooveShuffleBoxAdapter_groove, _GrooveShuffleBoxAdapter_amount, _GrooveShuffleBoxAdapter_duration, _GrooveShuffleBoxAdapter_wrapParameters;\nimport { moebiusEase, squashUnit, StringMapping, Terminator, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { GroovePattern, PPQN } from \"@naomiarotest/lib-dsp\";\nimport { ParameterAdapterSet } from \"../ParameterAdapterSet\";\nexport class GrooveShuffleBoxAdapter {\n    constructor(context, box) {\n        _GrooveShuffleBoxAdapter_instances.add(this);\n        this.type = \"groove-adapter\";\n        _GrooveShuffleBoxAdapter_terminator.set(this, new Terminator());\n        _GrooveShuffleBoxAdapter_context.set(this, void 0);\n        _GrooveShuffleBoxAdapter_box.set(this, void 0);\n        _GrooveShuffleBoxAdapter_parametric.set(this, void 0);\n        _GrooveShuffleBoxAdapter_groove.set(this, new GroovePattern({\n            duration: () => __classPrivateFieldGet(this, _GrooveShuffleBoxAdapter_duration, \"f\"),\n            fx: x => moebiusEase(x, __classPrivateFieldGet(this, _GrooveShuffleBoxAdapter_amount, \"f\")),\n            fy: y => moebiusEase(y, 1.0 - __classPrivateFieldGet(this, _GrooveShuffleBoxAdapter_amount, \"f\"))\n        }));\n        _GrooveShuffleBoxAdapter_amount.set(this, 0.0);\n        _GrooveShuffleBoxAdapter_duration.set(this, PPQN.SemiQuaver * 2);\n        __classPrivateFieldSet(this, _GrooveShuffleBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _GrooveShuffleBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _GrooveShuffleBoxAdapter_parametric, __classPrivateFieldGet(this, _GrooveShuffleBoxAdapter_terminator, \"f\").own(new ParameterAdapterSet(__classPrivateFieldGet(this, _GrooveShuffleBoxAdapter_context, \"f\"))), \"f\");\n        this.namedParameter = __classPrivateFieldGet(this, _GrooveShuffleBoxAdapter_instances, \"m\", _GrooveShuffleBoxAdapter_wrapParameters).call(this, box);\n        __classPrivateFieldGet(this, _GrooveShuffleBoxAdapter_terminator, \"f\").ownAll(this.namedParameter.duration.catchupAndSubscribe(owner => __classPrivateFieldSet(this, _GrooveShuffleBoxAdapter_duration, owner.getValue(), \"f\")), this.namedParameter.amount.catchupAndSubscribe(owner => __classPrivateFieldSet(this, _GrooveShuffleBoxAdapter_amount, squashUnit(owner.getValue(), 0.01), \"f\")));\n    }\n    unwarp(position) { return __classPrivateFieldGet(this, _GrooveShuffleBoxAdapter_groove, \"f\").unwarp(position); }\n    warp(position) { return __classPrivateFieldGet(this, _GrooveShuffleBoxAdapter_groove, \"f\").warp(position); }\n    get box() { return __classPrivateFieldGet(this, _GrooveShuffleBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _GrooveShuffleBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _GrooveShuffleBoxAdapter_box, \"f\").address; }\n    terminate() { __classPrivateFieldGet(this, _GrooveShuffleBoxAdapter_terminator, \"f\").terminate(); }\n}\n_a = GrooveShuffleBoxAdapter, _GrooveShuffleBoxAdapter_terminator = new WeakMap(), _GrooveShuffleBoxAdapter_context = new WeakMap(), _GrooveShuffleBoxAdapter_box = new WeakMap(), _GrooveShuffleBoxAdapter_parametric = new WeakMap(), _GrooveShuffleBoxAdapter_groove = new WeakMap(), _GrooveShuffleBoxAdapter_amount = new WeakMap(), _GrooveShuffleBoxAdapter_duration = new WeakMap(), _GrooveShuffleBoxAdapter_instances = new WeakSet(), _GrooveShuffleBoxAdapter_wrapParameters = function _GrooveShuffleBoxAdapter_wrapParameters(box) {\n    return {\n        duration: __classPrivateFieldGet(this, _GrooveShuffleBoxAdapter_parametric, \"f\").createParameter(box.duration, ValueMapping.values(_a.DurationPPQNs), StringMapping.values(\"\", _a.DurationPPQNs, _a.DurationStrings), \"duration\"),\n        amount: __classPrivateFieldGet(this, _GrooveShuffleBoxAdapter_parametric, \"f\").createParameter(box.amount, ValueMapping.unipolar(), StringMapping.percent({ fractionDigits: 0 }), \"amount\")\n    };\n};\nGrooveShuffleBoxAdapter.Durations = [\n    [1, 8], [1, 4], [1, 4], [1, 2], [1, 1], [2, 1], [4, 1], [8, 1], [16, 1]\n];\nGrooveShuffleBoxAdapter.DurationPPQNs = _a.Durations.map(([n, d]) => PPQN.fromSignature(n, d));\nGrooveShuffleBoxAdapter.DurationStrings = _a.Durations.map(([n, d]) => (`${n}/${d}`));\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _FieldAdapter_field, _FieldAdapter_valueMapping, _FieldAdapter_stringMapping, _FieldAdapter_name, _FieldAdapter_anchor, _FieldAdapter_terminator, _FieldAdapter_valueChangeNotifier, _FieldAdapter_trackBoxAdapter;\nimport { clamp, Notifier, Option, Terminator } from \"@naomiarotest/lib-std\";\nexport class FieldAdapter {\n    constructor(field, valueMapping, stringMapping, name, anchor) {\n        _FieldAdapter_field.set(this, void 0);\n        _FieldAdapter_valueMapping.set(this, void 0);\n        _FieldAdapter_stringMapping.set(this, void 0);\n        _FieldAdapter_name.set(this, void 0);\n        _FieldAdapter_anchor.set(this, void 0);\n        _FieldAdapter_terminator.set(this, new Terminator());\n        _FieldAdapter_valueChangeNotifier.set(this, void 0);\n        _FieldAdapter_trackBoxAdapter.set(this, Option.None);\n        __classPrivateFieldSet(this, _FieldAdapter_field, field, \"f\");\n        __classPrivateFieldSet(this, _FieldAdapter_valueMapping, valueMapping, \"f\");\n        __classPrivateFieldSet(this, _FieldAdapter_stringMapping, stringMapping, \"f\");\n        __classPrivateFieldSet(this, _FieldAdapter_name, name, \"f\");\n        __classPrivateFieldSet(this, _FieldAdapter_anchor, anchor ?? 0.0, \"f\");\n        __classPrivateFieldSet(this, _FieldAdapter_valueChangeNotifier, __classPrivateFieldGet(this, _FieldAdapter_terminator, \"f\").own(new Notifier()), \"f\");\n        __classPrivateFieldGet(this, _FieldAdapter_terminator, \"f\").own(__classPrivateFieldGet(this, _FieldAdapter_field, \"f\").subscribe(() => __classPrivateFieldGet(this, _FieldAdapter_valueChangeNotifier, \"f\").notify(this)));\n        /*\n        For debugging: It's not live because floating errors expose false positives,\n            and I am too lazy to implement this in the mappings itself.\n        */\n        if (field.getValue() !== valueMapping.clamp(field.getValue())) {\n            console.warn(`${name} (${field.getValue()}) is out of bounds`, valueMapping);\n        }\n    }\n    get field() { return __classPrivateFieldGet(this, _FieldAdapter_field, \"f\"); }\n    get valueMapping() { return __classPrivateFieldGet(this, _FieldAdapter_valueMapping, \"f\"); }\n    get stringMapping() { return __classPrivateFieldGet(this, _FieldAdapter_stringMapping, \"f\"); }\n    get name() { return __classPrivateFieldGet(this, _FieldAdapter_name, \"f\"); }\n    get anchor() { return __classPrivateFieldGet(this, _FieldAdapter_anchor, \"f\"); }\n    get type() { return __classPrivateFieldGet(this, _FieldAdapter_field, \"f\").type; }\n    get address() { return __classPrivateFieldGet(this, _FieldAdapter_field, \"f\").address; }\n    get track() { return __classPrivateFieldGet(this, _FieldAdapter_trackBoxAdapter, \"f\"); }\n    subscribe(observer) { return __classPrivateFieldGet(this, _FieldAdapter_valueChangeNotifier, \"f\").subscribe(observer); }\n    catchupAndSubscribe(observer) {\n        observer(this);\n        return this.subscribe(observer);\n    }\n    getValue() { return __classPrivateFieldGet(this, _FieldAdapter_field, \"f\").getValue(); }\n    setValue(value) { __classPrivateFieldGet(this, _FieldAdapter_field, \"f\").setValue(__classPrivateFieldGet(this, _FieldAdapter_valueMapping, \"f\").clamp(value)); }\n    setUnitValue(value) { this.setValue(__classPrivateFieldGet(this, _FieldAdapter_valueMapping, \"f\").y(value)); }\n    getUnitValue() { return __classPrivateFieldGet(this, _FieldAdapter_valueMapping, \"f\").x(this.getValue()); }\n    getPrintValue() { return __classPrivateFieldGet(this, _FieldAdapter_stringMapping, \"f\").x(this.getValue()); }\n    setPrintValue(text) {\n        const result = __classPrivateFieldGet(this, _FieldAdapter_stringMapping, \"f\").y(text);\n        if (result.type === \"unitValue\") {\n            this.setUnitValue(clamp(result.value, 0.0, 1.0));\n        }\n        else if (result.type === \"explicit\") {\n            this.setValue(this.valueMapping.clamp(result.value));\n        }\n        else {\n            console.debug(`Unknown text input: '${result.value}'`);\n        }\n    }\n    reset() { this.setValue(__classPrivateFieldGet(this, _FieldAdapter_valueMapping, \"f\").clamp(__classPrivateFieldGet(this, _FieldAdapter_field, \"f\").initValue)); }\n    terminate() { __classPrivateFieldGet(this, _FieldAdapter_terminator, \"f\").terminate(); }\n}\n_FieldAdapter_field = new WeakMap(), _FieldAdapter_valueMapping = new WeakMap(), _FieldAdapter_stringMapping = new WeakMap(), _FieldAdapter_name = new WeakMap(), _FieldAdapter_anchor = new WeakMap(), _FieldAdapter_terminator = new WeakMap(), _FieldAdapter_valueChangeNotifier = new WeakMap(), _FieldAdapter_trackBoxAdapter = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _PianoModeAdapter_object, _PianoModeAdapter_keyboard, _PianoModeAdapter_timeRangeInQuarters, _PianoModeAdapter_noteScale, _PianoModeAdapter_noteLabels, _PianoModeAdapter_transpose;\nimport { StringMapping, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { FieldAdapter } from \"./FieldAdapter\";\nimport { Propagation } from \"@naomiarotest/lib-box\";\nexport class PianoModeAdapter {\n    constructor(object) {\n        _PianoModeAdapter_object.set(this, void 0);\n        _PianoModeAdapter_keyboard.set(this, void 0);\n        _PianoModeAdapter_timeRangeInQuarters.set(this, void 0);\n        _PianoModeAdapter_noteScale.set(this, void 0);\n        _PianoModeAdapter_noteLabels.set(this, void 0);\n        _PianoModeAdapter_transpose.set(this, void 0);\n        __classPrivateFieldSet(this, _PianoModeAdapter_object, object, \"f\");\n        __classPrivateFieldSet(this, _PianoModeAdapter_keyboard, new FieldAdapter(__classPrivateFieldGet(this, _PianoModeAdapter_object, \"f\").keyboard, ValueMapping.values([88, 76, 61, 49]), StringMapping.numeric({ fractionDigits: 1 }), \"Keyboard Type\"), \"f\");\n        __classPrivateFieldSet(this, _PianoModeAdapter_timeRangeInQuarters, new FieldAdapter(__classPrivateFieldGet(this, _PianoModeAdapter_object, \"f\").timeRangeInQuarters, ValueMapping.exponential(1, 64), StringMapping.numeric({ fractionDigits: 1 }), \"Time-Range\"), \"f\");\n        __classPrivateFieldSet(this, _PianoModeAdapter_noteScale, new FieldAdapter(__classPrivateFieldGet(this, _PianoModeAdapter_object, \"f\").noteScale, ValueMapping.exponential(0.5, 2.0), StringMapping.numeric({ fractionDigits: 1 }), \"Note Scale\"), \"f\");\n        __classPrivateFieldSet(this, _PianoModeAdapter_noteLabels, new FieldAdapter(__classPrivateFieldGet(this, _PianoModeAdapter_object, \"f\").noteLabels, ValueMapping.bool, StringMapping.bool, \"Note Labels\"), \"f\");\n        __classPrivateFieldSet(this, _PianoModeAdapter_transpose, new FieldAdapter(__classPrivateFieldGet(this, _PianoModeAdapter_object, \"f\").transpose, ValueMapping.linearInteger(-48, 48), StringMapping.numeric({ fractionDigits: 0 }), \"Transpose\"), \"f\");\n    }\n    subscribe(observer) {\n        return __classPrivateFieldGet(this, _PianoModeAdapter_object, \"f\").box.subscribe(Propagation.Children, () => observer(this));\n    }\n    get object() { return __classPrivateFieldGet(this, _PianoModeAdapter_object, \"f\"); }\n    get keyboard() { return __classPrivateFieldGet(this, _PianoModeAdapter_keyboard, \"f\"); }\n    get timeRangeInQuarters() { return __classPrivateFieldGet(this, _PianoModeAdapter_timeRangeInQuarters, \"f\"); }\n    get noteScale() { return __classPrivateFieldGet(this, _PianoModeAdapter_noteScale, \"f\"); }\n    get noteLabels() { return __classPrivateFieldGet(this, _PianoModeAdapter_noteLabels, \"f\"); }\n    get transpose() { return __classPrivateFieldGet(this, _PianoModeAdapter_transpose, \"f\"); }\n}\n_PianoModeAdapter_object = new WeakMap(), _PianoModeAdapter_keyboard = new WeakMap(), _PianoModeAdapter_timeRangeInQuarters = new WeakMap(), _PianoModeAdapter_noteScale = new WeakMap(), _PianoModeAdapter_noteLabels = new WeakMap(), _PianoModeAdapter_transpose = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _RootBoxAdapter_context, _RootBoxAdapter_box, _RootBoxAdapter_audioUnits, _RootBoxAdapter_audioBusses, _RootBoxAdapter_pianoMode;\nimport { MIDIOutputBox } from \"@naomiarotest/studio-boxes\";\nimport { asInstanceOf } from \"@naomiarotest/lib-std\";\nimport { AudioBusBoxAdapter } from \"./audio-unit/AudioBusBoxAdapter\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nimport { IndexedBoxAdapterCollection } from \"./IndexedBoxAdapterCollection\";\nimport { AudioUnitBoxAdapter } from \"./audio-unit/AudioUnitBoxAdapter\";\nimport { BoxAdapterCollection } from \"./BoxAdapterCollection\";\nimport { TimelineBoxAdapter } from \"./timeline/TimelineBoxAdapter\";\nimport { GrooveShuffleBoxAdapter } from \"./grooves/GrooveShuffleBoxAdapter\";\nimport { PianoModeAdapter } from \"./PianoModeAdapter\";\nexport class RootBoxAdapter {\n    constructor(context, box) {\n        _RootBoxAdapter_context.set(this, void 0);\n        _RootBoxAdapter_box.set(this, void 0);\n        _RootBoxAdapter_audioUnits.set(this, void 0);\n        _RootBoxAdapter_audioBusses.set(this, void 0);\n        _RootBoxAdapter_pianoMode.set(this, void 0);\n        __classPrivateFieldSet(this, _RootBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _RootBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _RootBoxAdapter_audioUnits, IndexedBoxAdapterCollection.create(__classPrivateFieldGet(this, _RootBoxAdapter_box, \"f\").audioUnits, box => __classPrivateFieldGet(this, _RootBoxAdapter_context, \"f\").boxAdapters.adapterFor(box, AudioUnitBoxAdapter), Pointers.AudioUnits), \"f\");\n        __classPrivateFieldSet(this, _RootBoxAdapter_audioBusses, new BoxAdapterCollection(__classPrivateFieldGet(this, _RootBoxAdapter_box, \"f\").audioBusses.pointerHub, box => __classPrivateFieldGet(this, _RootBoxAdapter_context, \"f\").boxAdapters.adapterFor(box, AudioBusBoxAdapter), Pointers.AudioBusses), \"f\");\n        __classPrivateFieldSet(this, _RootBoxAdapter_pianoMode, new PianoModeAdapter(__classPrivateFieldGet(this, _RootBoxAdapter_box, \"f\").pianoMode), \"f\");\n    }\n    get uuid() { return __classPrivateFieldGet(this, _RootBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _RootBoxAdapter_box, \"f\").address; }\n    get box() { return __classPrivateFieldGet(this, _RootBoxAdapter_box, \"f\"); }\n    get audioBusses() { return __classPrivateFieldGet(this, _RootBoxAdapter_audioBusses, \"f\"); }\n    get audioUnits() { return __classPrivateFieldGet(this, _RootBoxAdapter_audioUnits, \"f\"); }\n    get clips() {\n        return __classPrivateFieldGet(this, _RootBoxAdapter_audioUnits, \"f\").adapters()\n            .flatMap(adapter => adapter.tracks.collection.adapters())\n            .flatMap(track => track.clips.collection.adapters());\n    }\n    get groove() {\n        return __classPrivateFieldGet(this, _RootBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _RootBoxAdapter_box, \"f\").groove.targetVertex.unwrap(\"no groove\").box, GrooveShuffleBoxAdapter);\n    }\n    get timeline() {\n        return __classPrivateFieldGet(this, _RootBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _RootBoxAdapter_box, \"f\").timeline.targetVertex.unwrap(\"no timeline\").box, TimelineBoxAdapter);\n    }\n    get pianoMode() { return __classPrivateFieldGet(this, _RootBoxAdapter_pianoMode, \"f\"); }\n    get created() { return new Date(__classPrivateFieldGet(this, _RootBoxAdapter_box, \"f\").created.getValue()); }\n    get midiOutputDevices() {\n        return __classPrivateFieldGet(this, _RootBoxAdapter_box, \"f\").outputMidiDevices.pointerHub.incoming().map(({ box }) => asInstanceOf(box, MIDIOutputBox));\n    }\n    terminate() { __classPrivateFieldGet(this, _RootBoxAdapter_audioUnits, \"f\").terminate(); }\n}\n_RootBoxAdapter_context = new WeakMap(), _RootBoxAdapter_box = new WeakMap(), _RootBoxAdapter_audioUnits = new WeakMap(), _RootBoxAdapter_audioBusses = new WeakMap(), _RootBoxAdapter_pianoMode = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _TapeDeviceBoxAdapter_instances, _TapeDeviceBoxAdapter_context, _TapeDeviceBoxAdapter_box, _TapeDeviceBoxAdapter_parametric, _TapeDeviceBoxAdapter_wrapParameters;\nimport { StringMapping, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { Devices } from \"../../DeviceAdapter\";\nimport { ParameterAdapterSet } from \"../../ParameterAdapterSet\";\nimport { TrackType } from \"../../timeline/TrackType\";\nexport class TapeDeviceBoxAdapter {\n    constructor(context, box) {\n        _TapeDeviceBoxAdapter_instances.add(this);\n        this.type = \"instrument\";\n        this.accepts = \"audio\";\n        _TapeDeviceBoxAdapter_context.set(this, void 0);\n        _TapeDeviceBoxAdapter_box.set(this, void 0);\n        _TapeDeviceBoxAdapter_parametric.set(this, void 0);\n        __classPrivateFieldSet(this, _TapeDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _TapeDeviceBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _TapeDeviceBoxAdapter_parametric, new ParameterAdapterSet(__classPrivateFieldGet(this, _TapeDeviceBoxAdapter_context, \"f\")), \"f\");\n        this.namedParameter = __classPrivateFieldGet(this, _TapeDeviceBoxAdapter_instances, \"m\", _TapeDeviceBoxAdapter_wrapParameters).call(this, box);\n    }\n    get box() { return __classPrivateFieldGet(this, _TapeDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _TapeDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _TapeDeviceBoxAdapter_box, \"f\").address; }\n    get labelField() { return __classPrivateFieldGet(this, _TapeDeviceBoxAdapter_box, \"f\").label; }\n    get iconField() { return __classPrivateFieldGet(this, _TapeDeviceBoxAdapter_box, \"f\").icon; }\n    get defaultTrackType() { return TrackType.Audio; }\n    get enabledField() { return __classPrivateFieldGet(this, _TapeDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _TapeDeviceBoxAdapter_box, \"f\").minimized; }\n    get acceptsMidiEvents() { return false; }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _TapeDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _TapeDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { __classPrivateFieldGet(this, _TapeDeviceBoxAdapter_parametric, \"f\").terminate(); }\n}\n_TapeDeviceBoxAdapter_context = new WeakMap(), _TapeDeviceBoxAdapter_box = new WeakMap(), _TapeDeviceBoxAdapter_parametric = new WeakMap(), _TapeDeviceBoxAdapter_instances = new WeakSet(), _TapeDeviceBoxAdapter_wrapParameters = function _TapeDeviceBoxAdapter_wrapParameters(box) {\n    return {\n        flutter: __classPrivateFieldGet(this, _TapeDeviceBoxAdapter_parametric, \"f\").createParameter(box.flutter, ValueMapping.unipolar(), StringMapping.percent(), \"flutter\"),\n        wow: __classPrivateFieldGet(this, _TapeDeviceBoxAdapter_parametric, \"f\").createParameter(box.wow, ValueMapping.unipolar(), StringMapping.percent(), \"wow\"),\n        noise: __classPrivateFieldGet(this, _TapeDeviceBoxAdapter_parametric, \"f\").createParameter(box.noise, ValueMapping.unipolar(), StringMapping.percent(), \"noise\"),\n        saturation: __classPrivateFieldGet(this, _TapeDeviceBoxAdapter_parametric, \"f\").createParameter(box.saturation, ValueMapping.unipolar(), StringMapping.percent(), \"saturation\")\n    };\n};\n", "import { StringMapping, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { ClassicWaveform } from \"@naomiarotest/lib-dsp\";\nexport const VaporisateurSettings = (() => {\n    const MIN_CUTOFF = 20.0;\n    const MAX_CUTOFF = 20000;\n    const FILTER_ORDER_VALUES = [1, 2, 3, 4];\n    const FILTER_ORDER_STRINGS = [\"12\", \"24\", \"36\", \"48\"];\n    const LFO_WAVEFORM_VALUES = [ClassicWaveform.sine, ClassicWaveform.triangle, ClassicWaveform.saw, ClassicWaveform.square];\n    const LFO_WAVEFORM_STRINGS = [\"Sine\", \"Triangle\", \"Saw\", \"Square\"];\n    return {\n        MIN_CUTOFF,\n        MAX_CUTOFF,\n        CUTOFF_VALUE_MAPPING: ValueMapping.exponential(MIN_CUTOFF, MAX_CUTOFF),\n        CUTOFF_STRING_MAPPING: StringMapping.numeric({ unit: \"Hz\" }),\n        FILTER_ORDER_VALUES,\n        FILTER_ORDER_STRINGS,\n        FILTER_ORDER_VALUE_MAPPING: ValueMapping.values(FILTER_ORDER_VALUES),\n        FILTER_ORDER_STRING_MAPPING: StringMapping.values(\"db\", FILTER_ORDER_VALUES, FILTER_ORDER_STRINGS),\n        LFO_WAVEFORM_VALUES,\n        LFO_WAVEFORM_STRINGS,\n        LFO_WAVEFORM_VALUE_MAPPING: ValueMapping.values(LFO_WAVEFORM_VALUES),\n        LFO_WAVEFORM_STRING_MAPPING: StringMapping.values(\"\", LFO_WAVEFORM_VALUES, LFO_WAVEFORM_STRINGS)\n    };\n})();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _VaporisateurDeviceBoxAdapter_instances, _VaporisateurDeviceBoxAdapter_context, _VaporisateurDeviceBoxAdapter_box, _VaporisateurDeviceBoxAdapter_parametric, _VaporisateurDeviceBoxAdapter_wrapParameters;\nimport { StringMapping, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { Devices } from \"../../DeviceAdapter\";\nimport { ParameterAdapterSet } from \"../../ParameterAdapterSet\";\nimport { TrackType } from \"../../timeline/TrackType\";\nimport { VoicingMode } from \"@naomiarotest/studio-enums\";\nimport { VaporisateurSettings } from \"./VaporisateurSettings\";\nexport class VaporisateurDeviceBoxAdapter {\n    constructor(context, box) {\n        _VaporisateurDeviceBoxAdapter_instances.add(this);\n        this.type = \"instrument\";\n        this.accepts = \"midi\";\n        _VaporisateurDeviceBoxAdapter_context.set(this, void 0);\n        _VaporisateurDeviceBoxAdapter_box.set(this, void 0);\n        _VaporisateurDeviceBoxAdapter_parametric.set(this, void 0);\n        __classPrivateFieldSet(this, _VaporisateurDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _VaporisateurDeviceBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _VaporisateurDeviceBoxAdapter_parametric, new ParameterAdapterSet(__classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_context, \"f\")), \"f\");\n        this.namedParameter = __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_instances, \"m\", _VaporisateurDeviceBoxAdapter_wrapParameters).call(this, box);\n    }\n    get box() { return __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_box, \"f\").address; }\n    get labelField() { return __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_box, \"f\").label; }\n    get iconField() { return __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_box, \"f\").icon; }\n    get defaultTrackType() { return TrackType.Notes; }\n    get enabledField() { return __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_box, \"f\").minimized; }\n    get acceptsMidiEvents() { return true; }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").terminate(); }\n}\n_VaporisateurDeviceBoxAdapter_context = new WeakMap(), _VaporisateurDeviceBoxAdapter_box = new WeakMap(), _VaporisateurDeviceBoxAdapter_parametric = new WeakMap(), _VaporisateurDeviceBoxAdapter_instances = new WeakSet(), _VaporisateurDeviceBoxAdapter_wrapParameters = function _VaporisateurDeviceBoxAdapter_wrapParameters(box) {\n    const VoiceModes = [VoicingMode.Monophonic, VoicingMode.Polyphonic];\n    return {\n        oscillators: box.oscillators.fields().map(osc => ({\n            waveform: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(osc.waveform, ValueMapping.linearInteger(0, 3), StringMapping.indices(\"\", [\"Sine\", \"Triangle\", \"Sawtooth\", \"Square\"]), \"Waveform\"),\n            volume: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(osc.volume, ValueMapping.DefaultDecibel, StringMapping.numeric({ unit: \"db\", fractionDigits: 1 }), \"Volume\"),\n            octave: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(osc.octave, ValueMapping.linearInteger(-3, 3), StringMapping.numeric({ unit: \"oct\" }), \"Octave\", 0.5),\n            tune: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(osc.tune, ValueMapping.linear(-1200.0, +1200.0), StringMapping.numeric({ unit: \"ct\", fractionDigits: 0 }), \"Tune\", 0.5)\n        })),\n        noise: {\n            volume: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.noise.volume, ValueMapping.DefaultDecibel, StringMapping.numeric({ unit: \"db\", fractionDigits: 1 }), \"Volume\"),\n            attack: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.noise.attack, ValueMapping.exponential(0.001, 5.0), StringMapping.numeric({ unit: \"s\", fractionDigits: 3 }), \"Attack\"),\n            hold: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.noise.hold, ValueMapping.exponential(0.001, 5.0), StringMapping.numeric({ unit: \"s\", fractionDigits: 3 }), \"Hold\"),\n            release: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.noise.release, ValueMapping.exponential(0.001, 5.0), StringMapping.numeric({ unit: \"s\", fractionDigits: 3 }), \"Release\")\n        },\n        filterOrder: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.filterOrder, VaporisateurSettings.FILTER_ORDER_VALUE_MAPPING, VaporisateurSettings.FILTER_ORDER_STRING_MAPPING, \"Flt. Order\"),\n        cutoff: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.cutoff, VaporisateurSettings.CUTOFF_VALUE_MAPPING, VaporisateurSettings.CUTOFF_STRING_MAPPING, \"Flt. Cutoff\"),\n        resonance: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.resonance, ValueMapping.exponential(0.01, 10.0), StringMapping.numeric({ unit: \"q\", fractionDigits: 3 }), \"Flt. Q\"),\n        attack: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.attack, ValueMapping.exponential(0.001, 5.0), StringMapping.numeric({ unit: \"s\", fractionDigits: 3 }), \"Attack\"),\n        decay: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.decay, ValueMapping.exponential(0.001, 5.0), StringMapping.numeric({ unit: \"s\", fractionDigits: 3 }), \"Decay\"),\n        sustain: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.sustain, ValueMapping.unipolar(), StringMapping.percent({ fractionDigits: 1 }), \"Sustain\"),\n        release: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.release, ValueMapping.exponential(0.001, 5.0), StringMapping.numeric({ unit: \"s\", fractionDigits: 3 }), \"Release\"),\n        filterEnvelope: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.filterEnvelope, ValueMapping.bipolar(), StringMapping.percent({ fractionDigits: 1 }), \"Flt. Env.\", 0.5),\n        filterKeyboard: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.filterKeyboard, ValueMapping.bipolar(), StringMapping.percent({ fractionDigits: 1 }), \"Flt. Kbd.\", 0.5),\n        voicingMode: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.voicingMode, ValueMapping.values(VoiceModes), StringMapping.values(\"\", VoiceModes, [\"mono\", \"poly\"]), \"Play Mode\", 0.5),\n        glideTime: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.glideTime, ValueMapping.unipolar(), StringMapping.percent({ fractionDigits: 1 }), \"Glide time\", 0.0),\n        unisonCount: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.unisonCount, ValueMapping.values([1, 3, 5]), StringMapping.values(\"#\", [1, 3, 5], [1, 3, 5].map(x => String(x))), \"Unisono\", 0.0),\n        unisonDetune: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.unisonDetune, ValueMapping.exponential(1.0, 1200.0), StringMapping.numeric({ unit: \"ct\", fractionDigits: 0 }), \"Detune\", 0.0),\n        unisonStereo: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.unisonStereo, ValueMapping.unipolar(), StringMapping.percent({ fractionDigits: 0 }), \"Stereo\", 0.0),\n        lfoWaveform: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.lfo.waveform, VaporisateurSettings.LFO_WAVEFORM_VALUE_MAPPING, VaporisateurSettings.LFO_WAVEFORM_STRING_MAPPING, \"LFO Shape\", 0.0),\n        lfoRate: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.lfo.rate, ValueMapping.exponential(0.0001, 30.0), StringMapping.numeric({ unit: \"Hz\", fractionDigits: 1, unitPrefix: true }), \"Rate\", 0.0),\n        lfoTargetTune: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.lfo.targetTune, ValueMapping.bipolar(), StringMapping.percent({ fractionDigits: 1 }), \"Vibrato \u29BF\", 0.5),\n        lfoTargetVolume: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.lfo.targetVolume, ValueMapping.bipolar(), StringMapping.percent({ fractionDigits: 1 }), \"Tremolo \u29BF\", 0.5),\n        lfoTargetCutoff: __classPrivateFieldGet(this, _VaporisateurDeviceBoxAdapter_parametric, \"f\").createParameter(box.lfo.targetCutoff, ValueMapping.bipolar(), StringMapping.percent({ fractionDigits: 1 }), \"Cutoff \u29BF\", 0.5)\n    };\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ArpeggioDeviceBoxAdapter_instances, _a, _ArpeggioDeviceBoxAdapter_context, _ArpeggioDeviceBoxAdapter_box, _ArpeggioDeviceBoxAdapter_parametric, _ArpeggioDeviceBoxAdapter_wrapParameters;\nimport { Fraction } from \"@naomiarotest/lib-dsp\";\nimport { StringMapping, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { Devices } from \"../../DeviceAdapter\";\nimport { ParameterAdapterSet } from \"../../ParameterAdapterSet\";\nexport class ArpeggioDeviceBoxAdapter {\n    constructor(context, box) {\n        _ArpeggioDeviceBoxAdapter_instances.add(this);\n        this.type = \"midi-effect\";\n        this.accepts = \"midi\";\n        _ArpeggioDeviceBoxAdapter_context.set(this, void 0);\n        _ArpeggioDeviceBoxAdapter_box.set(this, void 0);\n        _ArpeggioDeviceBoxAdapter_parametric.set(this, void 0);\n        __classPrivateFieldSet(this, _ArpeggioDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _ArpeggioDeviceBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _ArpeggioDeviceBoxAdapter_parametric, new ParameterAdapterSet(__classPrivateFieldGet(this, _ArpeggioDeviceBoxAdapter_context, \"f\")), \"f\");\n        this.namedParameter = __classPrivateFieldGet(this, _ArpeggioDeviceBoxAdapter_instances, \"m\", _ArpeggioDeviceBoxAdapter_wrapParameters).call(this, box);\n    }\n    get box() { return __classPrivateFieldGet(this, _ArpeggioDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _ArpeggioDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _ArpeggioDeviceBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _ArpeggioDeviceBoxAdapter_box, \"f\").index; }\n    get labelField() { return __classPrivateFieldGet(this, _ArpeggioDeviceBoxAdapter_box, \"f\").label; }\n    get enabledField() { return __classPrivateFieldGet(this, _ArpeggioDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _ArpeggioDeviceBoxAdapter_box, \"f\").minimized; }\n    get host() { return __classPrivateFieldGet(this, _ArpeggioDeviceBoxAdapter_box, \"f\").host; }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _ArpeggioDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _ArpeggioDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { __classPrivateFieldGet(this, _ArpeggioDeviceBoxAdapter_parametric, \"f\").terminate(); }\n}\n_a = ArpeggioDeviceBoxAdapter, _ArpeggioDeviceBoxAdapter_context = new WeakMap(), _ArpeggioDeviceBoxAdapter_box = new WeakMap(), _ArpeggioDeviceBoxAdapter_parametric = new WeakMap(), _ArpeggioDeviceBoxAdapter_instances = new WeakSet(), _ArpeggioDeviceBoxAdapter_wrapParameters = function _ArpeggioDeviceBoxAdapter_wrapParameters(box) {\n    return {\n        modeIndex: __classPrivateFieldGet(this, _ArpeggioDeviceBoxAdapter_parametric, \"f\").createParameter(box.modeIndex, ValueMapping.linearInteger(0, 2), StringMapping.indices(\"\", [\"Up\", \"Down\", \"UpDown\"]), \"mode\"),\n        numOctaves: __classPrivateFieldGet(this, _ArpeggioDeviceBoxAdapter_parametric, \"f\").createParameter(box.numOctaves, ValueMapping.linearInteger(1, 5), StringMapping.numeric({ unit: \"\", fractionDigits: 0 }), \"Octaves\"),\n        rate: __classPrivateFieldGet(this, _ArpeggioDeviceBoxAdapter_parametric, \"f\").createParameter(box.rateIndex, ValueMapping.linearInteger(0, _a.RateFractions.length - 1), _a.RateStringMapping, \"Rate\"),\n        gate: __classPrivateFieldGet(this, _ArpeggioDeviceBoxAdapter_parametric, \"f\").createParameter(box.gate, ValueMapping.linear(0.0, 2.0), StringMapping.percent({ fractionDigits: 0 }), \"Gate\"),\n        repeat: __classPrivateFieldGet(this, _ArpeggioDeviceBoxAdapter_parametric, \"f\").createParameter(box.repeat, ValueMapping.linearInteger(1, 16), StringMapping.numeric({ fractionDigits: 0 }), \"Repeat\"),\n        velocity: __classPrivateFieldGet(this, _ArpeggioDeviceBoxAdapter_parametric, \"f\").createParameter(box.velocity, ValueMapping.bipolar(), StringMapping.percent({ fractionDigits: 0, bipolar: false }), \"Velocity\")\n    };\n};\nArpeggioDeviceBoxAdapter.RateFractions = Fraction.builder()\n    .add([1, 1]).add([1, 2]).add([1, 3]).add([1, 4])\n    .add([3, 16]).add([1, 6]).add([1, 8]).add([3, 32])\n    .add([1, 12]).add([1, 16]).add([3, 64]).add([1, 24])\n    .add([1, 32]).add([1, 48]).add([1, 64])\n    .add([1, 96]).add([1, 128])\n    .asDescendingArray();\nArpeggioDeviceBoxAdapter.RateStringMapping = StringMapping.indices(\"\", _a.RateFractions.map(([n, d]) => `${n}/${d}`));\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _PitchDeviceBoxAdapter_instances, _PitchDeviceBoxAdapter_context, _PitchDeviceBoxAdapter_box, _PitchDeviceBoxAdapter_parametric, _PitchDeviceBoxAdapter_wrapParameters;\nimport { StringMapping, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { Devices } from \"../../DeviceAdapter\";\nimport { ParameterAdapterSet } from \"../../ParameterAdapterSet\";\nexport class PitchDeviceBoxAdapter {\n    constructor(context, box) {\n        _PitchDeviceBoxAdapter_instances.add(this);\n        this.type = \"midi-effect\";\n        this.accepts = \"midi\";\n        _PitchDeviceBoxAdapter_context.set(this, void 0);\n        _PitchDeviceBoxAdapter_box.set(this, void 0);\n        _PitchDeviceBoxAdapter_parametric.set(this, void 0);\n        __classPrivateFieldSet(this, _PitchDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _PitchDeviceBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _PitchDeviceBoxAdapter_parametric, new ParameterAdapterSet(__classPrivateFieldGet(this, _PitchDeviceBoxAdapter_context, \"f\")), \"f\");\n        this.namedParameter = __classPrivateFieldGet(this, _PitchDeviceBoxAdapter_instances, \"m\", _PitchDeviceBoxAdapter_wrapParameters).call(this, box);\n    }\n    get box() { return __classPrivateFieldGet(this, _PitchDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _PitchDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _PitchDeviceBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _PitchDeviceBoxAdapter_box, \"f\").index; }\n    get labelField() { return __classPrivateFieldGet(this, _PitchDeviceBoxAdapter_box, \"f\").label; }\n    get enabledField() { return __classPrivateFieldGet(this, _PitchDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _PitchDeviceBoxAdapter_box, \"f\").minimized; }\n    get host() { return __classPrivateFieldGet(this, _PitchDeviceBoxAdapter_box, \"f\").host; }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _PitchDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _PitchDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { __classPrivateFieldGet(this, _PitchDeviceBoxAdapter_parametric, \"f\").terminate(); }\n}\n_PitchDeviceBoxAdapter_context = new WeakMap(), _PitchDeviceBoxAdapter_box = new WeakMap(), _PitchDeviceBoxAdapter_parametric = new WeakMap(), _PitchDeviceBoxAdapter_instances = new WeakSet(), _PitchDeviceBoxAdapter_wrapParameters = function _PitchDeviceBoxAdapter_wrapParameters(box) {\n    return {\n        octaves: __classPrivateFieldGet(this, _PitchDeviceBoxAdapter_parametric, \"f\").createParameter(box.octaves, ValueMapping.linearInteger(-7, 7), StringMapping.numeric({ unit: \"oct\", fractionDigits: 0 }), \"octaves\"),\n        semiTones: __classPrivateFieldGet(this, _PitchDeviceBoxAdapter_parametric, \"f\").createParameter(box.semiTones, ValueMapping.linearInteger(-36, 36), StringMapping.numeric({ unit: \"st\", fractionDigits: 0 }), \"semi-tones\"),\n        cent: __classPrivateFieldGet(this, _PitchDeviceBoxAdapter_parametric, \"f\").createParameter(box.cents, ValueMapping.linear(-50.0, 50.0), StringMapping.numeric({ unit: \"cents\", fractionDigits: 1 }), \"cents\")\n    };\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _NanoDeviceBoxAdapter_instances, _NanoDeviceBoxAdapter_context, _NanoDeviceBoxAdapter_box, _NanoDeviceBoxAdapter_parametric, _NanoDeviceBoxAdapter_wrapParameters;\nimport { StringMapping, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { Devices } from \"../../DeviceAdapter\";\nimport { ParameterAdapterSet } from \"../../ParameterAdapterSet\";\nimport { TrackType } from \"../../timeline/TrackType\";\nexport class NanoDeviceBoxAdapter {\n    constructor(context, box) {\n        _NanoDeviceBoxAdapter_instances.add(this);\n        this.type = \"instrument\";\n        this.accepts = \"midi\";\n        _NanoDeviceBoxAdapter_context.set(this, void 0);\n        _NanoDeviceBoxAdapter_box.set(this, void 0);\n        _NanoDeviceBoxAdapter_parametric.set(this, void 0);\n        __classPrivateFieldSet(this, _NanoDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _NanoDeviceBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _NanoDeviceBoxAdapter_parametric, new ParameterAdapterSet(__classPrivateFieldGet(this, _NanoDeviceBoxAdapter_context, \"f\")), \"f\");\n        this.namedParameter = __classPrivateFieldGet(this, _NanoDeviceBoxAdapter_instances, \"m\", _NanoDeviceBoxAdapter_wrapParameters).call(this, box);\n    }\n    get box() { return __classPrivateFieldGet(this, _NanoDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _NanoDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _NanoDeviceBoxAdapter_box, \"f\").address; }\n    get labelField() { return __classPrivateFieldGet(this, _NanoDeviceBoxAdapter_box, \"f\").label; }\n    get iconField() { return __classPrivateFieldGet(this, _NanoDeviceBoxAdapter_box, \"f\").icon; }\n    get defaultTrackType() { return TrackType.Notes; }\n    get enabledField() { return __classPrivateFieldGet(this, _NanoDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _NanoDeviceBoxAdapter_box, \"f\").minimized; }\n    get acceptsMidiEvents() { return true; }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _NanoDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _NanoDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { __classPrivateFieldGet(this, _NanoDeviceBoxAdapter_parametric, \"f\").terminate(); }\n}\n_NanoDeviceBoxAdapter_context = new WeakMap(), _NanoDeviceBoxAdapter_box = new WeakMap(), _NanoDeviceBoxAdapter_parametric = new WeakMap(), _NanoDeviceBoxAdapter_instances = new WeakSet(), _NanoDeviceBoxAdapter_wrapParameters = function _NanoDeviceBoxAdapter_wrapParameters(box) {\n    return {\n        volume: __classPrivateFieldGet(this, _NanoDeviceBoxAdapter_parametric, \"f\").createParameter(box.volume, ValueMapping.DefaultDecibel, StringMapping.numeric({ unit: \"db\", fractionDigits: 1 }), \"volume\"),\n        release: __classPrivateFieldGet(this, _NanoDeviceBoxAdapter_parametric, \"f\").createParameter(box.release, ValueMapping.exponential(0.001, 8.0), StringMapping.numeric({ unit: \"s\", fractionDigits: 3 }), \"release\")\n    };\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _PlayfieldSampleBoxAdapter_instances, _PlayfieldSampleBoxAdapter_terminator, _PlayfieldSampleBoxAdapter_context, _PlayfieldSampleBoxAdapter_box, _PlayfieldSampleBoxAdapter_midiEffects, _PlayfieldSampleBoxAdapter_audioEffects, _PlayfieldSampleBoxAdapter_parametric, _PlayfieldSampleBoxAdapter_file, _PlayfieldSampleBoxAdapter_wrapParameters;\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nimport { PlayfieldSampleBox } from \"@naomiarotest/studio-boxes\";\nimport { Option, StringMapping, Terminator, UUID, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { Devices } from \"../../../DeviceAdapter\";\nimport { IndexedBoxAdapterCollection } from \"../../../IndexedBoxAdapterCollection\";\nimport { ParameterAdapterSet } from \"../../../ParameterAdapterSet\";\nimport { AudioFileBoxAdapter } from \"../../../audio/AudioFileBoxAdapter\";\nimport { TrackType } from \"../../../timeline/TrackType\";\nimport { PlayfieldDeviceBoxAdapter } from \"../PlayfieldDeviceBoxAdapter\";\nexport class PlayfieldSampleBoxAdapter {\n    constructor(context, box) {\n        _PlayfieldSampleBoxAdapter_instances.add(this);\n        this.class = \"device-host\";\n        this.accepts = false;\n        this.type = \"instrument\";\n        _PlayfieldSampleBoxAdapter_terminator.set(this, new Terminator());\n        _PlayfieldSampleBoxAdapter_context.set(this, void 0);\n        _PlayfieldSampleBoxAdapter_box.set(this, void 0);\n        _PlayfieldSampleBoxAdapter_midiEffects.set(this, void 0);\n        _PlayfieldSampleBoxAdapter_audioEffects.set(this, void 0);\n        _PlayfieldSampleBoxAdapter_parametric.set(this, void 0);\n        _PlayfieldSampleBoxAdapter_file.set(this, Option.None);\n        __classPrivateFieldSet(this, _PlayfieldSampleBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _PlayfieldSampleBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _PlayfieldSampleBoxAdapter_midiEffects, __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_terminator, \"f\").own(IndexedBoxAdapterCollection.create(__classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").midiEffects, box => __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_context, \"f\").boxAdapters.adapterFor(box, Devices.isMidiEffect), Pointers.MidiEffectHost)), \"f\");\n        __classPrivateFieldSet(this, _PlayfieldSampleBoxAdapter_audioEffects, __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_terminator, \"f\").own(IndexedBoxAdapterCollection.create(__classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").audioEffects, box => __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_context, \"f\").boxAdapters.adapterFor(box, Devices.isAudioEffect), Pointers.AudioEffectHost)), \"f\");\n        __classPrivateFieldSet(this, _PlayfieldSampleBoxAdapter_parametric, __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_terminator, \"f\").own(new ParameterAdapterSet(__classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_context, \"f\"))), \"f\");\n        this.namedParameter = __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_instances, \"m\", _PlayfieldSampleBoxAdapter_wrapParameters).call(this, box);\n        __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_terminator, \"f\").own(__classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").file.catchupAndSubscribe(pointer => {\n            __classPrivateFieldSet(this, _PlayfieldSampleBoxAdapter_file, pointer.targetVertex.map(({ box }) => __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_context, \"f\").boxAdapters.adapterFor(box, AudioFileBoxAdapter)), \"f\");\n            __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_file, \"f\").unwrapOrNull()?.getOrCreateLoader(); // triggers preloading file if available\n        }));\n    }\n    get box() { return __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").address; }\n    get peakAddress() { return __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").address.append(1001); }\n    get indexField() { return __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").index; }\n    get gate() { return __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").gate.getValue(); }\n    get exclude() { return __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").exclude.getValue(); }\n    get label() {\n        return `${this.device().labelField.getValue()} > ${__classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_file, \"f\").mapOr(file => file.box.fileName.getValue(), \"No file\")}`;\n    }\n    get iconField() { return __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").icon; }\n    get defaultTrackType() { return TrackType.Notes; }\n    get acceptsMidiEvents() { return true; }\n    get midiEffectsField() { return __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").midiEffects; }\n    get inputField() { return this.audioUnitBoxAdapter().box.input; }\n    get audioEffectsField() { return __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").audioEffects; }\n    get tracksField() { return this.audioUnitBoxAdapter().box.tracks; }\n    get isAudioUnit() { return false; }\n    file() { return __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_file, \"f\"); }\n    fileUUID() { return __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").file.targetAddress.unwrap().uuid; }\n    resetParameters() {\n        __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").mute.reset();\n        __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").solo.reset();\n        __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").exclude.reset();\n        __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").polyphone.reset();\n        __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").pitch.reset();\n        __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").attack.reset();\n        __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").release.reset();\n        __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").sampleStart.reset();\n        __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").sampleEnd.reset();\n        __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").gate.reset();\n    }\n    copyToIndex(index) {\n        PlayfieldSampleBox.create(__classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").graph, UUID.generate(), box => {\n            box.file.refer(__classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").file.targetVertex.unwrap());\n            box.device.refer(__classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").device.targetVertex.unwrap());\n            box.index.setValue(index);\n            box.mute.setValue(__classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").mute.getValue());\n            box.solo.setValue(__classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").solo.getValue());\n            box.sampleStart.setValue(__classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").sampleStart.getValue());\n            box.sampleEnd.setValue(__classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").sampleEnd.getValue());\n            box.attack.setValue(__classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").attack.getValue());\n            box.release.setValue(__classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").release.getValue());\n            box.pitch.setValue(__classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").pitch.getValue());\n            box.exclude.setValue(__classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").exclude.getValue());\n            box.gate.setValue(__classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").gate.getValue());\n            // TODO Copy effects?\n        });\n    }\n    get midiEffects() {\n        return __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_midiEffects, \"f\");\n    }\n    get inputAdapter() {\n        return Option.wrap(this);\n    }\n    get audioEffects() {\n        return __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_audioEffects, \"f\");\n    }\n    get labelField() { return __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").label; }\n    get enabledField() { return __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").minimized; }\n    device() {\n        return __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_box, \"f\").device.targetVertex.unwrap().box, PlayfieldDeviceBoxAdapter);\n    }\n    deviceHost() { return this.device().deviceHost(); }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_terminator, \"f\").terminate(); }\n}\n_PlayfieldSampleBoxAdapter_terminator = new WeakMap(), _PlayfieldSampleBoxAdapter_context = new WeakMap(), _PlayfieldSampleBoxAdapter_box = new WeakMap(), _PlayfieldSampleBoxAdapter_midiEffects = new WeakMap(), _PlayfieldSampleBoxAdapter_audioEffects = new WeakMap(), _PlayfieldSampleBoxAdapter_parametric = new WeakMap(), _PlayfieldSampleBoxAdapter_file = new WeakMap(), _PlayfieldSampleBoxAdapter_instances = new WeakSet(), _PlayfieldSampleBoxAdapter_wrapParameters = function _PlayfieldSampleBoxAdapter_wrapParameters(box) {\n    return {\n        gate: __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_parametric, \"f\").createParameter(box.gate, ValueMapping.linearInteger(0, 2), StringMapping.indices(\"\", [\"Off\", \"On\", \"Loop\"]), \"Gate\"),\n        mute: __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_parametric, \"f\").createParameter(box.mute, ValueMapping.bool, StringMapping.bool, \"Mute\"),\n        solo: __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_parametric, \"f\").createParameter(box.solo, ValueMapping.bool, StringMapping.bool, \"Solo\"),\n        polyphone: __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_parametric, \"f\").createParameter(box.polyphone, ValueMapping.bool, StringMapping.bool, \"Polyphone\"),\n        exclude: __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_parametric, \"f\").createParameter(box.exclude, ValueMapping.bool, StringMapping.bool, \"Exclude\"),\n        pitch: __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_parametric, \"f\").createParameter(box.pitch, ValueMapping.linear(-1200, 1200), StringMapping.numeric({\n            unit: \"cents\",\n            bipolar: true,\n            fractionDigits: 0\n        }), \"Pitch\", 0.0),\n        sampleStart: __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_parametric, \"f\").createParameter(box.sampleStart, ValueMapping.unipolar(), StringMapping.percent(), \"Start\", 0.0),\n        sampleEnd: __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_parametric, \"f\").createParameter(box.sampleEnd, ValueMapping.unipolar(), StringMapping.percent(), \"End\", 1.0),\n        attack: __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_parametric, \"f\").createParameter(box.attack, ValueMapping.exponential(0.001, 5.0), StringMapping.numeric({\n            unit: \"s\",\n            unitPrefix: true,\n            fractionDigits: 1\n        }), \"Attack\"),\n        release: __classPrivateFieldGet(this, _PlayfieldSampleBoxAdapter_parametric, \"f\").createParameter(box.release, ValueMapping.exponential(0.001, 5.0), StringMapping.numeric({\n            unit: \"s\",\n            unitPrefix: true,\n            fractionDigits: 1\n        }), \"Release\")\n    };\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _PlayfieldDeviceBoxAdapter_context, _PlayfieldDeviceBoxAdapter_box, _PlayfieldDeviceBoxAdapter_samples, _PlayfieldDeviceBoxAdapter_parametric;\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nimport { Devices } from \"../../DeviceAdapter\";\nimport { IndexedBoxAdapterCollection } from \"../../IndexedBoxAdapterCollection\";\nimport { PlayfieldSampleBoxAdapter } from \"./Playfield/PlayfieldSampleBoxAdapter\";\nimport { ParameterAdapterSet } from \"../../ParameterAdapterSet\";\nimport { TrackType } from \"../../timeline/TrackType\";\nexport class PlayfieldDeviceBoxAdapter {\n    constructor(context, box) {\n        this.type = \"instrument\";\n        this.accepts = \"midi\";\n        _PlayfieldDeviceBoxAdapter_context.set(this, void 0);\n        _PlayfieldDeviceBoxAdapter_box.set(this, void 0);\n        _PlayfieldDeviceBoxAdapter_samples.set(this, void 0);\n        _PlayfieldDeviceBoxAdapter_parametric.set(this, void 0);\n        __classPrivateFieldSet(this, _PlayfieldDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _PlayfieldDeviceBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _PlayfieldDeviceBoxAdapter_samples, IndexedBoxAdapterCollection.create(box.samples, box => context.boxAdapters.adapterFor(box, PlayfieldSampleBoxAdapter), Pointers.Sample), \"f\");\n        __classPrivateFieldSet(this, _PlayfieldDeviceBoxAdapter_parametric, new ParameterAdapterSet(__classPrivateFieldGet(this, _PlayfieldDeviceBoxAdapter_context, \"f\")), \"f\");\n    }\n    reset() { __classPrivateFieldGet(this, _PlayfieldDeviceBoxAdapter_samples, \"f\").adapters().forEach(adapter => adapter.box.delete()); }\n    get box() { return __classPrivateFieldGet(this, _PlayfieldDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _PlayfieldDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _PlayfieldDeviceBoxAdapter_box, \"f\").address; }\n    get labelField() { return __classPrivateFieldGet(this, _PlayfieldDeviceBoxAdapter_box, \"f\").label; }\n    get iconField() { return __classPrivateFieldGet(this, _PlayfieldDeviceBoxAdapter_box, \"f\").icon; }\n    get defaultTrackType() { return TrackType.Notes; }\n    get enabledField() { return __classPrivateFieldGet(this, _PlayfieldDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _PlayfieldDeviceBoxAdapter_box, \"f\").minimized; }\n    get acceptsMidiEvents() { return true; }\n    get samples() { return __classPrivateFieldGet(this, _PlayfieldDeviceBoxAdapter_samples, \"f\"); }\n    get context() { return __classPrivateFieldGet(this, _PlayfieldDeviceBoxAdapter_context, \"f\"); }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _PlayfieldDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _PlayfieldDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { __classPrivateFieldGet(this, _PlayfieldDeviceBoxAdapter_parametric, \"f\").terminate(); }\n}\n_PlayfieldDeviceBoxAdapter_context = new WeakMap(), _PlayfieldDeviceBoxAdapter_box = new WeakMap(), _PlayfieldDeviceBoxAdapter_samples = new WeakMap(), _PlayfieldDeviceBoxAdapter_parametric = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _StereoToolDeviceBoxAdapter_instances, _StereoToolDeviceBoxAdapter_context, _StereoToolDeviceBoxAdapter_box, _StereoToolDeviceBoxAdapter_parametric, _StereoToolDeviceBoxAdapter_wrapParameters;\nimport { StringMapping, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { Devices } from \"../../DeviceAdapter\";\nimport { ParameterAdapterSet } from \"../../ParameterAdapterSet\";\nexport class StereoToolDeviceBoxAdapter {\n    constructor(context, box) {\n        _StereoToolDeviceBoxAdapter_instances.add(this);\n        this.type = \"audio-effect\";\n        this.accepts = \"audio\";\n        _StereoToolDeviceBoxAdapter_context.set(this, void 0);\n        _StereoToolDeviceBoxAdapter_box.set(this, void 0);\n        _StereoToolDeviceBoxAdapter_parametric.set(this, void 0);\n        __classPrivateFieldSet(this, _StereoToolDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _StereoToolDeviceBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _StereoToolDeviceBoxAdapter_parametric, new ParameterAdapterSet(__classPrivateFieldGet(this, _StereoToolDeviceBoxAdapter_context, \"f\")), \"f\");\n        this.namedParameter = __classPrivateFieldGet(this, _StereoToolDeviceBoxAdapter_instances, \"m\", _StereoToolDeviceBoxAdapter_wrapParameters).call(this, box);\n    }\n    get box() { return __classPrivateFieldGet(this, _StereoToolDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _StereoToolDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _StereoToolDeviceBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _StereoToolDeviceBoxAdapter_box, \"f\").index; }\n    get labelField() { return __classPrivateFieldGet(this, _StereoToolDeviceBoxAdapter_box, \"f\").label; }\n    get enabledField() { return __classPrivateFieldGet(this, _StereoToolDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _StereoToolDeviceBoxAdapter_box, \"f\").minimized; }\n    get host() { return __classPrivateFieldGet(this, _StereoToolDeviceBoxAdapter_box, \"f\").host; }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _StereoToolDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _StereoToolDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { __classPrivateFieldGet(this, _StereoToolDeviceBoxAdapter_parametric, \"f\").terminate(); }\n}\n_StereoToolDeviceBoxAdapter_context = new WeakMap(), _StereoToolDeviceBoxAdapter_box = new WeakMap(), _StereoToolDeviceBoxAdapter_parametric = new WeakMap(), _StereoToolDeviceBoxAdapter_instances = new WeakSet(), _StereoToolDeviceBoxAdapter_wrapParameters = function _StereoToolDeviceBoxAdapter_wrapParameters(box) {\n    return {\n        volume: __classPrivateFieldGet(this, _StereoToolDeviceBoxAdapter_parametric, \"f\").createParameter(box.volume, ValueMapping.decibel(-72.0, 0.0, 12.0), StringMapping.numeric({ unit: \"db\", fractionDigits: 1 }), \"Volume\"),\n        panning: __classPrivateFieldGet(this, _StereoToolDeviceBoxAdapter_parametric, \"f\").createParameter(box.panning, ValueMapping.bipolar(), StringMapping.panning, \"Panning\", 0.5),\n        stereo: __classPrivateFieldGet(this, _StereoToolDeviceBoxAdapter_parametric, \"f\").createParameter(box.stereo, ValueMapping.bipolar(), StringMapping.numeric({ unit: \"%\", fractionDigits: 0 }), \"stereo\", 0.5),\n        invertL: __classPrivateFieldGet(this, _StereoToolDeviceBoxAdapter_parametric, \"f\").createParameter(box.invertL, ValueMapping.bool, StringMapping.bool, \"Invert Left\"),\n        invertR: __classPrivateFieldGet(this, _StereoToolDeviceBoxAdapter_parametric, \"f\").createParameter(box.invertR, ValueMapping.bool, StringMapping.bool, \"Invert Right\"),\n        swap: __classPrivateFieldGet(this, _StereoToolDeviceBoxAdapter_parametric, \"f\").createParameter(box.swap, ValueMapping.bool, StringMapping.bool, \"Swap\")\n    };\n};\n", "export var GrooveAdapter;\n(function (GrooveAdapter) {\n    GrooveAdapter.checkType = (adapter) => adapter !== null && typeof adapter === \"object\" && \"type\" in adapter && adapter.type === \"groove-adapter\";\n})(GrooveAdapter || (GrooveAdapter = {}));\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ZeitgeistDeviceBoxAdapter_context, _ZeitgeistDeviceBoxAdapter_box;\nimport { Devices } from \"../../DeviceAdapter\";\nimport { GrooveAdapter } from \"../../grooves/GrooveBoxAdapter\";\nexport class ZeitgeistDeviceBoxAdapter {\n    constructor(context, box) {\n        this.type = \"midi-effect\";\n        this.accepts = \"midi\";\n        _ZeitgeistDeviceBoxAdapter_context.set(this, void 0);\n        _ZeitgeistDeviceBoxAdapter_box.set(this, void 0);\n        __classPrivateFieldSet(this, _ZeitgeistDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _ZeitgeistDeviceBoxAdapter_box, box, \"f\");\n        this.groove(); // force creation of GrooveAdapter\n    }\n    get box() { return __classPrivateFieldGet(this, _ZeitgeistDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _ZeitgeistDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _ZeitgeistDeviceBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _ZeitgeistDeviceBoxAdapter_box, \"f\").index; }\n    get labelField() { return __classPrivateFieldGet(this, _ZeitgeistDeviceBoxAdapter_box, \"f\").label; }\n    get enabledField() { return __classPrivateFieldGet(this, _ZeitgeistDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _ZeitgeistDeviceBoxAdapter_box, \"f\").minimized; }\n    get host() { return __classPrivateFieldGet(this, _ZeitgeistDeviceBoxAdapter_box, \"f\").host; }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _ZeitgeistDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _ZeitgeistDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    groove() {\n        return __classPrivateFieldGet(this, _ZeitgeistDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _ZeitgeistDeviceBoxAdapter_box, \"f\").groove.targetVertex.unwrap(\"no groove\").box, GrooveAdapter.checkType);\n    }\n    catchupAndSubscribeGroove(observer) {\n        return __classPrivateFieldGet(this, _ZeitgeistDeviceBoxAdapter_box, \"f\").groove.catchupAndSubscribe(pointer => observer(__classPrivateFieldGet(this, _ZeitgeistDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(pointer.targetVertex.unwrap(\"No groove found\").box, GrooveAdapter.checkType)));\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { }\n}\n_ZeitgeistDeviceBoxAdapter_context = new WeakMap(), _ZeitgeistDeviceBoxAdapter_box = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _UnknownAudioEffectDeviceBoxAdapter_context, _UnknownAudioEffectDeviceBoxAdapter_box;\nimport { Devices } from \"../../DeviceAdapter\";\nexport class UnknownAudioEffectDeviceBoxAdapter {\n    constructor(context, box) {\n        this.type = \"audio-effect\";\n        this.accepts = \"audio\";\n        _UnknownAudioEffectDeviceBoxAdapter_context.set(this, void 0);\n        _UnknownAudioEffectDeviceBoxAdapter_box.set(this, void 0);\n        __classPrivateFieldSet(this, _UnknownAudioEffectDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _UnknownAudioEffectDeviceBoxAdapter_box, box, \"f\");\n    }\n    get box() { return __classPrivateFieldGet(this, _UnknownAudioEffectDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _UnknownAudioEffectDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _UnknownAudioEffectDeviceBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _UnknownAudioEffectDeviceBoxAdapter_box, \"f\").index; }\n    get labelField() { return __classPrivateFieldGet(this, _UnknownAudioEffectDeviceBoxAdapter_box, \"f\").label; }\n    get enabledField() { return __classPrivateFieldGet(this, _UnknownAudioEffectDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _UnknownAudioEffectDeviceBoxAdapter_box, \"f\").minimized; }\n    get host() { return __classPrivateFieldGet(this, _UnknownAudioEffectDeviceBoxAdapter_box, \"f\").host; }\n    get commentField() { return __classPrivateFieldGet(this, _UnknownAudioEffectDeviceBoxAdapter_box, \"f\").comment; }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _UnknownAudioEffectDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _UnknownAudioEffectDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { }\n}\n_UnknownAudioEffectDeviceBoxAdapter_context = new WeakMap(), _UnknownAudioEffectDeviceBoxAdapter_box = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _UnknownMidiEffectDeviceBoxAdapter_context, _UnknownMidiEffectDeviceBoxAdapter_box;\nimport { Devices } from \"../../DeviceAdapter\";\nexport class UnknownMidiEffectDeviceBoxAdapter {\n    constructor(context, box) {\n        this.type = \"midi-effect\";\n        this.accepts = \"midi\";\n        _UnknownMidiEffectDeviceBoxAdapter_context.set(this, void 0);\n        _UnknownMidiEffectDeviceBoxAdapter_box.set(this, void 0);\n        __classPrivateFieldSet(this, _UnknownMidiEffectDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _UnknownMidiEffectDeviceBoxAdapter_box, box, \"f\");\n    }\n    get box() { return __classPrivateFieldGet(this, _UnknownMidiEffectDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _UnknownMidiEffectDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _UnknownMidiEffectDeviceBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _UnknownMidiEffectDeviceBoxAdapter_box, \"f\").index; }\n    get labelField() { return __classPrivateFieldGet(this, _UnknownMidiEffectDeviceBoxAdapter_box, \"f\").label; }\n    get enabledField() { return __classPrivateFieldGet(this, _UnknownMidiEffectDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _UnknownMidiEffectDeviceBoxAdapter_box, \"f\").minimized; }\n    get host() { return __classPrivateFieldGet(this, _UnknownMidiEffectDeviceBoxAdapter_box, \"f\").host; }\n    get commentField() { return __classPrivateFieldGet(this, _UnknownMidiEffectDeviceBoxAdapter_box, \"f\").comment; }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _UnknownMidiEffectDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _UnknownMidiEffectDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { }\n}\n_UnknownMidiEffectDeviceBoxAdapter_context = new WeakMap(), _UnknownMidiEffectDeviceBoxAdapter_box = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _SoundfontDeviceBoxAdapter_instances, _SoundfontDeviceBoxAdapter_terminator, _SoundfontDeviceBoxAdapter_context, _SoundfontDeviceBoxAdapter_box, _SoundfontDeviceBoxAdapter_parametric, _SoundfontDeviceBoxAdapter_loader, _SoundfontDeviceBoxAdapter_soundfont, _SoundfontDeviceBoxAdapter_preset, _SoundfontDeviceBoxAdapter_loaderSubscription, _SoundfontDeviceBoxAdapter_wrapParameters, _SoundfontDeviceBoxAdapter_loaderObserver;\nimport { MutableObservableOption, Terminable, Terminator } from \"@naomiarotest/lib-std\";\nimport { Devices } from \"../../DeviceAdapter\";\nimport { ParameterAdapterSet } from \"../../ParameterAdapterSet\";\nimport { TrackType } from \"../../timeline/TrackType\";\nexport class SoundfontDeviceBoxAdapter {\n    constructor(context, box) {\n        _SoundfontDeviceBoxAdapter_instances.add(this);\n        this.type = \"instrument\";\n        this.accepts = \"midi\";\n        _SoundfontDeviceBoxAdapter_terminator.set(this, new Terminator());\n        _SoundfontDeviceBoxAdapter_context.set(this, void 0);\n        _SoundfontDeviceBoxAdapter_box.set(this, void 0);\n        _SoundfontDeviceBoxAdapter_parametric.set(this, void 0);\n        _SoundfontDeviceBoxAdapter_loader.set(this, void 0);\n        _SoundfontDeviceBoxAdapter_soundfont.set(this, void 0);\n        _SoundfontDeviceBoxAdapter_preset.set(this, void 0);\n        _SoundfontDeviceBoxAdapter_loaderSubscription.set(this, Terminable.Empty);\n        _SoundfontDeviceBoxAdapter_loaderObserver.set(this, (loader) => loader.match({\n            none: () => {\n                __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_preset, \"f\").clear();\n                __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_soundfont, \"f\").clear();\n            },\n            some: loader => loader.soundfont.match({\n                none: () => {\n                    __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_preset, \"f\").clear();\n                    __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_soundfont, \"f\").clear();\n                    __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_loaderSubscription, \"f\").terminate();\n                    __classPrivateFieldSet(this, _SoundfontDeviceBoxAdapter_loaderSubscription, loader.subscribe(state => {\n                        if (state.type === \"loaded\") {\n                            const soundfont = loader.soundfont.unwrap();\n                            __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_preset, \"f\").wrap(soundfont.presets[this.presetIndex] ?? soundfont.presets[0]);\n                            __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_soundfont, \"f\").wrap(soundfont);\n                        }\n                        else if (state.type === \"error\") {\n                            __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_preset, \"f\").clear();\n                            __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_soundfont, \"f\").clear();\n                        }\n                        else if (state.type === \"idle\") {\n                            __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_preset, \"f\").clear();\n                            __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_soundfont, \"f\").clear();\n                        }\n                    }), \"f\");\n                },\n                some: soundfont => {\n                    __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_soundfont, \"f\").wrap(soundfont);\n                    __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_preset, \"f\").wrap(soundfont.presets[this.presetIndex] ?? soundfont.presets[0]);\n                }\n            })\n        }));\n        __classPrivateFieldSet(this, _SoundfontDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _SoundfontDeviceBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _SoundfontDeviceBoxAdapter_parametric, new ParameterAdapterSet(__classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_context, \"f\")), \"f\");\n        this.namedParameter = __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_instances, \"m\", _SoundfontDeviceBoxAdapter_wrapParameters).call(this, box);\n        __classPrivateFieldSet(this, _SoundfontDeviceBoxAdapter_loader, new MutableObservableOption(), \"f\");\n        __classPrivateFieldSet(this, _SoundfontDeviceBoxAdapter_soundfont, new MutableObservableOption(), \"f\");\n        __classPrivateFieldSet(this, _SoundfontDeviceBoxAdapter_preset, new MutableObservableOption(), \"f\");\n        __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_terminator, \"f\").ownAll(__classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_loader, \"f\").subscribe(__classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_loaderObserver, \"f\")), __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_box, \"f\").file.catchupAndSubscribe(({ targetVertex }) => __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_loader, \"f\").wrapOption(targetVertex.map(({ box }) => context.soundfontManager.getOrCreate(box.address.uuid)))), __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_box, \"f\").presetIndex.catchupAndSubscribe(owner => __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_soundfont, \"f\").match({\n            none: () => __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_preset, \"f\").clear(),\n            some: soundfont => __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_preset, \"f\").wrap(soundfont.presets[owner.getValue()] ?? soundfont.presets[0])\n        })));\n    }\n    get loader() { return __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_loader, \"f\"); }\n    get soundfont() { return __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_soundfont, \"f\"); }\n    get preset() { return __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_preset, \"f\"); }\n    get presetIndex() { return __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_box, \"f\").presetIndex.getValue(); }\n    get box() { return __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_box, \"f\").address; }\n    get labelField() { return __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_box, \"f\").label; }\n    get iconField() { return __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_box, \"f\").icon; }\n    get defaultTrackType() { return TrackType.Notes; }\n    get enabledField() { return __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_box, \"f\").minimized; }\n    get acceptsMidiEvents() { return true; }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() {\n        __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_loaderSubscription, \"f\").terminate();\n        __classPrivateFieldSet(this, _SoundfontDeviceBoxAdapter_loaderSubscription, Terminable.Empty, \"f\");\n        __classPrivateFieldGet(this, _SoundfontDeviceBoxAdapter_parametric, \"f\").terminate();\n    }\n}\n_SoundfontDeviceBoxAdapter_terminator = new WeakMap(), _SoundfontDeviceBoxAdapter_context = new WeakMap(), _SoundfontDeviceBoxAdapter_box = new WeakMap(), _SoundfontDeviceBoxAdapter_parametric = new WeakMap(), _SoundfontDeviceBoxAdapter_loader = new WeakMap(), _SoundfontDeviceBoxAdapter_soundfont = new WeakMap(), _SoundfontDeviceBoxAdapter_preset = new WeakMap(), _SoundfontDeviceBoxAdapter_loaderSubscription = new WeakMap(), _SoundfontDeviceBoxAdapter_loaderObserver = new WeakMap(), _SoundfontDeviceBoxAdapter_instances = new WeakSet(), _SoundfontDeviceBoxAdapter_wrapParameters = function _SoundfontDeviceBoxAdapter_wrapParameters(_box) {\n    return {};\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _SoundfontFileBoxAdapter_context, _SoundfontFileBoxAdapter_box;\nexport class SoundfontFileBoxAdapter {\n    constructor(context, box) {\n        _SoundfontFileBoxAdapter_context.set(this, void 0);\n        _SoundfontFileBoxAdapter_box.set(this, void 0);\n        __classPrivateFieldSet(this, _SoundfontFileBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _SoundfontFileBoxAdapter_box, box, \"f\");\n    }\n    get box() { return __classPrivateFieldGet(this, _SoundfontFileBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _SoundfontFileBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _SoundfontFileBoxAdapter_box, \"f\").address; }\n    get soundfont() { return this.getOrCreateLoader().soundfont; }\n    getOrCreateLoader() {\n        return __classPrivateFieldGet(this, _SoundfontFileBoxAdapter_context, \"f\").soundfontManager.getOrCreate(__classPrivateFieldGet(this, _SoundfontFileBoxAdapter_box, \"f\").address.uuid);\n    }\n    terminate() { }\n}\n_SoundfontFileBoxAdapter_context = new WeakMap(), _SoundfontFileBoxAdapter_box = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _CompressorDeviceBoxAdapter_instances, _CompressorDeviceBoxAdapter_context, _CompressorDeviceBoxAdapter_box, _CompressorDeviceBoxAdapter_parametric, _CompressorDeviceBoxAdapter_wrapParameters;\nimport { StringMapping, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { Devices } from \"../../DeviceAdapter\";\nimport { ParameterAdapterSet } from \"../../ParameterAdapterSet\";\nexport class CompressorDeviceBoxAdapter {\n    constructor(context, box) {\n        _CompressorDeviceBoxAdapter_instances.add(this);\n        this.type = \"audio-effect\";\n        this.accepts = \"audio\";\n        _CompressorDeviceBoxAdapter_context.set(this, void 0);\n        _CompressorDeviceBoxAdapter_box.set(this, void 0);\n        _CompressorDeviceBoxAdapter_parametric.set(this, void 0);\n        __classPrivateFieldSet(this, _CompressorDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _CompressorDeviceBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _CompressorDeviceBoxAdapter_parametric, new ParameterAdapterSet(__classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_context, \"f\")), \"f\");\n        this.namedParameter = __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_instances, \"m\", _CompressorDeviceBoxAdapter_wrapParameters).call(this, box);\n    }\n    get box() { return __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_box, \"f\").index; }\n    get labelField() { return __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_box, \"f\").label; }\n    get enabledField() { return __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_box, \"f\").minimized; }\n    get host() { return __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_box, \"f\").host; }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_parametric, \"f\").terminate(); }\n}\n_CompressorDeviceBoxAdapter_context = new WeakMap(), _CompressorDeviceBoxAdapter_box = new WeakMap(), _CompressorDeviceBoxAdapter_parametric = new WeakMap(), _CompressorDeviceBoxAdapter_instances = new WeakSet(), _CompressorDeviceBoxAdapter_wrapParameters = function _CompressorDeviceBoxAdapter_wrapParameters(box) {\n    return {\n        lookahead: __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_parametric, \"f\").createParameter(box.lookahead, ValueMapping.bool, StringMapping.bool, \"Lookahead\"),\n        automakeup: __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_parametric, \"f\").createParameter(box.automakeup, ValueMapping.bool, StringMapping.bool, \"Auto Makeup\"),\n        autoattack: __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_parametric, \"f\").createParameter(box.autoattack, ValueMapping.bool, StringMapping.bool, \"Auto Attack\"),\n        autorelease: __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_parametric, \"f\").createParameter(box.autorelease, ValueMapping.bool, StringMapping.bool, \"Auto Release\"),\n        inputgain: __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_parametric, \"f\").createParameter(box.inputgain, ValueMapping.linear(-30.0, 30.0), StringMapping.decible, \"Input Gain\"),\n        threshold: __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_parametric, \"f\").createParameter(box.threshold, ValueMapping.linear(-60.0, 0.0), StringMapping.decible, \"Threshold\"),\n        ratio: __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_parametric, \"f\").createParameter(box.ratio, ValueMapping.exponential(1.0, 24.0), StringMapping.numeric({ fractionDigits: 1 }), \"Ratio\"),\n        knee: __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_parametric, \"f\").createParameter(box.knee, ValueMapping.linear(0.0, 24.0), StringMapping.decible, \"Knee\"),\n        attack: __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_parametric, \"f\").createParameter(box.attack, ValueMapping.linear(0.0, 100.0), StringMapping.numeric({ unit: \"ms\", fractionDigits: 1 }), \"Attack Time\"),\n        release: __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_parametric, \"f\").createParameter(box.release, ValueMapping.linear(5.0, 1500.0), StringMapping.numeric({ unit: \"ms\", fractionDigits: 1 }), \"Release Time\"),\n        makeup: __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_parametric, \"f\").createParameter(box.makeup, ValueMapping.linear(-40.0, 40.0), StringMapping.decible, \"Makeup Gain\"),\n        mix: __classPrivateFieldGet(this, _CompressorDeviceBoxAdapter_parametric, \"f\").createParameter(box.mix, ValueMapping.unipolar(), StringMapping.percent(), \"Dry/Wet\")\n    };\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _CrusherDeviceBoxAdapter_instances, _CrusherDeviceBoxAdapter_context, _CrusherDeviceBoxAdapter_box, _CrusherDeviceBoxAdapter_parametric, _CrusherDeviceBoxAdapter_wrapParameters;\nimport { StringMapping, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { Devices } from \"../../DeviceAdapter\";\nimport { ParameterAdapterSet } from \"../../ParameterAdapterSet\";\nexport class CrusherDeviceBoxAdapter {\n    constructor(context, box) {\n        _CrusherDeviceBoxAdapter_instances.add(this);\n        this.type = \"audio-effect\";\n        this.accepts = \"audio\";\n        _CrusherDeviceBoxAdapter_context.set(this, void 0);\n        _CrusherDeviceBoxAdapter_box.set(this, void 0);\n        _CrusherDeviceBoxAdapter_parametric.set(this, void 0);\n        __classPrivateFieldSet(this, _CrusherDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _CrusherDeviceBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _CrusherDeviceBoxAdapter_parametric, new ParameterAdapterSet(__classPrivateFieldGet(this, _CrusherDeviceBoxAdapter_context, \"f\")), \"f\");\n        this.namedParameter = __classPrivateFieldGet(this, _CrusherDeviceBoxAdapter_instances, \"m\", _CrusherDeviceBoxAdapter_wrapParameters).call(this, box);\n    }\n    get box() { return __classPrivateFieldGet(this, _CrusherDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _CrusherDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _CrusherDeviceBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _CrusherDeviceBoxAdapter_box, \"f\").index; }\n    get labelField() { return __classPrivateFieldGet(this, _CrusherDeviceBoxAdapter_box, \"f\").label; }\n    get enabledField() { return __classPrivateFieldGet(this, _CrusherDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _CrusherDeviceBoxAdapter_box, \"f\").minimized; }\n    get host() { return __classPrivateFieldGet(this, _CrusherDeviceBoxAdapter_box, \"f\").host; }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _CrusherDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _CrusherDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { __classPrivateFieldGet(this, _CrusherDeviceBoxAdapter_parametric, \"f\").terminate(); }\n}\n_CrusherDeviceBoxAdapter_context = new WeakMap(), _CrusherDeviceBoxAdapter_box = new WeakMap(), _CrusherDeviceBoxAdapter_parametric = new WeakMap(), _CrusherDeviceBoxAdapter_instances = new WeakSet(), _CrusherDeviceBoxAdapter_wrapParameters = function _CrusherDeviceBoxAdapter_wrapParameters(box) {\n    return {\n        crush: __classPrivateFieldGet(this, _CrusherDeviceBoxAdapter_parametric, \"f\").createParameter(box.crush, ValueMapping.unipolar(), StringMapping.percent(), \"Crush\"),\n        bits: __classPrivateFieldGet(this, _CrusherDeviceBoxAdapter_parametric, \"f\").createParameter(box.bits, ValueMapping.linearInteger(1, 16), StringMapping.numeric(), \"Bits\"),\n        boost: __classPrivateFieldGet(this, _CrusherDeviceBoxAdapter_parametric, \"f\").createParameter(box.boost, ValueMapping.linear(0.0, 24.0), StringMapping.decible, \"Boost\"),\n        mix: __classPrivateFieldGet(this, _CrusherDeviceBoxAdapter_parametric, \"f\").createParameter(box.mix, ValueMapping.exponential(0.001, 1.0), StringMapping.percent(), \"Mix\")\n    };\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _FoldDeviceBoxAdapter_instances, _FoldDeviceBoxAdapter_context, _FoldDeviceBoxAdapter_box, _FoldDeviceBoxAdapter_parametric, _FoldDeviceBoxAdapter_wrapParameters;\nimport { StringMapping, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { Devices } from \"../../DeviceAdapter\";\nimport { ParameterAdapterSet } from \"../../ParameterAdapterSet\";\nexport class FoldDeviceBoxAdapter {\n    constructor(context, box) {\n        _FoldDeviceBoxAdapter_instances.add(this);\n        this.type = \"audio-effect\";\n        this.accepts = \"audio\";\n        _FoldDeviceBoxAdapter_context.set(this, void 0);\n        _FoldDeviceBoxAdapter_box.set(this, void 0);\n        _FoldDeviceBoxAdapter_parametric.set(this, void 0);\n        __classPrivateFieldSet(this, _FoldDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _FoldDeviceBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _FoldDeviceBoxAdapter_parametric, new ParameterAdapterSet(__classPrivateFieldGet(this, _FoldDeviceBoxAdapter_context, \"f\")), \"f\");\n        this.namedParameter = __classPrivateFieldGet(this, _FoldDeviceBoxAdapter_instances, \"m\", _FoldDeviceBoxAdapter_wrapParameters).call(this, box);\n    }\n    get box() { return __classPrivateFieldGet(this, _FoldDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _FoldDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _FoldDeviceBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _FoldDeviceBoxAdapter_box, \"f\").index; }\n    get labelField() { return __classPrivateFieldGet(this, _FoldDeviceBoxAdapter_box, \"f\").label; }\n    get enabledField() { return __classPrivateFieldGet(this, _FoldDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _FoldDeviceBoxAdapter_box, \"f\").minimized; }\n    get host() { return __classPrivateFieldGet(this, _FoldDeviceBoxAdapter_box, \"f\").host; }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _FoldDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _FoldDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { __classPrivateFieldGet(this, _FoldDeviceBoxAdapter_parametric, \"f\").terminate(); }\n}\n_FoldDeviceBoxAdapter_context = new WeakMap(), _FoldDeviceBoxAdapter_box = new WeakMap(), _FoldDeviceBoxAdapter_parametric = new WeakMap(), _FoldDeviceBoxAdapter_instances = new WeakSet(), _FoldDeviceBoxAdapter_wrapParameters = function _FoldDeviceBoxAdapter_wrapParameters(box) {\n    return {\n        drive: __classPrivateFieldGet(this, _FoldDeviceBoxAdapter_parametric, \"f\").createParameter(box.drive, ValueMapping.linear(0.0, 30.0), StringMapping.decible, \"Drive\"),\n        volume: __classPrivateFieldGet(this, _FoldDeviceBoxAdapter_parametric, \"f\").createParameter(box.volume, ValueMapping.linear(-18.0, 0.0), StringMapping.decible, \"Volume\")\n    };\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _MIDIOutputDeviceBoxAdapter_terminator, _MIDIOutputDeviceBoxAdapter_context, _MIDIOutputDeviceBoxAdapter_box, _MIDIOutputDeviceBoxAdapter_midiDevice, _MIDIOutputDeviceBoxAdapter_parametric;\nimport { asInstanceOf, MutableObservableOption, StringMapping, Terminator, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { MIDIOutputBox, MIDIOutputParameterBox } from \"@naomiarotest/studio-boxes\";\nimport { Devices } from \"../../DeviceAdapter\";\nimport { ParameterAdapterSet } from \"../../ParameterAdapterSet\";\nimport { TrackType } from \"../../timeline/TrackType\";\nexport class MIDIOutputDeviceBoxAdapter {\n    constructor(context, box) {\n        _MIDIOutputDeviceBoxAdapter_terminator.set(this, new Terminator());\n        this.type = \"instrument\";\n        this.accepts = \"midi\";\n        _MIDIOutputDeviceBoxAdapter_context.set(this, void 0);\n        _MIDIOutputDeviceBoxAdapter_box.set(this, void 0);\n        _MIDIOutputDeviceBoxAdapter_midiDevice.set(this, void 0);\n        _MIDIOutputDeviceBoxAdapter_parametric.set(this, void 0);\n        __classPrivateFieldSet(this, _MIDIOutputDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _MIDIOutputDeviceBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _MIDIOutputDeviceBoxAdapter_midiDevice, new MutableObservableOption(), \"f\");\n        __classPrivateFieldSet(this, _MIDIOutputDeviceBoxAdapter_parametric, __classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_terminator, \"f\").own(new ParameterAdapterSet(__classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_context, \"f\"))), \"f\");\n        __classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_terminator, \"f\").ownAll(box.parameters.pointerHub.catchupAndSubscribe({\n            onAdded: (({ box }) => __classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_parametric, \"f\")\n                .createParameter(asInstanceOf(box, MIDIOutputParameterBox).value, ValueMapping.unipolar(), StringMapping.percent({ fractionDigits: 1 }), \"\", 0.0)),\n            onRemoved: (({ box }) => __classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_parametric, \"f\")\n                .removeParameter(asInstanceOf(box, MIDIOutputParameterBox).value.address))\n        }), __classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_box, \"f\").device.catchupAndSubscribe(({ targetVertex }) => targetVertex.match({\n            none: () => __classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_midiDevice, \"f\").clear(),\n            some: ({ box }) => __classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_midiDevice, \"f\").wrap(asInstanceOf(box, MIDIOutputBox))\n        })));\n    }\n    get box() { return __classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_box, \"f\").address; }\n    get labelField() { return __classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_box, \"f\").label; }\n    get iconField() { return __classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_box, \"f\").icon; }\n    get defaultTrackType() { return TrackType.Notes; }\n    get enabledField() { return __classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_box, \"f\").minimized; }\n    get acceptsMidiEvents() { return true; }\n    get parameters() { return __classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_parametric, \"f\"); }\n    get midiDevice() { return __classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_midiDevice, \"f\"); }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { __classPrivateFieldGet(this, _MIDIOutputDeviceBoxAdapter_terminator, \"f\").terminate(); }\n}\n_MIDIOutputDeviceBoxAdapter_terminator = new WeakMap(), _MIDIOutputDeviceBoxAdapter_context = new WeakMap(), _MIDIOutputDeviceBoxAdapter_box = new WeakMap(), _MIDIOutputDeviceBoxAdapter_midiDevice = new WeakMap(), _MIDIOutputDeviceBoxAdapter_parametric = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _VelocityDeviceBoxAdapter_instances, _VelocityDeviceBoxAdapter_context, _VelocityDeviceBoxAdapter_box, _VelocityDeviceBoxAdapter_parametric, _VelocityDeviceBoxAdapter_random, _VelocityDeviceBoxAdapter_wrapParameters;\nimport { clampUnit, Random, StringMapping, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { Devices } from \"../../DeviceAdapter\";\nimport { ParameterAdapterSet } from \"../../ParameterAdapterSet\";\nexport class VelocityDeviceBoxAdapter {\n    constructor(context, box) {\n        _VelocityDeviceBoxAdapter_instances.add(this);\n        this.type = \"midi-effect\";\n        this.accepts = \"midi\";\n        _VelocityDeviceBoxAdapter_context.set(this, void 0);\n        _VelocityDeviceBoxAdapter_box.set(this, void 0);\n        _VelocityDeviceBoxAdapter_parametric.set(this, void 0);\n        _VelocityDeviceBoxAdapter_random.set(this, void 0);\n        __classPrivateFieldSet(this, _VelocityDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _VelocityDeviceBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _VelocityDeviceBoxAdapter_parametric, new ParameterAdapterSet(__classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_context, \"f\")), \"f\");\n        __classPrivateFieldSet(this, _VelocityDeviceBoxAdapter_random, Random.create(), \"f\");\n        this.namedParameter = __classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_instances, \"m\", _VelocityDeviceBoxAdapter_wrapParameters).call(this, box);\n    }\n    computeVelocity(position, original) {\n        const { magnetPosition, magnetStrength, randomSeed, randomAmount, offset, mix } = this.namedParameter;\n        __classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_random, \"f\").setSeed(randomSeed.valueAt(position) + position);\n        const magnet = original + (magnetPosition.valueAt(position) - original) * magnetStrength.valueAt(position);\n        const random = (__classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_random, \"f\").uniform() * 2.0 - 1.0) * randomAmount.valueAt(position);\n        const delta = offset.valueAt(position);\n        const wet = mix.valueAt(position);\n        return original * (1.0 - wet) + (clampUnit(magnet + random + delta)) * wet;\n    }\n    get box() { return __classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_box, \"f\").index; }\n    get labelField() { return __classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_box, \"f\").label; }\n    get enabledField() { return __classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_box, \"f\").minimized; }\n    get host() { return __classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_box, \"f\").host; }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { __classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_parametric, \"f\").terminate(); }\n}\n_VelocityDeviceBoxAdapter_context = new WeakMap(), _VelocityDeviceBoxAdapter_box = new WeakMap(), _VelocityDeviceBoxAdapter_parametric = new WeakMap(), _VelocityDeviceBoxAdapter_random = new WeakMap(), _VelocityDeviceBoxAdapter_instances = new WeakSet(), _VelocityDeviceBoxAdapter_wrapParameters = function _VelocityDeviceBoxAdapter_wrapParameters(box) {\n    return {\n        magnetPosition: __classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_parametric, \"f\").createParameter(box.magnetPosition, ValueMapping.unipolar(), StringMapping.percent(), \"Position\"),\n        magnetStrength: __classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_parametric, \"f\").createParameter(box.magnetStrength, ValueMapping.unipolar(), StringMapping.percent(), \"Strength\"),\n        randomSeed: __classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_parametric, \"f\").createParameter(box.randomSeed, ValueMapping.linearInteger(0, 0xFFFF), StringMapping.numeric({ unit: \"\", fractionDigits: 0 }), \"Seed\"),\n        randomAmount: __classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_parametric, \"f\").createParameter(box.randomAmount, ValueMapping.unipolar(), StringMapping.percent(), \"Amount\"),\n        offset: __classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_parametric, \"f\").createParameter(box.offset, ValueMapping.bipolar(), StringMapping.percent(), \"Offset\"),\n        mix: __classPrivateFieldGet(this, _VelocityDeviceBoxAdapter_parametric, \"f\").createParameter(box.mix, ValueMapping.unipolar(), StringMapping.percent(), \"Mix\")\n    };\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _TidalDeviceBoxAdapter_instances, _a, _TidalDeviceBoxAdapter_context, _TidalDeviceBoxAdapter_box, _TidalDeviceBoxAdapter_parametric, _TidalDeviceBoxAdapter_wrapParameters;\nimport { StringMapping, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { Fraction } from \"@naomiarotest/lib-dsp\";\nimport { Devices } from \"../../DeviceAdapter\";\nimport { ParameterAdapterSet } from \"../../ParameterAdapterSet\";\nexport class TidalDeviceBoxAdapter {\n    constructor(context, box) {\n        _TidalDeviceBoxAdapter_instances.add(this);\n        this.type = \"audio-effect\";\n        this.accepts = \"audio\";\n        _TidalDeviceBoxAdapter_context.set(this, void 0);\n        _TidalDeviceBoxAdapter_box.set(this, void 0);\n        _TidalDeviceBoxAdapter_parametric.set(this, void 0);\n        __classPrivateFieldSet(this, _TidalDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _TidalDeviceBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _TidalDeviceBoxAdapter_parametric, new ParameterAdapterSet(__classPrivateFieldGet(this, _TidalDeviceBoxAdapter_context, \"f\")), \"f\");\n        this.namedParameter = __classPrivateFieldGet(this, _TidalDeviceBoxAdapter_instances, \"m\", _TidalDeviceBoxAdapter_wrapParameters).call(this, box);\n    }\n    get box() { return __classPrivateFieldGet(this, _TidalDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _TidalDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _TidalDeviceBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _TidalDeviceBoxAdapter_box, \"f\").index; }\n    get labelField() { return __classPrivateFieldGet(this, _TidalDeviceBoxAdapter_box, \"f\").label; }\n    get enabledField() { return __classPrivateFieldGet(this, _TidalDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _TidalDeviceBoxAdapter_box, \"f\").minimized; }\n    get host() { return __classPrivateFieldGet(this, _TidalDeviceBoxAdapter_box, \"f\").host; }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _TidalDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _TidalDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { __classPrivateFieldGet(this, _TidalDeviceBoxAdapter_parametric, \"f\").terminate(); }\n}\n_a = TidalDeviceBoxAdapter, _TidalDeviceBoxAdapter_context = new WeakMap(), _TidalDeviceBoxAdapter_box = new WeakMap(), _TidalDeviceBoxAdapter_parametric = new WeakMap(), _TidalDeviceBoxAdapter_instances = new WeakSet(), _TidalDeviceBoxAdapter_wrapParameters = function _TidalDeviceBoxAdapter_wrapParameters(box) {\n    const { RateFractions, RateStringMapping } = _a;\n    return {\n        slope: __classPrivateFieldGet(this, _TidalDeviceBoxAdapter_parametric, \"f\").createParameter(box.slope, ValueMapping.bipolar(), StringMapping.percent({ fractionDigits: 1 }), \"Slope\", 0.5),\n        symmetry: __classPrivateFieldGet(this, _TidalDeviceBoxAdapter_parametric, \"f\").createParameter(box.symmetry, ValueMapping.unipolar(), StringMapping.percent({ fractionDigits: 1, bipolar: true }), \"Symmetry\", 0.5),\n        rate: __classPrivateFieldGet(this, _TidalDeviceBoxAdapter_parametric, \"f\").createParameter(box.rate, ValueMapping.values(RateFractions.map((_, index) => index)), RateStringMapping, \"Rate\", 0.0),\n        depth: __classPrivateFieldGet(this, _TidalDeviceBoxAdapter_parametric, \"f\").createParameter(box.depth, ValueMapping.unipolar(), StringMapping.percent({ fractionDigits: 1 }), \"Depth\", 0.0),\n        offset: __classPrivateFieldGet(this, _TidalDeviceBoxAdapter_parametric, \"f\").createParameter(box.offset, ValueMapping.linear(-180.0, 180.0), StringMapping.numeric({ unit: \"\u00B0\", fractionDigits: 0 }), \"Offset\", 0.5),\n        channelOffset: __classPrivateFieldGet(this, _TidalDeviceBoxAdapter_parametric, \"f\").createParameter(box.channelOffset, ValueMapping.linear(-180.0, 180.0), StringMapping.numeric({ unit: \"\u00B0\", fractionDigits: 0 }), \"Ch. Offset\", 0.5)\n    };\n};\nTidalDeviceBoxAdapter.RateFractions = Fraction.builder()\n    .add([1, 1]).add([1, 2]).add([1, 3]).add([1, 4])\n    .add([3, 16]).add([1, 6]).add([1, 8]).add([3, 32])\n    .add([1, 12]).add([1, 16]).add([3, 64]).add([1, 24])\n    .add([1, 32]).add([1, 48]).add([1, 64])\n    .add([1, 96]).add([1, 128])\n    .asDescendingArray();\nTidalDeviceBoxAdapter.RateStringMapping = StringMapping.indices(\"\", _a.RateFractions.map(([n, d]) => `${n}/${d}`));\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _DattorroReverbDeviceBoxAdapter_instances, _DattorroReverbDeviceBoxAdapter_context, _DattorroReverbDeviceBoxAdapter_box, _DattorroReverbDeviceBoxAdapter_parametric, _DattorroReverbDeviceBoxAdapter_wrapParameters;\nimport { StringMapping, ValueMapping } from \"@naomiarotest/lib-std\";\nimport { Devices } from \"../../DeviceAdapter\";\nimport { ParameterAdapterSet } from \"../../ParameterAdapterSet\";\nexport class DattorroReverbDeviceBoxAdapter {\n    constructor(context, box) {\n        _DattorroReverbDeviceBoxAdapter_instances.add(this);\n        this.type = \"audio-effect\";\n        this.accepts = \"audio\";\n        _DattorroReverbDeviceBoxAdapter_context.set(this, void 0);\n        _DattorroReverbDeviceBoxAdapter_box.set(this, void 0);\n        _DattorroReverbDeviceBoxAdapter_parametric.set(this, void 0);\n        __classPrivateFieldSet(this, _DattorroReverbDeviceBoxAdapter_context, context, \"f\");\n        __classPrivateFieldSet(this, _DattorroReverbDeviceBoxAdapter_box, box, \"f\");\n        __classPrivateFieldSet(this, _DattorroReverbDeviceBoxAdapter_parametric, new ParameterAdapterSet(__classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_context, \"f\")), \"f\");\n        this.namedParameter = __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_instances, \"m\", _DattorroReverbDeviceBoxAdapter_wrapParameters).call(this, box);\n    }\n    get box() { return __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_box, \"f\"); }\n    get uuid() { return __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_box, \"f\").address.uuid; }\n    get address() { return __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_box, \"f\").address; }\n    get indexField() { return __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_box, \"f\").index; }\n    get labelField() { return __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_box, \"f\").label; }\n    get enabledField() { return __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_box, \"f\").enabled; }\n    get minimizedField() { return __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_box, \"f\").minimized; }\n    get host() { return __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_box, \"f\").host; }\n    deviceHost() {\n        return __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_context, \"f\").boxAdapters\n            .adapterFor(__classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_box, \"f\").host.targetVertex.unwrap(\"no device-host\").box, Devices.isHost);\n    }\n    audioUnitBoxAdapter() { return this.deviceHost().audioUnitBoxAdapter(); }\n    terminate() { __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_parametric, \"f\").terminate(); }\n}\n_DattorroReverbDeviceBoxAdapter_context = new WeakMap(), _DattorroReverbDeviceBoxAdapter_box = new WeakMap(), _DattorroReverbDeviceBoxAdapter_parametric = new WeakMap(), _DattorroReverbDeviceBoxAdapter_instances = new WeakSet(), _DattorroReverbDeviceBoxAdapter_wrapParameters = function _DattorroReverbDeviceBoxAdapter_wrapParameters(box) {\n    return {\n        preDelay: __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_parametric, \"f\").createParameter(box.preDelay, ValueMapping.linear(0.0, 1000.0), StringMapping.numeric({ unit: box.preDelay.unit }), \"Pre-Delay\"),\n        bandwidth: __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_parametric, \"f\").createParameter(box.bandwidth, ValueMapping.unipolar(), StringMapping.percent(), \"Bandwidth\"),\n        inputDiffusion1: __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_parametric, \"f\").createParameter(box.inputDiffusion1, ValueMapping.unipolar(), StringMapping.percent(), \"Tank 1\"),\n        inputDiffusion2: __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_parametric, \"f\").createParameter(box.inputDiffusion2, ValueMapping.unipolar(), StringMapping.percent(), \"Tank 2\"),\n        decay: __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_parametric, \"f\").createParameter(box.decay, ValueMapping.unipolar(), StringMapping.percent(), \"Decay\"),\n        decayDiffusion1: __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_parametric, \"f\").createParameter(box.decayDiffusion1, ValueMapping.unipolar(), StringMapping.percent(), \"Tank 1\"),\n        decayDiffusion2: __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_parametric, \"f\").createParameter(box.decayDiffusion2, ValueMapping.unipolar(), StringMapping.percent(), \"Tank 2\"),\n        damping: __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_parametric, \"f\").createParameter(box.damping, ValueMapping.unipolar(), StringMapping.percent(), \"Damping\"),\n        excursionRate: __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_parametric, \"f\").createParameter(box.excursionRate, ValueMapping.unipolar(), StringMapping.numeric({ unit: box.excursionRate.unit }), \"Rate\"),\n        excursionDepth: __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_parametric, \"f\").createParameter(box.excursionDepth, ValueMapping.unipolar(), StringMapping.numeric({ unit: box.excursionDepth.unit }), \"Depth\"),\n        wet: __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_parametric, \"f\").createParameter(box.wet, ValueMapping.DefaultDecibel, StringMapping.decible, \"Wet\"),\n        dry: __classPrivateFieldGet(this, _DattorroReverbDeviceBoxAdapter_parametric, \"f\").createParameter(box.dry, ValueMapping.DefaultDecibel, StringMapping.decible, \"Dry\")\n    };\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _BoxAdapters_instances, _BoxAdapters_context, _BoxAdapters_adapters, _BoxAdapters_deleted, _BoxAdapters_terminable, _BoxAdapters_create;\nimport { asDefined, assert, isDefined, panic, UUID } from \"@naomiarotest/lib-std\";\nimport { AudioUnitBoxAdapter } from \"./audio-unit/AudioUnitBoxAdapter\";\nimport { DelayDeviceBoxAdapter } from \"./devices/audio-effects/DelayDeviceBoxAdapter\";\nimport { ReverbDeviceBoxAdapter } from \"./devices/audio-effects/ReverbDeviceBoxAdapter\";\nimport { RevampDeviceBoxAdapter } from \"./devices/audio-effects/RevampDeviceBoxAdapter\";\nimport { AudioFileBoxAdapter } from \"./audio/AudioFileBoxAdapter\";\nimport { AudioRegionBoxAdapter } from \"./timeline/region/AudioRegionBoxAdapter\";\nimport { TimelineBoxAdapter } from \"./timeline/TimelineBoxAdapter\";\nimport { MarkerBoxAdapter } from \"./timeline/MarkerBoxAdapter\";\nimport { ModularAdapter } from \"./modular/modular\";\nimport { ModuleDelayAdapter } from \"./modular/modules/delay\";\nimport { ModuleMultiplierAdapter } from \"./modular/modules/multiplier\";\nimport { ModuleConnectionAdapter } from \"./modular/connection\";\nimport { ModularAudioOutputAdapter } from \"./modular/modules/audio-output\";\nimport { ModularAudioInputAdapter } from \"./modular/modules/audio-input\";\nimport { ModularDeviceBoxAdapter } from \"./devices/audio-effects/ModularDeviceBoxAdapter\";\nimport { DeviceInterfaceKnobAdapter } from \"./modular/user-interface\";\nimport { ModuleGainAdapter } from \"./modular/modules/gain\";\nimport { AudioBusBoxAdapter } from \"./audio-unit/AudioBusBoxAdapter\";\nimport { AuxSendBoxAdapter } from \"./audio-unit/AuxSendBoxAdapter\";\nimport { RootBoxAdapter } from \"./RootBoxAdapter\";\nimport { NoteEventBoxAdapter } from \"./timeline/event/NoteEventBoxAdapter\";\nimport { NoteRegionBoxAdapter } from \"./timeline/region/NoteRegionBoxAdapter\";\nimport { NoteEventCollectionBoxAdapter } from \"./timeline/collection/NoteEventCollectionBoxAdapter\";\nimport { ValueEventBoxAdapter } from \"./timeline/event/ValueEventBoxAdapter\";\nimport { ValueRegionBoxAdapter } from \"./timeline/region/ValueRegionBoxAdapter\";\nimport { ValueEventCollectionBoxAdapter } from \"./timeline/collection/ValueEventCollectionBoxAdapter\";\nimport { NoteClipBoxAdapter } from \"./timeline/clip/NoteClipBoxAdapter\";\nimport { AudioClipBoxAdapter } from \"./timeline/clip/AudioClipBoxAdapter\";\nimport { ValueClipBoxAdapter } from \"./timeline/clip/ValueClipBoxAdapter\";\nimport { TrackBoxAdapter } from \"./timeline/TrackBoxAdapter\";\nimport { TapeDeviceBoxAdapter } from \"./devices/instruments/TapeDeviceBoxAdapter\";\nimport { VaporisateurDeviceBoxAdapter } from \"./devices/instruments/VaporisateurDeviceBoxAdapter\";\nimport { ArpeggioDeviceBoxAdapter } from \"./devices/midi-effects/ArpeggioDeviceBoxAdapter\";\nimport { PitchDeviceBoxAdapter } from \"./devices/midi-effects/PitchDeviceBoxAdapter\";\nimport { NanoDeviceBoxAdapter } from \"./devices/instruments/NanoDeviceBoxAdapter\";\nimport { PlayfieldDeviceBoxAdapter } from \"./devices/instruments/PlayfieldDeviceBoxAdapter\";\nimport { StereoToolDeviceBoxAdapter } from \"./devices/audio-effects/StereoToolDeviceBoxAdapter\";\nimport { PlayfieldSampleBoxAdapter } from \"./devices/instruments/Playfield/PlayfieldSampleBoxAdapter\";\nimport { ZeitgeistDeviceBoxAdapter } from \"./devices/midi-effects/ZeitgeistDeviceBoxAdapter\";\nimport { GrooveShuffleBoxAdapter } from \"./grooves/GrooveShuffleBoxAdapter\";\nimport { UnknownAudioEffectDeviceBoxAdapter } from \"./devices/audio-effects/UnknownAudioEffectDeviceBoxAdapter\";\nimport { UnknownMidiEffectDeviceBoxAdapter } from \"./devices/midi-effects/UnknownMidiEffectDeviceBoxAdapter\";\nimport { SoundfontDeviceBoxAdapter } from \"./devices/instruments/SoundfontDeviceBoxAdapter\";\nimport { SoundfontFileBoxAdapter } from \"./soundfont/SoundfontFileBoxAdapter\";\nimport { CompressorDeviceBoxAdapter } from \"./devices/audio-effects/CompressorDeviceBoxAdapter\";\nimport { CrusherDeviceBoxAdapter } from \"./devices/audio-effects/CrusherDeviceBoxAdapter\";\nimport { FoldDeviceBoxAdapter } from \"./devices/audio-effects/FoldDeviceBoxAdapter\";\nimport { MIDIOutputDeviceBoxAdapter } from \"./devices/instruments/MIDIOutputDeviceBoxAdapter\";\nimport { VelocityDeviceBoxAdapter } from \"./devices/midi-effects/VelocityDeviceBoxAdapter\";\nimport { TidalDeviceBoxAdapter } from \"./devices/audio-effects/TidalDeviceBoxAdapter\";\nimport { DattorroReverbDeviceBoxAdapter } from \"./devices/audio-effects/DattorroReverbDeviceBoxAdapter\";\nexport class BoxAdapters {\n    constructor(context) {\n        _BoxAdapters_instances.add(this);\n        _BoxAdapters_context.set(this, void 0);\n        _BoxAdapters_adapters.set(this, void 0);\n        _BoxAdapters_deleted.set(this, void 0);\n        _BoxAdapters_terminable.set(this, void 0);\n        __classPrivateFieldSet(this, _BoxAdapters_context, context, \"f\");\n        __classPrivateFieldSet(this, _BoxAdapters_adapters, UUID.newSet(adapter => adapter.uuid), \"f\");\n        __classPrivateFieldSet(this, _BoxAdapters_deleted, new Set(), \"f\");\n        __classPrivateFieldSet(this, _BoxAdapters_terminable, __classPrivateFieldGet(this, _BoxAdapters_context, \"f\").boxGraph.subscribeToAllUpdates({\n            onUpdate: (update) => {\n                if (update.type === \"delete\") {\n                    const adapter = __classPrivateFieldGet(this, _BoxAdapters_adapters, \"f\").getOrNull(update.uuid);\n                    if (isDefined(adapter)) {\n                        __classPrivateFieldGet(this, _BoxAdapters_deleted, \"f\").add(adapter.box);\n                        __classPrivateFieldGet(this, _BoxAdapters_adapters, \"f\").removeByValue(adapter).terminate();\n                    }\n                }\n            }\n        }), \"f\");\n    }\n    terminate() {\n        __classPrivateFieldGet(this, _BoxAdapters_adapters, \"f\").values().forEach(adapter => adapter.terminate());\n        __classPrivateFieldGet(this, _BoxAdapters_adapters, \"f\").clear();\n        __classPrivateFieldGet(this, _BoxAdapters_terminable, \"f\").terminate();\n    }\n    adapterFor(box, checkType) {\n        if (__classPrivateFieldGet(this, _BoxAdapters_deleted, \"f\").has(box)) {\n            return panic(`Cannot resolve adapter for already deleted box: ${box}`);\n        }\n        let adapter = __classPrivateFieldGet(this, _BoxAdapters_adapters, \"f\").getOrNull(box.address.uuid);\n        if (adapter === null) {\n            adapter = __classPrivateFieldGet(this, _BoxAdapters_instances, \"m\", _BoxAdapters_create).call(this, box);\n            const added = __classPrivateFieldGet(this, _BoxAdapters_adapters, \"f\").add(adapter);\n            assert(added, `Could not add adapter for ${box}`);\n        }\n        if (typeof checkType === \"function\") {\n            return Object.hasOwn(checkType, \"prototype\")\n                ? adapter instanceof checkType ? adapter : panic(`${adapter} is not instance of ${checkType}`)\n                : checkType(adapter) ? adapter : panic(`${adapter} did not pass custom type guard`);\n        }\n        return panic(\"Unknown checkType method\");\n    }\n}\n_BoxAdapters_context = new WeakMap(), _BoxAdapters_adapters = new WeakMap(), _BoxAdapters_deleted = new WeakMap(), _BoxAdapters_terminable = new WeakMap(), _BoxAdapters_instances = new WeakSet(), _BoxAdapters_create = function _BoxAdapters_create(unknownBox) {\n    return asDefined(unknownBox.accept({\n        visitArpeggioDeviceBox: (box) => new ArpeggioDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitAudioBusBox: (box) => new AudioBusBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitAudioClipBox: (box) => new AudioClipBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitAudioFileBox: (box) => new AudioFileBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitAudioRegionBox: (box) => new AudioRegionBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitAudioUnitBox: (box) => new AudioUnitBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitAuxSendBox: (box) => new AuxSendBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitCompressorDeviceBox: (box) => new CompressorDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitCrusherDeviceBox: (box) => new CrusherDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitDattorroReverbDeviceBox: (box) => new DattorroReverbDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitDelayDeviceBox: (box) => new DelayDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitDeviceInterfaceKnobBox: (box) => new DeviceInterfaceKnobAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitTidalDeviceBox: (box) => new TidalDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitFoldDeviceBox: (box) => new FoldDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitGrooveShuffleBox: (box) => new GrooveShuffleBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitMarkerBox: (box) => new MarkerBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitMIDIOutputDeviceBox: (box) => new MIDIOutputDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitModularAudioInputBox: (box) => new ModularAudioInputAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitModularAudioOutputBox: (box) => new ModularAudioOutputAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitModularBox: (box) => new ModularAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitModularDeviceBox: (box) => new ModularDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitModuleConnectionBox: (box) => new ModuleConnectionAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitModuleDelayBox: (box) => new ModuleDelayAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitModuleGainBox: (box) => new ModuleGainAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitModuleMultiplierBox: (box) => new ModuleMultiplierAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitNanoDeviceBox: (box) => new NanoDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitNoteClipBox: (box) => new NoteClipBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitNoteEventBox: (box) => new NoteEventBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitNoteEventCollectionBox: (box) => new NoteEventCollectionBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitNoteRegionBox: (box) => new NoteRegionBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitPitchDeviceBox: (box) => new PitchDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitPlayfieldDeviceBox: (box) => new PlayfieldDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitPlayfieldSampleBox: (box) => new PlayfieldSampleBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitRevampDeviceBox: (box) => new RevampDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitReverbDeviceBox: (box) => new ReverbDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitRootBox: (box) => new RootBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitSoundfontDeviceBox: (box) => new SoundfontDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitSoundfontFileBox: (box) => new SoundfontFileBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitStereoToolDeviceBox: (box) => new StereoToolDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitTapeDeviceBox: (box) => new TapeDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitTimelineBox: (box) => new TimelineBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitTrackBox: (box) => new TrackBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitUnknownAudioEffectDeviceBox: (box) => new UnknownAudioEffectDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitUnknownMidiEffectDeviceBox: (box) => new UnknownMidiEffectDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitValueClipBox: (box) => new ValueClipBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitValueEventBox: (box) => new ValueEventBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitValueEventCollectionBox: (box) => new ValueEventCollectionBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitValueRegionBox: (box) => new ValueRegionBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitVaporisateurDeviceBox: (box) => new VaporisateurDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitVelocityDeviceBox: (box) => new VelocityDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box),\n        visitZeitgeistDeviceBox: (box) => new ZeitgeistDeviceBoxAdapter(__classPrivateFieldGet(this, _BoxAdapters_context, \"f\"), box)\n    }), `Could not find factory for ${unknownBox}`);\n};\n", "export var ExportStemsConfiguration;\n(function (ExportStemsConfiguration) {\n    ExportStemsConfiguration.countStems = (config) => config.match({\n        none: () => 1,\n        some: (configuration) => Object.keys(configuration).length\n    });\n    ExportStemsConfiguration.sanitizeFileName = (name) => name.replace(/[<>:\"/\\\\|?*\\x00-\\x1F]/g, \"_\").trim();\n    ExportStemsConfiguration.sanitizeExportNamesInPlace = (configuration) => {\n        const sanitizedNames = new Map();\n        const getUniqueName = (baseName) => {\n            let count = sanitizedNames.get(baseName) ?? 0;\n            let newName = baseName;\n            while (sanitizedNames.has(newName)) {\n                count++;\n                newName = `${baseName} ${count}`;\n            }\n            sanitizedNames.set(baseName, count);\n            sanitizedNames.set(newName, 1);\n            return newName;\n        };\n        Object.keys(configuration).forEach((key) => {\n            const entry = configuration[key];\n            entry.fileName = getUniqueName(ExportStemsConfiguration.sanitizeFileName(entry.fileName));\n        });\n    };\n})(ExportStemsConfiguration || (ExportStemsConfiguration = {}));\n", "import { Schema } from \"@naomiarotest/lib-std\";\nexport const EngineStateSchema = Schema.createBuilder({\n    position: Schema.float,\n    playbackTimestamp: Schema.float,\n    countInBeatsRemaining: Schema.float,\n    isPlaying: Schema.bool,\n    isCountingIn: Schema.bool,\n    isRecording: Schema.bool\n});\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _NoteBroadcaster_terminator, _NoteBroadcaster_broadcaster, _NoteBroadcaster_address, _NoteBroadcaster_bits;\nimport { Bits, EmptyExec, Terminator } from \"@naomiarotest/lib-std\";\nexport class NoteBroadcaster {\n    constructor(broadcaster, address) {\n        _NoteBroadcaster_terminator.set(this, new Terminator());\n        _NoteBroadcaster_broadcaster.set(this, void 0);\n        _NoteBroadcaster_address.set(this, void 0);\n        _NoteBroadcaster_bits.set(this, void 0);\n        __classPrivateFieldSet(this, _NoteBroadcaster_broadcaster, broadcaster, \"f\");\n        __classPrivateFieldSet(this, _NoteBroadcaster_address, address, \"f\");\n        __classPrivateFieldSet(this, _NoteBroadcaster_bits, new Bits(128), \"f\");\n        __classPrivateFieldGet(this, _NoteBroadcaster_terminator, \"f\").own(__classPrivateFieldGet(this, _NoteBroadcaster_broadcaster, \"f\").broadcastIntegers(__classPrivateFieldGet(this, _NoteBroadcaster_address, \"f\"), new Int32Array(__classPrivateFieldGet(this, _NoteBroadcaster_bits, \"f\").buffer), EmptyExec));\n    }\n    noteOn(note) {\n        if (note >= 0 && note < 128) {\n            __classPrivateFieldGet(this, _NoteBroadcaster_bits, \"f\").setBit(note, true);\n        }\n    }\n    noteOff(note) {\n        if (note >= 0 && note < 128) {\n            __classPrivateFieldGet(this, _NoteBroadcaster_bits, \"f\").setBit(note, false);\n        }\n    }\n    reset() { }\n    clear() { __classPrivateFieldGet(this, _NoteBroadcaster_bits, \"f\").clear(); }\n    terminate() { __classPrivateFieldGet(this, _NoteBroadcaster_terminator, \"f\").terminate(); }\n    toString() { return `{${this.constructor.name}}`; }\n}\n_NoteBroadcaster_terminator = new WeakMap(), _NoteBroadcaster_broadcaster = new WeakMap(), _NoteBroadcaster_address = new WeakMap(), _NoteBroadcaster_bits = new WeakMap();\n", "export var Chunk;\n(function (Chunk) {\n    Chunk[Chunk[\"MTHD\"] = 1297377380] = \"MTHD\";\n    Chunk[Chunk[\"MTRK\"] = 1297379947] = \"MTRK\";\n})(Chunk || (Chunk = {}));\n", "export var ControlType;\n(function (ControlType) {\n    ControlType[ControlType[\"NOTE_ON\"] = 144] = \"NOTE_ON\";\n    ControlType[ControlType[\"NOTE_OFF\"] = 128] = \"NOTE_OFF\";\n    ControlType[ControlType[\"NOTE_AFTER_TOUCH\"] = 160] = \"NOTE_AFTER_TOUCH\";\n    ControlType[ControlType[\"CONTROLLER\"] = 176] = \"CONTROLLER\";\n    ControlType[ControlType[\"PROGRAM_CHANGE\"] = 192] = \"PROGRAM_CHANGE\";\n    ControlType[ControlType[\"CHANNEL_AFTER_TOUCH\"] = 208] = \"CHANNEL_AFTER_TOUCH\";\n    ControlType[ControlType[\"PITCH_BEND\"] = 224] = \"PITCH_BEND\";\n})(ControlType || (ControlType = {}));\n", "import { safeExecute } from \"@naomiarotest/lib-std\";\nimport { ControlType } from \"./ControlType\";\nexport class ControlEvent {\n    ticks;\n    type;\n    param0;\n    param1;\n    static Comparator = (a, b) => a.ticks - b.ticks;\n    constructor(ticks, type, param0, param1) {\n        this.ticks = ticks;\n        this.type = type;\n        this.param0 = param0;\n        this.param1 = param1;\n    }\n    static decode(decoder, type, ticks) {\n        switch (type) {\n            case ControlType.NOTE_ON:\n            case ControlType.NOTE_OFF:\n            case ControlType.CONTROLLER:\n            case ControlType.PITCH_BEND:\n            case ControlType.NOTE_AFTER_TOUCH:\n                return new ControlEvent(ticks, type, decoder.readByte(), decoder.readByte());\n            case ControlType.PROGRAM_CHANGE:\n            case ControlType.CHANNEL_AFTER_TOUCH:\n                return new ControlEvent(ticks, type, decoder.readByte(), 0);\n        }\n        {\n            // else ignore the message\n            let c;\n            do {\n                c = decoder.readByte() & 0xff;\n            } while (c < 0x80);\n            decoder.skip(-1);\n        }\n        return null;\n    }\n    accept(visitor) {\n        switch (this.type) {\n            case ControlType.NOTE_ON: {\n                if (0 === this.param1) {\n                    safeExecute(visitor.noteOff, this.param0);\n                }\n                else {\n                    safeExecute(visitor.noteOn, this.param0, this.param1 / 127.0);\n                }\n                break;\n            }\n            case ControlType.NOTE_OFF: {\n                safeExecute(visitor.noteOff, this.param0);\n                break;\n            }\n            case ControlType.PITCH_BEND: {\n                const p1 = this.param0 & 0x7f;\n                const p2 = this.param1 & 0x7f;\n                const value = p1 | (p2 << 7);\n                safeExecute(visitor.pitchBend, 8192 >= value ? value / 8192.0 - 1.0 : (value - 8191) / 8192.0);\n                break;\n            }\n            case ControlType.CONTROLLER: {\n                safeExecute(visitor.controller, this.param0, this.param1 / 127.0);\n                break;\n            }\n            default: {\n                break;\n            }\n        }\n    }\n    toString() {\n        return `ControlEvent{ticks: ${this.ticks}, type: ${this.type}, param0: ${this.param0}, param1: ${this.param1}}`;\n    }\n}\n", "export var MetaType;\n(function (MetaType) {\n    MetaType[MetaType[\"SEQUENCE_NUMBER\"] = 0] = \"SEQUENCE_NUMBER\";\n    MetaType[MetaType[\"TEXT_EVENT\"] = 1] = \"TEXT_EVENT\";\n    MetaType[MetaType[\"COPYRIGHT_NOTICE\"] = 2] = \"COPYRIGHT_NOTICE\";\n    MetaType[MetaType[\"SEQUENCE_TRACK_NAME\"] = 3] = \"SEQUENCE_TRACK_NAME\";\n    MetaType[MetaType[\"INSTRUMENT_NAME\"] = 4] = \"INSTRUMENT_NAME\";\n    MetaType[MetaType[\"LYRICS\"] = 5] = \"LYRICS\";\n    MetaType[MetaType[\"MARKER\"] = 6] = \"MARKER\";\n    MetaType[MetaType[\"CUE_POINT\"] = 7] = \"CUE_POINT\";\n    MetaType[MetaType[\"CHANNEL_PREFIX\"] = 32] = \"CHANNEL_PREFIX\";\n    MetaType[MetaType[\"SET_TEMPO\"] = 81] = \"SET_TEMPO\";\n    MetaType[MetaType[\"SMPTE_OFFSET\"] = 84] = \"SMPTE_OFFSET\";\n    MetaType[MetaType[\"TIME_SIGNATURE\"] = 88] = \"TIME_SIGNATURE\";\n    MetaType[MetaType[\"KEY_SIGNATURE\"] = 89] = \"KEY_SIGNATURE\";\n    MetaType[MetaType[\"SEQUENCER_SPECIFIC\"] = 127] = \"SEQUENCER_SPECIFIC\";\n    MetaType[MetaType[\"PREFIX_PORT\"] = 33] = \"PREFIX_PORT\";\n    MetaType[MetaType[\"END_OF_TRACK\"] = 47] = \"END_OF_TRACK\";\n})(MetaType || (MetaType = {}));\nexport class MetaEvent {\n    ticks;\n    type;\n    value;\n    constructor(ticks, type, value) {\n        this.ticks = ticks;\n        this.type = type;\n        this.value = value;\n    }\n    static decode(decoder, ticks) {\n        const type = decoder.readByte() & 0xff;\n        const length = decoder.readVarLen();\n        switch (type) {\n            case MetaType.SET_TEMPO:\n                return new MetaEvent(ticks, type, decoder.readTempo());\n            case MetaType.TIME_SIGNATURE:\n                return new MetaEvent(ticks, type, decoder.readSignature());\n            case MetaType.END_OF_TRACK:\n                return new MetaEvent(ticks, type, null);\n            case MetaType.TEXT_EVENT:\n            case MetaType.COPYRIGHT_NOTICE:\n            case MetaType.SEQUENCE_TRACK_NAME:\n            case MetaType.INSTRUMENT_NAME:\n            case MetaType.LYRICS:\n            case MetaType.MARKER:\n            case MetaType.CUE_POINT:\n            case MetaType.SEQUENCE_NUMBER:\n            case MetaType.CHANNEL_PREFIX:\n            case MetaType.KEY_SIGNATURE:\n            case MetaType.SEQUENCER_SPECIFIC:\n            case MetaType.PREFIX_PORT:\n            case MetaType.SMPTE_OFFSET:\n            default:\n                decoder.skip(length);\n        }\n        return null;\n    }\n    toString() {\n        return `MetaEvent{ticks: ${this.ticks}, type: ${this.type}, value: ${this.value}}`;\n    }\n}\n", "import { isNull, safeExecute } from \"@naomiarotest/lib-std\";\nexport var MidiData;\n(function (MidiData) {\n    let Command;\n    (function (Command) {\n        Command[Command[\"NoteOn\"] = 144] = \"NoteOn\";\n        Command[Command[\"NoteOff\"] = 128] = \"NoteOff\";\n        Command[Command[\"PitchBend\"] = 224] = \"PitchBend\";\n        Command[Command[\"Controller\"] = 176] = \"Controller\";\n        Command[Command[\"Start\"] = 250] = \"Start\";\n        Command[Command[\"Continue\"] = 251] = \"Continue\";\n        Command[Command[\"Stop\"] = 252] = \"Stop\";\n        Command[Command[\"Clock\"] = 248] = \"Clock\";\n        Command[Command[\"Position\"] = 242] = \"Position\";\n    })(Command = MidiData.Command || (MidiData.Command = {}));\n    MidiData.readCommand = (data) => data[0] & 0xF0;\n    MidiData.readChannel = (data) => data[0] & 0x0F;\n    MidiData.readParam1 = (d) => d.length > 1 ? d[1] & 0xFF : 0;\n    MidiData.readParam2 = (d) => d.length > 2 ? d[2] & 0xFF : 0;\n    MidiData.readPitch = (d) => d[1];\n    MidiData.readVelocity = (d) => d[2] / 127.0;\n    MidiData.isNoteOn = (d) => MidiData.readCommand(d) === Command.NoteOn && MidiData.readVelocity(d) > 0;\n    MidiData.isNoteOff = (d) => MidiData.readCommand(d) === Command.NoteOff || (MidiData.readCommand(d) === Command.NoteOn && MidiData.readVelocity(d) === 0);\n    MidiData.isPitchWheel = (d) => MidiData.readCommand(d) === Command.PitchBend;\n    MidiData.isController = (d) => MidiData.readCommand(d) === Command.Controller;\n    MidiData.isClock = (d) => d[0] === Command.Clock;\n    MidiData.isStart = (d) => d[0] === Command.Start;\n    MidiData.isContinue = (d) => d[0] === Command.Continue;\n    MidiData.isStop = (d) => d[0] === Command.Stop;\n    MidiData.isPosition = (d) => d[0] === Command.Position;\n    MidiData.asPitchBend = (d) => {\n        const p1 = MidiData.readParam1(d) & 0x7F, p2 = MidiData.readParam2(d) & 0x7F, v = p1 | (p2 << 7);\n        return 8192 >= v ? v / 8192 - 1 : (v - 8191) / 8192;\n    };\n    MidiData.asValue = (d) => {\n        const v = MidiData.readParam2(d);\n        return v > 64 ? 0.5 + (v - 63) / 128 : v < 64 ? v / 128 : 0.5;\n    };\n    MidiData.Clock = new Uint8Array([Command.Clock]);\n    MidiData.Start = new Uint8Array([Command.Start]);\n    MidiData.Continue = new Uint8Array([Command.Continue]);\n    MidiData.Stop = new Uint8Array([Command.Stop]);\n    MidiData.noteOn = (ch, note, vel) => new Uint8Array([Command.NoteOn | ch, note, vel]);\n    MidiData.noteOff = (ch, note) => new Uint8Array([Command.NoteOff | ch, note, 0]);\n    MidiData.control = (ch, ctrl, val) => new Uint8Array([Command.Controller | ch, ctrl & 0x7F, val & 0x7F]);\n    MidiData.position = (lsb, msb) => new Uint8Array([Command.Position, lsb & 0x7F, msb & 0x7F]);\n    MidiData.positionInPPQN = (pulses) => {\n        // MIDI Song Position Pointer unit = 6 MIDI clocks = 1/16 note\n        const midiBeats = Math.floor(pulses / 96); // 960 / 10\n        const lsb = midiBeats & 0x7F;\n        const msb = (midiBeats >> 7) & 0x7F;\n        return new Uint8Array([Command.Position, lsb, msb]);\n    };\n    MidiData.accept = (data, v) => {\n        if (isNull(data))\n            return;\n        if (MidiData.isNoteOn(data))\n            safeExecute(v.noteOn, MidiData.readPitch(data), MidiData.readVelocity(data));\n        else if (MidiData.isNoteOff(data))\n            safeExecute(v.noteOff, MidiData.readPitch(data));\n        else if (MidiData.isPitchWheel(data))\n            safeExecute(v.pitchBend, MidiData.asPitchBend(data));\n        else if (MidiData.isController(data))\n            safeExecute(v.controller, MidiData.readParam1(data), MidiData.readParam2(data) / 127);\n        else if (MidiData.isClock(data))\n            safeExecute(v.clock);\n        else if (MidiData.isStart(data))\n            safeExecute(v.start);\n        else if (MidiData.isContinue(data))\n            safeExecute(v.continue);\n        else if (MidiData.isStop(data))\n            safeExecute(v.stop);\n        else if (MidiData.isPosition(data))\n            safeExecute(v.songPos, MidiData.readParam1(data) | (MidiData.readParam2(data) << 7));\n    };\n    MidiData.debug = (data) => {\n        if (data === null)\n            return \"null\";\n        if (MidiData.isNoteOn(data))\n            return `NoteOn #${MidiData.readChannel(data)} ${MidiData.readPitch(data)} : ${MidiData.readVelocity(data).toFixed(2)}`;\n        if (MidiData.isNoteOff(data))\n            return `NoteOff #${MidiData.readChannel(data)} ${MidiData.readPitch(data)}`;\n        if (MidiData.isPitchWheel(data))\n            return `PitchWheel #${MidiData.readChannel(data)} ${MidiData.asPitchBend(data)}`;\n        if (MidiData.isController(data))\n            return `Control #${MidiData.readChannel(data)} ${MidiData.asValue(data)}`;\n        if (MidiData.isClock(data))\n            return \"Clock\";\n        if (MidiData.isStart(data))\n            return \"Start\";\n        if (MidiData.isContinue(data))\n            return \"Continue\";\n        if (MidiData.isStop(data))\n            return \"Stop\";\n        if (MidiData.isPosition(data))\n            return `SongPosition ${MidiData.readParam1(data) | (MidiData.readParam2(data) << 7)}`;\n        return \"Unknown\";\n    };\n})(MidiData || (MidiData = {}));\n", "export class MidiFileFormat {\n    tracks;\n    formatType;\n    timeDivision;\n    constructor(tracks, formatType, timeDivision) {\n        this.tracks = tracks;\n        this.formatType = formatType;\n        this.timeDivision = timeDivision;\n    }\n}\n", "import { ArrayMultimap, ByteArrayOutput, isDefined } from \"@naomiarotest/lib-std\";\nimport { ControlEvent } from \"./ControlEvent\";\nimport { MetaEvent, MetaType } from \"./MetaType\";\nimport { ControlType } from \"./ControlType\";\nexport class MidiTrack {\n    controlEvents;\n    metaEvents;\n    static decode(decoder) {\n        const controlEvents = new ArrayMultimap();\n        const metaEvents = [];\n        let ticks = 0;\n        let eventType = 0;\n        let channel = 0;\n        while (true) {\n            const varLen = decoder.readVarLen();\n            const b = decoder.readByte() & 0xff;\n            if (b < 0xf0) {\n                // 0x00....0xEF (MidiControl)\n                ticks += varLen;\n                if (b < 0x80) {\n                    // running mode, use the last eventType/channel!\n                    decoder.skip(-1);\n                }\n                else {\n                    eventType = b & 0xf0;\n                    channel = b & 0x0f;\n                }\n                const event = ControlEvent.decode(decoder, eventType, ticks);\n                if (isDefined(event)) {\n                    controlEvents.add(channel, event);\n                }\n            }\n            else if (b < 0xf8) {\n                decoder.skipSysEx(b); // 0xF0....0xF7\n            }\n            else {\n                // 0xF8....0xFF\n                ticks += varLen;\n                const event = MetaEvent.decode(decoder, ticks);\n                if (event !== null) {\n                    metaEvents.push(event);\n                    if (event.type === MetaType.END_OF_TRACK) {\n                        break;\n                    }\n                }\n            }\n        }\n        return new MidiTrack(controlEvents, metaEvents);\n    }\n    static createEmpty() { return new MidiTrack(new ArrayMultimap(), []); }\n    constructor(controlEvents, metaEvents) {\n        this.controlEvents = controlEvents;\n        this.metaEvents = metaEvents;\n    }\n    encode() {\n        const output = ByteArrayOutput.create();\n        const writeVarInt = (value) => {\n            if (value <= 0x7F) {\n                output.writeByte(value);\n            }\n            else {\n                let i = value;\n                const bytes = [];\n                bytes.push(i & 0x7F);\n                i >>= 7;\n                while (i) {\n                    let b = i & 0x7F | 0x80;\n                    bytes.push(b);\n                    i >>= 7;\n                }\n                bytes.reverse().forEach(byte => output.writeByte(byte));\n            }\n        };\n        this.controlEvents.forEach((channel, events) => {\n            let ticks = 0;\n            let lastEventTypeByte = -1;\n            events.forEach((event) => {\n                const deltaTime = event.ticks - ticks;\n                writeVarInt(deltaTime);\n                if (event.type === ControlType.NOTE_ON) {\n                    const eventTypeByte = 0x90 | channel;\n                    if (eventTypeByte !== lastEventTypeByte) {\n                        output.writeByte(eventTypeByte);\n                    }\n                    output.writeByte(event.param0);\n                    output.writeByte(event.param1);\n                }\n                else if (event.type === ControlType.NOTE_OFF) {\n                    const eventTypeByte = 0x90 | channel;\n                    if (eventTypeByte !== lastEventTypeByte) {\n                        output.writeByte(eventTypeByte);\n                    }\n                    output.writeByte(event.param0);\n                    output.writeByte(event.param1);\n                }\n                else {\n                    console.warn(\"Unknown ControlType\");\n                }\n                ticks = event.ticks;\n            });\n        });\n        return output.toArrayBuffer();\n    }\n}\n", "import { MidiFileFormat } from \"./MidiFileFormat\";\nimport { Chunk } from \"./Chunk\";\nimport { MidiTrack } from \"./MidiTrack\";\nexport class MidiFileDecoder {\n    input;\n    #suppressWarnings = false;\n    #sysMode = false;\n    constructor(input) { this.input = input; }\n    decode() {\n        this.input.littleEndian = false;\n        const header = this.input.readInt();\n        if (header === Chunk.MTHD) {\n            if (this.input.readInt() !== 6) {\n                throw new Error(\"2nd int in header must be 6\");\n            }\n        }\n        else {\n            console.warn(`Unsupported midi format ${header} !== ${Chunk.MTHD}`);\n            throw new Error(\"Unsupported midi format\");\n        }\n        const formatType = this.input.readShort();\n        const numTracks = this.input.readShort();\n        const timeDivision = this.input.readShort();\n        const tracks = [];\n        for (let index = 0; index < numTracks; index++) {\n            const trackChunk = this.input.readInt();\n            const trackLength = this.input.readInt();\n            const trackPosition = this.input.position;\n            if (trackChunk === Chunk.MTRK) {\n                tracks[index] = MidiTrack.decode(this);\n            }\n            this.input.position = trackPosition + trackLength;\n        }\n        if (0 < this.input.remaining()) {\n            console.warn(`${this.input.remaining()} bytes remaining.`);\n        }\n        return new MidiFileFormat(tracks, formatType, timeDivision);\n    }\n    readVarLen() {\n        let value = this.input.readByte() & 0xff;\n        let c;\n        if (0 < (value & 0x80)) {\n            value &= 0x7f;\n            do {\n                c = this.input.readByte() & 0xff;\n                value = (value << 7) + (c & 0x7f);\n            } while (0 < (c & 0x80));\n        }\n        return value;\n    }\n    readSignature() {\n        const b0 = this.input.readByte() & 0xff;\n        const b1 = this.input.readByte() & 0xff;\n        const b2 = this.input.readByte() & 0xff;\n        const b3 = this.input.readByte() & 0xff;\n        if (!this.#suppressWarnings) {\n            if (24 !== b2) {\n                // Unsupported Metronome Pulse.\n            }\n            if (8 !== b3) {\n                // Unsupported Number of 32nd notes each quarter note.\n            }\n        }\n        return [b0, 1 << b1];\n    }\n    readTempo() {\n        const b0 = this.input.readByte() & 0xff;\n        const b1 = this.input.readByte() & 0xff;\n        const b2 = this.input.readByte() & 0xff;\n        const MICROSECONDS_PER_MINUTE = 60_000_000.0;\n        return MICROSECONDS_PER_MINUTE / ((b0 << 16) | (b1 << 8) | b2);\n    }\n    skipSysEx(value) {\n        if (0xf0 === value) {\n            if (this.#sysMode) {\n                throw new Error(\"System message already in progress\");\n            }\n            this.input.skip(this.readVarLen() - 1);\n            this.#sysMode = true;\n        }\n        else if (0xf7 === value) {\n            if (!this.#sysMode) {\n                this.input.skip(this.readVarLen() - 1);\n                this.#sysMode = true;\n            }\n            else {\n                this.#sysMode = false;\n            }\n        }\n    }\n    skip(count) { this.input.skip(count); }\n    readByte() { return this.input.readByte(); }\n}\n", "import { ByteArrayInput, ByteArrayOutput } from \"@naomiarotest/lib-std\";\nimport { Chunk } from \"./Chunk\";\nimport { MidiFileDecoder } from \"./MidiFileDecoder\";\nexport var MidiFile;\n(function (MidiFile) {\n    MidiFile.decoder = (buffer) => new MidiFileDecoder(new ByteArrayInput(buffer));\n    MidiFile.encoder = () => new MidiFileEncoder();\n    class MidiFileEncoder {\n        static writeVarLen(output, value) {\n            let bytes = [];\n            while (value > 0x7F) {\n                bytes.push((value & 0x7F) | 0x80);\n                value >>= 7;\n            }\n            bytes.push(value & 0x7F);\n            for (let i = bytes.length - 1; i >= 0; i--) {\n                output.writeByte(bytes[i]);\n            }\n        }\n        #tracks = [];\n        addTrack(track) {\n            this.#tracks.push(track);\n            return this;\n        }\n        encode() {\n            const output = ByteArrayOutput.create();\n            output.littleEndian = false;\n            output.writeInt(Chunk.MTHD);\n            output.writeInt(6);\n            output.writeShort(0); // formatType\n            output.writeShort(this.#tracks.length);\n            output.writeShort(96); // timeDivision\n            this.#tracks.forEach(track => {\n                output.writeInt(Chunk.MTRK);\n                const buffer = track.encode();\n                output.writeInt(buffer.byteLength);\n                output.writeBytes(new Int8Array(buffer));\n            });\n            return output;\n        }\n    }\n})(MidiFile || (MidiFile = {}));\n", "const key = Symbol.for(\"@openDAW/lib-midi\");\nif (globalThis[key]) {\n    console.debug(`%c${key.description}%c is already available in ${globalThis.constructor.name}.`, \"color: hsl(10, 83%, 60%)\", \"color: inherit\");\n}\nelse {\n    globalThis[key] = true;\n    console.debug(`%c${key.description}%c is now available in ${globalThis.constructor.name}.`, \"color: hsl(200, 83%, 60%)\", \"color: inherit\");\n}\nexport * from \"./Channel\";\nexport * from \"./Chunk\";\nexport * from \"./ControlEvent\";\nexport * from \"./MidiEventVisitor\";\nexport * from \"./ControlType\";\nexport * from \"./Event\";\nexport * from \"./MetaType\";\nexport * from \"./MidiData\";\nexport * from \"./MidiFile\";\nexport * from \"./MidiFileDecoder\";\nexport * from \"./MidiFileFormat\";\nexport * from \"./MidiTrack\";\n", "import { panic } from \"@naomiarotest/lib-std\";\nimport { MidiData } from \"@naomiarotest/lib-midi\";\nexport var NoteSignal;\n(function (NoteSignal) {\n    NoteSignal.on = (uuid, pitch, velocity) => ({ type: \"note-on\", uuid, pitch, velocity });\n    NoteSignal.off = (uuid, pitch) => ({ type: \"note-off\", uuid, pitch });\n    NoteSignal.isOn = (signal) => signal.type === \"note-on\";\n    NoteSignal.isOff = (signal) => signal.type === \"note-off\";\n    NoteSignal.fromEvent = (event, uuid) => {\n        const data = event.data;\n        if (MidiData.isNoteOn(data)) {\n            const pitch = MidiData.readPitch(data);\n            const velocity = MidiData.readVelocity(data);\n            return ({ type: \"note-on\", uuid, pitch, velocity });\n        }\n        else if (MidiData.isNoteOff(data)) {\n            const pitch = MidiData.readPitch(data);\n            return ({ type: \"note-off\", uuid, pitch });\n        }\n        return panic(\"Unknown MIDI event\");\n    };\n})(NoteSignal || (NoteSignal = {}));\n", "import { NoteSignal } from \"./NoteSignal\";\nexport var NoteLifeCycle;\n(function (NoteLifeCycle) {\n    NoteLifeCycle.start = (send, uuid, pitch, velocity = 1.0) => {\n        let playing = true;\n        send(NoteSignal.on(uuid, pitch, velocity));\n        return {\n            terminate: () => {\n                if (playing) {\n                    send(NoteSignal.off(uuid, pitch));\n                    playing = false;\n                }\n            }\n        };\n    };\n})(NoteLifeCycle || (NoteLifeCycle = {}));\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _NoteStreamReceiver_terminator, _NoteStreamReceiver_receiver, _NoteStreamReceiver_address, _NoteStreamReceiver_bits, _NoteStreamReceiver_notifier;\nimport { Bits, Notifier, Terminator } from \"@naomiarotest/lib-std\";\nexport class NoteStreamReceiver {\n    constructor(receiver, address) {\n        _NoteStreamReceiver_terminator.set(this, new Terminator());\n        _NoteStreamReceiver_receiver.set(this, void 0);\n        _NoteStreamReceiver_address.set(this, void 0);\n        _NoteStreamReceiver_bits.set(this, void 0);\n        _NoteStreamReceiver_notifier.set(this, void 0);\n        __classPrivateFieldSet(this, _NoteStreamReceiver_receiver, receiver, \"f\");\n        __classPrivateFieldSet(this, _NoteStreamReceiver_address, address, \"f\");\n        __classPrivateFieldSet(this, _NoteStreamReceiver_bits, new Bits(128), \"f\");\n        __classPrivateFieldSet(this, _NoteStreamReceiver_notifier, new Notifier(), \"f\");\n        __classPrivateFieldGet(this, _NoteStreamReceiver_terminator, \"f\").own(__classPrivateFieldGet(this, _NoteStreamReceiver_receiver, \"f\").subscribeIntegers(__classPrivateFieldGet(this, _NoteStreamReceiver_address, \"f\"), (array) => {\n            if (__classPrivateFieldGet(this, _NoteStreamReceiver_bits, \"f\").replace(array.buffer)) {\n                __classPrivateFieldGet(this, _NoteStreamReceiver_notifier, \"f\").notify(this);\n            }\n        }));\n    }\n    isNoteOn(note) { return __classPrivateFieldGet(this, _NoteStreamReceiver_bits, \"f\").getBit(note); }\n    isAnyNoteOn() { return __classPrivateFieldGet(this, _NoteStreamReceiver_bits, \"f\").nonEmpty(); }\n    subscribe(observer) { return __classPrivateFieldGet(this, _NoteStreamReceiver_notifier, \"f\").subscribe(observer); }\n    terminate() { __classPrivateFieldGet(this, _NoteStreamReceiver_terminator, \"f\").terminate(); }\n}\n_NoteStreamReceiver_terminator = new WeakMap(), _NoteStreamReceiver_receiver = new WeakMap(), _NoteStreamReceiver_address = new WeakMap(), _NoteStreamReceiver_bits = new WeakMap(), _NoteStreamReceiver_notifier = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ParameterFieldAdapters_set;\nimport { Address } from \"@naomiarotest/lib-box\";\nexport class ParameterFieldAdapters {\n    constructor() {\n        _ParameterFieldAdapters_set.set(this, void 0);\n        __classPrivateFieldSet(this, _ParameterFieldAdapters_set, Address.newSet(adapter => adapter.field.address), \"f\");\n    }\n    register(adapter) {\n        __classPrivateFieldGet(this, _ParameterFieldAdapters_set, \"f\").add(adapter);\n        return { terminate: () => __classPrivateFieldGet(this, _ParameterFieldAdapters_set, \"f\").removeByValue(adapter) };\n    }\n    get(address) { return __classPrivateFieldGet(this, _ParameterFieldAdapters_set, \"f\").get(address); }\n    opt(address) { return __classPrivateFieldGet(this, _ParameterFieldAdapters_set, \"f\").opt(address); }\n}\n_ParameterFieldAdapters_set = new WeakMap();\n", "import { panic } from \"@naomiarotest/lib-std\";\nexport const UnionBoxTypes = {\n    isClipBox: (box) => box.accept({\n        visitNoteClipBox: (_box) => true,\n        visitAudioClipBox: (_box) => true,\n        visitValueClipBox: (_box) => true\n    }) ?? false,\n    isRegionBox: (box) => box.accept({\n        visitNoteRegionBox: (_box) => true,\n        visitAudioRegionBox: (_box) => true,\n        visitValueRegionBox: (_box) => true\n    }) ?? false,\n    asRegionBox: (box) => box.accept({\n        visitNoteRegionBox: (box) => box,\n        visitAudioRegionBox: (box) => box,\n        visitValueRegionBox: (box) => box\n    }) ?? panic(\"Could not cast to AnyRegionBox\"),\n    isLoopableRegionBox: (box) => box.accept({\n        visitNoteRegionBox: (_box) => true,\n        visitAudioRegionBox: (_box) => true,\n        visitValueRegionBox: (_box) => true\n    }) ?? false\n};\n", "import { AudioRegionBox } from \"@naomiarotest/studio-boxes\";\nimport { Arrays, Attempts, clamp } from \"@naomiarotest/lib-std\";\nimport { UnionBoxTypes } from \"./unions\";\nimport { TimeBase } from \"@naomiarotest/lib-dsp\";\nexport var Validator;\n(function (Validator) {\n    Validator.isTimeSignatureValid = (numerator, denominator) => {\n        if (!Number.isInteger(numerator) || numerator < 1 || numerator > 31) {\n            return Attempts.err(\"Numerator needs to be a interger between 1 and 31\");\n        }\n        if (!Number.isInteger(denominator) || denominator < 1 || denominator > 32 || (denominator & (denominator - 1)) !== 0) {\n            return Attempts.err(\"Denominator must be a power of two between 1 and 32\");\n        }\n        return Attempts.ok([numerator, denominator]);\n    };\n    Validator.MIN_BPM = 30.0;\n    Validator.MAX_BPM = 1000.0;\n    Validator.clampBpm = (bpm) => Number.isFinite(bpm) ? clamp(bpm, Validator.MIN_BPM, Validator.MAX_BPM) : 120.0;\n    Validator.hasOverlappingRegions = (boxGraph) => boxGraph.boxes()\n        .some(box => box.accept({\n        visitTrackBox: (box) => {\n            for (const [current, next] of Arrays.iterateAdjacent(box.regions.pointerHub.incoming()\n                .map(({ box }) => UnionBoxTypes.asRegionBox(box))\n                .sort(({ position: a }, { position: b }) => a.getValue() - b.getValue()))) {\n                if (current instanceof AudioRegionBox && current.timeBase.getValue() === TimeBase.Seconds) {\n                    return false;\n                }\n                if (current.position.getValue() + current.duration.getValue() > next.position.getValue()) {\n                    return true;\n                }\n            }\n            return false;\n        }\n    }) ?? false);\n})(Validator || (Validator = {}));\n", "import { Validator } from \"./Validator\";\nexport var Parsing;\n(function (Parsing) {\n    Parsing.parseTimeSignature = (input) => {\n        const [first, second] = input.split(\"/\");\n        const numerator = parseInt(first, 10);\n        const denominator = parseInt(second, 10);\n        return Validator.isTimeSignatureValid(numerator, denominator);\n    };\n})(Parsing || (Parsing = {}));\n", "import { Arrays, assert, panic } from \"@naomiarotest/lib-std\";\nexport var RingBuffer;\n(function (RingBuffer) {\n    RingBuffer.reader = ({ sab, numChunks, numberOfChannels, bufferSize }, append) => {\n        let running = true;\n        const pointers = new Int32Array(sab, 0, 2);\n        const audio = new Float32Array(sab, 8);\n        const planarChunk = new Float32Array(numberOfChannels * bufferSize);\n        const canBlock = typeof document === \"undefined\"; // for usage in workers\n        const step = () => {\n            if (!running) {\n                return;\n            }\n            let readPtr = Atomics.load(pointers, 1);\n            let writePtr = Atomics.load(pointers, 0);\n            if (readPtr === writePtr) {\n                if (canBlock) {\n                    Atomics.wait(pointers, 0, writePtr);\n                }\n                else {\n                    setTimeout(step, 1); // non\u2011blocking poll fallback\n                    return;\n                }\n                writePtr = Atomics.load(pointers, 0);\n            }\n            while (readPtr !== writePtr) {\n                const offset = readPtr * numberOfChannels * bufferSize;\n                planarChunk.set(audio.subarray(offset, offset + numberOfChannels * bufferSize));\n                const channels = [];\n                for (let channel = 0; channel < numberOfChannels; channel++) {\n                    const start = channel * bufferSize;\n                    const end = start + bufferSize;\n                    channels.push(planarChunk.slice(start, end));\n                }\n                readPtr = (readPtr + 1) % numChunks;\n                Atomics.store(pointers, 1, readPtr);\n                if (!running) {\n                    return;\n                }\n                append(channels);\n            }\n            step();\n        };\n        step();\n        return { stop: () => running = false };\n    };\n    RingBuffer.writer = ({ sab, numChunks, numberOfChannels, bufferSize }) => {\n        const pointers = new Int32Array(sab, 0, 2);\n        const audio = new Float32Array(sab, 8);\n        return Object.freeze({\n            write: (channels) => {\n                if (channels.length !== numberOfChannels) {\n                    // We ignore this. This can happen in the worklet setup phase.\n                    return;\n                }\n                for (const channel of channels) {\n                    if (channel.length !== bufferSize) {\n                        return panic(\"Each channel buffer must contain 'bufferSize' samples\");\n                    }\n                }\n                const writePtr = Atomics.load(pointers, 0);\n                const offset = writePtr * numberOfChannels * bufferSize;\n                channels.forEach((channel, index) => audio.set(channel, offset + index * bufferSize));\n                Atomics.store(pointers, 0, (writePtr + 1) % numChunks);\n                Atomics.notify(pointers, 0);\n            }\n        });\n    };\n})(RingBuffer || (RingBuffer = {}));\nexport const mergeChunkPlanes = (chunks, bufferSize, maxFrames = Number.MAX_SAFE_INTEGER) => {\n    if (chunks.length === 0) {\n        return Arrays.empty();\n    }\n    const numChannels = chunks[0].length;\n    const numFrames = Math.min(bufferSize * chunks.length, maxFrames);\n    return Arrays.create(channelIndex => {\n        const outChannel = new Float32Array(numFrames);\n        chunks.forEach((recordedChannels, chunkIndex) => {\n            if (recordedChannels.length !== numChannels) {\n                return panic();\n            }\n            const recordedChannel = recordedChannels[channelIndex];\n            assert(recordedChannel.length === bufferSize, \"Invalid length\");\n            const remaining = numFrames - chunkIndex * bufferSize;\n            assert(remaining > 0, \"Invalid remaining\");\n            outChannel.set(remaining < bufferSize\n                ? recordedChannel.slice(0, remaining)\n                : recordedChannel, chunkIndex * bufferSize);\n        });\n        return outChannel;\n    }, numChannels);\n};\n", "import { UnionBoxTypes } from \"./unions\";\nexport const UnionAdapterTypes = {\n    isRegion: (adapter) => UnionBoxTypes.isRegionBox(adapter.box),\n    isLoopableRegion: (adapter) => UnionBoxTypes.isLoopableRegionBox(adapter.box)\n};\n", "export var Gate;\n(function (Gate) {\n    Gate[Gate[\"Off\"] = 0] = \"Off\";\n    Gate[Gate[\"On\"] = 1] = \"On\";\n    Gate[Gate[\"Loop\"] = 2] = \"Loop\";\n})(Gate || (Gate = {}));\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _UserEditing_editing, _UserEditing_notifier, _UserEditing_subscription, _UserEditing_pointer;\nimport { Notifier, Option } from \"@naomiarotest/lib-std\";\nexport class UserEditing {\n    constructor(editing) {\n        _UserEditing_editing.set(this, void 0);\n        _UserEditing_notifier.set(this, void 0);\n        _UserEditing_subscription.set(this, Option.None);\n        _UserEditing_pointer.set(this, Option.None);\n        __classPrivateFieldSet(this, _UserEditing_editing, editing, \"f\");\n        __classPrivateFieldSet(this, _UserEditing_notifier, new Notifier(), \"f\");\n    }\n    catchupAndSubscribe(observer) {\n        observer(this.get());\n        return __classPrivateFieldGet(this, _UserEditing_notifier, \"f\").subscribe(observer);\n    }\n    follow(pointer) {\n        __classPrivateFieldSet(this, _UserEditing_pointer, Option.wrap(pointer), \"f\");\n        __classPrivateFieldGet(this, _UserEditing_subscription, \"f\").ifSome(subscription => subscription.terminate());\n        __classPrivateFieldSet(this, _UserEditing_subscription, Option.wrap(pointer\n            .catchupAndSubscribe(pointer => __classPrivateFieldGet(this, _UserEditing_notifier, \"f\").notify(pointer.targetVertex))), \"f\");\n    }\n    edit(target) {\n        __classPrivateFieldGet(this, _UserEditing_pointer, \"f\").ifSome(pointer => __classPrivateFieldGet(this, _UserEditing_editing, \"f\").modify(() => pointer.refer(target)));\n    }\n    isEditing(vertex) {\n        return __classPrivateFieldGet(this, _UserEditing_pointer, \"f\").match({\n            none: () => false,\n            some: pointer => pointer.targetVertex.contains(vertex)\n        });\n    }\n    get() { return __classPrivateFieldGet(this, _UserEditing_pointer, \"f\").flatMap(pointer => pointer.targetVertex); }\n    clear() { __classPrivateFieldGet(this, _UserEditing_pointer, \"f\").ifSome(pointer => __classPrivateFieldGet(this, _UserEditing_editing, \"f\").modify(() => pointer.defer())); }\n    terminate() {\n        __classPrivateFieldSet(this, _UserEditing_pointer, Option.None, \"f\");\n        __classPrivateFieldGet(this, _UserEditing_subscription, \"f\").ifSome(subscription => subscription.terminate());\n        __classPrivateFieldSet(this, _UserEditing_subscription, Option.None, \"f\");\n        __classPrivateFieldGet(this, _UserEditing_notifier, \"f\").notify(Option.None);\n        __classPrivateFieldGet(this, _UserEditing_notifier, \"f\").terminate();\n    }\n}\n_UserEditing_editing = new WeakMap(), _UserEditing_notifier = new WeakMap(), _UserEditing_subscription = new WeakMap(), _UserEditing_pointer = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _UserEditingManager_terminator, _UserEditingManager_modularSystem, _UserEditingManager_timeline, _UserEditingManager_audioUnit;\nimport { Terminator } from \"@naomiarotest/lib-std\";\nimport { UserEditing } from \"./UserEditing\";\nexport class UserEditingManager {\n    constructor(editing) {\n        _UserEditingManager_terminator.set(this, void 0);\n        _UserEditingManager_modularSystem.set(this, void 0);\n        _UserEditingManager_timeline.set(this, void 0);\n        _UserEditingManager_audioUnit.set(this, void 0);\n        __classPrivateFieldSet(this, _UserEditingManager_terminator, new Terminator(), \"f\");\n        __classPrivateFieldSet(this, _UserEditingManager_modularSystem, __classPrivateFieldGet(this, _UserEditingManager_terminator, \"f\").own(new UserEditing(editing)), \"f\");\n        __classPrivateFieldSet(this, _UserEditingManager_timeline, __classPrivateFieldGet(this, _UserEditingManager_terminator, \"f\").own(new UserEditing(editing)), \"f\");\n        __classPrivateFieldSet(this, _UserEditingManager_audioUnit, __classPrivateFieldGet(this, _UserEditingManager_terminator, \"f\").own(new UserEditing(editing)), \"f\");\n    }\n    follow(userInterfaceBox) {\n        __classPrivateFieldGet(this, _UserEditingManager_modularSystem, \"f\").follow(userInterfaceBox.editingModularSystem);\n        __classPrivateFieldGet(this, _UserEditingManager_timeline, \"f\").follow(userInterfaceBox.editingTimelineRegion);\n        __classPrivateFieldGet(this, _UserEditingManager_audioUnit, \"f\").follow(userInterfaceBox.editingDeviceChain);\n    }\n    get modularSystem() { return __classPrivateFieldGet(this, _UserEditingManager_modularSystem, \"f\"); }\n    get timeline() { return __classPrivateFieldGet(this, _UserEditingManager_timeline, \"f\"); }\n    get audioUnit() { return __classPrivateFieldGet(this, _UserEditingManager_audioUnit, \"f\"); }\n    terminate() { __classPrivateFieldGet(this, _UserEditingManager_terminator, \"f\").terminate(); }\n}\n_UserEditingManager_terminator = new WeakMap(), _UserEditingManager_modularSystem = new WeakMap(), _UserEditingManager_timeline = new WeakMap(), _UserEditingManager_audioUnit = new WeakMap();\n", "import { AudioUnitType } from \"@naomiarotest/studio-enums\";\nexport const AudioUnitOrdering = {\n    [AudioUnitType.Instrument]: 0,\n    [AudioUnitType.Aux]: 1,\n    [AudioUnitType.Bus]: 2,\n    [AudioUnitType.Output]: 3\n};\n", "import { Option, UUID } from \"@naomiarotest/lib-std\";\nimport { IndexedBox } from \"@naomiarotest/lib-box\";\nimport { AudioUnitBox, CaptureAudioBox, CaptureMidiBox } from \"@naomiarotest/studio-boxes\";\nimport { AudioUnitOrdering } from \"./AudioUnitOrdering\";\nimport { TrackType } from \"../timeline/TrackType\";\nexport var AudioUnitFactory;\n(function (AudioUnitFactory) {\n    AudioUnitFactory.create = ({ boxGraph, mandatoryBoxes: { rootBox, primaryAudioBus } }, type, capture, index) => {\n        const insertIndex = index ?? AudioUnitFactory.orderAndGetIndex(rootBox, type);\n        console.debug(`createAudioUnit type: ${type}, insertIndex: ${insertIndex}`);\n        return AudioUnitBox.create(boxGraph, UUID.generate(), box => {\n            box.collection.refer(rootBox.audioUnits);\n            box.output.refer(primaryAudioBus.input);\n            box.index.setValue(insertIndex);\n            box.type.setValue(type);\n            capture.ifSome(capture => box.capture.refer(capture));\n        });\n    };\n    AudioUnitFactory.orderAndGetIndex = (rootBox, type) => {\n        const boxes = IndexedBox.collectIndexedBoxes(rootBox.audioUnits, AudioUnitBox);\n        const order = AudioUnitOrdering[type];\n        let index = 0 | 0;\n        for (; index < boxes.length; index++) {\n            if (AudioUnitOrdering[boxes[index].type.getValue()] > order) {\n                break;\n            }\n        }\n        const insertIndex = index;\n        while (index < boxes.length) {\n            boxes[index].index.setValue(++index);\n        }\n        return insertIndex;\n    };\n    AudioUnitFactory.trackTypeToCapture = (boxGraph, trackType) => {\n        switch (trackType) {\n            case TrackType.Audio:\n                return Option.wrap(CaptureAudioBox.create(boxGraph, UUID.generate()));\n            case TrackType.Notes:\n                return Option.wrap(CaptureMidiBox.create(boxGraph, UUID.generate()));\n            default:\n                return Option.None;\n        }\n    };\n})(AudioUnitFactory || (AudioUnitFactory = {}));\n", "import { IconSymbol } from \"@naomiarotest/studio-enums\";\nimport { AudioBusBox, TrackBox } from \"@naomiarotest/studio-boxes\";\nimport { assert, Option, UUID } from \"@naomiarotest/lib-std\";\nimport { AudioUnitFactory } from \"./AudioUnitFactory\";\nimport { TrackType } from \"../timeline/TrackType\";\nexport var AudioBusFactory;\n(function (AudioBusFactory) {\n    AudioBusFactory.create = (skeleton, name, icon, type, color) => {\n        console.debug(`createAudioBus '${name}', type: ${type}, color: ${color}`);\n        const { boxGraph, mandatoryBoxes: { rootBox } } = skeleton;\n        assert(rootBox.isAttached(), \"rootBox not attached\");\n        const uuid = UUID.generate();\n        const audioBusBox = AudioBusBox.create(boxGraph, uuid, box => {\n            box.collection.refer(rootBox.audioBusses);\n            box.label.setValue(name);\n            box.icon.setValue(IconSymbol.toName(icon));\n            box.color.setValue(color.toString());\n        });\n        const audioUnitBox = AudioUnitFactory.create(skeleton, type, Option.None);\n        TrackBox.create(boxGraph, UUID.generate(), box => {\n            box.tracks.refer(audioUnitBox.tracks);\n            box.target.refer(audioUnitBox);\n            box.index.setValue(0);\n            box.type.setValue(TrackType.Undefined);\n        });\n        audioBusBox.output.refer(audioUnitBox.input);\n        return audioBusBox;\n    };\n})(AudioBusFactory || (AudioBusFactory = {}));\n", "import { AudioUnitType, Colors } from \"@naomiarotest/studio-enums\";\nimport { TrackType } from \"../timeline/TrackType\";\nexport var ColorCodes;\n(function (ColorCodes) {\n    ColorCodes.forAudioType = (type) => {\n        switch (type) {\n            case AudioUnitType.Output:\n                return Colors.blue;\n            case AudioUnitType.Aux:\n                return Colors.purple;\n            case AudioUnitType.Bus:\n                return Colors.orange;\n            case AudioUnitType.Instrument:\n                return Colors.green;\n            default:\n                return Colors.dark;\n        }\n    };\n    ColorCodes.forTrackType = (type) => {\n        switch (type) {\n            case TrackType.Audio:\n                return 200;\n            case TrackType.Notes:\n                return 45;\n            case TrackType.Value:\n                return 156;\n            default:\n                return 0;\n        }\n    };\n})(ColorCodes || (ColorCodes = {}));\n", "import { AudioFileBox, MIDIOutputDeviceBox, NanoDeviceBox, PlayfieldDeviceBox, PlayfieldSampleBox, SoundfontDeviceBox, SoundfontFileBox, TapeDeviceBox, VaporisateurDeviceBox } from \"@naomiarotest/studio-boxes\";\nimport { isDefined, UUID } from \"@naomiarotest/lib-std\";\nimport { ClassicWaveform } from \"@naomiarotest/lib-dsp\";\nimport { IconSymbol, VoicingMode } from \"@naomiarotest/studio-enums\";\nimport { TrackType } from \"../timeline/TrackType\";\nexport var InstrumentFactories;\n(function (InstrumentFactories) {\n    InstrumentFactories.Tape = {\n        defaultName: \"Tape\",\n        defaultIcon: IconSymbol.Tape,\n        description: \"Plays audio regions & clips\",\n        trackType: TrackType.Audio,\n        create: (boxGraph, host, name, icon, _attachment) => TapeDeviceBox.create(boxGraph, UUID.generate(), box => {\n            box.label.setValue(name);\n            box.icon.setValue(IconSymbol.toName(icon));\n            box.flutter.setValue(0.2);\n            box.wow.setValue(0.05);\n            box.noise.setValue(0.02);\n            box.saturation.setValue(0.5);\n            box.host.refer(host);\n        })\n    };\n    InstrumentFactories.Nano = {\n        defaultName: \"Nano\",\n        defaultIcon: IconSymbol.NanoWave,\n        description: \"Simple sampler\",\n        trackType: TrackType.Notes,\n        create: (boxGraph, host, name, icon, attachment) => {\n            let audioFileBox;\n            if (isDefined(attachment)) {\n                audioFileBox = attachment;\n            }\n            else {\n                const fileUUID = UUID.parse(\"c1678daa-4a47-4cba-b88f-4f4e384663c3\");\n                const fileDuration = 5.340;\n                audioFileBox = boxGraph.findBox(fileUUID)\n                    .unwrapOrElse(() => AudioFileBox.create(boxGraph, fileUUID, box => {\n                    box.fileName.setValue(\"Rhode\");\n                    box.endInSeconds.setValue(fileDuration);\n                }));\n            }\n            return NanoDeviceBox.create(boxGraph, UUID.generate(), box => {\n                box.label.setValue(name);\n                box.icon.setValue(IconSymbol.toName(icon));\n                box.file.refer(audioFileBox);\n                box.host.refer(host);\n            });\n        }\n    };\n    InstrumentFactories.Playfield = {\n        defaultName: \"Playfield\",\n        defaultIcon: IconSymbol.Playfield,\n        description: \"Drum computer\",\n        trackType: TrackType.Notes,\n        create: (boxGraph, host, name, icon, attachment) => {\n            const deviceBox = PlayfieldDeviceBox.create(boxGraph, UUID.generate(), box => {\n                box.label.setValue(name);\n                box.icon.setValue(IconSymbol.toName(icon));\n                box.host.refer(host);\n            });\n            if (isDefined(attachment)) {\n                attachment.filter(({ note, uuid, name, durationInSeconds, exclude }) => {\n                    const fileBox = useAudioFile(boxGraph, uuid, name, durationInSeconds);\n                    PlayfieldSampleBox.create(boxGraph, UUID.generate(), box => {\n                        box.device.refer(deviceBox.samples);\n                        box.file.refer(fileBox);\n                        box.index.setValue(note);\n                        box.exclude.setValue(exclude);\n                    });\n                });\n            }\n            return deviceBox;\n        }\n    };\n    InstrumentFactories.Vaporisateur = {\n        defaultName: \"Vaporisateur\",\n        defaultIcon: IconSymbol.Piano,\n        description: \"Classic subtractive synthesizer\",\n        trackType: TrackType.Notes,\n        create: (boxGraph, host, name, icon, _attachment) => VaporisateurDeviceBox.create(boxGraph, UUID.generate(), box => {\n            box.label.setValue(name);\n            box.icon.setValue(IconSymbol.toName(icon));\n            box.tune.setInitValue(0.0);\n            box.cutoff.setInitValue(8000.0);\n            box.resonance.setInitValue(0.1);\n            box.attack.setInitValue(0.005);\n            box.decay.setInitValue(0.100);\n            box.sustain.setInitValue(0.5);\n            box.release.setInitValue(0.5);\n            box.voicingMode.setInitValue(VoicingMode.Polyphonic);\n            box.lfo.rate.setInitValue(1.0);\n            box.oscillators.fields()[0].waveform.setInitValue(ClassicWaveform.saw);\n            box.oscillators.fields()[0].volume.setInitValue(-6.0);\n            box.oscillators.fields()[1].volume.setInitValue(Number.NEGATIVE_INFINITY);\n            box.oscillators.fields()[1].waveform.setInitValue(ClassicWaveform.square);\n            box.host.refer(host);\n            box.version.setValue(2); // for removing the -15db in voice and extended osc\n        })\n    };\n    InstrumentFactories.MIDIOutput = {\n        defaultName: \"MIDIOutput\",\n        defaultIcon: IconSymbol.Midi,\n        description: \"MIDI Output\",\n        trackType: TrackType.Notes,\n        create: (boxGraph, host, name, icon, _attachment) => MIDIOutputDeviceBox.create(boxGraph, UUID.generate(), box => {\n            box.label.setValue(name);\n            box.icon.setValue(IconSymbol.toName(icon));\n            box.host.refer(host);\n        })\n    };\n    InstrumentFactories.Soundfont = {\n        defaultName: \"Soundfont\",\n        defaultIcon: IconSymbol.SoundFont,\n        description: \"Soundfont Player\",\n        trackType: TrackType.Notes,\n        create: (boxGraph, host, name, icon, attachment) => {\n            attachment ?? (attachment = { uuid: \"d9f51577-2096-4671-9067-27ca2e12b329\", name: \"Upright Piano KW\" });\n            const soundFontUUIDAsString = attachment.uuid;\n            const soundfontUUID = UUID.parse(soundFontUUIDAsString);\n            const soundfontBox = useSoundfontFile(boxGraph, soundfontUUID, attachment.name);\n            return SoundfontDeviceBox.create(boxGraph, UUID.generate(), box => {\n                box.label.setValue(name);\n                box.icon.setValue(IconSymbol.toName(icon));\n                box.host.refer(host);\n                box.file.refer(soundfontBox);\n            });\n        }\n    };\n    InstrumentFactories.Named = { Vaporisateur: InstrumentFactories.Vaporisateur, Playfield: InstrumentFactories.Playfield, Nano: InstrumentFactories.Nano, Tape: InstrumentFactories.Tape, Soundfont: InstrumentFactories.Soundfont, MIDIOutput: InstrumentFactories.MIDIOutput };\n    const useAudioFile = (boxGraph, fileUUID, name, duration) => boxGraph.findBox(fileUUID)\n        .unwrapOrElse(() => AudioFileBox.create(boxGraph, fileUUID, box => {\n        box.fileName.setValue(name);\n        box.endInSeconds.setValue(duration);\n    }));\n    const useSoundfontFile = (boxGraph, fileUUID, name) => boxGraph.findBox(fileUUID)\n        .unwrapOrElse(() => SoundfontFileBox.create(boxGraph, fileUUID, box => box.fileName.setValue(name)));\n})(InstrumentFactories || (InstrumentFactories = {}));\n", "import { BoxGraph } from \"@naomiarotest/lib-box\";\nimport { AudioBusBox, AudioUnitBox, BoxIO, CompressorDeviceBox, GrooveShuffleBox, RootBox, TimelineBox, UserInterfaceBox } from \"@naomiarotest/studio-boxes\";\nimport { asInstanceOf, assert, ByteArrayInput, ByteArrayOutput, isDefined, Option, panic, UUID } from \"@naomiarotest/lib-std\";\nimport { AudioUnitType, IconSymbol } from \"@naomiarotest/studio-enums\";\nexport var ProjectSkeleton;\n(function (ProjectSkeleton) {\n    const MAGIC_HEADER_OPEN = 0x4F50454E;\n    const FORMAT_VERSION = 2;\n    ProjectSkeleton.empty = (options) => {\n        const boxGraph = new BoxGraph(Option.wrap(BoxIO.create));\n        const isoString = new Date().toISOString();\n        console.debug(`New Project created on ${isoString}`);\n        boxGraph.beginTransaction();\n        const grooveShuffleBox = GrooveShuffleBox.create(boxGraph, UUID.generate(), box => {\n            box.label.setValue(\"Groove Shuffle\");\n        });\n        const rootBox = RootBox.create(boxGraph, UUID.generate(), box => {\n            box.groove.refer(grooveShuffleBox);\n            box.created.setValue(isoString);\n        });\n        const primaryAudioBus = AudioBusBox.create(boxGraph, UUID.generate(), box => {\n            box.collection.refer(rootBox.audioBusses);\n            box.label.setValue(\"Output\");\n            box.icon.setValue(IconSymbol.toName(IconSymbol.SpeakerHeadphone));\n            box.color.setValue(/*Colors.blue*/ \"hsl(189, 100%, 65%)\"); // TODO\n        });\n        const primaryAudioOutputUnit = AudioUnitBox.create(boxGraph, UUID.generate(), box => {\n            box.type.setValue(AudioUnitType.Output);\n            box.collection.refer(rootBox.audioUnits);\n            box.output.refer(rootBox.outputDevice);\n            box.index.setValue(0);\n        });\n        if (options.createOutputCompressor) {\n            CompressorDeviceBox.create(boxGraph, UUID.generate(), box => {\n                box.label.setValue(\"Compressor\");\n                box.index.setValue(0);\n                box.host.refer(primaryAudioOutputUnit.audioEffects);\n                box.threshold.setValue(0);\n                box.ratio.setValue(24);\n            });\n        }\n        const timelineBox = TimelineBox.create(boxGraph, UUID.generate());\n        rootBox.timeline.refer(timelineBox.root);\n        primaryAudioBus.output.refer(primaryAudioOutputUnit.input);\n        const userInterfaceBoxes = [];\n        if (options.createDefaultUser) {\n            const userInterfaceBox = UserInterfaceBox.create(boxGraph, UUID.generate());\n            userInterfaceBox.root.refer(rootBox.users);\n            userInterfaceBoxes.push(userInterfaceBox);\n        }\n        boxGraph.endTransaction();\n        return {\n            boxGraph,\n            mandatoryBoxes: {\n                rootBox,\n                primaryAudioBus,\n                primaryAudioOutputUnit,\n                timelineBox,\n                userInterfaceBoxes\n            }\n        };\n    };\n    ProjectSkeleton.encode = (boxGraph) => {\n        const output = ByteArrayOutput.create();\n        output.writeInt(MAGIC_HEADER_OPEN);\n        output.writeInt(FORMAT_VERSION);\n        const boxGraphChunk = boxGraph.toArrayBuffer();\n        output.writeInt(boxGraphChunk.byteLength);\n        output.writeBytes(new Int8Array(boxGraphChunk));\n        return output.toArrayBuffer();\n    };\n    ProjectSkeleton.decode = (arrayBuffer) => {\n        const input = new ByteArrayInput(arrayBuffer);\n        assert(input.readInt() === MAGIC_HEADER_OPEN, \"Corrupt header. Probably not an openDAW project file.\");\n        assert(input.readInt() === FORMAT_VERSION, \"Deprecated Format\");\n        const boxGraphChunkLength = input.readInt();\n        const boxGraphChunk = new Int8Array(boxGraphChunkLength);\n        input.readBytes(boxGraphChunk);\n        const boxGraph = new BoxGraph(Option.wrap(BoxIO.create));\n        boxGraph.fromArrayBuffer(boxGraphChunk.buffer);\n        return { boxGraph, mandatoryBoxes: ProjectSkeleton.findMandatoryBoxes(boxGraph) };\n    };\n    ProjectSkeleton.findMandatoryBoxes = (boxGraph) => {\n        const rootBox = boxGraph.boxes().find(box => box.accept({ visitRootBox: () => true }));\n        if (isDefined(rootBox)) {\n            const primaryAudioOutputUnit = asInstanceOf(rootBox.outputDevice.pointerHub.incoming().at(0)?.box, AudioUnitBox);\n            const primaryAudioBus = asInstanceOf(primaryAudioOutputUnit.input.pointerHub.incoming().at(0)?.box, AudioBusBox);\n            const timelineBox = asInstanceOf(rootBox.timeline.targetVertex.unwrap(\"TimelineBox not found\").box, TimelineBox);\n            const userInterfaceBoxes = rootBox.users.pointerHub.incoming().map(({ box }) => asInstanceOf(box, UserInterfaceBox));\n            return {\n                rootBox,\n                primaryAudioBus,\n                primaryAudioOutputUnit,\n                timelineBox,\n                userInterfaceBoxes\n            };\n        }\n        return panic(\"Could not find mandatory boxes\");\n    };\n})(ProjectSkeleton || (ProjectSkeleton = {}));\n", "import { Arrays, asInstanceOf, assert, ByteArrayInput, isInstanceOf, Predicates, SetMultimap, UUID } from \"@naomiarotest/lib-std\";\nimport { AudioFileBox, AudioUnitBox, AuxSendBox, SelectionBox, SoundfontFileBox, TrackBox } from \"@naomiarotest/studio-boxes\";\nimport { IndexedBox, PointerField } from \"@naomiarotest/lib-box\";\nimport { UnionBoxTypes } from \"../unions\";\nimport { AudioUnitOrdering } from \"../factories/AudioUnitOrdering\";\nexport var ProjectUtils;\n(function (ProjectUtils) {\n    const isSameGraph = ({ graph: a }, { graph: b }) => a === b;\n    const compareIndex = (a, b) => a.index.getValue() - b.index.getValue();\n    const excludeTimelinePredicate = (box) => box.accept({\n        visitTrackBox: (_box) => true\n    }) === true;\n    ProjectUtils.extractAudioUnits = (audioUnitBoxes, { boxGraph, mandatoryBoxes: { primaryAudioBus, rootBox } }, options = {}) => {\n        assert(Arrays.satisfy(audioUnitBoxes, isSameGraph), \"AudioUnits must share the same BoxGraph\");\n        // TODO Implement include options.\n        assert(!options.includeAux && !options.includeBus, \"Options are not yet implemented\");\n        const excludeBox = options?.excludeTimeline === true ? excludeTimelinePredicate : Predicates.alwaysFalse;\n        const dependencies = audioUnitBoxes\n            .flatMap(box => Array.from(box.graph.dependenciesOf(box, { alwaysFollowMandatory: true, excludeBox }).boxes))\n            .filter(box => box.name !== SelectionBox.ClassName && box.name !== AuxSendBox.ClassName);\n        const uuidMap = generateTransferMap(audioUnitBoxes, dependencies, rootBox.audioUnits.address.uuid, primaryAudioBus.address.uuid);\n        copy(uuidMap, boxGraph, audioUnitBoxes, dependencies);\n        reorderAudioUnits(uuidMap, audioUnitBoxes, rootBox);\n        console.debug(\"inTransaction\", boxGraph.inTransaction());\n        return audioUnitBoxes.map(source => asInstanceOf(rootBox.graph\n            .findBox(uuidMap.get(source.address.uuid).target)\n            .unwrap(\"Target Track has not been copied\"), AudioUnitBox));\n    };\n    ProjectUtils.extractRegions = (regionBoxes, { boxGraph, mandatoryBoxes: { primaryAudioBus, rootBox } }, insertPosition = 0.0) => {\n        assert(Arrays.satisfy(regionBoxes, isSameGraph), \"Region smust be from the same BoxGraph\");\n        const regionBoxSet = new Set(regionBoxes);\n        const trackBoxSet = new Set();\n        const audioUnitBoxSet = new SetMultimap();\n        // Collect AudioUnits and Tracks\n        regionBoxes.forEach(regionBox => {\n            const trackBox = asInstanceOf(regionBox.regions.targetVertex.unwrap().box, TrackBox);\n            trackBoxSet.add(trackBox);\n            const audioUnitBox = asInstanceOf(trackBox.tracks.targetVertex.unwrap().box, AudioUnitBox);\n            audioUnitBoxSet.add(audioUnitBox, trackBox);\n        });\n        console.debug(`Found ${audioUnitBoxSet.keyCount()} audioUnits`);\n        console.debug(`Found ${trackBoxSet.size} tracks`);\n        const audioUnitBoxes = [...audioUnitBoxSet.keys()];\n        const excludeBox = box => (isInstanceOf(box, TrackBox) && !trackBoxSet.has(box))\n            || (UnionBoxTypes.isRegionBox(box) && !regionBoxSet.has(box));\n        const dependencies = audioUnitBoxes\n            .flatMap(box => Array.from(box.graph.dependenciesOf(box, { excludeBox, alwaysFollowMandatory: true }).boxes))\n            .filter(box => box.name !== SelectionBox.ClassName && box.name !== AuxSendBox.ClassName);\n        const uuidMap = generateTransferMap(audioUnitBoxes, dependencies, rootBox.audioUnits.address.uuid, primaryAudioBus.address.uuid);\n        copy(uuidMap, boxGraph, audioUnitBoxes, dependencies);\n        reorderAudioUnits(uuidMap, audioUnitBoxes, rootBox);\n        // reorder track indices\n        audioUnitBoxSet.forEach((_, trackBoxes) => [...trackBoxes]\n            .sort(compareIndex)\n            .forEach((source, index) => {\n            const box = boxGraph\n                .findBox(uuidMap.get(source.address.uuid).target)\n                .unwrap(\"Target Track has not been copied\");\n            asInstanceOf(box, TrackBox).index.setValue(index);\n        }));\n        // move new regions to the target position\n        const minPosition = regionBoxes.reduce((min, region) => Math.min(min, region.position.getValue()), Number.MAX_VALUE);\n        const delta = insertPosition - minPosition;\n        regionBoxes.forEach((source) => {\n            const box = boxGraph\n                .findBox(uuidMap.get(source.address.uuid).target)\n                .unwrap(\"Target Track has not been copied\");\n            const position = UnionBoxTypes.asRegionBox(box).position;\n            position.setValue(position.getValue() + delta);\n        });\n    };\n    const generateTransferMap = (audioUnitBoxes, dependencies, rootBoxUUID, masterBusBoxUUID) => {\n        const uuidMap = UUID.newSet(({ source }) => source);\n        uuidMap.addMany([\n            ...audioUnitBoxes\n                .filter(({ output: { targetAddress } }) => targetAddress.nonEmpty())\n                .map(box => ({\n                source: box.output.targetAddress.unwrap().uuid,\n                target: masterBusBoxUUID\n            })),\n            ...audioUnitBoxes\n                .map(box => ({\n                source: box.collection.targetAddress.unwrap(\"AudioUnitBox was not connected to a RootBox\").uuid,\n                target: rootBoxUUID\n            })),\n            ...audioUnitBoxes\n                .map(box => ({\n                source: box.address.uuid,\n                target: UUID.generate()\n            })),\n            ...dependencies\n                .map(({ address: { uuid }, name }) => ({\n                source: uuid,\n                target: name === AudioFileBox.ClassName || name === SoundfontFileBox.ClassName\n                    ? uuid\n                    : UUID.generate()\n            }))\n        ]);\n        return uuidMap;\n    };\n    const copy = (uuidMap, boxGraph, audioUnitBoxes, dependencies) => {\n        PointerField.decodeWith({\n            map: (_pointer, newAddress) => newAddress.map(address => uuidMap.opt(address.uuid).match({\n                none: () => address,\n                some: ({ target }) => address.moveTo(target)\n            }))\n        }, () => {\n            audioUnitBoxes\n                .forEach((source) => {\n                const input = new ByteArrayInput(source.toArrayBuffer());\n                const key = source.name;\n                const uuid = uuidMap.get(source.address.uuid).target;\n                boxGraph.createBox(key, uuid, box => box.read(input));\n            });\n            dependencies\n                .forEach((source) => {\n                const input = new ByteArrayInput(source.toArrayBuffer());\n                const key = source.name;\n                const uuid = uuidMap.get(source.address.uuid).target;\n                if (source instanceof AudioFileBox || source instanceof SoundfontFileBox) {\n                    // Those boxes keep their UUID. So if they are already in the graph, we can just read them.\n                    if (boxGraph.findBox(source.address.uuid).nonEmpty()) {\n                        source.read(input);\n                        return;\n                    }\n                }\n                boxGraph.createBox(key, uuid, box => box.read(input));\n            });\n        });\n    };\n    const reorderAudioUnits = (uuidMap, audioUnitBoxes, rootBox) => audioUnitBoxes\n        .toSorted(compareIndex)\n        .map(source => (asInstanceOf(rootBox.graph\n        .findBox(uuidMap.get(source.address.uuid).target)\n        .unwrap(\"Target Track has not been copied\"), AudioUnitBox)))\n        .forEach((target) => IndexedBox.collectIndexedBoxes(rootBox.audioUnits, AudioUnitBox).toSorted((a, b) => {\n        const orderA = AudioUnitOrdering[a.type.getValue()];\n        const orderB = AudioUnitOrdering[b.type.getValue()];\n        const orderDifference = orderA - orderB;\n        return orderDifference === 0 ? b === target ? -1 : 1 : orderDifference;\n    }).forEach((box, index) => box.index.setValue(index)));\n})(ProjectUtils || (ProjectUtils = {}));\n", "export var PresetHeader;\n(function (PresetHeader) {\n    PresetHeader.MAGIC_HEADER_OPEN = 0x4F505245; // OPRE\n    PresetHeader.FORMAT_VERSION = 1;\n})(PresetHeader || (PresetHeader = {}));\n", "import { asDefined, asInstanceOf, Attempts, ByteArrayInput, isDefined, isInstanceOf, Option, RuntimeNotifier, UUID } from \"@naomiarotest/lib-std\";\nimport { BoxGraph, PointerField } from \"@naomiarotest/lib-box\";\nimport { AudioUnitType } from \"@naomiarotest/studio-enums\";\nimport { AudioFileBox, AudioUnitBox, BoxIO, CaptureAudioBox, CaptureMidiBox, SoundfontFileBox, TrackBox } from \"@naomiarotest/studio-boxes\";\nimport { ProjectSkeleton } from \"../project/ProjectSkeleton\";\nimport { ProjectUtils } from \"../project/ProjectUtils\";\nimport { TrackType } from \"../timeline/TrackType\";\nimport { PresetHeader } from \"./PresetHeader\";\nexport var PresetDecoder;\n(function (PresetDecoder) {\n    PresetDecoder.decode = (bytes, target) => {\n        const header = new ByteArrayInput(bytes.slice(0, 8));\n        if (header.readInt() !== PresetHeader.MAGIC_HEADER_OPEN) {\n            RuntimeNotifier.info({\n                headline: \"Could Not Import Preset\",\n                message: \"Invalid preset file\"\n            }).then();\n            return;\n        }\n        if (header.readInt() !== PresetHeader.FORMAT_VERSION) {\n            RuntimeNotifier.info({\n                headline: \"Could Not Import Preset\",\n                message: \"Invalid preset version\"\n            }).then();\n            return;\n        }\n        const sourceBoxGraph = new BoxGraph(Option.wrap(BoxIO.create));\n        try {\n            sourceBoxGraph.fromArrayBuffer(bytes.slice(8));\n        }\n        catch (reason) {\n            RuntimeNotifier.info({\n                headline: \"Could Not Import Preset\",\n                message: String(reason)\n            }).then();\n            return;\n        }\n        const sourceAudioUnitBoxes = sourceBoxGraph.boxes()\n            .filter(box => isInstanceOf(box, AudioUnitBox))\n            .filter(box => box.type.getValue() !== AudioUnitType.Output);\n        ProjectUtils.extractAudioUnits(sourceAudioUnitBoxes, target, { excludeTimeline: true })\n            .filter(box => box.type.getValue() !== AudioUnitType.Output)\n            .forEach((audioUnitBox) => {\n            const inputBox = audioUnitBox.input.pointerHub.incoming().at(0)?.box;\n            if (isDefined(inputBox)) {\n                audioUnitBox.capture.targetVertex.ifSome(({ box: captureBox }) => {\n                    if (captureBox instanceof CaptureMidiBox) {\n                        TrackBox.create(target.boxGraph, UUID.generate(), box => {\n                            box.index.setValue(0);\n                            box.type.setValue(TrackType.Notes);\n                            box.target.refer(audioUnitBox);\n                            box.tracks.refer(audioUnitBox.tracks);\n                        });\n                    }\n                    else if (captureBox instanceof CaptureAudioBox) {\n                        TrackBox.create(target.boxGraph, UUID.generate(), box => {\n                            box.index.setValue(0);\n                            box.type.setValue(TrackType.Audio);\n                            box.target.refer(audioUnitBox);\n                            box.tracks.refer(audioUnitBox.tracks);\n                        });\n                    }\n                });\n            }\n        });\n    };\n    PresetDecoder.replaceAudioUnit = (arrayBuffer, targetAudioUnitBox, options) => {\n        console.debug(\"ReplaceAudioUnit with preset...\");\n        const skeleton = ProjectSkeleton.empty({\n            createDefaultUser: false,\n            createOutputCompressor: false\n        });\n        const sourceBoxGraph = skeleton.boxGraph;\n        const targetBoxGraph = targetAudioUnitBox.graph;\n        sourceBoxGraph.beginTransaction();\n        PresetDecoder.decode(arrayBuffer, skeleton);\n        sourceBoxGraph.endTransaction();\n        const sourceAudioUnitBox = asDefined(skeleton.mandatoryBoxes.rootBox.audioUnits.pointerHub.incoming()\n            .map(({ box }) => asInstanceOf(box, AudioUnitBox))\n            .find((box) => box.type.getValue() !== AudioUnitType.Output), \"Source has no audioUnitBox\");\n        const sourceCaptureBox = sourceAudioUnitBox.capture.targetVertex.mapOr(({ box }) => box.name, \"\");\n        const targetCaptureBox = targetAudioUnitBox.capture.targetVertex.mapOr(({ box }) => box.name, \"\");\n        if (sourceCaptureBox !== targetCaptureBox) {\n            return Attempts.err(\"Cannot replace incompatible instruments\");\n        }\n        const replaceMIDIEffects = options?.keepMIDIEffects !== true;\n        const replaceAudioEffects = options?.keepAudioEffects !== true;\n        console.debug(\"replaceMIDIEffects\", replaceMIDIEffects);\n        console.debug(\"replaceAudioEffects\", replaceAudioEffects);\n        asDefined(targetAudioUnitBox.input.pointerHub.incoming().at(0)?.box, \"Target has no input\").delete();\n        if (replaceMIDIEffects) {\n            targetAudioUnitBox.midiEffects.pointerHub.incoming().forEach(({ box }) => box.delete());\n        }\n        else {\n            sourceBoxGraph.beginTransaction();\n            sourceAudioUnitBox.midiEffects.pointerHub.incoming().forEach(({ box }) => box.delete());\n            sourceBoxGraph.endTransaction();\n        }\n        if (replaceAudioEffects) {\n            targetAudioUnitBox.audioEffects.pointerHub.incoming().forEach(({ box }) => box.delete());\n        }\n        else {\n            sourceBoxGraph.beginTransaction();\n            sourceAudioUnitBox.audioEffects.pointerHub.incoming().forEach(({ box }) => box.delete());\n            sourceBoxGraph.endTransaction();\n        }\n        // We do not take track or capture boxes into account\n        const excludeBox = (box) => box.accept({\n            visitTrackBox: (_box) => true,\n            visitCaptureMidiBox: (_box) => true,\n            visitCaptureAudioBox: (_box) => true\n        }) === true;\n        const uuidMap = UUID.newSet(({ source }) => source);\n        const dependencies = Array.from(sourceBoxGraph.dependenciesOf(sourceAudioUnitBox, {\n            excludeBox,\n            alwaysFollowMandatory: false\n        }).boxes);\n        uuidMap.addMany([\n            {\n                source: sourceAudioUnitBox.address.uuid,\n                target: targetAudioUnitBox.address.uuid\n            },\n            ...dependencies\n                .map(({ address: { uuid }, name }) => ({\n                source: uuid,\n                target: name === AudioFileBox.ClassName || name === SoundfontFileBox.ClassName\n                    ? uuid\n                    : UUID.generate()\n            }))\n        ]);\n        PointerField.decodeWith({\n            map: (_pointer, newAddress) => newAddress.map(address => uuidMap.opt(address.uuid).match({\n                none: () => address,\n                some: ({ target }) => address.moveTo(target)\n            }))\n        }, () => {\n            dependencies\n                .forEach((source) => {\n                const input = new ByteArrayInput(source.toArrayBuffer());\n                const key = source.name;\n                const uuid = uuidMap.get(source.address.uuid).target;\n                if (source instanceof AudioFileBox || source instanceof SoundfontFileBox) {\n                    // Those boxes keep their UUID. So if they are already in the graph, we can just read them.\n                    if (targetBoxGraph.findBox(source.address.uuid).nonEmpty()) {\n                        source.read(input);\n                        return;\n                    }\n                }\n                targetBoxGraph.createBox(key, uuid, box => box.read(input));\n            });\n        });\n        return Attempts.Ok;\n    };\n})(PresetDecoder || (PresetDecoder = {}));\n", "import { Arrays, ByteArrayOutput } from \"@naomiarotest/lib-std\";\nimport { ProjectSkeleton } from \"../project/ProjectSkeleton\";\nimport { ProjectUtils } from \"../project/ProjectUtils\";\nimport { PresetHeader } from \"./PresetHeader\";\nexport var PresetEncoder;\n(function (PresetEncoder) {\n    PresetEncoder.encode = (audioUnitBox) => {\n        const header = ByteArrayOutput.create();\n        header.writeInt(PresetHeader.MAGIC_HEADER_OPEN);\n        header.writeInt(PresetHeader.FORMAT_VERSION);\n        const preset = ProjectSkeleton.empty({ createOutputCompressor: false, createDefaultUser: false });\n        preset.boxGraph.beginTransaction();\n        ProjectUtils.extractAudioUnits([audioUnitBox], preset, { excludeTimeline: true });\n        preset.boxGraph.endTransaction();\n        console.debug(\"SAVING...\");\n        preset.boxGraph.debugBoxes();\n        return Arrays.concatArrayBuffers(header.toArrayBuffer(), preset.boxGraph.toArrayBuffer());\n    };\n})(PresetEncoder || (PresetEncoder = {}));\n", "import { asDefined, asInstanceOf } from \"@naomiarotest/lib-std\";\nimport { AudioUnitBox } from \"@naomiarotest/studio-boxes\";\nimport { StringField } from \"@naomiarotest/lib-box\";\nexport var ProjectQueries;\n(function (ProjectQueries) {\n    ProjectQueries.existingInstrumentNames = (rootBox) => rootBox.audioUnits.pointerHub.incoming().map(({ box }) => {\n        const inputBox = asDefined(asInstanceOf(box, AudioUnitBox).input.pointerHub.incoming().at(0)).box;\n        return \"label\" in inputBox && inputBox.label instanceof StringField ? inputBox.label.getValue() : \"N/A\";\n    });\n})(ProjectQueries || (ProjectQueries = {}));\n", "export * as core from \"../core/index.js\";\nexport * from \"./schemas.js\";\nexport * from \"./checks.js\";\nexport * from \"./errors.js\";\nexport * from \"./parse.js\";\nexport * from \"./compat.js\";\n// zod-specified\nimport { config } from \"../core/index.js\";\nimport en from \"../locales/en.js\";\nconfig(en());\nexport { globalRegistry, registry, config, $output, $input, $brand, clone, regexes, treeifyError, prettifyError, formatError, flattenError, toJSONSchema, TimePrecision, util, NEVER, } from \"../core/index.js\";\nexport * as locales from \"../locales/index.js\";\n// iso\n// must be exported from top-level\n// https://github.com/colinhacks/zod/issues/4491\nexport { ZodISODateTime, ZodISODate, ZodISOTime, ZodISODuration } from \"./iso.js\";\nexport * as iso from \"./iso.js\";\nexport * as coerce from \"./coerce.js\";\n", "export * from \"./core.js\";\nexport * from \"./parse.js\";\nexport * from \"./errors.js\";\nexport * from \"./schemas.js\";\nexport * from \"./checks.js\";\nexport * from \"./versions.js\";\nexport * as util from \"./util.js\";\nexport * as regexes from \"./regexes.js\";\nexport * as locales from \"../locales/index.js\";\nexport * from \"./registries.js\";\nexport * from \"./doc.js\";\nexport * from \"./api.js\";\nexport * from \"./to-json-schema.js\";\nexport * as JSONSchema from \"./json-schema.js\";\n", "/** A special constant with type `never` */\nexport const NEVER = Object.freeze({\n    status: \"aborted\",\n});\nexport /*@__NO_SIDE_EFFECTS__*/ function $constructor(name, initializer, params) {\n    function init(inst, def) {\n        if (!inst._zod) {\n            Object.defineProperty(inst, \"_zod\", {\n                value: {\n                    def,\n                    constr: _,\n                    traits: new Set(),\n                },\n                enumerable: false,\n            });\n        }\n        if (inst._zod.traits.has(name)) {\n            return;\n        }\n        inst._zod.traits.add(name);\n        initializer(inst, def);\n        // support prototype modifications\n        const proto = _.prototype;\n        const keys = Object.keys(proto);\n        for (let i = 0; i < keys.length; i++) {\n            const k = keys[i];\n            if (!(k in inst)) {\n                inst[k] = proto[k].bind(inst);\n            }\n        }\n    }\n    // doesn't work if Parent has a constructor with arguments\n    const Parent = params?.Parent ?? Object;\n    class Definition extends Parent {\n    }\n    Object.defineProperty(Definition, \"name\", { value: name });\n    function _(def) {\n        var _a;\n        const inst = params?.Parent ? new Definition() : this;\n        init(inst, def);\n        (_a = inst._zod).deferred ?? (_a.deferred = []);\n        for (const fn of inst._zod.deferred) {\n            fn();\n        }\n        return inst;\n    }\n    Object.defineProperty(_, \"init\", { value: init });\n    Object.defineProperty(_, Symbol.hasInstance, {\n        value: (inst) => {\n            if (params?.Parent && inst instanceof params.Parent)\n                return true;\n            return inst?._zod?.traits?.has(name);\n        },\n    });\n    Object.defineProperty(_, \"name\", { value: name });\n    return _;\n}\n//////////////////////////////   UTILITIES   ///////////////////////////////////////\nexport const $brand = Symbol(\"zod_brand\");\nexport class $ZodAsyncError extends Error {\n    constructor() {\n        super(`Encountered Promise during synchronous parse. Use .parseAsync() instead.`);\n    }\n}\nexport class $ZodEncodeError extends Error {\n    constructor(name) {\n        super(`Encountered unidirectional transform during encode: ${name}`);\n        this.name = \"ZodEncodeError\";\n    }\n}\nexport const globalConfig = {};\nexport function config(newConfig) {\n    if (newConfig)\n        Object.assign(globalConfig, newConfig);\n    return globalConfig;\n}\n", "// functions\nexport function assertEqual(val) {\n    return val;\n}\nexport function assertNotEqual(val) {\n    return val;\n}\nexport function assertIs(_arg) { }\nexport function assertNever(_x) {\n    throw new Error();\n}\nexport function assert(_) { }\nexport function getEnumValues(entries) {\n    const numericValues = Object.values(entries).filter((v) => typeof v === \"number\");\n    const values = Object.entries(entries)\n        .filter(([k, _]) => numericValues.indexOf(+k) === -1)\n        .map(([_, v]) => v);\n    return values;\n}\nexport function joinValues(array, separator = \"|\") {\n    return array.map((val) => stringifyPrimitive(val)).join(separator);\n}\nexport function jsonStringifyReplacer(_, value) {\n    if (typeof value === \"bigint\")\n        return value.toString();\n    return value;\n}\nexport function cached(getter) {\n    const set = false;\n    return {\n        get value() {\n            if (!set) {\n                const value = getter();\n                Object.defineProperty(this, \"value\", { value });\n                return value;\n            }\n            throw new Error(\"cached value already set\");\n        },\n    };\n}\nexport function nullish(input) {\n    return input === null || input === undefined;\n}\nexport function cleanRegex(source) {\n    const start = source.startsWith(\"^\") ? 1 : 0;\n    const end = source.endsWith(\"$\") ? source.length - 1 : source.length;\n    return source.slice(start, end);\n}\nexport function floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepString = step.toString();\n    let stepDecCount = (stepString.split(\".\")[1] || \"\").length;\n    if (stepDecCount === 0 && /\\d?e-\\d?/.test(stepString)) {\n        const match = stepString.match(/\\d?e-(\\d?)/);\n        if (match?.[1]) {\n            stepDecCount = Number.parseInt(match[1]);\n        }\n    }\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = Number.parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = Number.parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / 10 ** decCount;\n}\nconst EVALUATING = Symbol(\"evaluating\");\nexport function defineLazy(object, key, getter) {\n    let value = undefined;\n    Object.defineProperty(object, key, {\n        get() {\n            if (value === EVALUATING) {\n                // Circular reference detected, return undefined to break the cycle\n                return undefined;\n            }\n            if (value === undefined) {\n                value = EVALUATING;\n                value = getter();\n            }\n            return value;\n        },\n        set(v) {\n            Object.defineProperty(object, key, {\n                value: v,\n                // configurable: true,\n            });\n            // object[key] = v;\n        },\n        configurable: true,\n    });\n}\nexport function objectClone(obj) {\n    return Object.create(Object.getPrototypeOf(obj), Object.getOwnPropertyDescriptors(obj));\n}\nexport function assignProp(target, prop, value) {\n    Object.defineProperty(target, prop, {\n        value,\n        writable: true,\n        enumerable: true,\n        configurable: true,\n    });\n}\nexport function mergeDefs(...defs) {\n    const mergedDescriptors = {};\n    for (const def of defs) {\n        const descriptors = Object.getOwnPropertyDescriptors(def);\n        Object.assign(mergedDescriptors, descriptors);\n    }\n    return Object.defineProperties({}, mergedDescriptors);\n}\nexport function cloneDef(schema) {\n    return mergeDefs(schema._zod.def);\n}\nexport function getElementAtPath(obj, path) {\n    if (!path)\n        return obj;\n    return path.reduce((acc, key) => acc?.[key], obj);\n}\nexport function promiseAllObject(promisesObj) {\n    const keys = Object.keys(promisesObj);\n    const promises = keys.map((key) => promisesObj[key]);\n    return Promise.all(promises).then((results) => {\n        const resolvedObj = {};\n        for (let i = 0; i < keys.length; i++) {\n            resolvedObj[keys[i]] = results[i];\n        }\n        return resolvedObj;\n    });\n}\nexport function randomString(length = 10) {\n    const chars = \"abcdefghijklmnopqrstuvwxyz\";\n    let str = \"\";\n    for (let i = 0; i < length; i++) {\n        str += chars[Math.floor(Math.random() * chars.length)];\n    }\n    return str;\n}\nexport function esc(str) {\n    return JSON.stringify(str);\n}\nexport function slugify(input) {\n    return input\n        .toLowerCase()\n        .trim()\n        .replace(/[^\\w\\s-]/g, \"\")\n        .replace(/[\\s_-]+/g, \"-\")\n        .replace(/^-+|-+$/g, \"\");\n}\nexport const captureStackTrace = (\"captureStackTrace\" in Error ? Error.captureStackTrace : (..._args) => { });\nexport function isObject(data) {\n    return typeof data === \"object\" && data !== null && !Array.isArray(data);\n}\nexport const allowsEval = cached(() => {\n    // @ts-ignore\n    if (typeof navigator !== \"undefined\" && navigator?.userAgent?.includes(\"Cloudflare\")) {\n        return false;\n    }\n    try {\n        const F = Function;\n        new F(\"\");\n        return true;\n    }\n    catch (_) {\n        return false;\n    }\n});\nexport function isPlainObject(o) {\n    if (isObject(o) === false)\n        return false;\n    // modified constructor\n    const ctor = o.constructor;\n    if (ctor === undefined)\n        return true;\n    if (typeof ctor !== \"function\")\n        return true;\n    // modified prototype\n    const prot = ctor.prototype;\n    if (isObject(prot) === false)\n        return false;\n    // ctor doesn't have static `isPrototypeOf`\n    if (Object.prototype.hasOwnProperty.call(prot, \"isPrototypeOf\") === false) {\n        return false;\n    }\n    return true;\n}\nexport function shallowClone(o) {\n    if (isPlainObject(o))\n        return { ...o };\n    if (Array.isArray(o))\n        return [...o];\n    return o;\n}\nexport function numKeys(data) {\n    let keyCount = 0;\n    for (const key in data) {\n        if (Object.prototype.hasOwnProperty.call(data, key)) {\n            keyCount++;\n        }\n    }\n    return keyCount;\n}\nexport const getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return \"undefined\";\n        case \"string\":\n            return \"string\";\n        case \"number\":\n            return Number.isNaN(data) ? \"nan\" : \"number\";\n        case \"boolean\":\n            return \"boolean\";\n        case \"function\":\n            return \"function\";\n        case \"bigint\":\n            return \"bigint\";\n        case \"symbol\":\n            return \"symbol\";\n        case \"object\":\n            if (Array.isArray(data)) {\n                return \"array\";\n            }\n            if (data === null) {\n                return \"null\";\n            }\n            if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n                return \"promise\";\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return \"map\";\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return \"set\";\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return \"date\";\n            }\n            // @ts-ignore\n            if (typeof File !== \"undefined\" && data instanceof File) {\n                return \"file\";\n            }\n            return \"object\";\n        default:\n            throw new Error(`Unknown data type: ${t}`);\n    }\n};\nexport const propertyKeyTypes = new Set([\"string\", \"number\", \"symbol\"]);\nexport const primitiveTypes = new Set([\"string\", \"number\", \"bigint\", \"boolean\", \"symbol\", \"undefined\"]);\nexport function escapeRegex(str) {\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\n// zod-specific utils\nexport function clone(inst, def, params) {\n    const cl = new inst._zod.constr(def ?? inst._zod.def);\n    if (!def || params?.parent)\n        cl._zod.parent = inst;\n    return cl;\n}\nexport function normalizeParams(_params) {\n    const params = _params;\n    if (!params)\n        return {};\n    if (typeof params === \"string\")\n        return { error: () => params };\n    if (params?.message !== undefined) {\n        if (params?.error !== undefined)\n            throw new Error(\"Cannot specify both `message` and `error` params\");\n        params.error = params.message;\n    }\n    delete params.message;\n    if (typeof params.error === \"string\")\n        return { ...params, error: () => params.error };\n    return params;\n}\nexport function createTransparentProxy(getter) {\n    let target;\n    return new Proxy({}, {\n        get(_, prop, receiver) {\n            target ?? (target = getter());\n            return Reflect.get(target, prop, receiver);\n        },\n        set(_, prop, value, receiver) {\n            target ?? (target = getter());\n            return Reflect.set(target, prop, value, receiver);\n        },\n        has(_, prop) {\n            target ?? (target = getter());\n            return Reflect.has(target, prop);\n        },\n        deleteProperty(_, prop) {\n            target ?? (target = getter());\n            return Reflect.deleteProperty(target, prop);\n        },\n        ownKeys(_) {\n            target ?? (target = getter());\n            return Reflect.ownKeys(target);\n        },\n        getOwnPropertyDescriptor(_, prop) {\n            target ?? (target = getter());\n            return Reflect.getOwnPropertyDescriptor(target, prop);\n        },\n        defineProperty(_, prop, descriptor) {\n            target ?? (target = getter());\n            return Reflect.defineProperty(target, prop, descriptor);\n        },\n    });\n}\nexport function stringifyPrimitive(value) {\n    if (typeof value === \"bigint\")\n        return value.toString() + \"n\";\n    if (typeof value === \"string\")\n        return `\"${value}\"`;\n    return `${value}`;\n}\nexport function optionalKeys(shape) {\n    return Object.keys(shape).filter((k) => {\n        return shape[k]._zod.optin === \"optional\" && shape[k]._zod.optout === \"optional\";\n    });\n}\nexport const NUMBER_FORMAT_RANGES = {\n    safeint: [Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER],\n    int32: [-2147483648, 2147483647],\n    uint32: [0, 4294967295],\n    float32: [-3.4028234663852886e38, 3.4028234663852886e38],\n    float64: [-Number.MAX_VALUE, Number.MAX_VALUE],\n};\nexport const BIGINT_FORMAT_RANGES = {\n    int64: [/* @__PURE__*/ BigInt(\"-9223372036854775808\"), /* @__PURE__*/ BigInt(\"9223372036854775807\")],\n    uint64: [/* @__PURE__*/ BigInt(0), /* @__PURE__*/ BigInt(\"18446744073709551615\")],\n};\nexport function pick(schema, mask) {\n    const currDef = schema._zod.def;\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const newShape = {};\n            for (const key in mask) {\n                if (!(key in currDef.shape)) {\n                    throw new Error(`Unrecognized key: \"${key}\"`);\n                }\n                if (!mask[key])\n                    continue;\n                newShape[key] = currDef.shape[key];\n            }\n            assignProp(this, \"shape\", newShape); // self-caching\n            return newShape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function omit(schema, mask) {\n    const currDef = schema._zod.def;\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const newShape = { ...schema._zod.def.shape };\n            for (const key in mask) {\n                if (!(key in currDef.shape)) {\n                    throw new Error(`Unrecognized key: \"${key}\"`);\n                }\n                if (!mask[key])\n                    continue;\n                delete newShape[key];\n            }\n            assignProp(this, \"shape\", newShape); // self-caching\n            return newShape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function extend(schema, shape) {\n    if (!isPlainObject(shape)) {\n        throw new Error(\"Invalid input to extend: expected a plain object\");\n    }\n    const checks = schema._zod.def.checks;\n    const hasChecks = checks && checks.length > 0;\n    if (hasChecks) {\n        throw new Error(\"Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.\");\n    }\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const _shape = { ...schema._zod.def.shape, ...shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function safeExtend(schema, shape) {\n    if (!isPlainObject(shape)) {\n        throw new Error(\"Invalid input to safeExtend: expected a plain object\");\n    }\n    const def = {\n        ...schema._zod.def,\n        get shape() {\n            const _shape = { ...schema._zod.def.shape, ...shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n        checks: schema._zod.def.checks,\n    };\n    return clone(schema, def);\n}\nexport function merge(a, b) {\n    const def = mergeDefs(a._zod.def, {\n        get shape() {\n            const _shape = { ...a._zod.def.shape, ...b._zod.def.shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n        get catchall() {\n            return b._zod.def.catchall;\n        },\n        checks: [], // delete existing checks\n    });\n    return clone(a, def);\n}\nexport function partial(Class, schema, mask) {\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const oldShape = schema._zod.def.shape;\n            const shape = { ...oldShape };\n            if (mask) {\n                for (const key in mask) {\n                    if (!(key in oldShape)) {\n                        throw new Error(`Unrecognized key: \"${key}\"`);\n                    }\n                    if (!mask[key])\n                        continue;\n                    // if (oldShape[key]!._zod.optin === \"optional\") continue;\n                    shape[key] = Class\n                        ? new Class({\n                            type: \"optional\",\n                            innerType: oldShape[key],\n                        })\n                        : oldShape[key];\n                }\n            }\n            else {\n                for (const key in oldShape) {\n                    // if (oldShape[key]!._zod.optin === \"optional\") continue;\n                    shape[key] = Class\n                        ? new Class({\n                            type: \"optional\",\n                            innerType: oldShape[key],\n                        })\n                        : oldShape[key];\n                }\n            }\n            assignProp(this, \"shape\", shape); // self-caching\n            return shape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function required(Class, schema, mask) {\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const oldShape = schema._zod.def.shape;\n            const shape = { ...oldShape };\n            if (mask) {\n                for (const key in mask) {\n                    if (!(key in shape)) {\n                        throw new Error(`Unrecognized key: \"${key}\"`);\n                    }\n                    if (!mask[key])\n                        continue;\n                    // overwrite with non-optional\n                    shape[key] = new Class({\n                        type: \"nonoptional\",\n                        innerType: oldShape[key],\n                    });\n                }\n            }\n            else {\n                for (const key in oldShape) {\n                    // overwrite with non-optional\n                    shape[key] = new Class({\n                        type: \"nonoptional\",\n                        innerType: oldShape[key],\n                    });\n                }\n            }\n            assignProp(this, \"shape\", shape); // self-caching\n            return shape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\n// invalid_type | too_big | too_small | invalid_format | not_multiple_of | unrecognized_keys | invalid_union | invalid_key | invalid_element | invalid_value | custom\nexport function aborted(x, startIndex = 0) {\n    if (x.aborted === true)\n        return true;\n    for (let i = startIndex; i < x.issues.length; i++) {\n        if (x.issues[i]?.continue !== true) {\n            return true;\n        }\n    }\n    return false;\n}\nexport function prefixIssues(path, issues) {\n    return issues.map((iss) => {\n        var _a;\n        (_a = iss).path ?? (_a.path = []);\n        iss.path.unshift(path);\n        return iss;\n    });\n}\nexport function unwrapMessage(message) {\n    return typeof message === \"string\" ? message : message?.message;\n}\nexport function finalizeIssue(iss, ctx, config) {\n    const full = { ...iss, path: iss.path ?? [] };\n    // for backwards compatibility\n    if (!iss.message) {\n        const message = unwrapMessage(iss.inst?._zod.def?.error?.(iss)) ??\n            unwrapMessage(ctx?.error?.(iss)) ??\n            unwrapMessage(config.customError?.(iss)) ??\n            unwrapMessage(config.localeError?.(iss)) ??\n            \"Invalid input\";\n        full.message = message;\n    }\n    // delete (full as any).def;\n    delete full.inst;\n    delete full.continue;\n    if (!ctx?.reportInput) {\n        delete full.input;\n    }\n    return full;\n}\nexport function getSizableOrigin(input) {\n    if (input instanceof Set)\n        return \"set\";\n    if (input instanceof Map)\n        return \"map\";\n    // @ts-ignore\n    if (input instanceof File)\n        return \"file\";\n    return \"unknown\";\n}\nexport function getLengthableOrigin(input) {\n    if (Array.isArray(input))\n        return \"array\";\n    if (typeof input === \"string\")\n        return \"string\";\n    return \"unknown\";\n}\nexport function issue(...args) {\n    const [iss, input, inst] = args;\n    if (typeof iss === \"string\") {\n        return {\n            message: iss,\n            code: \"custom\",\n            input,\n            inst,\n        };\n    }\n    return { ...iss };\n}\nexport function cleanEnum(obj) {\n    return Object.entries(obj)\n        .filter(([k, _]) => {\n        // return true if NaN, meaning it's not a number, thus a string key\n        return Number.isNaN(Number.parseInt(k, 10));\n    })\n        .map((el) => el[1]);\n}\n// Codec utility functions\nexport function base64ToUint8Array(base64) {\n    const binaryString = atob(base64);\n    const bytes = new Uint8Array(binaryString.length);\n    for (let i = 0; i < binaryString.length; i++) {\n        bytes[i] = binaryString.charCodeAt(i);\n    }\n    return bytes;\n}\nexport function uint8ArrayToBase64(bytes) {\n    let binaryString = \"\";\n    for (let i = 0; i < bytes.length; i++) {\n        binaryString += String.fromCharCode(bytes[i]);\n    }\n    return btoa(binaryString);\n}\nexport function base64urlToUint8Array(base64url) {\n    const base64 = base64url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    const padding = \"=\".repeat((4 - (base64.length % 4)) % 4);\n    return base64ToUint8Array(base64 + padding);\n}\nexport function uint8ArrayToBase64url(bytes) {\n    return uint8ArrayToBase64(bytes).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=/g, \"\");\n}\nexport function hexToUint8Array(hex) {\n    const cleanHex = hex.replace(/^0x/, \"\");\n    if (cleanHex.length % 2 !== 0) {\n        throw new Error(\"Invalid hex string length\");\n    }\n    const bytes = new Uint8Array(cleanHex.length / 2);\n    for (let i = 0; i < cleanHex.length; i += 2) {\n        bytes[i / 2] = Number.parseInt(cleanHex.slice(i, i + 2), 16);\n    }\n    return bytes;\n}\nexport function uint8ArrayToHex(bytes) {\n    return Array.from(bytes)\n        .map((b) => b.toString(16).padStart(2, \"0\"))\n        .join(\"\");\n}\n// instanceof\nexport class Class {\n    constructor(..._args) { }\n}\n", "import { $constructor } from \"./core.js\";\nimport * as util from \"./util.js\";\nconst initializer = (inst, def) => {\n    inst.name = \"$ZodError\";\n    Object.defineProperty(inst, \"_zod\", {\n        value: inst._zod,\n        enumerable: false,\n    });\n    Object.defineProperty(inst, \"issues\", {\n        value: def,\n        enumerable: false,\n    });\n    inst.message = JSON.stringify(def, util.jsonStringifyReplacer, 2);\n    Object.defineProperty(inst, \"toString\", {\n        value: () => inst.message,\n        enumerable: false,\n    });\n};\nexport const $ZodError = $constructor(\"$ZodError\", initializer);\nexport const $ZodRealError = $constructor(\"$ZodError\", initializer, { Parent: Error });\nexport function flattenError(error, mapper = (issue) => issue.message) {\n    const fieldErrors = {};\n    const formErrors = [];\n    for (const sub of error.issues) {\n        if (sub.path.length > 0) {\n            fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n            fieldErrors[sub.path[0]].push(mapper(sub));\n        }\n        else {\n            formErrors.push(mapper(sub));\n        }\n    }\n    return { formErrors, fieldErrors };\n}\nexport function formatError(error, mapper = (issue) => issue.message) {\n    const fieldErrors = { _errors: [] };\n    const processError = (error) => {\n        for (const issue of error.issues) {\n            if (issue.code === \"invalid_union\" && issue.errors.length) {\n                issue.errors.map((issues) => processError({ issues }));\n            }\n            else if (issue.code === \"invalid_key\") {\n                processError({ issues: issue.issues });\n            }\n            else if (issue.code === \"invalid_element\") {\n                processError({ issues: issue.issues });\n            }\n            else if (issue.path.length === 0) {\n                fieldErrors._errors.push(mapper(issue));\n            }\n            else {\n                let curr = fieldErrors;\n                let i = 0;\n                while (i < issue.path.length) {\n                    const el = issue.path[i];\n                    const terminal = i === issue.path.length - 1;\n                    if (!terminal) {\n                        curr[el] = curr[el] || { _errors: [] };\n                    }\n                    else {\n                        curr[el] = curr[el] || { _errors: [] };\n                        curr[el]._errors.push(mapper(issue));\n                    }\n                    curr = curr[el];\n                    i++;\n                }\n            }\n        }\n    };\n    processError(error);\n    return fieldErrors;\n}\nexport function treeifyError(error, mapper = (issue) => issue.message) {\n    const result = { errors: [] };\n    const processError = (error, path = []) => {\n        var _a, _b;\n        for (const issue of error.issues) {\n            if (issue.code === \"invalid_union\" && issue.errors.length) {\n                // regular union error\n                issue.errors.map((issues) => processError({ issues }, issue.path));\n            }\n            else if (issue.code === \"invalid_key\") {\n                processError({ issues: issue.issues }, issue.path);\n            }\n            else if (issue.code === \"invalid_element\") {\n                processError({ issues: issue.issues }, issue.path);\n            }\n            else {\n                const fullpath = [...path, ...issue.path];\n                if (fullpath.length === 0) {\n                    result.errors.push(mapper(issue));\n                    continue;\n                }\n                let curr = result;\n                let i = 0;\n                while (i < fullpath.length) {\n                    const el = fullpath[i];\n                    const terminal = i === fullpath.length - 1;\n                    if (typeof el === \"string\") {\n                        curr.properties ?? (curr.properties = {});\n                        (_a = curr.properties)[el] ?? (_a[el] = { errors: [] });\n                        curr = curr.properties[el];\n                    }\n                    else {\n                        curr.items ?? (curr.items = []);\n                        (_b = curr.items)[el] ?? (_b[el] = { errors: [] });\n                        curr = curr.items[el];\n                    }\n                    if (terminal) {\n                        curr.errors.push(mapper(issue));\n                    }\n                    i++;\n                }\n            }\n        }\n    };\n    processError(error);\n    return result;\n}\n/** Format a ZodError as a human-readable string in the following form.\n *\n * From\n *\n * ```ts\n * ZodError {\n *   issues: [\n *     {\n *       expected: 'string',\n *       code: 'invalid_type',\n *       path: [ 'username' ],\n *       message: 'Invalid input: expected string'\n *     },\n *     {\n *       expected: 'number',\n *       code: 'invalid_type',\n *       path: [ 'favoriteNumbers', 1 ],\n *       message: 'Invalid input: expected number'\n *     }\n *   ];\n * }\n * ```\n *\n * to\n *\n * ```\n * username\n *   \u2716 Expected number, received string at \"username\n * favoriteNumbers[0]\n *   \u2716 Invalid input: expected number\n * ```\n */\nexport function toDotPath(_path) {\n    const segs = [];\n    const path = _path.map((seg) => (typeof seg === \"object\" ? seg.key : seg));\n    for (const seg of path) {\n        if (typeof seg === \"number\")\n            segs.push(`[${seg}]`);\n        else if (typeof seg === \"symbol\")\n            segs.push(`[${JSON.stringify(String(seg))}]`);\n        else if (/[^\\w$]/.test(seg))\n            segs.push(`[${JSON.stringify(seg)}]`);\n        else {\n            if (segs.length)\n                segs.push(\".\");\n            segs.push(seg);\n        }\n    }\n    return segs.join(\"\");\n}\nexport function prettifyError(error) {\n    const lines = [];\n    // sort by path length\n    const issues = [...error.issues].sort((a, b) => (a.path ?? []).length - (b.path ?? []).length);\n    // Process each issue\n    for (const issue of issues) {\n        lines.push(`\u2716 ${issue.message}`);\n        if (issue.path?.length)\n            lines.push(`  \u2192 at ${toDotPath(issue.path)}`);\n    }\n    // Convert Map to formatted string\n    return lines.join(\"\\n\");\n}\n", "import * as core from \"./core.js\";\nimport * as errors from \"./errors.js\";\nimport * as util from \"./util.js\";\nexport const _parse = (_Err) => (schema, value, _ctx, _params) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: false }) : { async: false };\n    const result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise) {\n        throw new core.$ZodAsyncError();\n    }\n    if (result.issues.length) {\n        const e = new (_params?.Err ?? _Err)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())));\n        util.captureStackTrace(e, _params?.callee);\n        throw e;\n    }\n    return result.value;\n};\nexport const parse = /* @__PURE__*/ _parse(errors.$ZodRealError);\nexport const _parseAsync = (_Err) => async (schema, value, _ctx, params) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };\n    let result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise)\n        result = await result;\n    if (result.issues.length) {\n        const e = new (params?.Err ?? _Err)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())));\n        util.captureStackTrace(e, params?.callee);\n        throw e;\n    }\n    return result.value;\n};\nexport const parseAsync = /* @__PURE__*/ _parseAsync(errors.$ZodRealError);\nexport const _safeParse = (_Err) => (schema, value, _ctx) => {\n    const ctx = _ctx ? { ..._ctx, async: false } : { async: false };\n    const result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise) {\n        throw new core.$ZodAsyncError();\n    }\n    return result.issues.length\n        ? {\n            success: false,\n            error: new (_Err ?? errors.$ZodError)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n        }\n        : { success: true, data: result.value };\n};\nexport const safeParse = /* @__PURE__*/ _safeParse(errors.$ZodRealError);\nexport const _safeParseAsync = (_Err) => async (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };\n    let result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise)\n        result = await result;\n    return result.issues.length\n        ? {\n            success: false,\n            error: new _Err(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n        }\n        : { success: true, data: result.value };\n};\nexport const safeParseAsync = /* @__PURE__*/ _safeParseAsync(errors.$ZodRealError);\nexport const _encode = (_Err) => (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { direction: \"backward\" }) : { direction: \"backward\" };\n    return _parse(_Err)(schema, value, ctx);\n};\nexport const encode = /* @__PURE__*/ _encode(errors.$ZodRealError);\nexport const _decode = (_Err) => (schema, value, _ctx) => {\n    return _parse(_Err)(schema, value, _ctx);\n};\nexport const decode = /* @__PURE__*/ _decode(errors.$ZodRealError);\nexport const _encodeAsync = (_Err) => async (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { direction: \"backward\" }) : { direction: \"backward\" };\n    return _parseAsync(_Err)(schema, value, ctx);\n};\nexport const encodeAsync = /* @__PURE__*/ _encodeAsync(errors.$ZodRealError);\nexport const _decodeAsync = (_Err) => async (schema, value, _ctx) => {\n    return _parseAsync(_Err)(schema, value, _ctx);\n};\nexport const decodeAsync = /* @__PURE__*/ _decodeAsync(errors.$ZodRealError);\nexport const _safeEncode = (_Err) => (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { direction: \"backward\" }) : { direction: \"backward\" };\n    return _safeParse(_Err)(schema, value, ctx);\n};\nexport const safeEncode = /* @__PURE__*/ _safeEncode(errors.$ZodRealError);\nexport const _safeDecode = (_Err) => (schema, value, _ctx) => {\n    return _safeParse(_Err)(schema, value, _ctx);\n};\nexport const safeDecode = /* @__PURE__*/ _safeDecode(errors.$ZodRealError);\nexport const _safeEncodeAsync = (_Err) => async (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { direction: \"backward\" }) : { direction: \"backward\" };\n    return _safeParseAsync(_Err)(schema, value, ctx);\n};\nexport const safeEncodeAsync = /* @__PURE__*/ _safeEncodeAsync(errors.$ZodRealError);\nexport const _safeDecodeAsync = (_Err) => async (schema, value, _ctx) => {\n    return _safeParseAsync(_Err)(schema, value, _ctx);\n};\nexport const safeDecodeAsync = /* @__PURE__*/ _safeDecodeAsync(errors.$ZodRealError);\n", "import * as util from \"./util.js\";\nexport const cuid = /^[cC][^\\s-]{8,}$/;\nexport const cuid2 = /^[0-9a-z]+$/;\nexport const ulid = /^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/;\nexport const xid = /^[0-9a-vA-V]{20}$/;\nexport const ksuid = /^[A-Za-z0-9]{27}$/;\nexport const nanoid = /^[a-zA-Z0-9_-]{21}$/;\n/** ISO 8601-1 duration regex. Does not support the 8601-2 extensions like negative durations or fractional/negative components. */\nexport const duration = /^P(?:(\\d+W)|(?!.*W)(?=\\d|T\\d)(\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+([.,]\\d+)?S)?)?)$/;\n/** Implements ISO 8601-2 extensions like explicit +- prefixes, mixing weeks with other units, and fractional/negative components. */\nexport const extendedDuration = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n/** A regex for any UUID-like identifier: 8-4-4-4-12 hex pattern */\nexport const guid = /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/;\n/** Returns a regex for validating an RFC 9562/4122 UUID.\n *\n * @param version Optionally specify a version 1-8. If no version is specified, all versions are supported. */\nexport const uuid = (version) => {\n    if (!version)\n        return /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/;\n    return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${version}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`);\n};\nexport const uuid4 = /*@__PURE__*/ uuid(4);\nexport const uuid6 = /*@__PURE__*/ uuid(6);\nexport const uuid7 = /*@__PURE__*/ uuid(7);\n/** Practical email validation */\nexport const email = /^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$/;\n/** Equivalent to the HTML5 input[type=email] validation implemented by browsers. Source: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/email */\nexport const html5Email = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n/** The classic emailregex.com regex for RFC 5322-compliant emails */\nexport const rfc5322Email = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n/** A loose regex that allows Unicode characters, enforces length limits, and that's about it. */\nexport const unicodeEmail = /^[^\\s@\"]{1,64}@[^\\s@]{1,255}$/u;\nexport const idnEmail = unicodeEmail;\nexport const browserEmail = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emoji = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nexport function emoji() {\n    return new RegExp(_emoji, \"u\");\n}\nexport const ipv4 = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nexport const ipv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/;\nexport const mac = (delimiter) => {\n    const escapedDelim = util.escapeRegex(delimiter ?? \":\");\n    return new RegExp(`^(?:[0-9A-F]{2}${escapedDelim}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${escapedDelim}){5}[0-9a-f]{2}$`);\n};\nexport const cidrv4 = /^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/([0-9]|[1-2][0-9]|3[0-2])$/;\nexport const cidrv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nexport const base64 = /^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/;\nexport const base64url = /^[A-Za-z0-9_-]*$/;\n// based on https://stackoverflow.com/questions/106179/regular-expression-to-match-dns-hostname-or-ip-address\n// export const hostname: RegExp = /^([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+$/;\nexport const hostname = /^(?=.{1,253}\\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\\.?$/;\nexport const domain = /^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\\.)+[a-zA-Z]{2,}$/;\n// https://blog.stevenlevithan.com/archives/validate-phone-number#r4-3 (regex sans spaces)\nexport const e164 = /^\\+(?:[0-9]){6,14}[0-9]$/;\n// const dateSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateSource = `(?:(?:\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\\\d|30)|(?:02)-(?:0[1-9]|1\\\\d|2[0-8])))`;\nexport const date = /*@__PURE__*/ new RegExp(`^${dateSource}$`);\nfunction timeSource(args) {\n    const hhmm = `(?:[01]\\\\d|2[0-3]):[0-5]\\\\d`;\n    const regex = typeof args.precision === \"number\"\n        ? args.precision === -1\n            ? `${hhmm}`\n            : args.precision === 0\n                ? `${hhmm}:[0-5]\\\\d`\n                : `${hhmm}:[0-5]\\\\d\\\\.\\\\d{${args.precision}}`\n        : `${hhmm}(?::[0-5]\\\\d(?:\\\\.\\\\d+)?)?`;\n    return regex;\n}\nexport function time(args) {\n    return new RegExp(`^${timeSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nexport function datetime(args) {\n    const time = timeSource({ precision: args.precision });\n    const opts = [\"Z\"];\n    if (args.local)\n        opts.push(\"\");\n    // if (args.offset) opts.push(`([+-]\\\\d{2}:\\\\d{2})`);\n    if (args.offset)\n        opts.push(`([+-](?:[01]\\\\d|2[0-3]):[0-5]\\\\d)`);\n    const timeRegex = `${time}(?:${opts.join(\"|\")})`;\n    return new RegExp(`^${dateSource}T(?:${timeRegex})$`);\n}\nexport const string = (params) => {\n    const regex = params ? `[\\\\s\\\\S]{${params?.minimum ?? 0},${params?.maximum ?? \"\"}}` : `[\\\\s\\\\S]*`;\n    return new RegExp(`^${regex}$`);\n};\nexport const bigint = /^-?\\d+n?$/;\nexport const integer = /^-?\\d+$/;\nexport const number = /^-?\\d+(?:\\.\\d+)?/;\nexport const boolean = /^(?:true|false)$/i;\nconst _null = /^null$/i;\nexport { _null as null };\nconst _undefined = /^undefined$/i;\nexport { _undefined as undefined };\n// regex for string with no uppercase letters\nexport const lowercase = /^[^A-Z]*$/;\n// regex for string with no lowercase letters\nexport const uppercase = /^[^a-z]*$/;\n// regex for hexadecimal strings (any length)\nexport const hex = /^[0-9a-fA-F]*$/;\n// Hash regexes for different algorithms and encodings\n// Helper function to create base64 regex with exact length and padding\nfunction fixedBase64(bodyLength, padding) {\n    return new RegExp(`^[A-Za-z0-9+/]{${bodyLength}}${padding}$`);\n}\n// Helper function to create base64url regex with exact length (no padding)\nfunction fixedBase64url(length) {\n    return new RegExp(`^[A-Za-z0-9_-]{${length}}$`);\n}\n// MD5 (16 bytes): base64 = 24 chars total (22 + \"==\")\nexport const md5_hex = /^[0-9a-fA-F]{32}$/;\nexport const md5_base64 = /*@__PURE__*/ fixedBase64(22, \"==\");\nexport const md5_base64url = /*@__PURE__*/ fixedBase64url(22);\n// SHA1 (20 bytes): base64 = 28 chars total (27 + \"=\")\nexport const sha1_hex = /^[0-9a-fA-F]{40}$/;\nexport const sha1_base64 = /*@__PURE__*/ fixedBase64(27, \"=\");\nexport const sha1_base64url = /*@__PURE__*/ fixedBase64url(27);\n// SHA256 (32 bytes): base64 = 44 chars total (43 + \"=\")\nexport const sha256_hex = /^[0-9a-fA-F]{64}$/;\nexport const sha256_base64 = /*@__PURE__*/ fixedBase64(43, \"=\");\nexport const sha256_base64url = /*@__PURE__*/ fixedBase64url(43);\n// SHA384 (48 bytes): base64 = 64 chars total (no padding)\nexport const sha384_hex = /^[0-9a-fA-F]{96}$/;\nexport const sha384_base64 = /*@__PURE__*/ fixedBase64(64, \"\");\nexport const sha384_base64url = /*@__PURE__*/ fixedBase64url(64);\n// SHA512 (64 bytes): base64 = 88 chars total (86 + \"==\")\nexport const sha512_hex = /^[0-9a-fA-F]{128}$/;\nexport const sha512_base64 = /*@__PURE__*/ fixedBase64(86, \"==\");\nexport const sha512_base64url = /*@__PURE__*/ fixedBase64url(86);\n", "// import { $ZodType } from \"./schemas.js\";\nimport * as core from \"./core.js\";\nimport * as regexes from \"./regexes.js\";\nimport * as util from \"./util.js\";\nexport const $ZodCheck = /*@__PURE__*/ core.$constructor(\"$ZodCheck\", (inst, def) => {\n    var _a;\n    inst._zod ?? (inst._zod = {});\n    inst._zod.def = def;\n    (_a = inst._zod).onattach ?? (_a.onattach = []);\n});\nconst numericOriginMap = {\n    number: \"number\",\n    bigint: \"bigint\",\n    object: \"date\",\n};\nexport const $ZodCheckLessThan = /*@__PURE__*/ core.$constructor(\"$ZodCheckLessThan\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const origin = numericOriginMap[typeof def.value];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        const curr = (def.inclusive ? bag.maximum : bag.exclusiveMaximum) ?? Number.POSITIVE_INFINITY;\n        if (def.value < curr) {\n            if (def.inclusive)\n                bag.maximum = def.value;\n            else\n                bag.exclusiveMaximum = def.value;\n        }\n    });\n    inst._zod.check = (payload) => {\n        if (def.inclusive ? payload.value <= def.value : payload.value < def.value) {\n            return;\n        }\n        payload.issues.push({\n            origin,\n            code: \"too_big\",\n            maximum: def.value,\n            input: payload.value,\n            inclusive: def.inclusive,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckGreaterThan = /*@__PURE__*/ core.$constructor(\"$ZodCheckGreaterThan\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const origin = numericOriginMap[typeof def.value];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        const curr = (def.inclusive ? bag.minimum : bag.exclusiveMinimum) ?? Number.NEGATIVE_INFINITY;\n        if (def.value > curr) {\n            if (def.inclusive)\n                bag.minimum = def.value;\n            else\n                bag.exclusiveMinimum = def.value;\n        }\n    });\n    inst._zod.check = (payload) => {\n        if (def.inclusive ? payload.value >= def.value : payload.value > def.value) {\n            return;\n        }\n        payload.issues.push({\n            origin,\n            code: \"too_small\",\n            minimum: def.value,\n            input: payload.value,\n            inclusive: def.inclusive,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMultipleOf = \n/*@__PURE__*/ core.$constructor(\"$ZodCheckMultipleOf\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        var _a;\n        (_a = inst._zod.bag).multipleOf ?? (_a.multipleOf = def.value);\n    });\n    inst._zod.check = (payload) => {\n        if (typeof payload.value !== typeof def.value)\n            throw new Error(\"Cannot mix number and bigint in multiple_of check.\");\n        const isMultiple = typeof payload.value === \"bigint\"\n            ? payload.value % def.value === BigInt(0)\n            : util.floatSafeRemainder(payload.value, def.value) === 0;\n        if (isMultiple)\n            return;\n        payload.issues.push({\n            origin: typeof payload.value,\n            code: \"not_multiple_of\",\n            divisor: def.value,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckNumberFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckNumberFormat\", (inst, def) => {\n    $ZodCheck.init(inst, def); // no format checks\n    def.format = def.format || \"float64\";\n    const isInt = def.format?.includes(\"int\");\n    const origin = isInt ? \"int\" : \"number\";\n    const [minimum, maximum] = util.NUMBER_FORMAT_RANGES[def.format];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        bag.minimum = minimum;\n        bag.maximum = maximum;\n        if (isInt)\n            bag.pattern = regexes.integer;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        if (isInt) {\n            if (!Number.isInteger(input)) {\n                // invalid_format issue\n                // payload.issues.push({\n                //   expected: def.format,\n                //   format: def.format,\n                //   code: \"invalid_format\",\n                //   input,\n                //   inst,\n                // });\n                // invalid_type issue\n                payload.issues.push({\n                    expected: origin,\n                    format: def.format,\n                    code: \"invalid_type\",\n                    continue: false,\n                    input,\n                    inst,\n                });\n                return;\n                // not_multiple_of issue\n                // payload.issues.push({\n                //   code: \"not_multiple_of\",\n                //   origin: \"number\",\n                //   input,\n                //   inst,\n                //   divisor: 1,\n                // });\n            }\n            if (!Number.isSafeInteger(input)) {\n                if (input > 0) {\n                    // too_big\n                    payload.issues.push({\n                        input,\n                        code: \"too_big\",\n                        maximum: Number.MAX_SAFE_INTEGER,\n                        note: \"Integers must be within the safe integer range.\",\n                        inst,\n                        origin,\n                        continue: !def.abort,\n                    });\n                }\n                else {\n                    // too_small\n                    payload.issues.push({\n                        input,\n                        code: \"too_small\",\n                        minimum: Number.MIN_SAFE_INTEGER,\n                        note: \"Integers must be within the safe integer range.\",\n                        inst,\n                        origin,\n                        continue: !def.abort,\n                    });\n                }\n                return;\n            }\n        }\n        if (input < minimum) {\n            payload.issues.push({\n                origin: \"number\",\n                input,\n                code: \"too_small\",\n                minimum,\n                inclusive: true,\n                inst,\n                continue: !def.abort,\n            });\n        }\n        if (input > maximum) {\n            payload.issues.push({\n                origin: \"number\",\n                input,\n                code: \"too_big\",\n                maximum,\n                inst,\n            });\n        }\n    };\n});\nexport const $ZodCheckBigIntFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckBigIntFormat\", (inst, def) => {\n    $ZodCheck.init(inst, def); // no format checks\n    const [minimum, maximum] = util.BIGINT_FORMAT_RANGES[def.format];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        bag.minimum = minimum;\n        bag.maximum = maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        if (input < minimum) {\n            payload.issues.push({\n                origin: \"bigint\",\n                input,\n                code: \"too_small\",\n                minimum: minimum,\n                inclusive: true,\n                inst,\n                continue: !def.abort,\n            });\n        }\n        if (input > maximum) {\n            payload.issues.push({\n                origin: \"bigint\",\n                input,\n                code: \"too_big\",\n                maximum,\n                inst,\n            });\n        }\n    };\n});\nexport const $ZodCheckMaxSize = /*@__PURE__*/ core.$constructor(\"$ZodCheckMaxSize\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.maximum ?? Number.POSITIVE_INFINITY);\n        if (def.maximum < curr)\n            inst._zod.bag.maximum = def.maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size <= def.maximum)\n            return;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            code: \"too_big\",\n            maximum: def.maximum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMinSize = /*@__PURE__*/ core.$constructor(\"$ZodCheckMinSize\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.minimum ?? Number.NEGATIVE_INFINITY);\n        if (def.minimum > curr)\n            inst._zod.bag.minimum = def.minimum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size >= def.minimum)\n            return;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            code: \"too_small\",\n            minimum: def.minimum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckSizeEquals = /*@__PURE__*/ core.$constructor(\"$ZodCheckSizeEquals\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.minimum = def.size;\n        bag.maximum = def.size;\n        bag.size = def.size;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size === def.size)\n            return;\n        const tooBig = size > def.size;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            ...(tooBig ? { code: \"too_big\", maximum: def.size } : { code: \"too_small\", minimum: def.size }),\n            inclusive: true,\n            exact: true,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMaxLength = /*@__PURE__*/ core.$constructor(\"$ZodCheckMaxLength\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.maximum ?? Number.POSITIVE_INFINITY);\n        if (def.maximum < curr)\n            inst._zod.bag.maximum = def.maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length <= def.maximum)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        payload.issues.push({\n            origin,\n            code: \"too_big\",\n            maximum: def.maximum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMinLength = /*@__PURE__*/ core.$constructor(\"$ZodCheckMinLength\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.minimum ?? Number.NEGATIVE_INFINITY);\n        if (def.minimum > curr)\n            inst._zod.bag.minimum = def.minimum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length >= def.minimum)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        payload.issues.push({\n            origin,\n            code: \"too_small\",\n            minimum: def.minimum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckLengthEquals = /*@__PURE__*/ core.$constructor(\"$ZodCheckLengthEquals\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.minimum = def.length;\n        bag.maximum = def.length;\n        bag.length = def.length;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length === def.length)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        const tooBig = length > def.length;\n        payload.issues.push({\n            origin,\n            ...(tooBig ? { code: \"too_big\", maximum: def.length } : { code: \"too_small\", minimum: def.length }),\n            inclusive: true,\n            exact: true,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckStringFormat\", (inst, def) => {\n    var _a, _b;\n    $ZodCheck.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        if (def.pattern) {\n            bag.patterns ?? (bag.patterns = new Set());\n            bag.patterns.add(def.pattern);\n        }\n    });\n    if (def.pattern)\n        (_a = inst._zod).check ?? (_a.check = (payload) => {\n            def.pattern.lastIndex = 0;\n            if (def.pattern.test(payload.value))\n                return;\n            payload.issues.push({\n                origin: \"string\",\n                code: \"invalid_format\",\n                format: def.format,\n                input: payload.value,\n                ...(def.pattern ? { pattern: def.pattern.toString() } : {}),\n                inst,\n                continue: !def.abort,\n            });\n        });\n    else\n        (_b = inst._zod).check ?? (_b.check = () => { });\n});\nexport const $ZodCheckRegex = /*@__PURE__*/ core.$constructor(\"$ZodCheckRegex\", (inst, def) => {\n    $ZodCheckStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        def.pattern.lastIndex = 0;\n        if (def.pattern.test(payload.value))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"regex\",\n            input: payload.value,\n            pattern: def.pattern.toString(),\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckLowerCase = /*@__PURE__*/ core.$constructor(\"$ZodCheckLowerCase\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.lowercase);\n    $ZodCheckStringFormat.init(inst, def);\n});\nexport const $ZodCheckUpperCase = /*@__PURE__*/ core.$constructor(\"$ZodCheckUpperCase\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.uppercase);\n    $ZodCheckStringFormat.init(inst, def);\n});\nexport const $ZodCheckIncludes = /*@__PURE__*/ core.$constructor(\"$ZodCheckIncludes\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const escapedRegex = util.escapeRegex(def.includes);\n    const pattern = new RegExp(typeof def.position === \"number\" ? `^.{${def.position}}${escapedRegex}` : escapedRegex);\n    def.pattern = pattern;\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.includes(def.includes, def.position))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"includes\",\n            includes: def.includes,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckStartsWith = /*@__PURE__*/ core.$constructor(\"$ZodCheckStartsWith\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const pattern = new RegExp(`^${util.escapeRegex(def.prefix)}.*`);\n    def.pattern ?? (def.pattern = pattern);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.startsWith(def.prefix))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"starts_with\",\n            prefix: def.prefix,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckEndsWith = /*@__PURE__*/ core.$constructor(\"$ZodCheckEndsWith\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const pattern = new RegExp(`.*${util.escapeRegex(def.suffix)}$`);\n    def.pattern ?? (def.pattern = pattern);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.endsWith(def.suffix))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"ends_with\",\n            suffix: def.suffix,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\n///////////////////////////////////\n/////    $ZodCheckProperty    /////\n///////////////////////////////////\nfunction handleCheckPropertyResult(result, payload, property) {\n    if (result.issues.length) {\n        payload.issues.push(...util.prefixIssues(property, result.issues));\n    }\n}\nexport const $ZodCheckProperty = /*@__PURE__*/ core.$constructor(\"$ZodCheckProperty\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.check = (payload) => {\n        const result = def.schema._zod.run({\n            value: payload.value[def.property],\n            issues: [],\n        }, {});\n        if (result instanceof Promise) {\n            return result.then((result) => handleCheckPropertyResult(result, payload, def.property));\n        }\n        handleCheckPropertyResult(result, payload, def.property);\n        return;\n    };\n});\nexport const $ZodCheckMimeType = /*@__PURE__*/ core.$constructor(\"$ZodCheckMimeType\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const mimeSet = new Set(def.mime);\n    inst._zod.onattach.push((inst) => {\n        inst._zod.bag.mime = def.mime;\n    });\n    inst._zod.check = (payload) => {\n        if (mimeSet.has(payload.value.type))\n            return;\n        payload.issues.push({\n            code: \"invalid_value\",\n            values: def.mime,\n            input: payload.value.type,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckOverwrite = /*@__PURE__*/ core.$constructor(\"$ZodCheckOverwrite\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.check = (payload) => {\n        payload.value = def.tx(payload.value);\n    };\n});\n", "export class Doc {\n    constructor(args = []) {\n        this.content = [];\n        this.indent = 0;\n        if (this)\n            this.args = args;\n    }\n    indented(fn) {\n        this.indent += 1;\n        fn(this);\n        this.indent -= 1;\n    }\n    write(arg) {\n        if (typeof arg === \"function\") {\n            arg(this, { execution: \"sync\" });\n            arg(this, { execution: \"async\" });\n            return;\n        }\n        const content = arg;\n        const lines = content.split(\"\\n\").filter((x) => x);\n        const minIndent = Math.min(...lines.map((x) => x.length - x.trimStart().length));\n        const dedented = lines.map((x) => x.slice(minIndent)).map((x) => \" \".repeat(this.indent * 2) + x);\n        for (const line of dedented) {\n            this.content.push(line);\n        }\n    }\n    compile() {\n        const F = Function;\n        const args = this?.args;\n        const content = this?.content ?? [``];\n        const lines = [...content.map((x) => `  ${x}`)];\n        // console.log(lines.join(\"\\n\"));\n        return new F(...args, lines.join(\"\\n\"));\n    }\n}\n", "export const version = {\n    major: 4,\n    minor: 1,\n    patch: 13,\n};\n", "import * as checks from \"./checks.js\";\nimport * as core from \"./core.js\";\nimport { Doc } from \"./doc.js\";\nimport { parse, parseAsync, safeParse, safeParseAsync } from \"./parse.js\";\nimport * as regexes from \"./regexes.js\";\nimport * as util from \"./util.js\";\nimport { version } from \"./versions.js\";\nexport const $ZodType = /*@__PURE__*/ core.$constructor(\"$ZodType\", (inst, def) => {\n    var _a;\n    inst ?? (inst = {});\n    inst._zod.def = def; // set _def property\n    inst._zod.bag = inst._zod.bag || {}; // initialize _bag object\n    inst._zod.version = version;\n    const checks = [...(inst._zod.def.checks ?? [])];\n    // if inst is itself a checks.$ZodCheck, run it as a check\n    if (inst._zod.traits.has(\"$ZodCheck\")) {\n        checks.unshift(inst);\n    }\n    for (const ch of checks) {\n        for (const fn of ch._zod.onattach) {\n            fn(inst);\n        }\n    }\n    if (checks.length === 0) {\n        // deferred initializer\n        // inst._zod.parse is not yet defined\n        (_a = inst._zod).deferred ?? (_a.deferred = []);\n        inst._zod.deferred?.push(() => {\n            inst._zod.run = inst._zod.parse;\n        });\n    }\n    else {\n        const runChecks = (payload, checks, ctx) => {\n            let isAborted = util.aborted(payload);\n            let asyncResult;\n            for (const ch of checks) {\n                if (ch._zod.def.when) {\n                    const shouldRun = ch._zod.def.when(payload);\n                    if (!shouldRun)\n                        continue;\n                }\n                else if (isAborted) {\n                    continue;\n                }\n                const currLen = payload.issues.length;\n                const _ = ch._zod.check(payload);\n                if (_ instanceof Promise && ctx?.async === false) {\n                    throw new core.$ZodAsyncError();\n                }\n                if (asyncResult || _ instanceof Promise) {\n                    asyncResult = (asyncResult ?? Promise.resolve()).then(async () => {\n                        await _;\n                        const nextLen = payload.issues.length;\n                        if (nextLen === currLen)\n                            return;\n                        if (!isAborted)\n                            isAborted = util.aborted(payload, currLen);\n                    });\n                }\n                else {\n                    const nextLen = payload.issues.length;\n                    if (nextLen === currLen)\n                        continue;\n                    if (!isAborted)\n                        isAborted = util.aborted(payload, currLen);\n                }\n            }\n            if (asyncResult) {\n                return asyncResult.then(() => {\n                    return payload;\n                });\n            }\n            return payload;\n        };\n        // const handleChecksResult = (\n        //   checkResult: ParsePayload,\n        //   originalResult: ParsePayload,\n        //   ctx: ParseContextInternal\n        // ): util.MaybeAsync<ParsePayload> => {\n        //   // if the checks mutated the value && there are no issues, re-parse the result\n        //   if (checkResult.value !== originalResult.value && !checkResult.issues.length)\n        //     return inst._zod.parse(checkResult, ctx);\n        //   return originalResult;\n        // };\n        const handleCanaryResult = (canary, payload, ctx) => {\n            // abort if the canary is aborted\n            if (util.aborted(canary)) {\n                canary.aborted = true;\n                return canary;\n            }\n            // run checks first, then\n            const checkResult = runChecks(payload, checks, ctx);\n            if (checkResult instanceof Promise) {\n                if (ctx.async === false)\n                    throw new core.$ZodAsyncError();\n                return checkResult.then((checkResult) => inst._zod.parse(checkResult, ctx));\n            }\n            return inst._zod.parse(checkResult, ctx);\n        };\n        inst._zod.run = (payload, ctx) => {\n            if (ctx.skipChecks) {\n                return inst._zod.parse(payload, ctx);\n            }\n            if (ctx.direction === \"backward\") {\n                // run canary\n                // initial pass (no checks)\n                const canary = inst._zod.parse({ value: payload.value, issues: [] }, { ...ctx, skipChecks: true });\n                if (canary instanceof Promise) {\n                    return canary.then((canary) => {\n                        return handleCanaryResult(canary, payload, ctx);\n                    });\n                }\n                return handleCanaryResult(canary, payload, ctx);\n            }\n            // forward\n            const result = inst._zod.parse(payload, ctx);\n            if (result instanceof Promise) {\n                if (ctx.async === false)\n                    throw new core.$ZodAsyncError();\n                return result.then((result) => runChecks(result, checks, ctx));\n            }\n            return runChecks(result, checks, ctx);\n        };\n    }\n    inst[\"~standard\"] = {\n        validate: (value) => {\n            try {\n                const r = safeParse(inst, value);\n                return r.success ? { value: r.data } : { issues: r.error?.issues };\n            }\n            catch (_) {\n                return safeParseAsync(inst, value).then((r) => (r.success ? { value: r.data } : { issues: r.error?.issues }));\n            }\n        },\n        vendor: \"zod\",\n        version: 1,\n    };\n});\nexport { clone } from \"./util.js\";\nexport const $ZodString = /*@__PURE__*/ core.$constructor(\"$ZodString\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = [...(inst?._zod.bag?.patterns ?? [])].pop() ?? regexes.string(inst._zod.bag);\n    inst._zod.parse = (payload, _) => {\n        if (def.coerce)\n            try {\n                payload.value = String(payload.value);\n            }\n            catch (_) { }\n        if (typeof payload.value === \"string\")\n            return payload;\n        payload.issues.push({\n            expected: \"string\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodStringFormat\", (inst, def) => {\n    // check initialization must come first\n    checks.$ZodCheckStringFormat.init(inst, def);\n    $ZodString.init(inst, def);\n});\nexport const $ZodGUID = /*@__PURE__*/ core.$constructor(\"$ZodGUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.guid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodUUID = /*@__PURE__*/ core.$constructor(\"$ZodUUID\", (inst, def) => {\n    if (def.version) {\n        const versionMap = {\n            v1: 1,\n            v2: 2,\n            v3: 3,\n            v4: 4,\n            v5: 5,\n            v6: 6,\n            v7: 7,\n            v8: 8,\n        };\n        const v = versionMap[def.version];\n        if (v === undefined)\n            throw new Error(`Invalid UUID version: \"${def.version}\"`);\n        def.pattern ?? (def.pattern = regexes.uuid(v));\n    }\n    else\n        def.pattern ?? (def.pattern = regexes.uuid());\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodEmail = /*@__PURE__*/ core.$constructor(\"$ZodEmail\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.email);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodURL = /*@__PURE__*/ core.$constructor(\"$ZodURL\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        try {\n            // Trim whitespace from input\n            const trimmed = payload.value.trim();\n            // @ts-ignore\n            const url = new URL(trimmed);\n            if (def.hostname) {\n                def.hostname.lastIndex = 0;\n                if (!def.hostname.test(url.hostname)) {\n                    payload.issues.push({\n                        code: \"invalid_format\",\n                        format: \"url\",\n                        note: \"Invalid hostname\",\n                        pattern: def.hostname.source,\n                        input: payload.value,\n                        inst,\n                        continue: !def.abort,\n                    });\n                }\n            }\n            if (def.protocol) {\n                def.protocol.lastIndex = 0;\n                if (!def.protocol.test(url.protocol.endsWith(\":\") ? url.protocol.slice(0, -1) : url.protocol)) {\n                    payload.issues.push({\n                        code: \"invalid_format\",\n                        format: \"url\",\n                        note: \"Invalid protocol\",\n                        pattern: def.protocol.source,\n                        input: payload.value,\n                        inst,\n                        continue: !def.abort,\n                    });\n                }\n            }\n            // Set the output value based on normalize flag\n            if (def.normalize) {\n                // Use normalized URL\n                payload.value = url.href;\n            }\n            else {\n                // Preserve the original input (trimmed)\n                payload.value = trimmed;\n            }\n            return;\n        }\n        catch (_) {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"url\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\nexport const $ZodEmoji = /*@__PURE__*/ core.$constructor(\"$ZodEmoji\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.emoji());\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodNanoID = /*@__PURE__*/ core.$constructor(\"$ZodNanoID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.nanoid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCUID = /*@__PURE__*/ core.$constructor(\"$ZodCUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cuid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCUID2 = /*@__PURE__*/ core.$constructor(\"$ZodCUID2\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cuid2);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodULID = /*@__PURE__*/ core.$constructor(\"$ZodULID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ulid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodXID = /*@__PURE__*/ core.$constructor(\"$ZodXID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.xid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodKSUID = /*@__PURE__*/ core.$constructor(\"$ZodKSUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ksuid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODateTime = /*@__PURE__*/ core.$constructor(\"$ZodISODateTime\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.datetime(def));\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODate = /*@__PURE__*/ core.$constructor(\"$ZodISODate\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.date);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISOTime = /*@__PURE__*/ core.$constructor(\"$ZodISOTime\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.time(def));\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODuration = /*@__PURE__*/ core.$constructor(\"$ZodISODuration\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.duration);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodIPv4 = /*@__PURE__*/ core.$constructor(\"$ZodIPv4\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ipv4);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.bag.format = `ipv4`;\n});\nexport const $ZodIPv6 = /*@__PURE__*/ core.$constructor(\"$ZodIPv6\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ipv6);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.bag.format = `ipv6`;\n    inst._zod.check = (payload) => {\n        try {\n            // @ts-ignore\n            new URL(`http://[${payload.value}]`);\n            // return;\n        }\n        catch {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"ipv6\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\nexport const $ZodMAC = /*@__PURE__*/ core.$constructor(\"$ZodMAC\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.mac(def.delimiter));\n    $ZodStringFormat.init(inst, def);\n    inst._zod.bag.format = `mac`;\n});\nexport const $ZodCIDRv4 = /*@__PURE__*/ core.$constructor(\"$ZodCIDRv4\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cidrv4);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCIDRv6 = /*@__PURE__*/ core.$constructor(\"$ZodCIDRv6\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cidrv6); // not used for validation\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        const parts = payload.value.split(\"/\");\n        try {\n            if (parts.length !== 2)\n                throw new Error();\n            const [address, prefix] = parts;\n            if (!prefix)\n                throw new Error();\n            const prefixNum = Number(prefix);\n            if (`${prefixNum}` !== prefix)\n                throw new Error();\n            if (prefixNum < 0 || prefixNum > 128)\n                throw new Error();\n            // @ts-ignore\n            new URL(`http://[${address}]`);\n        }\n        catch {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"cidrv6\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\n//////////////////////////////   ZodBase64   //////////////////////////////\nexport function isValidBase64(data) {\n    if (data === \"\")\n        return true;\n    if (data.length % 4 !== 0)\n        return false;\n    try {\n        // @ts-ignore\n        atob(data);\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nexport const $ZodBase64 = /*@__PURE__*/ core.$constructor(\"$ZodBase64\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.base64);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.bag.contentEncoding = \"base64\";\n    inst._zod.check = (payload) => {\n        if (isValidBase64(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"base64\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\n//////////////////////////////   ZodBase64   //////////////////////////////\nexport function isValidBase64URL(data) {\n    if (!regexes.base64url.test(data))\n        return false;\n    const base64 = data.replace(/[-_]/g, (c) => (c === \"-\" ? \"+\" : \"/\"));\n    const padded = base64.padEnd(Math.ceil(base64.length / 4) * 4, \"=\");\n    return isValidBase64(padded);\n}\nexport const $ZodBase64URL = /*@__PURE__*/ core.$constructor(\"$ZodBase64URL\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.base64url);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.bag.contentEncoding = \"base64url\";\n    inst._zod.check = (payload) => {\n        if (isValidBase64URL(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"base64url\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodE164 = /*@__PURE__*/ core.$constructor(\"$ZodE164\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.e164);\n    $ZodStringFormat.init(inst, def);\n});\n//////////////////////////////   ZodJWT   //////////////////////////////\nexport function isValidJWT(token, algorithm = null) {\n    try {\n        const tokensParts = token.split(\".\");\n        if (tokensParts.length !== 3)\n            return false;\n        const [header] = tokensParts;\n        if (!header)\n            return false;\n        // @ts-ignore\n        const parsedHeader = JSON.parse(atob(header));\n        if (\"typ\" in parsedHeader && parsedHeader?.typ !== \"JWT\")\n            return false;\n        if (!parsedHeader.alg)\n            return false;\n        if (algorithm && (!(\"alg\" in parsedHeader) || parsedHeader.alg !== algorithm))\n            return false;\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nexport const $ZodJWT = /*@__PURE__*/ core.$constructor(\"$ZodJWT\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        if (isValidJWT(payload.value, def.alg))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"jwt\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCustomStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodCustomStringFormat\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        if (def.fn(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: def.format,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodNumber = /*@__PURE__*/ core.$constructor(\"$ZodNumber\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = inst._zod.bag.pattern ?? regexes.number;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = Number(payload.value);\n            }\n            catch (_) { }\n        const input = payload.value;\n        if (typeof input === \"number\" && !Number.isNaN(input) && Number.isFinite(input)) {\n            return payload;\n        }\n        const received = typeof input === \"number\"\n            ? Number.isNaN(input)\n                ? \"NaN\"\n                : !Number.isFinite(input)\n                    ? \"Infinity\"\n                    : undefined\n            : undefined;\n        payload.issues.push({\n            expected: \"number\",\n            code: \"invalid_type\",\n            input,\n            inst,\n            ...(received ? { received } : {}),\n        });\n        return payload;\n    };\n});\nexport const $ZodNumberFormat = /*@__PURE__*/ core.$constructor(\"$ZodNumberFormat\", (inst, def) => {\n    checks.$ZodCheckNumberFormat.init(inst, def);\n    $ZodNumber.init(inst, def); // no format checks\n});\nexport const $ZodBoolean = /*@__PURE__*/ core.$constructor(\"$ZodBoolean\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.boolean;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = Boolean(payload.value);\n            }\n            catch (_) { }\n        const input = payload.value;\n        if (typeof input === \"boolean\")\n            return payload;\n        payload.issues.push({\n            expected: \"boolean\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodBigInt = /*@__PURE__*/ core.$constructor(\"$ZodBigInt\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.bigint;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = BigInt(payload.value);\n            }\n            catch (_) { }\n        if (typeof payload.value === \"bigint\")\n            return payload;\n        payload.issues.push({\n            expected: \"bigint\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodBigIntFormat = /*@__PURE__*/ core.$constructor(\"$ZodBigIntFormat\", (inst, def) => {\n    checks.$ZodCheckBigIntFormat.init(inst, def);\n    $ZodBigInt.init(inst, def); // no format checks\n});\nexport const $ZodSymbol = /*@__PURE__*/ core.$constructor(\"$ZodSymbol\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"symbol\")\n            return payload;\n        payload.issues.push({\n            expected: \"symbol\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodUndefined = /*@__PURE__*/ core.$constructor(\"$ZodUndefined\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.undefined;\n    inst._zod.values = new Set([undefined]);\n    inst._zod.optin = \"optional\";\n    inst._zod.optout = \"optional\";\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"undefined\")\n            return payload;\n        payload.issues.push({\n            expected: \"undefined\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodNull = /*@__PURE__*/ core.$constructor(\"$ZodNull\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.null;\n    inst._zod.values = new Set([null]);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (input === null)\n            return payload;\n        payload.issues.push({\n            expected: \"null\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodAny = /*@__PURE__*/ core.$constructor(\"$ZodAny\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload) => payload;\n});\nexport const $ZodUnknown = /*@__PURE__*/ core.$constructor(\"$ZodUnknown\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload) => payload;\n});\nexport const $ZodNever = /*@__PURE__*/ core.$constructor(\"$ZodNever\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        payload.issues.push({\n            expected: \"never\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodVoid = /*@__PURE__*/ core.$constructor(\"$ZodVoid\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"undefined\")\n            return payload;\n        payload.issues.push({\n            expected: \"void\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodDate = /*@__PURE__*/ core.$constructor(\"$ZodDate\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce) {\n            try {\n                payload.value = new Date(payload.value);\n            }\n            catch (_err) { }\n        }\n        const input = payload.value;\n        const isDate = input instanceof Date;\n        const isValidDate = isDate && !Number.isNaN(input.getTime());\n        if (isValidDate)\n            return payload;\n        payload.issues.push({\n            expected: \"date\",\n            code: \"invalid_type\",\n            input,\n            ...(isDate ? { received: \"Invalid Date\" } : {}),\n            inst,\n        });\n        return payload;\n    };\n});\nfunction handleArrayResult(result, final, index) {\n    if (result.issues.length) {\n        final.issues.push(...util.prefixIssues(index, result.issues));\n    }\n    final.value[index] = result.value;\n}\nexport const $ZodArray = /*@__PURE__*/ core.$constructor(\"$ZodArray\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!Array.isArray(input)) {\n            payload.issues.push({\n                expected: \"array\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        payload.value = Array(input.length);\n        const proms = [];\n        for (let i = 0; i < input.length; i++) {\n            const item = input[i];\n            const result = def.element._zod.run({\n                value: item,\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleArrayResult(result, payload, i)));\n            }\n            else {\n                handleArrayResult(result, payload, i);\n            }\n        }\n        if (proms.length) {\n            return Promise.all(proms).then(() => payload);\n        }\n        return payload; //handleArrayResultsAsync(parseResults, final);\n    };\n});\nfunction handlePropertyResult(result, final, key, input) {\n    if (result.issues.length) {\n        final.issues.push(...util.prefixIssues(key, result.issues));\n    }\n    if (result.value === undefined) {\n        if (key in input) {\n            final.value[key] = undefined;\n        }\n    }\n    else {\n        final.value[key] = result.value;\n    }\n}\nfunction normalizeDef(def) {\n    const keys = Object.keys(def.shape);\n    for (const k of keys) {\n        if (!def.shape?.[k]?._zod?.traits?.has(\"$ZodType\")) {\n            throw new Error(`Invalid element at key \"${k}\": expected a Zod schema`);\n        }\n    }\n    const okeys = util.optionalKeys(def.shape);\n    return {\n        ...def,\n        keys,\n        keySet: new Set(keys),\n        numKeys: keys.length,\n        optionalKeys: new Set(okeys),\n    };\n}\nfunction handleCatchall(proms, input, payload, ctx, def, inst) {\n    const unrecognized = [];\n    // iterate over input keys\n    const keySet = def.keySet;\n    const _catchall = def.catchall._zod;\n    const t = _catchall.def.type;\n    for (const key in input) {\n        if (keySet.has(key))\n            continue;\n        if (t === \"never\") {\n            unrecognized.push(key);\n            continue;\n        }\n        const r = _catchall.run({ value: input[key], issues: [] }, ctx);\n        if (r instanceof Promise) {\n            proms.push(r.then((r) => handlePropertyResult(r, payload, key, input)));\n        }\n        else {\n            handlePropertyResult(r, payload, key, input);\n        }\n    }\n    if (unrecognized.length) {\n        payload.issues.push({\n            code: \"unrecognized_keys\",\n            keys: unrecognized,\n            input,\n            inst,\n        });\n    }\n    if (!proms.length)\n        return payload;\n    return Promise.all(proms).then(() => {\n        return payload;\n    });\n}\nexport const $ZodObject = /*@__PURE__*/ core.$constructor(\"$ZodObject\", (inst, def) => {\n    // requires cast because technically $ZodObject doesn't extend\n    $ZodType.init(inst, def);\n    // const sh = def.shape;\n    const desc = Object.getOwnPropertyDescriptor(def, \"shape\");\n    if (!desc?.get) {\n        const sh = def.shape;\n        Object.defineProperty(def, \"shape\", {\n            get: () => {\n                const newSh = { ...sh };\n                Object.defineProperty(def, \"shape\", {\n                    value: newSh,\n                });\n                return newSh;\n            },\n        });\n    }\n    const _normalized = util.cached(() => normalizeDef(def));\n    util.defineLazy(inst._zod, \"propValues\", () => {\n        const shape = def.shape;\n        const propValues = {};\n        for (const key in shape) {\n            const field = shape[key]._zod;\n            if (field.values) {\n                propValues[key] ?? (propValues[key] = new Set());\n                for (const v of field.values)\n                    propValues[key].add(v);\n            }\n        }\n        return propValues;\n    });\n    const isObject = util.isObject;\n    const catchall = def.catchall;\n    let value;\n    inst._zod.parse = (payload, ctx) => {\n        value ?? (value = _normalized.value);\n        const input = payload.value;\n        if (!isObject(input)) {\n            payload.issues.push({\n                expected: \"object\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        payload.value = {};\n        const proms = [];\n        const shape = value.shape;\n        for (const key of value.keys) {\n            const el = shape[key];\n            const r = el._zod.run({ value: input[key], issues: [] }, ctx);\n            if (r instanceof Promise) {\n                proms.push(r.then((r) => handlePropertyResult(r, payload, key, input)));\n            }\n            else {\n                handlePropertyResult(r, payload, key, input);\n            }\n        }\n        if (!catchall) {\n            return proms.length ? Promise.all(proms).then(() => payload) : payload;\n        }\n        return handleCatchall(proms, input, payload, ctx, _normalized.value, inst);\n    };\n});\nexport const $ZodObjectJIT = /*@__PURE__*/ core.$constructor(\"$ZodObjectJIT\", (inst, def) => {\n    // requires cast because technically $ZodObject doesn't extend\n    $ZodObject.init(inst, def);\n    const superParse = inst._zod.parse;\n    const _normalized = util.cached(() => normalizeDef(def));\n    const generateFastpass = (shape) => {\n        const doc = new Doc([\"shape\", \"payload\", \"ctx\"]);\n        const normalized = _normalized.value;\n        const parseStr = (key) => {\n            const k = util.esc(key);\n            return `shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`;\n        };\n        doc.write(`const input = payload.value;`);\n        const ids = Object.create(null);\n        let counter = 0;\n        for (const key of normalized.keys) {\n            ids[key] = `key_${counter++}`;\n        }\n        // A: preserve key order {\n        doc.write(`const newResult = {};`);\n        for (const key of normalized.keys) {\n            const id = ids[key];\n            const k = util.esc(key);\n            doc.write(`const ${id} = ${parseStr(key)};`);\n            doc.write(`\n        if (${id}.issues.length) {\n          payload.issues = payload.issues.concat(${id}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${k}, ...iss.path] : [${k}]\n          })));\n        }\n        \n        \n        if (${id}.value === undefined) {\n          if (${k} in input) {\n            newResult[${k}] = undefined;\n          }\n        } else {\n          newResult[${k}] = ${id}.value;\n        }\n        \n      `);\n        }\n        doc.write(`payload.value = newResult;`);\n        doc.write(`return payload;`);\n        const fn = doc.compile();\n        return (payload, ctx) => fn(shape, payload, ctx);\n    };\n    let fastpass;\n    const isObject = util.isObject;\n    const jit = !core.globalConfig.jitless;\n    const allowsEval = util.allowsEval;\n    const fastEnabled = jit && allowsEval.value; // && !def.catchall;\n    const catchall = def.catchall;\n    let value;\n    inst._zod.parse = (payload, ctx) => {\n        value ?? (value = _normalized.value);\n        const input = payload.value;\n        if (!isObject(input)) {\n            payload.issues.push({\n                expected: \"object\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        if (jit && fastEnabled && ctx?.async === false && ctx.jitless !== true) {\n            // always synchronous\n            if (!fastpass)\n                fastpass = generateFastpass(def.shape);\n            payload = fastpass(payload, ctx);\n            if (!catchall)\n                return payload;\n            return handleCatchall([], input, payload, ctx, value, inst);\n        }\n        return superParse(payload, ctx);\n    };\n});\nfunction handleUnionResults(results, final, inst, ctx) {\n    for (const result of results) {\n        if (result.issues.length === 0) {\n            final.value = result.value;\n            return final;\n        }\n    }\n    const nonaborted = results.filter((r) => !util.aborted(r));\n    if (nonaborted.length === 1) {\n        final.value = nonaborted[0].value;\n        return nonaborted[0];\n    }\n    final.issues.push({\n        code: \"invalid_union\",\n        input: final.value,\n        inst,\n        errors: results.map((result) => result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n    });\n    return final;\n}\nexport const $ZodUnion = /*@__PURE__*/ core.$constructor(\"$ZodUnion\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.options.some((o) => o._zod.optin === \"optional\") ? \"optional\" : undefined);\n    util.defineLazy(inst._zod, \"optout\", () => def.options.some((o) => o._zod.optout === \"optional\") ? \"optional\" : undefined);\n    util.defineLazy(inst._zod, \"values\", () => {\n        if (def.options.every((o) => o._zod.values)) {\n            return new Set(def.options.flatMap((option) => Array.from(option._zod.values)));\n        }\n        return undefined;\n    });\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        if (def.options.every((o) => o._zod.pattern)) {\n            const patterns = def.options.map((o) => o._zod.pattern);\n            return new RegExp(`^(${patterns.map((p) => util.cleanRegex(p.source)).join(\"|\")})$`);\n        }\n        return undefined;\n    });\n    const single = def.options.length === 1;\n    const first = def.options[0]._zod.run;\n    inst._zod.parse = (payload, ctx) => {\n        if (single) {\n            return first(payload, ctx);\n        }\n        let async = false;\n        const results = [];\n        for (const option of def.options) {\n            const result = option._zod.run({\n                value: payload.value,\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                results.push(result);\n                async = true;\n            }\n            else {\n                if (result.issues.length === 0)\n                    return result;\n                results.push(result);\n            }\n        }\n        if (!async)\n            return handleUnionResults(results, payload, inst, ctx);\n        return Promise.all(results).then((results) => {\n            return handleUnionResults(results, payload, inst, ctx);\n        });\n    };\n});\nexport const $ZodDiscriminatedUnion = \n/*@__PURE__*/\ncore.$constructor(\"$ZodDiscriminatedUnion\", (inst, def) => {\n    $ZodUnion.init(inst, def);\n    const _super = inst._zod.parse;\n    util.defineLazy(inst._zod, \"propValues\", () => {\n        const propValues = {};\n        for (const option of def.options) {\n            const pv = option._zod.propValues;\n            if (!pv || Object.keys(pv).length === 0)\n                throw new Error(`Invalid discriminated union option at index \"${def.options.indexOf(option)}\"`);\n            for (const [k, v] of Object.entries(pv)) {\n                if (!propValues[k])\n                    propValues[k] = new Set();\n                for (const val of v) {\n                    propValues[k].add(val);\n                }\n            }\n        }\n        return propValues;\n    });\n    const disc = util.cached(() => {\n        const opts = def.options;\n        const map = new Map();\n        for (const o of opts) {\n            const values = o._zod.propValues?.[def.discriminator];\n            if (!values || values.size === 0)\n                throw new Error(`Invalid discriminated union option at index \"${def.options.indexOf(o)}\"`);\n            for (const v of values) {\n                if (map.has(v)) {\n                    throw new Error(`Duplicate discriminator value \"${String(v)}\"`);\n                }\n                map.set(v, o);\n            }\n        }\n        return map;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!util.isObject(input)) {\n            payload.issues.push({\n                code: \"invalid_type\",\n                expected: \"object\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const opt = disc.value.get(input?.[def.discriminator]);\n        if (opt) {\n            return opt._zod.run(payload, ctx);\n        }\n        if (def.unionFallback) {\n            return _super(payload, ctx);\n        }\n        // no matching discriminator\n        payload.issues.push({\n            code: \"invalid_union\",\n            errors: [],\n            note: \"No matching discriminator\",\n            discriminator: def.discriminator,\n            input,\n            path: [def.discriminator],\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodIntersection = /*@__PURE__*/ core.$constructor(\"$ZodIntersection\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        const left = def.left._zod.run({ value: input, issues: [] }, ctx);\n        const right = def.right._zod.run({ value: input, issues: [] }, ctx);\n        const async = left instanceof Promise || right instanceof Promise;\n        if (async) {\n            return Promise.all([left, right]).then(([left, right]) => {\n                return handleIntersectionResults(payload, left, right);\n            });\n        }\n        return handleIntersectionResults(payload, left, right);\n    };\n});\nfunction mergeValues(a, b) {\n    // const aType = parse.t(a);\n    // const bType = parse.t(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    if (a instanceof Date && b instanceof Date && +a === +b) {\n        return { valid: true, data: a };\n    }\n    if (util.isPlainObject(a) && util.isPlainObject(b)) {\n        const bKeys = Object.keys(b);\n        const sharedKeys = Object.keys(a).filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return {\n                    valid: false,\n                    mergeErrorPath: [key, ...sharedValue.mergeErrorPath],\n                };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    if (Array.isArray(a) && Array.isArray(b)) {\n        if (a.length !== b.length) {\n            return { valid: false, mergeErrorPath: [] };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return {\n                    valid: false,\n                    mergeErrorPath: [index, ...sharedValue.mergeErrorPath],\n                };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    return { valid: false, mergeErrorPath: [] };\n}\nfunction handleIntersectionResults(result, left, right) {\n    if (left.issues.length) {\n        result.issues.push(...left.issues);\n    }\n    if (right.issues.length) {\n        result.issues.push(...right.issues);\n    }\n    if (util.aborted(result))\n        return result;\n    const merged = mergeValues(left.value, right.value);\n    if (!merged.valid) {\n        throw new Error(`Unmergable intersection. Error path: ` + `${JSON.stringify(merged.mergeErrorPath)}`);\n    }\n    result.value = merged.data;\n    return result;\n}\nexport const $ZodTuple = /*@__PURE__*/ core.$constructor(\"$ZodTuple\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const items = def.items;\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!Array.isArray(input)) {\n            payload.issues.push({\n                input,\n                inst,\n                expected: \"tuple\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        payload.value = [];\n        const proms = [];\n        const reversedIndex = [...items].reverse().findIndex((item) => item._zod.optin !== \"optional\");\n        const optStart = reversedIndex === -1 ? 0 : items.length - reversedIndex;\n        if (!def.rest) {\n            const tooBig = input.length > items.length;\n            const tooSmall = input.length < optStart - 1;\n            if (tooBig || tooSmall) {\n                payload.issues.push({\n                    ...(tooBig ? { code: \"too_big\", maximum: items.length } : { code: \"too_small\", minimum: items.length }),\n                    input,\n                    inst,\n                    origin: \"array\",\n                });\n                return payload;\n            }\n        }\n        let i = -1;\n        for (const item of items) {\n            i++;\n            if (i >= input.length)\n                if (i >= optStart)\n                    continue;\n            const result = item._zod.run({\n                value: input[i],\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleTupleResult(result, payload, i)));\n            }\n            else {\n                handleTupleResult(result, payload, i);\n            }\n        }\n        if (def.rest) {\n            const rest = input.slice(items.length);\n            for (const el of rest) {\n                i++;\n                const result = def.rest._zod.run({\n                    value: el,\n                    issues: [],\n                }, ctx);\n                if (result instanceof Promise) {\n                    proms.push(result.then((result) => handleTupleResult(result, payload, i)));\n                }\n                else {\n                    handleTupleResult(result, payload, i);\n                }\n            }\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleTupleResult(result, final, index) {\n    if (result.issues.length) {\n        final.issues.push(...util.prefixIssues(index, result.issues));\n    }\n    final.value[index] = result.value;\n}\nexport const $ZodRecord = /*@__PURE__*/ core.$constructor(\"$ZodRecord\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!util.isPlainObject(input)) {\n            payload.issues.push({\n                expected: \"record\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const proms = [];\n        const values = def.keyType._zod.values;\n        if (values) {\n            payload.value = {};\n            const recordKeys = new Set();\n            for (const key of values) {\n                if (typeof key === \"string\" || typeof key === \"number\" || typeof key === \"symbol\") {\n                    recordKeys.add(typeof key === \"number\" ? key.toString() : key);\n                    const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);\n                    if (result instanceof Promise) {\n                        proms.push(result.then((result) => {\n                            if (result.issues.length) {\n                                payload.issues.push(...util.prefixIssues(key, result.issues));\n                            }\n                            payload.value[key] = result.value;\n                        }));\n                    }\n                    else {\n                        if (result.issues.length) {\n                            payload.issues.push(...util.prefixIssues(key, result.issues));\n                        }\n                        payload.value[key] = result.value;\n                    }\n                }\n            }\n            let unrecognized;\n            for (const key in input) {\n                if (!recordKeys.has(key)) {\n                    unrecognized = unrecognized ?? [];\n                    unrecognized.push(key);\n                }\n            }\n            if (unrecognized && unrecognized.length > 0) {\n                payload.issues.push({\n                    code: \"unrecognized_keys\",\n                    input,\n                    inst,\n                    keys: unrecognized,\n                });\n            }\n        }\n        else {\n            payload.value = {};\n            for (const key of Reflect.ownKeys(input)) {\n                if (key === \"__proto__\")\n                    continue;\n                const keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);\n                if (keyResult instanceof Promise) {\n                    throw new Error(\"Async schemas not supported in object keys currently\");\n                }\n                if (keyResult.issues.length) {\n                    payload.issues.push({\n                        code: \"invalid_key\",\n                        origin: \"record\",\n                        issues: keyResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                        input: key,\n                        path: [key],\n                        inst,\n                    });\n                    payload.value[keyResult.value] = keyResult.value;\n                    continue;\n                }\n                const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);\n                if (result instanceof Promise) {\n                    proms.push(result.then((result) => {\n                        if (result.issues.length) {\n                            payload.issues.push(...util.prefixIssues(key, result.issues));\n                        }\n                        payload.value[keyResult.value] = result.value;\n                    }));\n                }\n                else {\n                    if (result.issues.length) {\n                        payload.issues.push(...util.prefixIssues(key, result.issues));\n                    }\n                    payload.value[keyResult.value] = result.value;\n                }\n            }\n        }\n        if (proms.length) {\n            return Promise.all(proms).then(() => payload);\n        }\n        return payload;\n    };\n});\nexport const $ZodMap = /*@__PURE__*/ core.$constructor(\"$ZodMap\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!(input instanceof Map)) {\n            payload.issues.push({\n                expected: \"map\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const proms = [];\n        payload.value = new Map();\n        for (const [key, value] of input) {\n            const keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);\n            const valueResult = def.valueType._zod.run({ value: value, issues: [] }, ctx);\n            if (keyResult instanceof Promise || valueResult instanceof Promise) {\n                proms.push(Promise.all([keyResult, valueResult]).then(([keyResult, valueResult]) => {\n                    handleMapResult(keyResult, valueResult, payload, key, input, inst, ctx);\n                }));\n            }\n            else {\n                handleMapResult(keyResult, valueResult, payload, key, input, inst, ctx);\n            }\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleMapResult(keyResult, valueResult, final, key, input, inst, ctx) {\n    if (keyResult.issues.length) {\n        if (util.propertyKeyTypes.has(typeof key)) {\n            final.issues.push(...util.prefixIssues(key, keyResult.issues));\n        }\n        else {\n            final.issues.push({\n                code: \"invalid_key\",\n                origin: \"map\",\n                input,\n                inst,\n                issues: keyResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n            });\n        }\n    }\n    if (valueResult.issues.length) {\n        if (util.propertyKeyTypes.has(typeof key)) {\n            final.issues.push(...util.prefixIssues(key, valueResult.issues));\n        }\n        else {\n            final.issues.push({\n                origin: \"map\",\n                code: \"invalid_element\",\n                input,\n                inst,\n                key: key,\n                issues: valueResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n            });\n        }\n    }\n    final.value.set(keyResult.value, valueResult.value);\n}\nexport const $ZodSet = /*@__PURE__*/ core.$constructor(\"$ZodSet\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!(input instanceof Set)) {\n            payload.issues.push({\n                input,\n                inst,\n                expected: \"set\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        const proms = [];\n        payload.value = new Set();\n        for (const item of input) {\n            const result = def.valueType._zod.run({ value: item, issues: [] }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleSetResult(result, payload)));\n            }\n            else\n                handleSetResult(result, payload);\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleSetResult(result, final) {\n    if (result.issues.length) {\n        final.issues.push(...result.issues);\n    }\n    final.value.add(result.value);\n}\nexport const $ZodEnum = /*@__PURE__*/ core.$constructor(\"$ZodEnum\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const values = util.getEnumValues(def.entries);\n    const valuesSet = new Set(values);\n    inst._zod.values = valuesSet;\n    inst._zod.pattern = new RegExp(`^(${values\n        .filter((k) => util.propertyKeyTypes.has(typeof k))\n        .map((o) => (typeof o === \"string\" ? util.escapeRegex(o) : o.toString()))\n        .join(\"|\")})$`);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (valuesSet.has(input)) {\n            return payload;\n        }\n        payload.issues.push({\n            code: \"invalid_value\",\n            values,\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodLiteral = /*@__PURE__*/ core.$constructor(\"$ZodLiteral\", (inst, def) => {\n    $ZodType.init(inst, def);\n    if (def.values.length === 0) {\n        throw new Error(\"Cannot create literal schema with no valid values\");\n    }\n    const values = new Set(def.values);\n    inst._zod.values = values;\n    inst._zod.pattern = new RegExp(`^(${def.values\n        .map((o) => (typeof o === \"string\" ? util.escapeRegex(o) : o ? util.escapeRegex(o.toString()) : String(o)))\n        .join(\"|\")})$`);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (values.has(input)) {\n            return payload;\n        }\n        payload.issues.push({\n            code: \"invalid_value\",\n            values: def.values,\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodFile = /*@__PURE__*/ core.$constructor(\"$ZodFile\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        // @ts-ignore\n        if (input instanceof File)\n            return payload;\n        payload.issues.push({\n            expected: \"file\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodTransform = /*@__PURE__*/ core.$constructor(\"$ZodTransform\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            throw new core.$ZodEncodeError(inst.constructor.name);\n        }\n        const _out = def.transform(payload.value, payload);\n        if (ctx.async) {\n            const output = _out instanceof Promise ? _out : Promise.resolve(_out);\n            return output.then((output) => {\n                payload.value = output;\n                return payload;\n            });\n        }\n        if (_out instanceof Promise) {\n            throw new core.$ZodAsyncError();\n        }\n        payload.value = _out;\n        return payload;\n    };\n});\nfunction handleOptionalResult(result, input) {\n    if (result.issues.length && input === undefined) {\n        return { issues: [], value: undefined };\n    }\n    return result;\n}\nexport const $ZodOptional = /*@__PURE__*/ core.$constructor(\"$ZodOptional\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.optin = \"optional\";\n    inst._zod.optout = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => {\n        return def.innerType._zod.values ? new Set([...def.innerType._zod.values, undefined]) : undefined;\n    });\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        const pattern = def.innerType._zod.pattern;\n        return pattern ? new RegExp(`^(${util.cleanRegex(pattern.source)})?$`) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        if (def.innerType._zod.optin === \"optional\") {\n            const result = def.innerType._zod.run(payload, ctx);\n            if (result instanceof Promise)\n                return result.then((r) => handleOptionalResult(r, payload.value));\n            return handleOptionalResult(result, payload.value);\n        }\n        if (payload.value === undefined) {\n            return payload;\n        }\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodNullable = /*@__PURE__*/ core.$constructor(\"$ZodNullable\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType._zod.optout);\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        const pattern = def.innerType._zod.pattern;\n        return pattern ? new RegExp(`^(${util.cleanRegex(pattern.source)}|null)$`) : undefined;\n    });\n    util.defineLazy(inst._zod, \"values\", () => {\n        return def.innerType._zod.values ? new Set([...def.innerType._zod.values, null]) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        // Forward direction (decode): allow null to pass through\n        if (payload.value === null)\n            return payload;\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodDefault = /*@__PURE__*/ core.$constructor(\"$ZodDefault\", (inst, def) => {\n    $ZodType.init(inst, def);\n    // inst._zod.qin = \"true\";\n    inst._zod.optin = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            return def.innerType._zod.run(payload, ctx);\n        }\n        // Forward direction (decode): apply defaults for undefined input\n        if (payload.value === undefined) {\n            payload.value = def.defaultValue;\n            /**\n             * $ZodDefault returns the default value immediately in forward direction.\n             * It doesn't pass the default value into the validator (\"prefault\"). There's no reason to pass the default value through validation. The validity of the default is enforced by TypeScript statically. Otherwise, it's the responsibility of the user to ensure the default is valid. In the case of pipes with divergent in/out types, you can specify the default on the `in` schema of your ZodPipe to set a \"prefault\" for the pipe.   */\n            return payload;\n        }\n        // Forward direction: continue with default handling\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => handleDefaultResult(result, def));\n        }\n        return handleDefaultResult(result, def);\n    };\n});\nfunction handleDefaultResult(payload, def) {\n    if (payload.value === undefined) {\n        payload.value = def.defaultValue;\n    }\n    return payload;\n}\nexport const $ZodPrefault = /*@__PURE__*/ core.$constructor(\"$ZodPrefault\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.optin = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            return def.innerType._zod.run(payload, ctx);\n        }\n        // Forward direction (decode): apply prefault for undefined input\n        if (payload.value === undefined) {\n            payload.value = def.defaultValue;\n        }\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodNonOptional = /*@__PURE__*/ core.$constructor(\"$ZodNonOptional\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"values\", () => {\n        const v = def.innerType._zod.values;\n        return v ? new Set([...v].filter((x) => x !== undefined)) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => handleNonOptionalResult(result, inst));\n        }\n        return handleNonOptionalResult(result, inst);\n    };\n});\nfunction handleNonOptionalResult(payload, inst) {\n    if (!payload.issues.length && payload.value === undefined) {\n        payload.issues.push({\n            code: \"invalid_type\",\n            expected: \"nonoptional\",\n            input: payload.value,\n            inst,\n        });\n    }\n    return payload;\n}\nexport const $ZodSuccess = /*@__PURE__*/ core.$constructor(\"$ZodSuccess\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            throw new core.$ZodEncodeError(\"ZodSuccess\");\n        }\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => {\n                payload.value = result.issues.length === 0;\n                return payload;\n            });\n        }\n        payload.value = result.issues.length === 0;\n        return payload;\n    };\n});\nexport const $ZodCatch = /*@__PURE__*/ core.$constructor(\"$ZodCatch\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType._zod.optout);\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            return def.innerType._zod.run(payload, ctx);\n        }\n        // Forward direction (decode): apply catch logic\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => {\n                payload.value = result.value;\n                if (result.issues.length) {\n                    payload.value = def.catchValue({\n                        ...payload,\n                        error: {\n                            issues: result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                        },\n                        input: payload.value,\n                    });\n                    payload.issues = [];\n                }\n                return payload;\n            });\n        }\n        payload.value = result.value;\n        if (result.issues.length) {\n            payload.value = def.catchValue({\n                ...payload,\n                error: {\n                    issues: result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                },\n                input: payload.value,\n            });\n            payload.issues = [];\n        }\n        return payload;\n    };\n});\nexport const $ZodNaN = /*@__PURE__*/ core.$constructor(\"$ZodNaN\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        if (typeof payload.value !== \"number\" || !Number.isNaN(payload.value)) {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                expected: \"nan\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        return payload;\n    };\n});\nexport const $ZodPipe = /*@__PURE__*/ core.$constructor(\"$ZodPipe\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"values\", () => def.in._zod.values);\n    util.defineLazy(inst._zod, \"optin\", () => def.in._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.out._zod.optout);\n    util.defineLazy(inst._zod, \"propValues\", () => def.in._zod.propValues);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            const right = def.out._zod.run(payload, ctx);\n            if (right instanceof Promise) {\n                return right.then((right) => handlePipeResult(right, def.in, ctx));\n            }\n            return handlePipeResult(right, def.in, ctx);\n        }\n        const left = def.in._zod.run(payload, ctx);\n        if (left instanceof Promise) {\n            return left.then((left) => handlePipeResult(left, def.out, ctx));\n        }\n        return handlePipeResult(left, def.out, ctx);\n    };\n});\nfunction handlePipeResult(left, next, ctx) {\n    if (left.issues.length) {\n        // prevent further checks\n        left.aborted = true;\n        return left;\n    }\n    return next._zod.run({ value: left.value, issues: left.issues }, ctx);\n}\nexport const $ZodCodec = /*@__PURE__*/ core.$constructor(\"$ZodCodec\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"values\", () => def.in._zod.values);\n    util.defineLazy(inst._zod, \"optin\", () => def.in._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.out._zod.optout);\n    util.defineLazy(inst._zod, \"propValues\", () => def.in._zod.propValues);\n    inst._zod.parse = (payload, ctx) => {\n        const direction = ctx.direction || \"forward\";\n        if (direction === \"forward\") {\n            const left = def.in._zod.run(payload, ctx);\n            if (left instanceof Promise) {\n                return left.then((left) => handleCodecAResult(left, def, ctx));\n            }\n            return handleCodecAResult(left, def, ctx);\n        }\n        else {\n            const right = def.out._zod.run(payload, ctx);\n            if (right instanceof Promise) {\n                return right.then((right) => handleCodecAResult(right, def, ctx));\n            }\n            return handleCodecAResult(right, def, ctx);\n        }\n    };\n});\nfunction handleCodecAResult(result, def, ctx) {\n    if (result.issues.length) {\n        // prevent further checks\n        result.aborted = true;\n        return result;\n    }\n    const direction = ctx.direction || \"forward\";\n    if (direction === \"forward\") {\n        const transformed = def.transform(result.value, result);\n        if (transformed instanceof Promise) {\n            return transformed.then((value) => handleCodecTxResult(result, value, def.out, ctx));\n        }\n        return handleCodecTxResult(result, transformed, def.out, ctx);\n    }\n    else {\n        const transformed = def.reverseTransform(result.value, result);\n        if (transformed instanceof Promise) {\n            return transformed.then((value) => handleCodecTxResult(result, value, def.in, ctx));\n        }\n        return handleCodecTxResult(result, transformed, def.in, ctx);\n    }\n}\nfunction handleCodecTxResult(left, value, nextSchema, ctx) {\n    // Check if transform added any issues\n    if (left.issues.length) {\n        left.aborted = true;\n        return left;\n    }\n    return nextSchema._zod.run({ value, issues: left.issues }, ctx);\n}\nexport const $ZodReadonly = /*@__PURE__*/ core.$constructor(\"$ZodReadonly\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"propValues\", () => def.innerType._zod.propValues);\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType?._zod?.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType?._zod?.optout);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            return def.innerType._zod.run(payload, ctx);\n        }\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then(handleReadonlyResult);\n        }\n        return handleReadonlyResult(result);\n    };\n});\nfunction handleReadonlyResult(payload) {\n    payload.value = Object.freeze(payload.value);\n    return payload;\n}\nexport const $ZodTemplateLiteral = /*@__PURE__*/ core.$constructor(\"$ZodTemplateLiteral\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const regexParts = [];\n    for (const part of def.parts) {\n        if (typeof part === \"object\" && part !== null) {\n            // is Zod schema\n            if (!part._zod.pattern) {\n                // if (!source)\n                throw new Error(`Invalid template literal part, no pattern found: ${[...part._zod.traits].shift()}`);\n            }\n            const source = part._zod.pattern instanceof RegExp ? part._zod.pattern.source : part._zod.pattern;\n            if (!source)\n                throw new Error(`Invalid template literal part: ${part._zod.traits}`);\n            const start = source.startsWith(\"^\") ? 1 : 0;\n            const end = source.endsWith(\"$\") ? source.length - 1 : source.length;\n            regexParts.push(source.slice(start, end));\n        }\n        else if (part === null || util.primitiveTypes.has(typeof part)) {\n            regexParts.push(util.escapeRegex(`${part}`));\n        }\n        else {\n            throw new Error(`Invalid template literal part: ${part}`);\n        }\n    }\n    inst._zod.pattern = new RegExp(`^${regexParts.join(\"\")}$`);\n    inst._zod.parse = (payload, _ctx) => {\n        if (typeof payload.value !== \"string\") {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                expected: \"template_literal\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        inst._zod.pattern.lastIndex = 0;\n        if (!inst._zod.pattern.test(payload.value)) {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                code: \"invalid_format\",\n                format: def.format ?? \"template_literal\",\n                pattern: inst._zod.pattern.source,\n            });\n            return payload;\n        }\n        return payload;\n    };\n});\nexport const $ZodFunction = /*@__PURE__*/ core.$constructor(\"$ZodFunction\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._def = def;\n    inst._zod.def = def;\n    inst.implement = (func) => {\n        if (typeof func !== \"function\") {\n            throw new Error(\"implement() must be called with a function\");\n        }\n        return function (...args) {\n            const parsedArgs = inst._def.input ? parse(inst._def.input, args) : args;\n            const result = Reflect.apply(func, this, parsedArgs);\n            if (inst._def.output) {\n                return parse(inst._def.output, result);\n            }\n            return result;\n        };\n    };\n    inst.implementAsync = (func) => {\n        if (typeof func !== \"function\") {\n            throw new Error(\"implementAsync() must be called with a function\");\n        }\n        return async function (...args) {\n            const parsedArgs = inst._def.input ? await parseAsync(inst._def.input, args) : args;\n            const result = await Reflect.apply(func, this, parsedArgs);\n            if (inst._def.output) {\n                return await parseAsync(inst._def.output, result);\n            }\n            return result;\n        };\n    };\n    inst._zod.parse = (payload, _ctx) => {\n        if (typeof payload.value !== \"function\") {\n            payload.issues.push({\n                code: \"invalid_type\",\n                expected: \"function\",\n                input: payload.value,\n                inst,\n            });\n            return payload;\n        }\n        // Check if output is a promise type to determine if we should use async implementation\n        const hasPromiseOutput = inst._def.output && inst._def.output._zod.def.type === \"promise\";\n        if (hasPromiseOutput) {\n            payload.value = inst.implementAsync(payload.value);\n        }\n        else {\n            payload.value = inst.implement(payload.value);\n        }\n        return payload;\n    };\n    inst.input = (...args) => {\n        const F = inst.constructor;\n        if (Array.isArray(args[0])) {\n            return new F({\n                type: \"function\",\n                input: new $ZodTuple({\n                    type: \"tuple\",\n                    items: args[0],\n                    rest: args[1],\n                }),\n                output: inst._def.output,\n            });\n        }\n        return new F({\n            type: \"function\",\n            input: args[0],\n            output: inst._def.output,\n        });\n    };\n    inst.output = (output) => {\n        const F = inst.constructor;\n        return new F({\n            type: \"function\",\n            input: inst._def.input,\n            output,\n        });\n    };\n    return inst;\n});\nexport const $ZodPromise = /*@__PURE__*/ core.$constructor(\"$ZodPromise\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        return Promise.resolve(payload.value).then((inner) => def.innerType._zod.run({ value: inner, issues: [] }, ctx));\n    };\n});\nexport const $ZodLazy = /*@__PURE__*/ core.$constructor(\"$ZodLazy\", (inst, def) => {\n    $ZodType.init(inst, def);\n    // let _innerType!: any;\n    // util.defineLazy(def, \"getter\", () => {\n    //   if (!_innerType) {\n    //     _innerType = def.getter();\n    //   }\n    //   return () => _innerType;\n    // });\n    util.defineLazy(inst._zod, \"innerType\", () => def.getter());\n    util.defineLazy(inst._zod, \"pattern\", () => inst._zod.innerType?._zod?.pattern);\n    util.defineLazy(inst._zod, \"propValues\", () => inst._zod.innerType?._zod?.propValues);\n    util.defineLazy(inst._zod, \"optin\", () => inst._zod.innerType?._zod?.optin ?? undefined);\n    util.defineLazy(inst._zod, \"optout\", () => inst._zod.innerType?._zod?.optout ?? undefined);\n    inst._zod.parse = (payload, ctx) => {\n        const inner = inst._zod.innerType;\n        return inner._zod.run(payload, ctx);\n    };\n});\nexport const $ZodCustom = /*@__PURE__*/ core.$constructor(\"$ZodCustom\", (inst, def) => {\n    checks.$ZodCheck.init(inst, def);\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _) => {\n        return payload;\n    };\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const r = def.fn(input);\n        if (r instanceof Promise) {\n            return r.then((r) => handleRefineResult(r, payload, input, inst));\n        }\n        handleRefineResult(r, payload, input, inst);\n        return;\n    };\n});\nfunction handleRefineResult(result, payload, input, inst) {\n    if (!result) {\n        const _iss = {\n            code: \"custom\",\n            input,\n            inst, // incorporates params.error into issue reporting\n            path: [...(inst._zod.def.path ?? [])], // incorporates params.error into issue reporting\n            continue: !inst._zod.def.abort,\n            // params: inst._zod.def.params,\n        };\n        if (inst._zod.def.params)\n            _iss.params = inst._zod.def.params;\n        payload.issues.push(util.issue(_iss));\n    }\n}\n", "export { default as ar } from \"./ar.js\";\nexport { default as az } from \"./az.js\";\nexport { default as be } from \"./be.js\";\nexport { default as bg } from \"./bg.js\";\nexport { default as ca } from \"./ca.js\";\nexport { default as cs } from \"./cs.js\";\nexport { default as da } from \"./da.js\";\nexport { default as de } from \"./de.js\";\nexport { default as en } from \"./en.js\";\nexport { default as eo } from \"./eo.js\";\nexport { default as es } from \"./es.js\";\nexport { default as fa } from \"./fa.js\";\nexport { default as fi } from \"./fi.js\";\nexport { default as fr } from \"./fr.js\";\nexport { default as frCA } from \"./fr-CA.js\";\nexport { default as he } from \"./he.js\";\nexport { default as hu } from \"./hu.js\";\nexport { default as id } from \"./id.js\";\nexport { default as is } from \"./is.js\";\nexport { default as it } from \"./it.js\";\nexport { default as ja } from \"./ja.js\";\nexport { default as ka } from \"./ka.js\";\nexport { default as kh } from \"./kh.js\";\nexport { default as km } from \"./km.js\";\nexport { default as ko } from \"./ko.js\";\nexport { default as lt } from \"./lt.js\";\nexport { default as mk } from \"./mk.js\";\nexport { default as ms } from \"./ms.js\";\nexport { default as nl } from \"./nl.js\";\nexport { default as no } from \"./no.js\";\nexport { default as ota } from \"./ota.js\";\nexport { default as ps } from \"./ps.js\";\nexport { default as pl } from \"./pl.js\";\nexport { default as pt } from \"./pt.js\";\nexport { default as ru } from \"./ru.js\";\nexport { default as sl } from \"./sl.js\";\nexport { default as sv } from \"./sv.js\";\nexport { default as ta } from \"./ta.js\";\nexport { default as th } from \"./th.js\";\nexport { default as tr } from \"./tr.js\";\nexport { default as ua } from \"./ua.js\";\nexport { default as uk } from \"./uk.js\";\nexport { default as ur } from \"./ur.js\";\nexport { default as vi } from \"./vi.js\";\nexport { default as zhCN } from \"./zh-CN.js\";\nexport { default as zhTW } from \"./zh-TW.js\";\nexport { default as yo } from \"./yo.js\";\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u062D\u0631\u0641\", verb: \"\u0623\u0646 \u064A\u062D\u0648\u064A\" },\n        file: { unit: \"\u0628\u0627\u064A\u062A\", verb: \"\u0623\u0646 \u064A\u062D\u0648\u064A\" },\n        array: { unit: \"\u0639\u0646\u0635\u0631\", verb: \"\u0623\u0646 \u064A\u062D\u0648\u064A\" },\n        set: { unit: \"\u0639\u0646\u0635\u0631\", verb: \"\u0623\u0646 \u064A\u062D\u0648\u064A\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"number\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0645\u062F\u062E\u0644\",\n        email: \"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A\",\n        url: \"\u0631\u0627\u0628\u0637\",\n        emoji: \"\u0625\u064A\u0645\u0648\u062C\u064A\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO\",\n        date: \"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO\",\n        time: \"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO\",\n        duration: \"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO\",\n        ipv4: \"\u0639\u0646\u0648\u0627\u0646 IPv4\",\n        ipv6: \"\u0639\u0646\u0648\u0627\u0646 IPv6\",\n        cidrv4: \"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4\",\n        cidrv6: \"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6\",\n        base64: \"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded\",\n        base64url: \"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded\",\n        json_string: \"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON\",\n        e164: \"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164\",\n        jwt: \"JWT\",\n        template_literal: \"\u0645\u062F\u062E\u0644\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${issue.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return ` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${issue.origin ?? \"\u0627\u0644\u0642\u064A\u0645\u0629\"} ${adj} ${issue.maximum.toString()} ${sizing.unit ?? \"\u0639\u0646\u0635\u0631\"}`;\n                return `\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${issue.origin ?? \"\u0627\u0644\u0642\u064A\u0645\u0629\"} ${adj} ${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${issue.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${adj} ${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${issue.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${adj} ${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 \"${issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${_issue.pattern}`;\n                return `${Nouns[_issue.format] ?? issue.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`;\n            }\n            case \"not_multiple_of\":\n                return `\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `\u0645\u0639\u0631\u0641${issue.keys.length > 1 ? \"\u0627\u062A\" : \"\"} \u063A\u0631\u064A\u0628${issue.keys.length > 1 ? \"\u0629\" : \"\"}: ${util.joinValues(issue.keys, \"\u060C \")}`;\n            case \"invalid_key\":\n                return `\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\";\n            case \"invalid_element\":\n                return `\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${issue.origin}`;\n            default:\n                return \"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\";\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"simvol\", verb: \"olmal\u0131d\u0131r\" },\n        file: { unit: \"bayt\", verb: \"olmal\u0131d\u0131r\" },\n        array: { unit: \"element\", verb: \"olmal\u0131d\u0131r\" },\n        set: { unit: \"element\", verb: \"olmal\u0131d\u0131r\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"number\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"input\",\n        email: \"email address\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO datetime\",\n        date: \"ISO date\",\n        time: \"ISO time\",\n        duration: \"ISO duration\",\n        ipv4: \"IPv4 address\",\n        ipv6: \"IPv6 address\",\n        cidrv4: \"IPv4 range\",\n        cidrv6: \"IPv6 range\",\n        base64: \"base64-encoded string\",\n        base64url: \"base64url-encoded string\",\n        json_string: \"JSON string\",\n        e164: \"E.164 number\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Yanl\u0131\u015F d\u0259y\u0259r: g\u00F6zl\u0259nil\u0259n ${issue.expected}, daxil olan ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Yanl\u0131\u015F d\u0259y\u0259r: g\u00F6zl\u0259nil\u0259n ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Yanl\u0131\u015F se\u00E7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u00C7ox b\u00F6y\u00FCk: g\u00F6zl\u0259nil\u0259n ${issue.origin ?? \"d\u0259y\u0259r\"} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"element\"}`;\n                return `\u00C7ox b\u00F6y\u00FCk: g\u00F6zl\u0259nil\u0259n ${issue.origin ?? \"d\u0259y\u0259r\"} ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u00C7ox ki\u00E7ik: g\u00F6zl\u0259nil\u0259n ${issue.origin} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                return `\u00C7ox ki\u00E7ik: g\u00F6zl\u0259nil\u0259n ${issue.origin} ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Yanl\u0131\u015F m\u0259tn: \"${_issue.prefix}\" il\u0259 ba\u015Flamal\u0131d\u0131r`;\n                if (_issue.format === \"ends_with\")\n                    return `Yanl\u0131\u015F m\u0259tn: \"${_issue.suffix}\" il\u0259 bitm\u0259lidir`;\n                if (_issue.format === \"includes\")\n                    return `Yanl\u0131\u015F m\u0259tn: \"${_issue.includes}\" daxil olmal\u0131d\u0131r`;\n                if (_issue.format === \"regex\")\n                    return `Yanl\u0131\u015F m\u0259tn: ${_issue.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`;\n                return `Yanl\u0131\u015F ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Yanl\u0131\u015F \u0259d\u0259d: ${issue.divisor} il\u0259 b\u00F6l\u00FCn\u0259 bil\u0259n olmal\u0131d\u0131r`;\n            case \"unrecognized_keys\":\n                return `Tan\u0131nmayan a\u00E7ar${issue.keys.length > 1 ? \"lar\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `${issue.origin} daxilind\u0259 yanl\u0131\u015F a\u00E7ar`;\n            case \"invalid_union\":\n                return \"Yanl\u0131\u015F d\u0259y\u0259r\";\n            case \"invalid_element\":\n                return `${issue.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;\n            default:\n                return `Yanl\u0131\u015F d\u0259y\u0259r`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nfunction getBelarusianPlural(count, one, few, many) {\n    const absCount = Math.abs(count);\n    const lastDigit = absCount % 10;\n    const lastTwoDigits = absCount % 100;\n    if (lastTwoDigits >= 11 && lastTwoDigits <= 19) {\n        return many;\n    }\n    if (lastDigit === 1) {\n        return one;\n    }\n    if (lastDigit >= 2 && lastDigit <= 4) {\n        return few;\n    }\n    return many;\n}\nconst error = () => {\n    const Sizable = {\n        string: {\n            unit: {\n                one: \"\u0441\u0456\u043C\u0432\u0430\u043B\",\n                few: \"\u0441\u0456\u043C\u0432\u0430\u043B\u044B\",\n                many: \"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E\",\n            },\n            verb: \"\u043C\u0435\u0446\u044C\",\n        },\n        array: {\n            unit: {\n                one: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\",\n                few: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B\",\n                many: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E\",\n            },\n            verb: \"\u043C\u0435\u0446\u044C\",\n        },\n        set: {\n            unit: {\n                one: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\",\n                few: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B\",\n                many: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E\",\n            },\n            verb: \"\u043C\u0435\u0446\u044C\",\n        },\n        file: {\n            unit: {\n                one: \"\u0431\u0430\u0439\u0442\",\n                few: \"\u0431\u0430\u0439\u0442\u044B\",\n                many: \"\u0431\u0430\u0439\u0442\u0430\u045E\",\n            },\n            verb: \"\u043C\u0435\u0446\u044C\",\n        },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u043B\u0456\u043A\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u043C\u0430\u0441\u0456\u045E\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0443\u0432\u043E\u0434\",\n        email: \"email \u0430\u0434\u0440\u0430\u0441\",\n        url: \"URL\",\n        emoji: \"\u044D\u043C\u043E\u0434\u0437\u0456\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441\",\n        date: \"ISO \u0434\u0430\u0442\u0430\",\n        time: \"ISO \u0447\u0430\u0441\",\n        duration: \"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C\",\n        ipv4: \"IPv4 \u0430\u0434\u0440\u0430\u0441\",\n        ipv6: \"IPv6 \u0430\u0434\u0440\u0430\u0441\",\n        cidrv4: \"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D\",\n        cidrv6: \"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D\",\n        base64: \"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64\",\n        base64url: \"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url\",\n        json_string: \"JSON \u0440\u0430\u0434\u043E\u043A\",\n        e164: \"\u043D\u0443\u043C\u0430\u0440 E.164\",\n        jwt: \"JWT\",\n        template_literal: \"\u0443\u0432\u043E\u0434\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${issue.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    const maxValue = Number(issue.maximum);\n                    const unit = getBelarusianPlural(maxValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);\n                    return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue.origin ?? \"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435\"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${sizing.verb} ${adj}${issue.maximum.toString()} ${unit}`;\n                }\n                return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue.origin ?? \"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435\"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    const minValue = Number(issue.minimum);\n                    const unit = getBelarusianPlural(minValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);\n                    return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${sizing.verb} ${adj}${issue.minimum.toString()} ${unit}`;\n                }\n                return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${_issue.pattern}`;\n                return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${issue.keys.length > 1 ? \"\u043A\u043B\u044E\u0447\u044B\" : \"\u043A\u043B\u044E\u0447\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434\";\n            case \"invalid_element\":\n                return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${issue.origin}`;\n            default:\n                return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nexport const parsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"number\": {\n            return Number.isNaN(data) ? \"NaN\" : \"\u0447\u0438\u0441\u043B\u043E\";\n        }\n        case \"object\": {\n            if (Array.isArray(data)) {\n                return \"\u043C\u0430\u0441\u0438\u0432\";\n            }\n            if (data === null) {\n                return \"null\";\n            }\n            if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                return data.constructor.name;\n            }\n        }\n    }\n    return t;\n};\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u0441\u0438\u043C\u0432\u043E\u043B\u0430\", verb: \"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430\" },\n        file: { unit: \"\u0431\u0430\u0439\u0442\u0430\", verb: \"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430\" },\n        array: { unit: \"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430\", verb: \"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430\" },\n        set: { unit: \"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430\", verb: \"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const Nouns = {\n        regex: \"\u0432\u0445\u043E\u0434\",\n        email: \"\u0438\u043C\u0435\u0439\u043B \u0430\u0434\u0440\u0435\u0441\",\n        url: \"URL\",\n        emoji: \"\u0435\u043C\u043E\u0434\u0436\u0438\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO \u0432\u0440\u0435\u043C\u0435\",\n        date: \"ISO \u0434\u0430\u0442\u0430\",\n        time: \"ISO \u0432\u0440\u0435\u043C\u0435\",\n        duration: \"ISO \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E\u0441\u0442\",\n        ipv4: \"IPv4 \u0430\u0434\u0440\u0435\u0441\",\n        ipv6: \"IPv6 \u0430\u0434\u0440\u0435\u0441\",\n        cidrv4: \"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D\",\n        cidrv6: \"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D\",\n        base64: \"base64-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437\",\n        base64url: \"base64url-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437\",\n        json_string: \"JSON \u043D\u0438\u0437\",\n        e164: \"E.164 \u043D\u043E\u043C\u0435\u0440\",\n        jwt: \"JWT\",\n        template_literal: \"\u0432\u0445\u043E\u0434\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${issue.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u043E\u043F\u0446\u0438\u044F: \u043E\u0447\u0430\u043A\u0432\u0430\u043D\u043E \u0435\u0434\u043D\u043E \u043E\u0442 ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${issue.origin ?? \"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442\"} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430\"}`;\n                return `\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${issue.origin ?? \"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442\"} \u0434\u0430 \u0431\u044A\u0434\u0435 ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${issue.origin} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${issue.origin} \u0434\u0430 \u0431\u044A\u0434\u0435 ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u0432\u0430 \u0441 \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u0432\u044A\u0440\u0448\u0432\u0430 \u0441 \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0432\u043A\u043B\u044E\u0447\u0432\u0430 \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0432\u043F\u0430\u0434\u0430 \u0441 ${_issue.pattern}`;\n                let invalid_adj = \"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D\";\n                if (_issue.format === \"emoji\")\n                    invalid_adj = \"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E\";\n                if (_issue.format === \"datetime\")\n                    invalid_adj = \"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E\";\n                if (_issue.format === \"date\")\n                    invalid_adj = \"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430\";\n                if (_issue.format === \"time\")\n                    invalid_adj = \"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E\";\n                if (_issue.format === \"duration\")\n                    invalid_adj = \"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430\";\n                return `${invalid_adj} ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E \u0447\u0438\u0441\u043B\u043E: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043A\u0440\u0430\u0442\u043D\u043E \u043D\u0430 ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `\u041D\u0435\u0440\u0430\u0437\u043F\u043E\u0437\u043D\u0430\u0442${issue.keys.length > 1 ? \"\u0438\" : \"\"} \u043A\u043B\u044E\u0447${issue.keys.length > 1 ? \"\u043E\u0432\u0435\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043A\u043B\u044E\u0447 \u0432 ${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434\";\n            case \"invalid_element\":\n                return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442 \u0432 ${issue.origin}`;\n            default:\n                return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"car\u00E0cters\", verb: \"contenir\" },\n        file: { unit: \"bytes\", verb: \"contenir\" },\n        array: { unit: \"elements\", verb: \"contenir\" },\n        set: { unit: \"elements\", verb: \"contenir\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"number\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"entrada\",\n        email: \"adre\u00E7a electr\u00F2nica\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"data i hora ISO\",\n        date: \"data ISO\",\n        time: \"hora ISO\",\n        duration: \"durada ISO\",\n        ipv4: \"adre\u00E7a IPv4\",\n        ipv6: \"adre\u00E7a IPv6\",\n        cidrv4: \"rang IPv4\",\n        cidrv6: \"rang IPv6\",\n        base64: \"cadena codificada en base64\",\n        base64url: \"cadena codificada en base64url\",\n        json_string: \"cadena JSON\",\n        e164: \"n\u00FAmero E.164\",\n        jwt: \"JWT\",\n        template_literal: \"entrada\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Tipus inv\u00E0lid: s'esperava ${issue.expected}, s'ha rebut ${parsedType(issue.input)}`;\n            // return `Tipus inv\u00E0lid: s'esperava ${issue.expected}, s'ha rebut ${util.getParsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Valor inv\u00E0lid: s'esperava ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Opci\u00F3 inv\u00E0lida: s'esperava una de ${util.joinValues(issue.values, \" o \")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"com a m\u00E0xim\" : \"menys de\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Massa gran: s'esperava que ${issue.origin ?? \"el valor\"} contingu\u00E9s ${adj} ${issue.maximum.toString()} ${sizing.unit ?? \"elements\"}`;\n                return `Massa gran: s'esperava que ${issue.origin ?? \"el valor\"} fos ${adj} ${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \"com a m\u00EDnim\" : \"m\u00E9s de\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Massa petit: s'esperava que ${issue.origin} contingu\u00E9s ${adj} ${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Massa petit: s'esperava que ${issue.origin} fos ${adj} ${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Format inv\u00E0lid: ha de comen\u00E7ar amb \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Format inv\u00E0lid: ha d'acabar amb \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Format inv\u00E0lid: ha d'incloure \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Format inv\u00E0lid: ha de coincidir amb el patr\u00F3 ${_issue.pattern}`;\n                return `Format inv\u00E0lid per a ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `N\u00FAmero inv\u00E0lid: ha de ser m\u00FAltiple de ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Clau${issue.keys.length > 1 ? \"s\" : \"\"} no reconeguda${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Clau inv\u00E0lida a ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Entrada inv\u00E0lida\"; // Could also be \"Tipus d'uni\u00F3 inv\u00E0lid\" but \"Entrada inv\u00E0lida\" is more general\n            case \"invalid_element\":\n                return `Element inv\u00E0lid a ${issue.origin}`;\n            default:\n                return `Entrada inv\u00E0lida`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"znak\u016F\", verb: \"m\u00EDt\" },\n        file: { unit: \"bajt\u016F\", verb: \"m\u00EDt\" },\n        array: { unit: \"prvk\u016F\", verb: \"m\u00EDt\" },\n        set: { unit: \"prvk\u016F\", verb: \"m\u00EDt\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u010D\u00EDslo\";\n            }\n            case \"string\": {\n                return \"\u0159et\u011Bzec\";\n            }\n            case \"boolean\": {\n                return \"boolean\";\n            }\n            case \"bigint\": {\n                return \"bigint\";\n            }\n            case \"function\": {\n                return \"funkce\";\n            }\n            case \"symbol\": {\n                return \"symbol\";\n            }\n            case \"undefined\": {\n                return \"undefined\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"pole\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"regul\u00E1rn\u00ED v\u00FDraz\",\n        email: \"e-mailov\u00E1 adresa\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"datum a \u010Das ve form\u00E1tu ISO\",\n        date: \"datum ve form\u00E1tu ISO\",\n        time: \"\u010Das ve form\u00E1tu ISO\",\n        duration: \"doba trv\u00E1n\u00ED ISO\",\n        ipv4: \"IPv4 adresa\",\n        ipv6: \"IPv6 adresa\",\n        cidrv4: \"rozsah IPv4\",\n        cidrv6: \"rozsah IPv6\",\n        base64: \"\u0159et\u011Bzec zak\u00F3dovan\u00FD ve form\u00E1tu base64\",\n        base64url: \"\u0159et\u011Bzec zak\u00F3dovan\u00FD ve form\u00E1tu base64url\",\n        json_string: \"\u0159et\u011Bzec ve form\u00E1tu JSON\",\n        e164: \"\u010D\u00EDslo E.164\",\n        jwt: \"JWT\",\n        template_literal: \"vstup\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Neplatn\u00FD vstup: o\u010Dek\u00E1v\u00E1no ${issue.expected}, obdr\u017Eeno ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Neplatn\u00FD vstup: o\u010Dek\u00E1v\u00E1no ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Neplatn\u00E1 mo\u017Enost: o\u010Dek\u00E1v\u00E1na jedna z hodnot ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Hodnota je p\u0159\u00EDli\u0161 velk\u00E1: ${issue.origin ?? \"hodnota\"} mus\u00ED m\u00EDt ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"prvk\u016F\"}`;\n                }\n                return `Hodnota je p\u0159\u00EDli\u0161 velk\u00E1: ${issue.origin ?? \"hodnota\"} mus\u00ED b\u00FDt ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Hodnota je p\u0159\u00EDli\u0161 mal\u00E1: ${issue.origin ?? \"hodnota\"} mus\u00ED m\u00EDt ${adj}${issue.minimum.toString()} ${sizing.unit ?? \"prvk\u016F\"}`;\n                }\n                return `Hodnota je p\u0159\u00EDli\u0161 mal\u00E1: ${issue.origin ?? \"hodnota\"} mus\u00ED b\u00FDt ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Neplatn\u00FD \u0159et\u011Bzec: mus\u00ED za\u010D\u00EDnat na \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Neplatn\u00FD \u0159et\u011Bzec: mus\u00ED kon\u010Dit na \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Neplatn\u00FD \u0159et\u011Bzec: mus\u00ED obsahovat \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Neplatn\u00FD \u0159et\u011Bzec: mus\u00ED odpov\u00EDdat vzoru ${_issue.pattern}`;\n                return `Neplatn\u00FD form\u00E1t ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Neplatn\u00E9 \u010D\u00EDslo: mus\u00ED b\u00FDt n\u00E1sobkem ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Nezn\u00E1m\u00E9 kl\u00ED\u010De: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Neplatn\u00FD kl\u00ED\u010D v ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Neplatn\u00FD vstup\";\n            case \"invalid_element\":\n                return `Neplatn\u00E1 hodnota v ${issue.origin}`;\n            default:\n                return `Neplatn\u00FD vstup`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"tegn\", verb: \"havde\" },\n        file: { unit: \"bytes\", verb: \"havde\" },\n        array: { unit: \"elementer\", verb: \"indeholdt\" },\n        set: { unit: \"elementer\", verb: \"indeholdt\" },\n    };\n    const TypeNames = {\n        string: \"streng\",\n        number: \"tal\",\n        boolean: \"boolean\",\n        array: \"liste\",\n        object: \"objekt\",\n        set: \"s\u00E6t\",\n        file: \"fil\",\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    function getTypeName(type) {\n        return TypeNames[type] ?? type;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"tal\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"liste\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n                return \"objekt\";\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"input\",\n        email: \"e-mailadresse\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO dato- og klokkesl\u00E6t\",\n        date: \"ISO-dato\",\n        time: \"ISO-klokkesl\u00E6t\",\n        duration: \"ISO-varighed\",\n        ipv4: \"IPv4-omr\u00E5de\",\n        ipv6: \"IPv6-omr\u00E5de\",\n        cidrv4: \"IPv4-spektrum\",\n        cidrv6: \"IPv6-spektrum\",\n        base64: \"base64-kodet streng\",\n        base64url: \"base64url-kodet streng\",\n        json_string: \"JSON-streng\",\n        e164: \"E.164-nummer\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Ugyldigt input: forventede ${getTypeName(issue.expected)}, fik ${getTypeName(parsedType(issue.input))}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Ugyldig v\u00E6rdi: forventede ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Ugyldigt valg: forventede en af f\u00F8lgende ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                const origin = getTypeName(issue.origin);\n                if (sizing)\n                    return `For stor: forventede ${origin ?? \"value\"} ${sizing.verb} ${adj} ${issue.maximum.toString()} ${sizing.unit ?? \"elementer\"}`;\n                return `For stor: forventede ${origin ?? \"value\"} havde ${adj} ${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                const origin = getTypeName(issue.origin);\n                if (sizing) {\n                    return `For lille: forventede ${origin} ${sizing.verb} ${adj} ${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `For lille: forventede ${origin} havde ${adj} ${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Ugyldig streng: skal starte med \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Ugyldig streng: skal ende med \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Ugyldig streng: skal indeholde \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Ugyldig streng: skal matche m\u00F8nsteret ${_issue.pattern}`;\n                return `Ugyldig ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Ugyldigt tal: skal v\u00E6re deleligt med ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `${issue.keys.length > 1 ? \"Ukendte n\u00F8gler\" : \"Ukendt n\u00F8gle\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Ugyldig n\u00F8gle i ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Ugyldigt input: matcher ingen af de tilladte typer\";\n            case \"invalid_element\":\n                return `Ugyldig v\u00E6rdi i ${issue.origin}`;\n            default:\n                return `Ugyldigt input`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"Zeichen\", verb: \"zu haben\" },\n        file: { unit: \"Bytes\", verb: \"zu haben\" },\n        array: { unit: \"Elemente\", verb: \"zu haben\" },\n        set: { unit: \"Elemente\", verb: \"zu haben\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"Zahl\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"Array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"Eingabe\",\n        email: \"E-Mail-Adresse\",\n        url: \"URL\",\n        emoji: \"Emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO-Datum und -Uhrzeit\",\n        date: \"ISO-Datum\",\n        time: \"ISO-Uhrzeit\",\n        duration: \"ISO-Dauer\",\n        ipv4: \"IPv4-Adresse\",\n        ipv6: \"IPv6-Adresse\",\n        cidrv4: \"IPv4-Bereich\",\n        cidrv6: \"IPv6-Bereich\",\n        base64: \"Base64-codierter String\",\n        base64url: \"Base64-URL-codierter String\",\n        json_string: \"JSON-String\",\n        e164: \"E.164-Nummer\",\n        jwt: \"JWT\",\n        template_literal: \"Eingabe\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Ung\u00FCltige Eingabe: erwartet ${issue.expected}, erhalten ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Ung\u00FCltige Eingabe: erwartet ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Ung\u00FCltige Option: erwartet eine von ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Zu gro\u00DF: erwartet, dass ${issue.origin ?? \"Wert\"} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"Elemente\"} hat`;\n                return `Zu gro\u00DF: erwartet, dass ${issue.origin ?? \"Wert\"} ${adj}${issue.maximum.toString()} ist`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Zu klein: erwartet, dass ${issue.origin} ${adj}${issue.minimum.toString()} ${sizing.unit} hat`;\n                }\n                return `Zu klein: erwartet, dass ${issue.origin} ${adj}${issue.minimum.toString()} ist`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Ung\u00FCltiger String: muss mit \"${_issue.prefix}\" beginnen`;\n                if (_issue.format === \"ends_with\")\n                    return `Ung\u00FCltiger String: muss mit \"${_issue.suffix}\" enden`;\n                if (_issue.format === \"includes\")\n                    return `Ung\u00FCltiger String: muss \"${_issue.includes}\" enthalten`;\n                if (_issue.format === \"regex\")\n                    return `Ung\u00FCltiger String: muss dem Muster ${_issue.pattern} entsprechen`;\n                return `Ung\u00FCltig: ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Ung\u00FCltige Zahl: muss ein Vielfaches von ${issue.divisor} sein`;\n            case \"unrecognized_keys\":\n                return `${issue.keys.length > 1 ? \"Unbekannte Schl\u00FCssel\" : \"Unbekannter Schl\u00FCssel\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Ung\u00FCltiger Schl\u00FCssel in ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Ung\u00FCltige Eingabe\";\n            case \"invalid_element\":\n                return `Ung\u00FCltiger Wert in ${issue.origin}`;\n            default:\n                return `Ung\u00FCltige Eingabe`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nexport const parsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"number\": {\n            return Number.isNaN(data) ? \"NaN\" : \"number\";\n        }\n        case \"object\": {\n            if (Array.isArray(data)) {\n                return \"array\";\n            }\n            if (data === null) {\n                return \"null\";\n            }\n            if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                return data.constructor.name;\n            }\n        }\n    }\n    return t;\n};\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"characters\", verb: \"to have\" },\n        file: { unit: \"bytes\", verb: \"to have\" },\n        array: { unit: \"items\", verb: \"to have\" },\n        set: { unit: \"items\", verb: \"to have\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const Nouns = {\n        regex: \"input\",\n        email: \"email address\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO datetime\",\n        date: \"ISO date\",\n        time: \"ISO time\",\n        duration: \"ISO duration\",\n        ipv4: \"IPv4 address\",\n        ipv6: \"IPv6 address\",\n        mac: \"MAC address\",\n        cidrv4: \"IPv4 range\",\n        cidrv6: \"IPv6 range\",\n        base64: \"base64-encoded string\",\n        base64url: \"base64url-encoded string\",\n        json_string: \"JSON string\",\n        e164: \"E.164 number\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Invalid input: expected ${issue.expected}, received ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Invalid input: expected ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Invalid option: expected one of ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Too big: expected ${issue.origin ?? \"value\"} to have ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elements\"}`;\n                return `Too big: expected ${issue.origin ?? \"value\"} to be ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Too small: expected ${issue.origin} to have ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Too small: expected ${issue.origin} to be ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Invalid string: must start with \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Invalid string: must end with \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Invalid string: must include \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Invalid string: must match pattern ${_issue.pattern}`;\n                return `Invalid ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Invalid number: must be a multiple of ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Unrecognized key${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Invalid key in ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Invalid input\";\n            case \"invalid_element\":\n                return `Invalid value in ${issue.origin}`;\n            default:\n                return `Invalid input`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nexport const parsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"number\": {\n            return Number.isNaN(data) ? \"NaN\" : \"nombro\";\n        }\n        case \"object\": {\n            if (Array.isArray(data)) {\n                return \"tabelo\";\n            }\n            if (data === null) {\n                return \"senvalora\";\n            }\n            if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                return data.constructor.name;\n            }\n        }\n    }\n    return t;\n};\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"karaktrojn\", verb: \"havi\" },\n        file: { unit: \"bajtojn\", verb: \"havi\" },\n        array: { unit: \"elementojn\", verb: \"havi\" },\n        set: { unit: \"elementojn\", verb: \"havi\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const Nouns = {\n        regex: \"enigo\",\n        email: \"retadreso\",\n        url: \"URL\",\n        emoji: \"emo\u011Dio\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO-datotempo\",\n        date: \"ISO-dato\",\n        time: \"ISO-tempo\",\n        duration: \"ISO-da\u016Dro\",\n        ipv4: \"IPv4-adreso\",\n        ipv6: \"IPv6-adreso\",\n        cidrv4: \"IPv4-rango\",\n        cidrv6: \"IPv6-rango\",\n        base64: \"64-ume kodita karaktraro\",\n        base64url: \"URL-64-ume kodita karaktraro\",\n        json_string: \"JSON-karaktraro\",\n        e164: \"E.164-nombro\",\n        jwt: \"JWT\",\n        template_literal: \"enigo\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Nevalida enigo: atendi\u011Dis ${issue.expected}, ricevi\u011Dis ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Nevalida enigo: atendi\u011Dis ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Nevalida opcio: atendi\u011Dis unu el ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Tro granda: atendi\u011Dis ke ${issue.origin ?? \"valoro\"} havu ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementojn\"}`;\n                return `Tro granda: atendi\u011Dis ke ${issue.origin ?? \"valoro\"} havu ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Tro malgranda: atendi\u011Dis ke ${issue.origin} havu ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Tro malgranda: atendi\u011Dis ke ${issue.origin} estu ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Nevalida karaktraro: devas komenci\u011Di per \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Nevalida karaktraro: devas fini\u011Di per \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Nevalida karaktraro: devas inkluzivi \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Nevalida karaktraro: devas kongrui kun la modelo ${_issue.pattern}`;\n                return `Nevalida ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Nevalida nombro: devas esti oblo de ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Nekonata${issue.keys.length > 1 ? \"j\" : \"\"} \u015Dlosilo${issue.keys.length > 1 ? \"j\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Nevalida \u015Dlosilo en ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Nevalida enigo\";\n            case \"invalid_element\":\n                return `Nevalida valoro en ${issue.origin}`;\n            default:\n                return `Nevalida enigo`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"caracteres\", verb: \"tener\" },\n        file: { unit: \"bytes\", verb: \"tener\" },\n        array: { unit: \"elementos\", verb: \"tener\" },\n        set: { unit: \"elementos\", verb: \"tener\" },\n    };\n    const TypeNames = {\n        string: \"texto\",\n        number: \"n\u00FAmero\",\n        boolean: \"booleano\",\n        array: \"arreglo\",\n        object: \"objeto\",\n        set: \"conjunto\",\n        file: \"archivo\",\n        date: \"fecha\",\n        bigint: \"n\u00FAmero grande\",\n        symbol: \"s\u00EDmbolo\",\n        undefined: \"indefinido\",\n        null: \"nulo\",\n        function: \"funci\u00F3n\",\n        map: \"mapa\",\n        record: \"registro\",\n        tuple: \"tupla\",\n        enum: \"enumeraci\u00F3n\",\n        union: \"uni\u00F3n\",\n        literal: \"literal\",\n        promise: \"promesa\",\n        void: \"vac\u00EDo\",\n        never: \"nunca\",\n        unknown: \"desconocido\",\n        any: \"cualquiera\",\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    function getTypeName(type) {\n        return TypeNames[type] ?? type;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"number\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype) {\n                    return data.constructor.name;\n                }\n                return \"object\";\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"entrada\",\n        email: \"direcci\u00F3n de correo electr\u00F3nico\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"fecha y hora ISO\",\n        date: \"fecha ISO\",\n        time: \"hora ISO\",\n        duration: \"duraci\u00F3n ISO\",\n        ipv4: \"direcci\u00F3n IPv4\",\n        ipv6: \"direcci\u00F3n IPv6\",\n        cidrv4: \"rango IPv4\",\n        cidrv6: \"rango IPv6\",\n        base64: \"cadena codificada en base64\",\n        base64url: \"URL codificada en base64\",\n        json_string: \"cadena JSON\",\n        e164: \"n\u00FAmero E.164\",\n        jwt: \"JWT\",\n        template_literal: \"entrada\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Entrada inv\u00E1lida: se esperaba ${getTypeName(issue.expected)}, recibido ${getTypeName(parsedType(issue.input))}`;\n            // return `Entrada inv\u00E1lida: se esperaba ${issue.expected}, recibido ${util.getParsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Entrada inv\u00E1lida: se esperaba ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Opci\u00F3n inv\u00E1lida: se esperaba una de ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                const origin = getTypeName(issue.origin);\n                if (sizing)\n                    return `Demasiado grande: se esperaba que ${origin ?? \"valor\"} tuviera ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementos\"}`;\n                return `Demasiado grande: se esperaba que ${origin ?? \"valor\"} fuera ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                const origin = getTypeName(issue.origin);\n                if (sizing) {\n                    return `Demasiado peque\u00F1o: se esperaba que ${origin} tuviera ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Demasiado peque\u00F1o: se esperaba que ${origin} fuera ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Cadena inv\u00E1lida: debe comenzar con \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Cadena inv\u00E1lida: debe terminar en \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Cadena inv\u00E1lida: debe incluir \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Cadena inv\u00E1lida: debe coincidir con el patr\u00F3n ${_issue.pattern}`;\n                return `Inv\u00E1lido ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `N\u00FAmero inv\u00E1lido: debe ser m\u00FAltiplo de ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Llave${issue.keys.length > 1 ? \"s\" : \"\"} desconocida${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Llave inv\u00E1lida en ${getTypeName(issue.origin)}`;\n            case \"invalid_union\":\n                return \"Entrada inv\u00E1lida\";\n            case \"invalid_element\":\n                return `Valor inv\u00E1lido en ${getTypeName(issue.origin)}`;\n            default:\n                return `Entrada inv\u00E1lida`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631\", verb: \"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F\" },\n        file: { unit: \"\u0628\u0627\u06CC\u062A\", verb: \"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F\" },\n        array: { unit: \"\u0622\u06CC\u062A\u0645\", verb: \"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F\" },\n        set: { unit: \"\u0622\u06CC\u062A\u0645\", verb: \"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u0639\u062F\u062F\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u0622\u0631\u0627\u06CC\u0647\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0648\u0631\u0648\u062F\u06CC\",\n        email: \"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644\",\n        url: \"URL\",\n        emoji: \"\u0627\u06CC\u0645\u0648\u062C\u06CC\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648\",\n        date: \"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648\",\n        time: \"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648\",\n        duration: \"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648\",\n        ipv4: \"IPv4 \u0622\u062F\u0631\u0633\",\n        ipv6: \"IPv6 \u0622\u062F\u0631\u0633\",\n        cidrv4: \"IPv4 \u062F\u0627\u0645\u0646\u0647\",\n        cidrv6: \"IPv6 \u062F\u0627\u0645\u0646\u0647\",\n        base64: \"base64-encoded \u0631\u0634\u062A\u0647\",\n        base64url: \"base64url-encoded \u0631\u0634\u062A\u0647\",\n        json_string: \"JSON \u0631\u0634\u062A\u0647\",\n        e164: \"E.164 \u0639\u062F\u062F\",\n        jwt: \"JWT\",\n        template_literal: \"\u0648\u0631\u0648\u062F\u06CC\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${issue.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${parsedType(issue.input)} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;\n            case \"invalid_value\":\n                if (issue.values.length === 1) {\n                    return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${util.stringifyPrimitive(issue.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`;\n                }\n                return `\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${util.joinValues(issue.values, \"|\")} \u0645\u06CC\u200C\u0628\u0648\u062F`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${issue.origin ?? \"\u0645\u0642\u062F\u0627\u0631\"} \u0628\u0627\u06CC\u062F ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u0639\u0646\u0635\u0631\"} \u0628\u0627\u0634\u062F`;\n                }\n                return `\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${issue.origin ?? \"\u0645\u0642\u062F\u0627\u0631\"} \u0628\u0627\u06CC\u062F ${adj}${issue.maximum.toString()} \u0628\u0627\u0634\u062F`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${issue.origin} \u0628\u0627\u06CC\u062F ${adj}${issue.minimum.toString()} ${sizing.unit} \u0628\u0627\u0634\u062F`;\n                }\n                return `\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${issue.origin} \u0628\u0627\u06CC\u062F ${adj}${issue.minimum.toString()} \u0628\u0627\u0634\u062F`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \"${_issue.prefix}\" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`;\n                }\n                if (_issue.format === \"ends_with\") {\n                    return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \"${_issue.suffix}\" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`;\n                }\n                if (_issue.format === \"includes\") {\n                    return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 \"${_issue.includes}\" \u0628\u0627\u0634\u062F`;\n                }\n                if (_issue.format === \"regex\") {\n                    return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${_issue.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`;\n                }\n                return `${Nouns[_issue.format] ?? issue.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`;\n            }\n            case \"not_multiple_of\":\n                return `\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${issue.divisor} \u0628\u0627\u0634\u062F`;\n            case \"unrecognized_keys\":\n                return `\u06A9\u0644\u06CC\u062F${issue.keys.length > 1 ? \"\u0647\u0627\u06CC\" : \"\"} \u0646\u0627\u0634\u0646\u0627\u0633: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${issue.origin}`;\n            case \"invalid_union\":\n                return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631`;\n            case \"invalid_element\":\n                return `\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${issue.origin}`;\n            default:\n                return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"merkki\u00E4\", subject: \"merkkijonon\" },\n        file: { unit: \"tavua\", subject: \"tiedoston\" },\n        array: { unit: \"alkiota\", subject: \"listan\" },\n        set: { unit: \"alkiota\", subject: \"joukon\" },\n        number: { unit: \"\", subject: \"luvun\" },\n        bigint: { unit: \"\", subject: \"suuren kokonaisluvun\" },\n        int: { unit: \"\", subject: \"kokonaisluvun\" },\n        date: { unit: \"\", subject: \"p\u00E4iv\u00E4m\u00E4\u00E4r\u00E4n\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"number\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"s\u00E4\u00E4nn\u00F6llinen lauseke\",\n        email: \"s\u00E4hk\u00F6postiosoite\",\n        url: \"URL-osoite\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO-aikaleima\",\n        date: \"ISO-p\u00E4iv\u00E4m\u00E4\u00E4r\u00E4\",\n        time: \"ISO-aika\",\n        duration: \"ISO-kesto\",\n        ipv4: \"IPv4-osoite\",\n        ipv6: \"IPv6-osoite\",\n        cidrv4: \"IPv4-alue\",\n        cidrv6: \"IPv6-alue\",\n        base64: \"base64-koodattu merkkijono\",\n        base64url: \"base64url-koodattu merkkijono\",\n        json_string: \"JSON-merkkijono\",\n        e164: \"E.164-luku\",\n        jwt: \"JWT\",\n        template_literal: \"templaattimerkkijono\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Virheellinen tyyppi: odotettiin ${issue.expected}, oli ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Virheellinen sy\u00F6te: t\u00E4ytyy olla ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Virheellinen valinta: t\u00E4ytyy olla yksi seuraavista: ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Liian suuri: ${sizing.subject} t\u00E4ytyy olla ${adj}${issue.maximum.toString()} ${sizing.unit}`.trim();\n                }\n                return `Liian suuri: arvon t\u00E4ytyy olla ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Liian pieni: ${sizing.subject} t\u00E4ytyy olla ${adj}${issue.minimum.toString()} ${sizing.unit}`.trim();\n                }\n                return `Liian pieni: arvon t\u00E4ytyy olla ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Virheellinen sy\u00F6te: t\u00E4ytyy alkaa \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Virheellinen sy\u00F6te: t\u00E4ytyy loppua \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Virheellinen sy\u00F6te: t\u00E4ytyy sis\u00E4lt\u00E4\u00E4 \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\") {\n                    return `Virheellinen sy\u00F6te: t\u00E4ytyy vastata s\u00E4\u00E4nn\u00F6llist\u00E4 lauseketta ${_issue.pattern}`;\n                }\n                return `Virheellinen ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Virheellinen luku: t\u00E4ytyy olla luvun ${issue.divisor} monikerta`;\n            case \"unrecognized_keys\":\n                return `${issue.keys.length > 1 ? \"Tuntemattomat avaimet\" : \"Tuntematon avain\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return \"Virheellinen avain tietueessa\";\n            case \"invalid_union\":\n                return \"Virheellinen unioni\";\n            case \"invalid_element\":\n                return \"Virheellinen arvo joukossa\";\n            default:\n                return `Virheellinen sy\u00F6te`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"caract\u00E8res\", verb: \"avoir\" },\n        file: { unit: \"octets\", verb: \"avoir\" },\n        array: { unit: \"\u00E9l\u00E9ments\", verb: \"avoir\" },\n        set: { unit: \"\u00E9l\u00E9ments\", verb: \"avoir\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"nombre\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"tableau\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"entr\u00E9e\",\n        email: \"adresse e-mail\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"date et heure ISO\",\n        date: \"date ISO\",\n        time: \"heure ISO\",\n        duration: \"dur\u00E9e ISO\",\n        ipv4: \"adresse IPv4\",\n        ipv6: \"adresse IPv6\",\n        cidrv4: \"plage IPv4\",\n        cidrv6: \"plage IPv6\",\n        base64: \"cha\u00EEne encod\u00E9e en base64\",\n        base64url: \"cha\u00EEne encod\u00E9e en base64url\",\n        json_string: \"cha\u00EEne JSON\",\n        e164: \"num\u00E9ro E.164\",\n        jwt: \"JWT\",\n        template_literal: \"entr\u00E9e\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Entr\u00E9e invalide : ${issue.expected} attendu, ${parsedType(issue.input)} re\u00E7u`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Entr\u00E9e invalide : ${util.stringifyPrimitive(issue.values[0])} attendu`;\n                return `Option invalide : une valeur parmi ${util.joinValues(issue.values, \"|\")} attendue`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Trop grand : ${issue.origin ?? \"valeur\"} doit ${sizing.verb} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u00E9l\u00E9ment(s)\"}`;\n                return `Trop grand : ${issue.origin ?? \"valeur\"} doit \u00EAtre ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Trop petit : ${issue.origin} doit ${sizing.verb} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Trop petit : ${issue.origin} doit \u00EAtre ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Cha\u00EEne invalide : doit commencer par \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Cha\u00EEne invalide : doit se terminer par \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Cha\u00EEne invalide : doit inclure \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Cha\u00EEne invalide : doit correspondre au mod\u00E8le ${_issue.pattern}`;\n                return `${Nouns[_issue.format] ?? issue.format} invalide`;\n            }\n            case \"not_multiple_of\":\n                return `Nombre invalide : doit \u00EAtre un multiple de ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Cl\u00E9${issue.keys.length > 1 ? \"s\" : \"\"} non reconnue${issue.keys.length > 1 ? \"s\" : \"\"} : ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Cl\u00E9 invalide dans ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Entr\u00E9e invalide\";\n            case \"invalid_element\":\n                return `Valeur invalide dans ${issue.origin}`;\n            default:\n                return `Entr\u00E9e invalide`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"caract\u00E8res\", verb: \"avoir\" },\n        file: { unit: \"octets\", verb: \"avoir\" },\n        array: { unit: \"\u00E9l\u00E9ments\", verb: \"avoir\" },\n        set: { unit: \"\u00E9l\u00E9ments\", verb: \"avoir\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"number\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"entr\u00E9e\",\n        email: \"adresse courriel\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"date-heure ISO\",\n        date: \"date ISO\",\n        time: \"heure ISO\",\n        duration: \"dur\u00E9e ISO\",\n        ipv4: \"adresse IPv4\",\n        ipv6: \"adresse IPv6\",\n        cidrv4: \"plage IPv4\",\n        cidrv6: \"plage IPv6\",\n        base64: \"cha\u00EEne encod\u00E9e en base64\",\n        base64url: \"cha\u00EEne encod\u00E9e en base64url\",\n        json_string: \"cha\u00EEne JSON\",\n        e164: \"num\u00E9ro E.164\",\n        jwt: \"JWT\",\n        template_literal: \"entr\u00E9e\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Entr\u00E9e invalide : attendu ${issue.expected}, re\u00E7u ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Entr\u00E9e invalide : attendu ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Option invalide : attendu l'une des valeurs suivantes ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"\u2264\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Trop grand : attendu que ${issue.origin ?? \"la valeur\"} ait ${adj}${issue.maximum.toString()} ${sizing.unit}`;\n                return `Trop grand : attendu que ${issue.origin ?? \"la valeur\"} soit ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \"\u2265\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Trop petit : attendu que ${issue.origin} ait ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Trop petit : attendu que ${issue.origin} soit ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Cha\u00EEne invalide : doit commencer par \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Cha\u00EEne invalide : doit se terminer par \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Cha\u00EEne invalide : doit inclure \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Cha\u00EEne invalide : doit correspondre au motif ${_issue.pattern}`;\n                return `${Nouns[_issue.format] ?? issue.format} invalide`;\n            }\n            case \"not_multiple_of\":\n                return `Nombre invalide : doit \u00EAtre un multiple de ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Cl\u00E9${issue.keys.length > 1 ? \"s\" : \"\"} non reconnue${issue.keys.length > 1 ? \"s\" : \"\"} : ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Cl\u00E9 invalide dans ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Entr\u00E9e invalide\";\n            case \"invalid_element\":\n                return `Valeur invalide dans ${issue.origin}`;\n            default:\n                return `Entr\u00E9e invalide`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    // Hebrew labels + grammatical gender\n    const TypeNames = {\n        string: { label: \"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA\", gender: \"f\" },\n        number: { label: \"\u05DE\u05E1\u05E4\u05E8\", gender: \"m\" },\n        boolean: { label: \"\u05E2\u05E8\u05DA \u05D1\u05D5\u05DC\u05D9\u05D0\u05E0\u05D9\", gender: \"m\" },\n        bigint: { label: \"BigInt\", gender: \"m\" },\n        date: { label: \"\u05EA\u05D0\u05E8\u05D9\u05DA\", gender: \"m\" },\n        array: { label: \"\u05DE\u05E2\u05E8\u05DA\", gender: \"m\" },\n        object: { label: \"\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8\", gender: \"m\" },\n        null: { label: \"\u05E2\u05E8\u05DA \u05E8\u05D9\u05E7 (null)\", gender: \"m\" },\n        undefined: { label: \"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05DE\u05D5\u05D2\u05D3\u05E8 (undefined)\", gender: \"m\" },\n        symbol: { label: \"\u05E1\u05D9\u05DE\u05D1\u05D5\u05DC (Symbol)\", gender: \"m\" },\n        function: { label: \"\u05E4\u05D5\u05E0\u05E7\u05E6\u05D9\u05D4\", gender: \"f\" },\n        map: { label: \"\u05DE\u05E4\u05D4 (Map)\", gender: \"f\" },\n        set: { label: \"\u05E7\u05D1\u05D5\u05E6\u05D4 (Set)\", gender: \"f\" },\n        file: { label: \"\u05E7\u05D5\u05D1\u05E5\", gender: \"m\" },\n        promise: { label: \"Promise\", gender: \"m\" },\n        NaN: { label: \"NaN\", gender: \"m\" },\n        unknown: { label: \"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05D9\u05D3\u05D5\u05E2\", gender: \"m\" },\n        value: { label: \"\u05E2\u05E8\u05DA\", gender: \"m\" },\n    };\n    // Sizing units for size-related messages + localized origin labels\n    const Sizable = {\n        string: { unit: \"\u05EA\u05D5\u05D5\u05D9\u05DD\", shortLabel: \"\u05E7\u05E6\u05E8\", longLabel: \"\u05D0\u05E8\u05D5\u05DA\" },\n        file: { unit: \"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD\", shortLabel: \"\u05E7\u05D8\u05DF\", longLabel: \"\u05D2\u05D3\u05D5\u05DC\" },\n        array: { unit: \"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD\", shortLabel: \"\u05E7\u05D8\u05DF\", longLabel: \"\u05D2\u05D3\u05D5\u05DC\" },\n        set: { unit: \"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD\", shortLabel: \"\u05E7\u05D8\u05DF\", longLabel: \"\u05D2\u05D3\u05D5\u05DC\" },\n        number: { unit: \"\", shortLabel: \"\u05E7\u05D8\u05DF\", longLabel: \"\u05D2\u05D3\u05D5\u05DC\" }, // no unit\n    };\n    // Helpers \u2014 labels, articles, and verbs\n    const typeEntry = (t) => (t ? TypeNames[t] : undefined);\n    const typeLabel = (t) => {\n        const e = typeEntry(t);\n        if (e)\n            return e.label;\n        // fallback: show raw string if unknown\n        return t ?? TypeNames.unknown.label;\n    };\n    const withDefinite = (t) => `\u05D4${typeLabel(t)}`;\n    const verbFor = (t) => {\n        const e = typeEntry(t);\n        const gender = e?.gender ?? \"m\";\n        return gender === \"f\" ? \"\u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05D9\u05D5\u05EA\" : \"\u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA\";\n    };\n    const getSizing = (origin) => {\n        if (!origin)\n            return null;\n        return Sizable[origin] ?? null;\n    };\n    // Robust type parser for \"received\" \u2014 returns a key we understand or a constructor name\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\":\n                return Number.isNaN(data) ? \"NaN\" : \"number\";\n            case \"object\": {\n                if (Array.isArray(data))\n                    return \"array\";\n                if (data === null)\n                    return \"null\";\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name; // keep as-is (e.g., \"Date\")\n                }\n                return \"object\";\n            }\n            default:\n                return t;\n        }\n    };\n    const Nouns = {\n        regex: { label: \"\u05E7\u05DC\u05D8\", gender: \"m\" },\n        email: { label: \"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC\", gender: \"f\" },\n        url: { label: \"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA\", gender: \"f\" },\n        emoji: { label: \"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9\", gender: \"m\" },\n        uuid: { label: \"UUID\", gender: \"m\" },\n        nanoid: { label: \"nanoid\", gender: \"m\" },\n        guid: { label: \"GUID\", gender: \"m\" },\n        cuid: { label: \"cuid\", gender: \"m\" },\n        cuid2: { label: \"cuid2\", gender: \"m\" },\n        ulid: { label: \"ULID\", gender: \"m\" },\n        xid: { label: \"XID\", gender: \"m\" },\n        ksuid: { label: \"KSUID\", gender: \"m\" },\n        datetime: { label: \"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO\", gender: \"m\" },\n        date: { label: \"\u05EA\u05D0\u05E8\u05D9\u05DA ISO\", gender: \"m\" },\n        time: { label: \"\u05D6\u05DE\u05DF ISO\", gender: \"m\" },\n        duration: { label: \"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO\", gender: \"m\" },\n        ipv4: { label: \"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4\", gender: \"f\" },\n        ipv6: { label: \"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6\", gender: \"f\" },\n        cidrv4: { label: \"\u05D8\u05D5\u05D5\u05D7 IPv4\", gender: \"m\" },\n        cidrv6: { label: \"\u05D8\u05D5\u05D5\u05D7 IPv6\", gender: \"m\" },\n        base64: { label: \"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64\", gender: \"f\" },\n        base64url: { label: \"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA\", gender: \"f\" },\n        json_string: { label: \"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON\", gender: \"f\" },\n        e164: { label: \"\u05DE\u05E1\u05E4\u05E8 E.164\", gender: \"m\" },\n        jwt: { label: \"JWT\", gender: \"m\" },\n        ends_with: { label: \"\u05E7\u05DC\u05D8\", gender: \"m\" },\n        includes: { label: \"\u05E7\u05DC\u05D8\", gender: \"m\" },\n        lowercase: { label: \"\u05E7\u05DC\u05D8\", gender: \"m\" },\n        starts_with: { label: \"\u05E7\u05DC\u05D8\", gender: \"m\" },\n        uppercase: { label: \"\u05E7\u05DC\u05D8\", gender: \"m\" },\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                // Expected type: show without definite article for clearer Hebrew\n                const expectedKey = issue.expected;\n                const expected = typeLabel(expectedKey);\n                // Received: show localized label if known, otherwise constructor/raw\n                const receivedKey = parsedType(issue.input);\n                const received = TypeNames[receivedKey]?.label ?? receivedKey;\n                return `\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${expected}, \u05D4\u05EA\u05E7\u05D1\u05DC ${received}`;\n            }\n            case \"invalid_value\": {\n                if (issue.values.length === 1) {\n                    return `\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05E2\u05E8\u05DA \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA ${util.stringifyPrimitive(issue.values[0])}`;\n                }\n                // Join values with proper Hebrew formatting\n                const stringified = issue.values.map((v) => util.stringifyPrimitive(v));\n                if (issue.values.length === 2) {\n                    return `\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${stringified[0]} \u05D0\u05D5 ${stringified[1]}`;\n                }\n                // For 3+ values: \"a\", \"b\" \u05D0\u05D5 \"c\"\n                const lastValue = stringified[stringified.length - 1];\n                const restValues = stringified.slice(0, -1).join(\", \");\n                return `\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${restValues} \u05D0\u05D5 ${lastValue}`;\n            }\n            case \"too_big\": {\n                const sizing = getSizing(issue.origin);\n                const subject = withDefinite(issue.origin ?? \"value\");\n                if (issue.origin === \"string\") {\n                    // Special handling for strings - more natural Hebrew\n                    return `${sizing?.longLabel ?? \"\u05D0\u05E8\u05D5\u05DA\"} \u05DE\u05D3\u05D9: ${subject} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${issue.maximum.toString()} ${sizing?.unit ?? \"\"} ${issue.inclusive ? \"\u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA\" : \"\u05DC\u05DB\u05DC \u05D4\u05D9\u05D5\u05EA\u05E8\"}`.trim();\n                }\n                if (issue.origin === \"number\") {\n                    // Natural Hebrew for numbers\n                    const comparison = issue.inclusive ? `\u05E7\u05D8\u05DF \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${issue.maximum}` : `\u05E7\u05D8\u05DF \u05DE-${issue.maximum}`;\n                    return `\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${subject} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${comparison}`;\n                }\n                if (issue.origin === \"array\" || issue.origin === \"set\") {\n                    // Natural Hebrew for arrays and sets\n                    const verb = issue.origin === \"set\" ? \"\u05E6\u05E8\u05D9\u05DB\u05D4\" : \"\u05E6\u05E8\u05D9\u05DA\";\n                    const comparison = issue.inclusive\n                        ? `${issue.maximum} ${sizing?.unit ?? \"\"} \u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA`\n                        : `\u05E4\u05D7\u05D5\u05EA \u05DE-${issue.maximum} ${sizing?.unit ?? \"\"}`;\n                    return `\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${subject} ${verb} \u05DC\u05D4\u05DB\u05D9\u05DC ${comparison}`.trim();\n                }\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const be = verbFor(issue.origin ?? \"value\");\n                if (sizing?.unit) {\n                    return `${sizing.longLabel} \u05DE\u05D3\u05D9: ${subject} ${be} ${adj}${issue.maximum.toString()} ${sizing.unit}`;\n                }\n                return `${sizing?.longLabel ?? \"\u05D2\u05D3\u05D5\u05DC\"} \u05DE\u05D3\u05D9: ${subject} ${be} ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const sizing = getSizing(issue.origin);\n                const subject = withDefinite(issue.origin ?? \"value\");\n                if (issue.origin === \"string\") {\n                    // Special handling for strings - more natural Hebrew\n                    return `${sizing?.shortLabel ?? \"\u05E7\u05E6\u05E8\"} \u05DE\u05D3\u05D9: ${subject} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${issue.minimum.toString()} ${sizing?.unit ?? \"\"} ${issue.inclusive ? \"\u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8\" : \"\u05DC\u05E4\u05D7\u05D5\u05EA\"}`.trim();\n                }\n                if (issue.origin === \"number\") {\n                    // Natural Hebrew for numbers\n                    const comparison = issue.inclusive ? `\u05D2\u05D3\u05D5\u05DC \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${issue.minimum}` : `\u05D2\u05D3\u05D5\u05DC \u05DE-${issue.minimum}`;\n                    return `\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${subject} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${comparison}`;\n                }\n                if (issue.origin === \"array\" || issue.origin === \"set\") {\n                    // Natural Hebrew for arrays and sets\n                    const verb = issue.origin === \"set\" ? \"\u05E6\u05E8\u05D9\u05DB\u05D4\" : \"\u05E6\u05E8\u05D9\u05DA\";\n                    // Special case for singular (minimum === 1)\n                    if (issue.minimum === 1 && issue.inclusive) {\n                        const singularPhrase = issue.origin === \"set\" ? \"\u05DC\u05E4\u05D7\u05D5\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D0\u05D7\u05D3\" : \"\u05DC\u05E4\u05D7\u05D5\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D0\u05D7\u05D3\";\n                        return `\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${subject} ${verb} \u05DC\u05D4\u05DB\u05D9\u05DC ${singularPhrase}`;\n                    }\n                    const comparison = issue.inclusive\n                        ? `${issue.minimum} ${sizing?.unit ?? \"\"} \u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8`\n                        : `\u05D9\u05D5\u05EA\u05E8 \u05DE-${issue.minimum} ${sizing?.unit ?? \"\"}`;\n                    return `\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${subject} ${verb} \u05DC\u05D4\u05DB\u05D9\u05DC ${comparison}`.trim();\n                }\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const be = verbFor(issue.origin ?? \"value\");\n                if (sizing?.unit) {\n                    return `${sizing.shortLabel} \u05DE\u05D3\u05D9: ${subject} ${be} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `${sizing?.shortLabel ?? \"\u05E7\u05D8\u05DF\"} \u05DE\u05D3\u05D9: ${subject} ${be} ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                // These apply to strings \u2014 use feminine grammar + \u05D4\u05F3 \u05D4\u05D9\u05D3\u05D9\u05E2\u05D4\n                if (_issue.format === \"starts_with\")\n                    return `\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1 \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${_issue.pattern}`;\n                // Handle gender agreement for formats\n                const nounEntry = Nouns[_issue.format];\n                const noun = nounEntry?.label ?? _issue.format;\n                const gender = nounEntry?.gender ?? \"m\";\n                const adjective = gender === \"f\" ? \"\u05EA\u05E7\u05D9\u05E0\u05D4\" : \"\u05EA\u05E7\u05D9\u05DF\";\n                return `${noun} \u05DC\u05D0 ${adjective}`;\n            }\n            case \"not_multiple_of\":\n                return `\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `\u05DE\u05E4\u05EA\u05D7${issue.keys.length > 1 ? \"\u05D5\u05EA\" : \"\"} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${issue.keys.length > 1 ? \"\u05D9\u05DD\" : \"\u05D4\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\": {\n                return `\u05E9\u05D3\u05D4 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8`;\n            }\n            case \"invalid_union\":\n                return \"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF\";\n            case \"invalid_element\": {\n                const place = withDefinite(issue.origin ?? \"array\");\n                return `\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${place}`;\n            }\n            default:\n                return `\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"karakter\", verb: \"legyen\" },\n        file: { unit: \"byte\", verb: \"legyen\" },\n        array: { unit: \"elem\", verb: \"legyen\" },\n        set: { unit: \"elem\", verb: \"legyen\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"sz\u00E1m\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"t\u00F6mb\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"bemenet\",\n        email: \"email c\u00EDm\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO id\u0151b\u00E9lyeg\",\n        date: \"ISO d\u00E1tum\",\n        time: \"ISO id\u0151\",\n        duration: \"ISO id\u0151intervallum\",\n        ipv4: \"IPv4 c\u00EDm\",\n        ipv6: \"IPv6 c\u00EDm\",\n        cidrv4: \"IPv4 tartom\u00E1ny\",\n        cidrv6: \"IPv6 tartom\u00E1ny\",\n        base64: \"base64-k\u00F3dolt string\",\n        base64url: \"base64url-k\u00F3dolt string\",\n        json_string: \"JSON string\",\n        e164: \"E.164 sz\u00E1m\",\n        jwt: \"JWT\",\n        template_literal: \"bemenet\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u00C9rv\u00E9nytelen bemenet: a v\u00E1rt \u00E9rt\u00E9k ${issue.expected}, a kapott \u00E9rt\u00E9k ${parsedType(issue.input)}`;\n            // return `Invalid input: expected ${issue.expected}, received ${util.getParsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u00C9rv\u00E9nytelen bemenet: a v\u00E1rt \u00E9rt\u00E9k ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u00C9rv\u00E9nytelen opci\u00F3: valamelyik \u00E9rt\u00E9k v\u00E1rt ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `T\u00FAl nagy: ${issue.origin ?? \"\u00E9rt\u00E9k\"} m\u00E9rete t\u00FAl nagy ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elem\"}`;\n                return `T\u00FAl nagy: a bemeneti \u00E9rt\u00E9k ${issue.origin ?? \"\u00E9rt\u00E9k\"} t\u00FAl nagy: ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `T\u00FAl kicsi: a bemeneti \u00E9rt\u00E9k ${issue.origin} m\u00E9rete t\u00FAl kicsi ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `T\u00FAl kicsi: a bemeneti \u00E9rt\u00E9k ${issue.origin} t\u00FAl kicsi ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `\u00C9rv\u00E9nytelen string: \"${_issue.prefix}\" \u00E9rt\u00E9kkel kell kezd\u0151dnie`;\n                if (_issue.format === \"ends_with\")\n                    return `\u00C9rv\u00E9nytelen string: \"${_issue.suffix}\" \u00E9rt\u00E9kkel kell v\u00E9gz\u0151dnie`;\n                if (_issue.format === \"includes\")\n                    return `\u00C9rv\u00E9nytelen string: \"${_issue.includes}\" \u00E9rt\u00E9ket kell tartalmaznia`;\n                if (_issue.format === \"regex\")\n                    return `\u00C9rv\u00E9nytelen string: ${_issue.pattern} mint\u00E1nak kell megfelelnie`;\n                return `\u00C9rv\u00E9nytelen ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u00C9rv\u00E9nytelen sz\u00E1m: ${issue.divisor} t\u00F6bbsz\u00F6r\u00F6s\u00E9nek kell lennie`;\n            case \"unrecognized_keys\":\n                return `Ismeretlen kulcs${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u00C9rv\u00E9nytelen kulcs ${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u00C9rv\u00E9nytelen bemenet\";\n            case \"invalid_element\":\n                return `\u00C9rv\u00E9nytelen \u00E9rt\u00E9k: ${issue.origin}`;\n            default:\n                return `\u00C9rv\u00E9nytelen bemenet`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"karakter\", verb: \"memiliki\" },\n        file: { unit: \"byte\", verb: \"memiliki\" },\n        array: { unit: \"item\", verb: \"memiliki\" },\n        set: { unit: \"item\", verb: \"memiliki\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"number\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"input\",\n        email: \"alamat email\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"tanggal dan waktu format ISO\",\n        date: \"tanggal format ISO\",\n        time: \"jam format ISO\",\n        duration: \"durasi format ISO\",\n        ipv4: \"alamat IPv4\",\n        ipv6: \"alamat IPv6\",\n        cidrv4: \"rentang alamat IPv4\",\n        cidrv6: \"rentang alamat IPv6\",\n        base64: \"string dengan enkode base64\",\n        base64url: \"string dengan enkode base64url\",\n        json_string: \"string JSON\",\n        e164: \"angka E.164\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Input tidak valid: diharapkan ${issue.expected}, diterima ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Input tidak valid: diharapkan ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Pilihan tidak valid: diharapkan salah satu dari ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Terlalu besar: diharapkan ${issue.origin ?? \"value\"} memiliki ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elemen\"}`;\n                return `Terlalu besar: diharapkan ${issue.origin ?? \"value\"} menjadi ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Terlalu kecil: diharapkan ${issue.origin} memiliki ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Terlalu kecil: diharapkan ${issue.origin} menjadi ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `String tidak valid: harus dimulai dengan \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `String tidak valid: harus berakhir dengan \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `String tidak valid: harus menyertakan \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `String tidak valid: harus sesuai pola ${_issue.pattern}`;\n                return `${Nouns[_issue.format] ?? issue.format} tidak valid`;\n            }\n            case \"not_multiple_of\":\n                return `Angka tidak valid: harus kelipatan dari ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Kunci tidak dikenali ${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Kunci tidak valid di ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Input tidak valid\";\n            case \"invalid_element\":\n                return `Nilai tidak valid di ${issue.origin}`;\n            default:\n                return `Input tidak valid`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nexport const parsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"number\": {\n            return Number.isNaN(data) ? \"NaN\" : \"n\u00FAmer\";\n        }\n        case \"object\": {\n            if (Array.isArray(data)) {\n                return \"fylki\";\n            }\n            if (data === null) {\n                return \"null\";\n            }\n            if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                return data.constructor.name;\n            }\n        }\n    }\n    return t;\n};\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"stafi\", verb: \"a\u00F0 hafa\" },\n        file: { unit: \"b\u00E6ti\", verb: \"a\u00F0 hafa\" },\n        array: { unit: \"hluti\", verb: \"a\u00F0 hafa\" },\n        set: { unit: \"hluti\", verb: \"a\u00F0 hafa\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const Nouns = {\n        regex: \"gildi\",\n        email: \"netfang\",\n        url: \"vefsl\u00F3\u00F0\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO dagsetning og t\u00EDmi\",\n        date: \"ISO dagsetning\",\n        time: \"ISO t\u00EDmi\",\n        duration: \"ISO t\u00EDmalengd\",\n        ipv4: \"IPv4 address\",\n        ipv6: \"IPv6 address\",\n        cidrv4: \"IPv4 range\",\n        cidrv6: \"IPv6 range\",\n        base64: \"base64-encoded strengur\",\n        base64url: \"base64url-encoded strengur\",\n        json_string: \"JSON strengur\",\n        e164: \"E.164 t\u00F6lugildi\",\n        jwt: \"JWT\",\n        template_literal: \"gildi\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Rangt gildi: \u00DE\u00FA sl\u00F3st inn ${parsedType(issue.input)} \u00FEar sem \u00E1 a\u00F0 vera ${issue.expected}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Rangt gildi: gert r\u00E1\u00F0 fyrir ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u00D3gilt val: m\u00E1 vera eitt af eftirfarandi ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Of st\u00F3rt: gert er r\u00E1\u00F0 fyrir a\u00F0 ${issue.origin ?? \"gildi\"} hafi ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"hluti\"}`;\n                return `Of st\u00F3rt: gert er r\u00E1\u00F0 fyrir a\u00F0 ${issue.origin ?? \"gildi\"} s\u00E9 ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Of l\u00EDti\u00F0: gert er r\u00E1\u00F0 fyrir a\u00F0 ${issue.origin} hafi ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Of l\u00EDti\u00F0: gert er r\u00E1\u00F0 fyrir a\u00F0 ${issue.origin} s\u00E9 ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\u00D3gildur strengur: ver\u00F0ur a\u00F0 byrja \u00E1 \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `\u00D3gildur strengur: ver\u00F0ur a\u00F0 enda \u00E1 \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u00D3gildur strengur: ver\u00F0ur a\u00F0 innihalda \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u00D3gildur strengur: ver\u00F0ur a\u00F0 fylgja mynstri ${_issue.pattern}`;\n                return `Rangt ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `R\u00F6ng tala: ver\u00F0ur a\u00F0 vera margfeldi af ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `\u00D3\u00FEekkt ${issue.keys.length > 1 ? \"ir lyklar\" : \"ur lykill\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Rangur lykill \u00ED ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Rangt gildi\";\n            case \"invalid_element\":\n                return `Rangt gildi \u00ED ${issue.origin}`;\n            default:\n                return `Rangt gildi`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"caratteri\", verb: \"avere\" },\n        file: { unit: \"byte\", verb: \"avere\" },\n        array: { unit: \"elementi\", verb: \"avere\" },\n        set: { unit: \"elementi\", verb: \"avere\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"numero\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"vettore\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"input\",\n        email: \"indirizzo email\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"data e ora ISO\",\n        date: \"data ISO\",\n        time: \"ora ISO\",\n        duration: \"durata ISO\",\n        ipv4: \"indirizzo IPv4\",\n        ipv6: \"indirizzo IPv6\",\n        cidrv4: \"intervallo IPv4\",\n        cidrv6: \"intervallo IPv6\",\n        base64: \"stringa codificata in base64\",\n        base64url: \"URL codificata in base64\",\n        json_string: \"stringa JSON\",\n        e164: \"numero E.164\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Input non valido: atteso ${issue.expected}, ricevuto ${parsedType(issue.input)}`;\n            // return `Input non valido: atteso ${issue.expected}, ricevuto ${util.getParsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Input non valido: atteso ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Opzione non valida: atteso uno tra ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Troppo grande: ${issue.origin ?? \"valore\"} deve avere ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementi\"}`;\n                return `Troppo grande: ${issue.origin ?? \"valore\"} deve essere ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Troppo piccolo: ${issue.origin} deve avere ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Troppo piccolo: ${issue.origin} deve essere ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Stringa non valida: deve iniziare con \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Stringa non valida: deve terminare con \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Stringa non valida: deve includere \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Stringa non valida: deve corrispondere al pattern ${_issue.pattern}`;\n                return `Invalid ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Numero non valido: deve essere un multiplo di ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Chiav${issue.keys.length > 1 ? \"i\" : \"e\"} non riconosciut${issue.keys.length > 1 ? \"e\" : \"a\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Chiave non valida in ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Input non valido\";\n            case \"invalid_element\":\n                return `Valore non valido in ${issue.origin}`;\n            default:\n                return `Input non valido`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u6587\u5B57\", verb: \"\u3067\u3042\u308B\" },\n        file: { unit: \"\u30D0\u30A4\u30C8\", verb: \"\u3067\u3042\u308B\" },\n        array: { unit: \"\u8981\u7D20\", verb: \"\u3067\u3042\u308B\" },\n        set: { unit: \"\u8981\u7D20\", verb: \"\u3067\u3042\u308B\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u6570\u5024\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u914D\u5217\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u5165\u529B\u5024\",\n        email: \"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\",\n        url: \"URL\",\n        emoji: \"\u7D75\u6587\u5B57\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO\u65E5\u6642\",\n        date: \"ISO\u65E5\u4ED8\",\n        time: \"ISO\u6642\u523B\",\n        duration: \"ISO\u671F\u9593\",\n        ipv4: \"IPv4\u30A2\u30C9\u30EC\u30B9\",\n        ipv6: \"IPv6\u30A2\u30C9\u30EC\u30B9\",\n        cidrv4: \"IPv4\u7BC4\u56F2\",\n        cidrv6: \"IPv6\u7BC4\u56F2\",\n        base64: \"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217\",\n        base64url: \"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217\",\n        json_string: \"JSON\u6587\u5B57\u5217\",\n        e164: \"E.164\u756A\u53F7\",\n        jwt: \"JWT\",\n        template_literal: \"\u5165\u529B\u5024\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u7121\u52B9\u306A\u5165\u529B: ${issue.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${parsedType(issue.input)}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u7121\u52B9\u306A\u5165\u529B: ${util.stringifyPrimitive(issue.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`;\n                return `\u7121\u52B9\u306A\u9078\u629E: ${util.joinValues(issue.values, \"\u3001\")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"\u4EE5\u4E0B\u3067\u3042\u308B\" : \"\u3088\u308A\u5C0F\u3055\u3044\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u5927\u304D\u3059\u304E\u308B\u5024: ${issue.origin ?? \"\u5024\"}\u306F${issue.maximum.toString()}${sizing.unit ?? \"\u8981\u7D20\"}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n                return `\u5927\u304D\u3059\u304E\u308B\u5024: ${issue.origin ?? \"\u5024\"}\u306F${issue.maximum.toString()}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \"\u4EE5\u4E0A\u3067\u3042\u308B\" : \"\u3088\u308A\u5927\u304D\u3044\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u5C0F\u3055\u3059\u304E\u308B\u5024: ${issue.origin}\u306F${issue.minimum.toString()}${sizing.unit}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n                return `\u5C0F\u3055\u3059\u304E\u308B\u5024: ${issue.origin}\u306F${issue.minimum.toString()}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `\u7121\u52B9\u306A\u6587\u5B57\u5217: \"${_issue.prefix}\"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n                if (_issue.format === \"ends_with\")\n                    return `\u7121\u52B9\u306A\u6587\u5B57\u5217: \"${_issue.suffix}\"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n                if (_issue.format === \"includes\")\n                    return `\u7121\u52B9\u306A\u6587\u5B57\u5217: \"${_issue.includes}\"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n                if (_issue.format === \"regex\")\n                    return `\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${_issue.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n                return `\u7121\u52B9\u306A${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u7121\u52B9\u306A\u6570\u5024: ${issue.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n            case \"unrecognized_keys\":\n                return `\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${issue.keys.length > 1 ? \"\u7FA4\" : \"\"}: ${util.joinValues(issue.keys, \"\u3001\")}`;\n            case \"invalid_key\":\n                return `${issue.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;\n            case \"invalid_union\":\n                return \"\u7121\u52B9\u306A\u5165\u529B\";\n            case \"invalid_element\":\n                return `${issue.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;\n            default:\n                return `\u7121\u52B9\u306A\u5165\u529B`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nexport const parsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"number\": {\n            return Number.isNaN(data) ? \"NaN\" : \"\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8\";\n        }\n        case \"object\": {\n            if (Array.isArray(data)) {\n                return \"\u10DB\u10D0\u10E1\u10D8\u10D5\u10D8\";\n            }\n            if (data === null) {\n                return \"null\";\n            }\n            if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                return data.constructor.name;\n            }\n        }\n    }\n    const typeMap = {\n        string: \"\u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8\",\n        boolean: \"\u10D1\u10E3\u10DA\u10D4\u10D0\u10DC\u10D8\",\n        undefined: \"undefined\",\n        bigint: \"bigint\",\n        symbol: \"symbol\",\n        function: \"\u10E4\u10E3\u10DC\u10E5\u10EA\u10D8\u10D0\",\n    };\n    return typeMap[t] ?? t;\n};\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u10E1\u10D8\u10DB\u10D1\u10DD\u10DA\u10DD\", verb: \"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1\" },\n        file: { unit: \"\u10D1\u10D0\u10D8\u10E2\u10D8\", verb: \"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1\" },\n        array: { unit: \"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8\", verb: \"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1\" },\n        set: { unit: \"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8\", verb: \"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const Nouns = {\n        regex: \"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0\",\n        email: \"\u10D4\u10DA-\u10E4\u10DD\u10E1\u10E2\u10D8\u10E1 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8\",\n        url: \"URL\",\n        emoji: \"\u10D4\u10DB\u10DD\u10EF\u10D8\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8-\u10D3\u10E0\u10DD\",\n        date: \"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8\",\n        time: \"\u10D3\u10E0\u10DD\",\n        duration: \"\u10EE\u10D0\u10DC\u10D2\u10E0\u10EB\u10DA\u10D8\u10D5\u10DD\u10D1\u10D0\",\n        ipv4: \"IPv4 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8\",\n        ipv6: \"IPv6 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8\",\n        cidrv4: \"IPv4 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8\",\n        cidrv6: \"IPv6 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8\",\n        base64: \"base64-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8\",\n        base64url: \"base64url-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8\",\n        json_string: \"JSON \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8\",\n        e164: \"E.164 \u10DC\u10DD\u10DB\u10D4\u10E0\u10D8\",\n        jwt: \"JWT\",\n        template_literal: \"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue.expected}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D5\u10D0\u10E0\u10D8\u10D0\u10DC\u10E2\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8\u10D0 \u10D4\u10E0\u10D7-\u10D4\u10E0\u10D7\u10D8 ${util.joinValues(issue.values, \"|\")}-\u10D3\u10D0\u10DC`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue.origin ?? \"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0\"} ${sizing.verb} ${adj}${issue.maximum.toString()} ${sizing.unit}`;\n                return `\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue.origin ?? \"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0\"} \u10D8\u10E7\u10DD\u10E1 ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue.origin} ${sizing.verb} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue.origin} \u10D8\u10E7\u10DD\u10E1 ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10EC\u10E7\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \"${_issue.prefix}\"-\u10D8\u10D7`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10DB\u10D7\u10D0\u10D5\u10E0\u10D3\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \"${_issue.suffix}\"-\u10D8\u10D7`;\n                if (_issue.format === \"includes\")\n                    return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1 \"${_issue.includes}\"-\u10E1`;\n                if (_issue.format === \"regex\")\n                    return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D4\u10E1\u10D0\u10D1\u10D0\u10DB\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \u10E8\u10D0\u10D1\u10DA\u10DD\u10DC\u10E1 ${_issue.pattern}`;\n                return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E0\u10D8\u10EA\u10EE\u10D5\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10E7\u10DD\u10E1 ${issue.divisor}-\u10D8\u10E1 \u10EF\u10D4\u10E0\u10D0\u10D3\u10D8`;\n            case \"unrecognized_keys\":\n                return `\u10E3\u10EA\u10DC\u10DD\u10D1\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1${issue.keys.length > 1 ? \"\u10D4\u10D1\u10D8\" : \"\u10D8\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1\u10D8 ${issue.origin}-\u10E8\u10D8`;\n            case \"invalid_union\":\n                return \"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0\";\n            case \"invalid_element\":\n                return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0 ${issue.origin}-\u10E8\u10D8`;\n            default:\n                return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A\", verb: \"\u1782\u17BD\u179A\u1798\u17B6\u1793\" },\n        file: { unit: \"\u1794\u17C3\", verb: \"\u1782\u17BD\u179A\u1798\u17B6\u1793\" },\n        array: { unit: \"\u1792\u17B6\u178F\u17BB\", verb: \"\u1782\u17BD\u179A\u1798\u17B6\u1793\" },\n        set: { unit: \"\u1792\u17B6\u178F\u17BB\", verb: \"\u1782\u17BD\u179A\u1798\u17B6\u1793\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"\u1798\u17B7\u1793\u1798\u17C2\u1793\u1787\u17B6\u179B\u17C1\u1781 (NaN)\" : \"\u179B\u17C1\u1781\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u17A2\u17B6\u179A\u17C1 (Array)\";\n                }\n                if (data === null) {\n                    return \"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\",\n        email: \"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B\",\n        url: \"URL\",\n        emoji: \"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO\",\n        date: \"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO\",\n        time: \"\u1798\u17C9\u17C4\u1784 ISO\",\n        duration: \"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO\",\n        ipv4: \"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4\",\n        ipv6: \"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6\",\n        cidrv4: \"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4\",\n        cidrv6: \"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6\",\n        base64: \"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64\",\n        base64url: \"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url\",\n        json_string: \"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON\",\n        e164: \"\u179B\u17C1\u1781 E.164\",\n        jwt: \"JWT\",\n        template_literal: \"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue.origin ?? \"\u178F\u1798\u17D2\u179B\u17C3\"} ${adj} ${issue.maximum.toString()} ${sizing.unit ?? \"\u1792\u17B6\u178F\u17BB\"}`;\n                return `\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue.origin ?? \"\u178F\u1798\u17D2\u179B\u17C3\"} ${adj} ${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue.origin} ${adj} ${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue.origin} ${adj} ${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${_issue.pattern}`;\n                return `\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${issue.origin}`;\n            case \"invalid_union\":\n                return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C`;\n            case \"invalid_element\":\n                return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${issue.origin}`;\n            default:\n                return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import km from \"./km.js\";\n/** @deprecated Use `km` instead. */\nexport default function () {\n    return km();\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\uBB38\uC790\", verb: \"to have\" },\n        file: { unit: \"\uBC14\uC774\uD2B8\", verb: \"to have\" },\n        array: { unit: \"\uAC1C\", verb: \"to have\" },\n        set: { unit: \"\uAC1C\", verb: \"to have\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"number\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\uC785\uB825\",\n        email: \"\uC774\uBA54\uC77C \uC8FC\uC18C\",\n        url: \"URL\",\n        emoji: \"\uC774\uBAA8\uC9C0\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO \uB0A0\uC9DC\uC2DC\uAC04\",\n        date: \"ISO \uB0A0\uC9DC\",\n        time: \"ISO \uC2DC\uAC04\",\n        duration: \"ISO \uAE30\uAC04\",\n        ipv4: \"IPv4 \uC8FC\uC18C\",\n        ipv6: \"IPv6 \uC8FC\uC18C\",\n        cidrv4: \"IPv4 \uBC94\uC704\",\n        cidrv6: \"IPv6 \uBC94\uC704\",\n        base64: \"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4\",\n        base64url: \"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4\",\n        json_string: \"JSON \uBB38\uC790\uC5F4\",\n        e164: \"E.164 \uBC88\uD638\",\n        jwt: \"JWT\",\n        template_literal: \"\uC785\uB825\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${issue.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${parsedType(issue.input)}\uC785\uB2C8\uB2E4`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${util.stringifyPrimitive(issue.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`;\n                return `\uC798\uBABB\uB41C \uC635\uC158: ${util.joinValues(issue.values, \"\uB610\uB294 \")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"\uC774\uD558\" : \"\uBBF8\uB9CC\";\n                const suffix = adj === \"\uBBF8\uB9CC\" ? \"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4\" : \"\uC5EC\uC57C \uD569\uB2C8\uB2E4\";\n                const sizing = getSizing(issue.origin);\n                const unit = sizing?.unit ?? \"\uC694\uC18C\";\n                if (sizing)\n                    return `${issue.origin ?? \"\uAC12\"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${issue.maximum.toString()}${unit} ${adj}${suffix}`;\n                return `${issue.origin ?? \"\uAC12\"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${issue.maximum.toString()} ${adj}${suffix}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \"\uC774\uC0C1\" : \"\uCD08\uACFC\";\n                const suffix = adj === \"\uC774\uC0C1\" ? \"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4\" : \"\uC5EC\uC57C \uD569\uB2C8\uB2E4\";\n                const sizing = getSizing(issue.origin);\n                const unit = sizing?.unit ?? \"\uC694\uC18C\";\n                if (sizing) {\n                    return `${issue.origin ?? \"\uAC12\"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${issue.minimum.toString()}${unit} ${adj}${suffix}`;\n                }\n                return `${issue.origin ?? \"\uAC12\"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${issue.minimum.toString()} ${adj}${suffix}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \"${_issue.prefix}\"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \"${_issue.suffix}\"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`;\n                if (_issue.format === \"includes\")\n                    return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \"${_issue.includes}\"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`;\n                if (_issue.format === \"regex\")\n                    return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${_issue.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`;\n                return `\uC798\uBABB\uB41C ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\uC798\uBABB\uB41C \uC22B\uC790: ${issue.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;\n            case \"unrecognized_keys\":\n                return `\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\uC798\uBABB\uB41C \uD0A4: ${issue.origin}`;\n            case \"invalid_union\":\n                return `\uC798\uBABB\uB41C \uC785\uB825`;\n            case \"invalid_element\":\n                return `\uC798\uBABB\uB41C \uAC12: ${issue.origin}`;\n            default:\n                return `\uC798\uBABB\uB41C \uC785\uB825`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nexport const parsedType = (data) => {\n    const t = typeof data;\n    return parsedTypeFromType(t, data);\n};\nconst parsedTypeFromType = (t, data = undefined) => {\n    switch (t) {\n        case \"number\": {\n            return Number.isNaN(data) ? \"NaN\" : \"skai\u010Dius\";\n        }\n        case \"bigint\": {\n            return \"sveikasis skai\u010Dius\";\n        }\n        case \"string\": {\n            return \"eilut\u0117\";\n        }\n        case \"boolean\": {\n            return \"login\u0117 reik\u0161m\u0117\";\n        }\n        case \"undefined\":\n        case \"void\": {\n            return \"neapibr\u0117\u017Eta reik\u0161m\u0117\";\n        }\n        case \"function\": {\n            return \"funkcija\";\n        }\n        case \"symbol\": {\n            return \"simbolis\";\n        }\n        case \"object\": {\n            if (data === undefined)\n                return \"ne\u017Einomas objektas\";\n            if (data === null)\n                return \"nulin\u0117 reik\u0161m\u0117\";\n            if (Array.isArray(data))\n                return \"masyvas\";\n            if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                return data.constructor.name;\n            }\n            return \"objektas\";\n        }\n        //Zod types below\n        case \"null\": {\n            return \"nulin\u0117 reik\u0161m\u0117\";\n        }\n    }\n    return t;\n};\nconst capitalizeFirstCharacter = (text) => {\n    return text.charAt(0).toUpperCase() + text.slice(1);\n};\nfunction getUnitTypeFromNumber(number) {\n    const abs = Math.abs(number);\n    const last = abs % 10;\n    const last2 = abs % 100;\n    if ((last2 >= 11 && last2 <= 19) || last === 0)\n        return \"many\";\n    if (last === 1)\n        return \"one\";\n    return \"few\";\n}\nconst error = () => {\n    const Sizable = {\n        string: {\n            unit: {\n                one: \"simbolis\",\n                few: \"simboliai\",\n                many: \"simboli\u0173\",\n            },\n            verb: {\n                smaller: {\n                    inclusive: \"turi b\u016Bti ne ilgesn\u0117 kaip\",\n                    notInclusive: \"turi b\u016Bti trumpesn\u0117 kaip\",\n                },\n                bigger: {\n                    inclusive: \"turi b\u016Bti ne trumpesn\u0117 kaip\",\n                    notInclusive: \"turi b\u016Bti ilgesn\u0117 kaip\",\n                },\n            },\n        },\n        file: {\n            unit: {\n                one: \"baitas\",\n                few: \"baitai\",\n                many: \"bait\u0173\",\n            },\n            verb: {\n                smaller: {\n                    inclusive: \"turi b\u016Bti ne didesnis kaip\",\n                    notInclusive: \"turi b\u016Bti ma\u017Eesnis kaip\",\n                },\n                bigger: {\n                    inclusive: \"turi b\u016Bti ne ma\u017Eesnis kaip\",\n                    notInclusive: \"turi b\u016Bti didesnis kaip\",\n                },\n            },\n        },\n        array: {\n            unit: {\n                one: \"element\u0105\",\n                few: \"elementus\",\n                many: \"element\u0173\",\n            },\n            verb: {\n                smaller: {\n                    inclusive: \"turi tur\u0117ti ne daugiau kaip\",\n                    notInclusive: \"turi tur\u0117ti ma\u017Eiau kaip\",\n                },\n                bigger: {\n                    inclusive: \"turi tur\u0117ti ne ma\u017Eiau kaip\",\n                    notInclusive: \"turi tur\u0117ti daugiau kaip\",\n                },\n            },\n        },\n        set: {\n            unit: {\n                one: \"element\u0105\",\n                few: \"elementus\",\n                many: \"element\u0173\",\n            },\n            verb: {\n                smaller: {\n                    inclusive: \"turi tur\u0117ti ne daugiau kaip\",\n                    notInclusive: \"turi tur\u0117ti ma\u017Eiau kaip\",\n                },\n                bigger: {\n                    inclusive: \"turi tur\u0117ti ne ma\u017Eiau kaip\",\n                    notInclusive: \"turi tur\u0117ti daugiau kaip\",\n                },\n            },\n        },\n    };\n    function getSizing(origin, unitType, inclusive, targetShouldBe) {\n        const result = Sizable[origin] ?? null;\n        if (result === null)\n            return result;\n        return {\n            unit: result.unit[unitType],\n            verb: result.verb[targetShouldBe][inclusive ? \"inclusive\" : \"notInclusive\"],\n        };\n    }\n    const Nouns = {\n        regex: \"\u012Fvestis\",\n        email: \"el. pa\u0161to adresas\",\n        url: \"URL\",\n        emoji: \"jaustukas\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO data ir laikas\",\n        date: \"ISO data\",\n        time: \"ISO laikas\",\n        duration: \"ISO trukm\u0117\",\n        ipv4: \"IPv4 adresas\",\n        ipv6: \"IPv6 adresas\",\n        cidrv4: \"IPv4 tinklo prefiksas (CIDR)\",\n        cidrv6: \"IPv6 tinklo prefiksas (CIDR)\",\n        base64: \"base64 u\u017Ekoduota eilut\u0117\",\n        base64url: \"base64url u\u017Ekoduota eilut\u0117\",\n        json_string: \"JSON eilut\u0117\",\n        e164: \"E.164 numeris\",\n        jwt: \"JWT\",\n        template_literal: \"\u012Fvestis\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Gautas tipas ${parsedType(issue.input)}, o tik\u0117tasi - ${parsedTypeFromType(issue.expected)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Privalo b\u016Bti ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Privalo b\u016Bti vienas i\u0161 ${util.joinValues(issue.values, \"|\")} pasirinkim\u0173`;\n            case \"too_big\": {\n                const origin = parsedTypeFromType(issue.origin);\n                const sizing = getSizing(issue.origin, getUnitTypeFromNumber(Number(issue.maximum)), issue.inclusive ?? false, \"smaller\");\n                if (sizing?.verb)\n                    return `${capitalizeFirstCharacter(origin ?? issue.origin ?? \"reik\u0161m\u0117\")} ${sizing.verb} ${issue.maximum.toString()} ${sizing.unit ?? \"element\u0173\"}`;\n                const adj = issue.inclusive ? \"ne didesnis kaip\" : \"ma\u017Eesnis kaip\";\n                return `${capitalizeFirstCharacter(origin ?? issue.origin ?? \"reik\u0161m\u0117\")} turi b\u016Bti ${adj} ${issue.maximum.toString()} ${sizing?.unit}`;\n            }\n            case \"too_small\": {\n                const origin = parsedTypeFromType(issue.origin);\n                const sizing = getSizing(issue.origin, getUnitTypeFromNumber(Number(issue.minimum)), issue.inclusive ?? false, \"bigger\");\n                if (sizing?.verb)\n                    return `${capitalizeFirstCharacter(origin ?? issue.origin ?? \"reik\u0161m\u0117\")} ${sizing.verb} ${issue.minimum.toString()} ${sizing.unit ?? \"element\u0173\"}`;\n                const adj = issue.inclusive ? \"ne ma\u017Eesnis kaip\" : \"didesnis kaip\";\n                return `${capitalizeFirstCharacter(origin ?? issue.origin ?? \"reik\u0161m\u0117\")} turi b\u016Bti ${adj} ${issue.minimum.toString()} ${sizing?.unit}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Eilut\u0117 privalo prasid\u0117ti \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Eilut\u0117 privalo pasibaigti \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Eilut\u0117 privalo \u012Ftraukti \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Eilut\u0117 privalo atitikti ${_issue.pattern}`;\n                return `Neteisingas ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Skai\u010Dius privalo b\u016Bti ${issue.divisor} kartotinis.`;\n            case \"unrecognized_keys\":\n                return `Neatpa\u017Eint${issue.keys.length > 1 ? \"i\" : \"as\"} rakt${issue.keys.length > 1 ? \"ai\" : \"as\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return \"Rastas klaidingas raktas\";\n            case \"invalid_union\":\n                return \"Klaidinga \u012Fvestis\";\n            case \"invalid_element\": {\n                const origin = parsedTypeFromType(issue.origin);\n                return `${capitalizeFirstCharacter(origin ?? issue.origin ?? \"reik\u0161m\u0117\")} turi klaiding\u0105 \u012Fvest\u012F`;\n            }\n            default:\n                return \"Klaidinga \u012Fvestis\";\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u0437\u043D\u0430\u0446\u0438\", verb: \"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442\" },\n        file: { unit: \"\u0431\u0430\u0458\u0442\u0438\", verb: \"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442\" },\n        array: { unit: \"\u0441\u0442\u0430\u0432\u043A\u0438\", verb: \"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442\" },\n        set: { unit: \"\u0441\u0442\u0430\u0432\u043A\u0438\", verb: \"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u0431\u0440\u043E\u0458\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u043D\u0438\u0437\u0430\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0432\u043D\u0435\u0441\",\n        email: \"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430\",\n        url: \"URL\",\n        emoji: \"\u0435\u043C\u043E\u045F\u0438\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435\",\n        date: \"ISO \u0434\u0430\u0442\u0443\u043C\",\n        time: \"ISO \u0432\u0440\u0435\u043C\u0435\",\n        duration: \"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435\",\n        ipv4: \"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430\",\n        ipv6: \"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430\",\n        cidrv4: \"IPv4 \u043E\u043F\u0441\u0435\u0433\",\n        cidrv6: \"IPv6 \u043E\u043F\u0441\u0435\u0433\",\n        base64: \"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430\",\n        base64url: \"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430\",\n        json_string: \"JSON \u043D\u0438\u0437\u0430\",\n        e164: \"E.164 \u0431\u0440\u043E\u0458\",\n        jwt: \"JWT\",\n        template_literal: \"\u0432\u043D\u0435\u0441\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${parsedType(issue.input)}`;\n            // return `Invalid input: expected ${issue.expected}, received ${util.getParsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Invalid input: expected ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue.origin ?? \"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430\"} \u0434\u0430 \u0438\u043C\u0430 ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438\"}`;\n                return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue.origin ?? \"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430\"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue.origin} \u0434\u0430 \u0438\u043C\u0430 ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${_issue.pattern}`;\n                return `Invalid ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `${issue.keys.length > 1 ? \"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438\" : \"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441\";\n            case \"invalid_element\":\n                return `\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${issue.origin}`;\n            default:\n                return `\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"aksara\", verb: \"mempunyai\" },\n        file: { unit: \"bait\", verb: \"mempunyai\" },\n        array: { unit: \"elemen\", verb: \"mempunyai\" },\n        set: { unit: \"elemen\", verb: \"mempunyai\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"nombor\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"input\",\n        email: \"alamat e-mel\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"tarikh masa ISO\",\n        date: \"tarikh ISO\",\n        time: \"masa ISO\",\n        duration: \"tempoh ISO\",\n        ipv4: \"alamat IPv4\",\n        ipv6: \"alamat IPv6\",\n        cidrv4: \"julat IPv4\",\n        cidrv6: \"julat IPv6\",\n        base64: \"string dikodkan base64\",\n        base64url: \"string dikodkan base64url\",\n        json_string: \"string JSON\",\n        e164: \"nombor E.164\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Input tidak sah: dijangka ${issue.expected}, diterima ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Input tidak sah: dijangka ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Pilihan tidak sah: dijangka salah satu daripada ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Terlalu besar: dijangka ${issue.origin ?? \"nilai\"} ${sizing.verb} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elemen\"}`;\n                return `Terlalu besar: dijangka ${issue.origin ?? \"nilai\"} adalah ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Terlalu kecil: dijangka ${issue.origin} ${sizing.verb} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Terlalu kecil: dijangka ${issue.origin} adalah ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `String tidak sah: mesti bermula dengan \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `String tidak sah: mesti berakhir dengan \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `String tidak sah: mesti mengandungi \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `String tidak sah: mesti sepadan dengan corak ${_issue.pattern}`;\n                return `${Nouns[_issue.format] ?? issue.format} tidak sah`;\n            }\n            case \"not_multiple_of\":\n                return `Nombor tidak sah: perlu gandaan ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Kunci tidak dikenali: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Kunci tidak sah dalam ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Input tidak sah\";\n            case \"invalid_element\":\n                return `Nilai tidak sah dalam ${issue.origin}`;\n            default:\n                return `Input tidak sah`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"tekens\", verb: \"te hebben\" },\n        file: { unit: \"bytes\", verb: \"te hebben\" },\n        array: { unit: \"elementen\", verb: \"te hebben\" },\n        set: { unit: \"elementen\", verb: \"te hebben\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"getal\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"invoer\",\n        email: \"emailadres\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO datum en tijd\",\n        date: \"ISO datum\",\n        time: \"ISO tijd\",\n        duration: \"ISO duur\",\n        ipv4: \"IPv4-adres\",\n        ipv6: \"IPv6-adres\",\n        cidrv4: \"IPv4-bereik\",\n        cidrv6: \"IPv6-bereik\",\n        base64: \"base64-gecodeerde tekst\",\n        base64url: \"base64 URL-gecodeerde tekst\",\n        json_string: \"JSON string\",\n        e164: \"E.164-nummer\",\n        jwt: \"JWT\",\n        template_literal: \"invoer\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Ongeldige invoer: verwacht ${issue.expected}, ontving ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Ongeldige invoer: verwacht ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Ongeldige optie: verwacht \u00E9\u00E9n van ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Te groot: verwacht dat ${issue.origin ?? \"waarde\"} ${sizing.verb} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementen\"}`;\n                return `Te groot: verwacht dat ${issue.origin ?? \"waarde\"} ${adj}${issue.maximum.toString()} is`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Te klein: verwacht dat ${issue.origin} ${sizing.verb} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Te klein: verwacht dat ${issue.origin} ${adj}${issue.minimum.toString()} is`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Ongeldige tekst: moet met \"${_issue.prefix}\" beginnen`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Ongeldige tekst: moet op \"${_issue.suffix}\" eindigen`;\n                if (_issue.format === \"includes\")\n                    return `Ongeldige tekst: moet \"${_issue.includes}\" bevatten`;\n                if (_issue.format === \"regex\")\n                    return `Ongeldige tekst: moet overeenkomen met patroon ${_issue.pattern}`;\n                return `Ongeldig: ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Ongeldig getal: moet een veelvoud van ${issue.divisor} zijn`;\n            case \"unrecognized_keys\":\n                return `Onbekende key${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Ongeldige key in ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Ongeldige invoer\";\n            case \"invalid_element\":\n                return `Ongeldige waarde in ${issue.origin}`;\n            default:\n                return `Ongeldige invoer`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"tegn\", verb: \"\u00E5 ha\" },\n        file: { unit: \"bytes\", verb: \"\u00E5 ha\" },\n        array: { unit: \"elementer\", verb: \"\u00E5 inneholde\" },\n        set: { unit: \"elementer\", verb: \"\u00E5 inneholde\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"tall\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"liste\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"input\",\n        email: \"e-postadresse\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO dato- og klokkeslett\",\n        date: \"ISO-dato\",\n        time: \"ISO-klokkeslett\",\n        duration: \"ISO-varighet\",\n        ipv4: \"IPv4-omr\u00E5de\",\n        ipv6: \"IPv6-omr\u00E5de\",\n        cidrv4: \"IPv4-spekter\",\n        cidrv6: \"IPv6-spekter\",\n        base64: \"base64-enkodet streng\",\n        base64url: \"base64url-enkodet streng\",\n        json_string: \"JSON-streng\",\n        e164: \"E.164-nummer\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Ugyldig input: forventet ${issue.expected}, fikk ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Ugyldig verdi: forventet ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Ugyldig valg: forventet en av ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `For stor(t): forventet ${issue.origin ?? \"value\"} til \u00E5 ha ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementer\"}`;\n                return `For stor(t): forventet ${issue.origin ?? \"value\"} til \u00E5 ha ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `For lite(n): forventet ${issue.origin} til \u00E5 ha ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `For lite(n): forventet ${issue.origin} til \u00E5 ha ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Ugyldig streng: m\u00E5 starte med \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Ugyldig streng: m\u00E5 ende med \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Ugyldig streng: m\u00E5 inneholde \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Ugyldig streng: m\u00E5 matche m\u00F8nsteret ${_issue.pattern}`;\n                return `Ugyldig ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Ugyldig tall: m\u00E5 v\u00E6re et multiplum av ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `${issue.keys.length > 1 ? \"Ukjente n\u00F8kler\" : \"Ukjent n\u00F8kkel\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Ugyldig n\u00F8kkel i ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Ugyldig input\";\n            case \"invalid_element\":\n                return `Ugyldig verdi i ${issue.origin}`;\n            default:\n                return `Ugyldig input`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"harf\", verb: \"olmal\u0131d\u0131r\" },\n        file: { unit: \"bayt\", verb: \"olmal\u0131d\u0131r\" },\n        array: { unit: \"unsur\", verb: \"olmal\u0131d\u0131r\" },\n        set: { unit: \"unsur\", verb: \"olmal\u0131d\u0131r\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"numara\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"saf\";\n                }\n                if (data === null) {\n                    return \"gayb\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"giren\",\n        email: \"epostag\u00E2h\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO heng\u00E2m\u0131\",\n        date: \"ISO tarihi\",\n        time: \"ISO zaman\u0131\",\n        duration: \"ISO m\u00FCddeti\",\n        ipv4: \"IPv4 ni\u015F\u00E2n\u0131\",\n        ipv6: \"IPv6 ni\u015F\u00E2n\u0131\",\n        cidrv4: \"IPv4 menzili\",\n        cidrv6: \"IPv6 menzili\",\n        base64: \"base64-\u015Fifreli metin\",\n        base64url: \"base64url-\u015Fifreli metin\",\n        json_string: \"JSON metin\",\n        e164: \"E.164 say\u0131s\u0131\",\n        jwt: \"JWT\",\n        template_literal: \"giren\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `F\u00E2sit giren: umulan ${issue.expected}, al\u0131nan ${parsedType(issue.input)}`;\n            // return `F\u00E2sit giren: umulan ${issue.expected}, al\u0131nan ${util.getParsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `F\u00E2sit giren: umulan ${util.stringifyPrimitive(issue.values[0])}`;\n                return `F\u00E2sit tercih: m\u00FBteberler ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Fazla b\u00FCy\u00FCk: ${issue.origin ?? \"value\"}, ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elements\"} sahip olmal\u0131yd\u0131.`;\n                return `Fazla b\u00FCy\u00FCk: ${issue.origin ?? \"value\"}, ${adj}${issue.maximum.toString()} olmal\u0131yd\u0131.`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Fazla k\u00FC\u00E7\u00FCk: ${issue.origin}, ${adj}${issue.minimum.toString()} ${sizing.unit} sahip olmal\u0131yd\u0131.`;\n                }\n                return `Fazla k\u00FC\u00E7\u00FCk: ${issue.origin}, ${adj}${issue.minimum.toString()} olmal\u0131yd\u0131.`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `F\u00E2sit metin: \"${_issue.prefix}\" ile ba\u015Flamal\u0131.`;\n                if (_issue.format === \"ends_with\")\n                    return `F\u00E2sit metin: \"${_issue.suffix}\" ile bitmeli.`;\n                if (_issue.format === \"includes\")\n                    return `F\u00E2sit metin: \"${_issue.includes}\" ihtiv\u00E2 etmeli.`;\n                if (_issue.format === \"regex\")\n                    return `F\u00E2sit metin: ${_issue.pattern} nak\u015F\u0131na uymal\u0131.`;\n                return `F\u00E2sit ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `F\u00E2sit say\u0131: ${issue.divisor} kat\u0131 olmal\u0131yd\u0131.`;\n            case \"unrecognized_keys\":\n                return `Tan\u0131nmayan anahtar ${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `${issue.origin} i\u00E7in tan\u0131nmayan anahtar var.`;\n            case \"invalid_union\":\n                return \"Giren tan\u0131namad\u0131.\";\n            case \"invalid_element\":\n                return `${issue.origin} i\u00E7in tan\u0131nmayan k\u0131ymet var.`;\n            default:\n                return `K\u0131ymet tan\u0131namad\u0131.`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u062A\u0648\u06A9\u064A\", verb: \"\u0648\u0644\u0631\u064A\" },\n        file: { unit: \"\u0628\u0627\u06CC\u067C\u0633\", verb: \"\u0648\u0644\u0631\u064A\" },\n        array: { unit: \"\u062A\u0648\u06A9\u064A\", verb: \"\u0648\u0644\u0631\u064A\" },\n        set: { unit: \"\u062A\u0648\u06A9\u064A\", verb: \"\u0648\u0644\u0631\u064A\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u0639\u062F\u062F\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u0627\u0631\u06D0\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0648\u0631\u0648\u062F\u064A\",\n        email: \"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9\",\n        url: \"\u06CC\u0648 \u0622\u0631 \u0627\u0644\",\n        emoji: \"\u0627\u06CC\u0645\u0648\u062C\u064A\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A\",\n        date: \"\u0646\u06D0\u067C\u0647\",\n        time: \"\u0648\u062E\u062A\",\n        duration: \"\u0645\u0648\u062F\u0647\",\n        ipv4: \"\u062F IPv4 \u067E\u062A\u0647\",\n        ipv6: \"\u062F IPv6 \u067E\u062A\u0647\",\n        cidrv4: \"\u062F IPv4 \u0633\u0627\u062D\u0647\",\n        cidrv6: \"\u062F IPv6 \u0633\u0627\u062D\u0647\",\n        base64: \"base64-encoded \u0645\u062A\u0646\",\n        base64url: \"base64url-encoded \u0645\u062A\u0646\",\n        json_string: \"JSON \u0645\u062A\u0646\",\n        e164: \"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647\",\n        jwt: \"JWT\",\n        template_literal: \"\u0648\u0631\u0648\u062F\u064A\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${issue.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${parsedType(issue.input)} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;\n            case \"invalid_value\":\n                if (issue.values.length === 1) {\n                    return `\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${util.stringifyPrimitive(issue.values[0])} \u0648\u0627\u06CC`;\n                }\n                return `\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${util.joinValues(issue.values, \"|\")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${issue.origin ?? \"\u0627\u0631\u0632\u069A\u062A\"} \u0628\u0627\u06CC\u062F ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u0639\u0646\u0635\u0631\u0648\u0646\u0647\"} \u0648\u0644\u0631\u064A`;\n                }\n                return `\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${issue.origin ?? \"\u0627\u0631\u0632\u069A\u062A\"} \u0628\u0627\u06CC\u062F ${adj}${issue.maximum.toString()} \u0648\u064A`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${issue.origin} \u0628\u0627\u06CC\u062F ${adj}${issue.minimum.toString()} ${sizing.unit} \u0648\u0644\u0631\u064A`;\n                }\n                return `\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${issue.origin} \u0628\u0627\u06CC\u062F ${adj}${issue.minimum.toString()} \u0648\u064A`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F \"${_issue.prefix}\" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`;\n                }\n                if (_issue.format === \"ends_with\") {\n                    return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F \"${_issue.suffix}\" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`;\n                }\n                if (_issue.format === \"includes\") {\n                    return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \"${_issue.includes}\" \u0648\u0644\u0631\u064A`;\n                }\n                if (_issue.format === \"regex\") {\n                    return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${_issue.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`;\n                }\n                return `${Nouns[_issue.format] ?? issue.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`;\n            }\n            case \"not_multiple_of\":\n                return `\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${issue.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;\n            case \"unrecognized_keys\":\n                return `\u0646\u0627\u0633\u0645 ${issue.keys.length > 1 ? \"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647\" : \"\u06A9\u0644\u06CC\u0689\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${issue.origin} \u06A9\u06D0`;\n            case \"invalid_union\":\n                return `\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A`;\n            case \"invalid_element\":\n                return `\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${issue.origin} \u06A9\u06D0`;\n            default:\n                return `\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"znak\u00F3w\", verb: \"mie\u0107\" },\n        file: { unit: \"bajt\u00F3w\", verb: \"mie\u0107\" },\n        array: { unit: \"element\u00F3w\", verb: \"mie\u0107\" },\n        set: { unit: \"element\u00F3w\", verb: \"mie\u0107\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"liczba\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"tablica\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"wyra\u017Cenie\",\n        email: \"adres email\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"data i godzina w formacie ISO\",\n        date: \"data w formacie ISO\",\n        time: \"godzina w formacie ISO\",\n        duration: \"czas trwania ISO\",\n        ipv4: \"adres IPv4\",\n        ipv6: \"adres IPv6\",\n        cidrv4: \"zakres IPv4\",\n        cidrv6: \"zakres IPv6\",\n        base64: \"ci\u0105g znak\u00F3w zakodowany w formacie base64\",\n        base64url: \"ci\u0105g znak\u00F3w zakodowany w formacie base64url\",\n        json_string: \"ci\u0105g znak\u00F3w w formacie JSON\",\n        e164: \"liczba E.164\",\n        jwt: \"JWT\",\n        template_literal: \"wej\u015Bcie\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${issue.expected}, otrzymano ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${issue.origin ?? \"warto\u015B\u0107\"} b\u0119dzie mie\u0107 ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"element\u00F3w\"}`;\n                }\n                return `Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${issue.origin ?? \"warto\u015B\u0107\"} b\u0119dzie wynosi\u0107 ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${issue.origin ?? \"warto\u015B\u0107\"} b\u0119dzie mie\u0107 ${adj}${issue.minimum.toString()} ${sizing.unit ?? \"element\u00F3w\"}`;\n                }\n                return `Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${issue.origin ?? \"warto\u015B\u0107\"} b\u0119dzie wynosi\u0107 ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Nieprawid\u0142owy ci\u0105g znak\u00F3w: musi zaczyna\u0107 si\u0119 od \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Nieprawid\u0142owy ci\u0105g znak\u00F3w: musi ko\u0144czy\u0107 si\u0119 na \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Nieprawid\u0142owy ci\u0105g znak\u00F3w: musi zawiera\u0107 \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Nieprawid\u0142owy ci\u0105g znak\u00F3w: musi odpowiada\u0107 wzorcowi ${_issue.pattern}`;\n                return `Nieprawid\u0142ow(y/a/e) ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Nierozpoznane klucze${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Nieprawid\u0142owy klucz w ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Nieprawid\u0142owe dane wej\u015Bciowe\";\n            case \"invalid_element\":\n                return `Nieprawid\u0142owa warto\u015B\u0107 w ${issue.origin}`;\n            default:\n                return `Nieprawid\u0142owe dane wej\u015Bciowe`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"caracteres\", verb: \"ter\" },\n        file: { unit: \"bytes\", verb: \"ter\" },\n        array: { unit: \"itens\", verb: \"ter\" },\n        set: { unit: \"itens\", verb: \"ter\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"n\u00FAmero\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"nulo\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"padr\u00E3o\",\n        email: \"endere\u00E7o de e-mail\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"data e hora ISO\",\n        date: \"data ISO\",\n        time: \"hora ISO\",\n        duration: \"dura\u00E7\u00E3o ISO\",\n        ipv4: \"endere\u00E7o IPv4\",\n        ipv6: \"endere\u00E7o IPv6\",\n        cidrv4: \"faixa de IPv4\",\n        cidrv6: \"faixa de IPv6\",\n        base64: \"texto codificado em base64\",\n        base64url: \"URL codificada em base64\",\n        json_string: \"texto JSON\",\n        e164: \"n\u00FAmero E.164\",\n        jwt: \"JWT\",\n        template_literal: \"entrada\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Tipo inv\u00E1lido: esperado ${issue.expected}, recebido ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Entrada inv\u00E1lida: esperado ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Op\u00E7\u00E3o inv\u00E1lida: esperada uma das ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Muito grande: esperado que ${issue.origin ?? \"valor\"} tivesse ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementos\"}`;\n                return `Muito grande: esperado que ${issue.origin ?? \"valor\"} fosse ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Muito pequeno: esperado que ${issue.origin} tivesse ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Muito pequeno: esperado que ${issue.origin} fosse ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Texto inv\u00E1lido: deve come\u00E7ar com \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Texto inv\u00E1lido: deve terminar com \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Texto inv\u00E1lido: deve incluir \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Texto inv\u00E1lido: deve corresponder ao padr\u00E3o ${_issue.pattern}`;\n                return `${Nouns[_issue.format] ?? issue.format} inv\u00E1lido`;\n            }\n            case \"not_multiple_of\":\n                return `N\u00FAmero inv\u00E1lido: deve ser m\u00FAltiplo de ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Chave${issue.keys.length > 1 ? \"s\" : \"\"} desconhecida${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Chave inv\u00E1lida em ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Entrada inv\u00E1lida\";\n            case \"invalid_element\":\n                return `Valor inv\u00E1lido em ${issue.origin}`;\n            default:\n                return `Campo inv\u00E1lido`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nfunction getRussianPlural(count, one, few, many) {\n    const absCount = Math.abs(count);\n    const lastDigit = absCount % 10;\n    const lastTwoDigits = absCount % 100;\n    if (lastTwoDigits >= 11 && lastTwoDigits <= 19) {\n        return many;\n    }\n    if (lastDigit === 1) {\n        return one;\n    }\n    if (lastDigit >= 2 && lastDigit <= 4) {\n        return few;\n    }\n    return many;\n}\nconst error = () => {\n    const Sizable = {\n        string: {\n            unit: {\n                one: \"\u0441\u0438\u043C\u0432\u043E\u043B\",\n                few: \"\u0441\u0438\u043C\u0432\u043E\u043B\u0430\",\n                many: \"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432\",\n            },\n            verb: \"\u0438\u043C\u0435\u0442\u044C\",\n        },\n        file: {\n            unit: {\n                one: \"\u0431\u0430\u0439\u0442\",\n                few: \"\u0431\u0430\u0439\u0442\u0430\",\n                many: \"\u0431\u0430\u0439\u0442\",\n            },\n            verb: \"\u0438\u043C\u0435\u0442\u044C\",\n        },\n        array: {\n            unit: {\n                one: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\",\n                few: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\",\n                many: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432\",\n            },\n            verb: \"\u0438\u043C\u0435\u0442\u044C\",\n        },\n        set: {\n            unit: {\n                one: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\",\n                few: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\",\n                many: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432\",\n            },\n            verb: \"\u0438\u043C\u0435\u0442\u044C\",\n        },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u0447\u0438\u0441\u043B\u043E\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u043C\u0430\u0441\u0441\u0438\u0432\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0432\u0432\u043E\u0434\",\n        email: \"email \u0430\u0434\u0440\u0435\u0441\",\n        url: \"URL\",\n        emoji: \"\u044D\u043C\u043E\u0434\u0437\u0438\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F\",\n        date: \"ISO \u0434\u0430\u0442\u0430\",\n        time: \"ISO \u0432\u0440\u0435\u043C\u044F\",\n        duration: \"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\",\n        ipv4: \"IPv4 \u0430\u0434\u0440\u0435\u0441\",\n        ipv6: \"IPv6 \u0430\u0434\u0440\u0435\u0441\",\n        cidrv4: \"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D\",\n        cidrv6: \"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D\",\n        base64: \"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64\",\n        base64url: \"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url\",\n        json_string: \"JSON \u0441\u0442\u0440\u043E\u043A\u0430\",\n        e164: \"\u043D\u043E\u043C\u0435\u0440 E.164\",\n        jwt: \"JWT\",\n        template_literal: \"\u0432\u0432\u043E\u0434\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${issue.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    const maxValue = Number(issue.maximum);\n                    const unit = getRussianPlural(maxValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);\n                    return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue.origin ?? \"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435\"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${adj}${issue.maximum.toString()} ${unit}`;\n                }\n                return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue.origin ?? \"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435\"} \u0431\u0443\u0434\u0435\u0442 ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    const minValue = Number(issue.minimum);\n                    const unit = getRussianPlural(minValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);\n                    return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${adj}${issue.minimum.toString()} ${unit}`;\n                }\n                return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue.origin} \u0431\u0443\u0434\u0435\u0442 ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${_issue.pattern}`;\n                return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${issue.keys.length > 1 ? \"\u044B\u0435\" : \"\u044B\u0439\"} \u043A\u043B\u044E\u0447${issue.keys.length > 1 ? \"\u0438\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435\";\n            case \"invalid_element\":\n                return `\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${issue.origin}`;\n            default:\n                return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"znakov\", verb: \"imeti\" },\n        file: { unit: \"bajtov\", verb: \"imeti\" },\n        array: { unit: \"elementov\", verb: \"imeti\" },\n        set: { unit: \"elementov\", verb: \"imeti\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u0161tevilo\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"tabela\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"vnos\",\n        email: \"e-po\u0161tni naslov\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO datum in \u010Das\",\n        date: \"ISO datum\",\n        time: \"ISO \u010Das\",\n        duration: \"ISO trajanje\",\n        ipv4: \"IPv4 naslov\",\n        ipv6: \"IPv6 naslov\",\n        cidrv4: \"obseg IPv4\",\n        cidrv6: \"obseg IPv6\",\n        base64: \"base64 kodiran niz\",\n        base64url: \"base64url kodiran niz\",\n        json_string: \"JSON niz\",\n        e164: \"E.164 \u0161tevilka\",\n        jwt: \"JWT\",\n        template_literal: \"vnos\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Neveljaven vnos: pri\u010Dakovano ${issue.expected}, prejeto ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Neveljaven vnos: pri\u010Dakovano ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Preveliko: pri\u010Dakovano, da bo ${issue.origin ?? \"vrednost\"} imelo ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementov\"}`;\n                return `Preveliko: pri\u010Dakovano, da bo ${issue.origin ?? \"vrednost\"} ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Premajhno: pri\u010Dakovano, da bo ${issue.origin} imelo ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Premajhno: pri\u010Dakovano, da bo ${issue.origin} ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Neveljaven niz: mora se za\u010Deti z \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Neveljaven niz: mora se kon\u010Dati z \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Neveljaven niz: mora vsebovati \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Neveljaven niz: mora ustrezati vzorcu ${_issue.pattern}`;\n                return `Neveljaven ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Neprepoznan${issue.keys.length > 1 ? \"i klju\u010Di\" : \" klju\u010D\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Neveljaven klju\u010D v ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Neveljaven vnos\";\n            case \"invalid_element\":\n                return `Neveljavna vrednost v ${issue.origin}`;\n            default:\n                return \"Neveljaven vnos\";\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"tecken\", verb: \"att ha\" },\n        file: { unit: \"bytes\", verb: \"att ha\" },\n        array: { unit: \"objekt\", verb: \"att inneh\u00E5lla\" },\n        set: { unit: \"objekt\", verb: \"att inneh\u00E5lla\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"antal\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"lista\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"regulj\u00E4rt uttryck\",\n        email: \"e-postadress\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO-datum och tid\",\n        date: \"ISO-datum\",\n        time: \"ISO-tid\",\n        duration: \"ISO-varaktighet\",\n        ipv4: \"IPv4-intervall\",\n        ipv6: \"IPv6-intervall\",\n        cidrv4: \"IPv4-spektrum\",\n        cidrv6: \"IPv6-spektrum\",\n        base64: \"base64-kodad str\u00E4ng\",\n        base64url: \"base64url-kodad str\u00E4ng\",\n        json_string: \"JSON-str\u00E4ng\",\n        e164: \"E.164-nummer\",\n        jwt: \"JWT\",\n        template_literal: \"mall-literal\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Ogiltig inmatning: f\u00F6rv\u00E4ntat ${issue.expected}, fick ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Ogiltig inmatning: f\u00F6rv\u00E4ntat ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Ogiltigt val: f\u00F6rv\u00E4ntade en av ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `F\u00F6r stor(t): f\u00F6rv\u00E4ntade ${issue.origin ?? \"v\u00E4rdet\"} att ha ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"element\"}`;\n                }\n                return `F\u00F6r stor(t): f\u00F6rv\u00E4ntat ${issue.origin ?? \"v\u00E4rdet\"} att ha ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `F\u00F6r lite(t): f\u00F6rv\u00E4ntade ${issue.origin ?? \"v\u00E4rdet\"} att ha ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `F\u00F6r lite(t): f\u00F6rv\u00E4ntade ${issue.origin ?? \"v\u00E4rdet\"} att ha ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Ogiltig str\u00E4ng: m\u00E5ste b\u00F6rja med \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Ogiltig str\u00E4ng: m\u00E5ste sluta med \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Ogiltig str\u00E4ng: m\u00E5ste inneh\u00E5lla \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Ogiltig str\u00E4ng: m\u00E5ste matcha m\u00F6nstret \"${_issue.pattern}\"`;\n                return `Ogiltig(t) ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Ogiltigt tal: m\u00E5ste vara en multipel av ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `${issue.keys.length > 1 ? \"Ok\u00E4nda nycklar\" : \"Ok\u00E4nd nyckel\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Ogiltig nyckel i ${issue.origin ?? \"v\u00E4rdet\"}`;\n            case \"invalid_union\":\n                return \"Ogiltig input\";\n            case \"invalid_element\":\n                return `Ogiltigt v\u00E4rde i ${issue.origin ?? \"v\u00E4rdet\"}`;\n            default:\n                return `Ogiltig input`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD\", verb: \"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD\" },\n        file: { unit: \"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD\", verb: \"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD\" },\n        array: { unit: \"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD\", verb: \"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD\" },\n        set: { unit: \"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD\", verb: \"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"\u0B8E\u0BA3\u0BCD \u0B85\u0BB2\u0BCD\u0BB2\u0BBE\u0BA4\u0BA4\u0BC1\" : \"\u0B8E\u0BA3\u0BCD\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u0B85\u0BA3\u0BBF\";\n                }\n                if (data === null) {\n                    return \"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1\",\n        email: \"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD\",\n        date: \"ISO \u0BA4\u0BC7\u0BA4\u0BBF\",\n        time: \"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD\",\n        duration: \"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1\",\n        ipv4: \"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF\",\n        ipv6: \"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF\",\n        cidrv4: \"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1\",\n        cidrv6: \"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1\",\n        base64: \"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD\",\n        base64url: \"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD\",\n        json_string: \"JSON \u0B9A\u0BB0\u0BAE\u0BCD\",\n        e164: \"E.164 \u0B8E\u0BA3\u0BCD\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${util.joinValues(issue.values, \"|\")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue.origin ?? \"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1\"} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD\"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;\n                }\n                return `\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue.origin ?? \"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1\"} ${adj}${issue.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue.origin} ${adj}${issue.minimum.toString()} ${sizing.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`; //\n                }\n                return `\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue.origin} ${adj}${issue.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: \"${_issue.prefix}\" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;\n                if (_issue.format === \"ends_with\")\n                    return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: \"${_issue.suffix}\" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;\n                if (_issue.format === \"includes\")\n                    return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: \"${_issue.includes}\" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;\n                if (_issue.format === \"regex\")\n                    return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${_issue.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;\n                return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${issue.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;\n            case \"unrecognized_keys\":\n                return `\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${issue.keys.length > 1 ? \"\u0B95\u0BB3\u0BCD\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `${issue.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;\n            case \"invalid_union\":\n                return \"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1\";\n            case \"invalid_element\":\n                return `${issue.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;\n            default:\n                return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23\", verb: \"\u0E04\u0E27\u0E23\u0E21\u0E35\" },\n        file: { unit: \"\u0E44\u0E1A\u0E15\u0E4C\", verb: \"\u0E04\u0E27\u0E23\u0E21\u0E35\" },\n        array: { unit: \"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\", verb: \"\u0E04\u0E27\u0E23\u0E21\u0E35\" },\n        set: { unit: \"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\", verb: \"\u0E04\u0E27\u0E23\u0E21\u0E35\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"\u0E44\u0E21\u0E48\u0E43\u0E0A\u0E48\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02 (NaN)\" : \"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)\";\n                }\n                if (data === null) {\n                    return \"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19\",\n        email: \"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25\",\n        url: \"URL\",\n        emoji: \"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO\",\n        date: \"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO\",\n        time: \"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO\",\n        duration: \"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO\",\n        ipv4: \"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4\",\n        ipv6: \"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6\",\n        cidrv4: \"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4\",\n        cidrv6: \"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6\",\n        base64: \"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64\",\n        base64url: \"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL\",\n        json_string: \"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON\",\n        e164: \"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)\",\n        jwt: \"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT\",\n        template_literal: \"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${issue.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19\" : \"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue.origin ?? \"\u0E04\u0E48\u0E32\"} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue.maximum.toString()} ${sizing.unit ?? \"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\"}`;\n                return `\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue.origin ?? \"\u0E04\u0E48\u0E32\"} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22\" : \"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 \"${_issue.includes}\" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`;\n                if (_issue.format === \"regex\")\n                    return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${_issue.pattern}`;\n                return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${issue.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;\n            case \"unrecognized_keys\":\n                return `\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49\";\n            case \"invalid_element\":\n                return `\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${issue.origin}`;\n            default:\n                return `\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nexport const parsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"number\": {\n            return Number.isNaN(data) ? \"NaN\" : \"number\";\n        }\n        case \"object\": {\n            if (Array.isArray(data)) {\n                return \"array\";\n            }\n            if (data === null) {\n                return \"null\";\n            }\n            if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                return data.constructor.name;\n            }\n        }\n    }\n    return t;\n};\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"karakter\", verb: \"olmal\u0131\" },\n        file: { unit: \"bayt\", verb: \"olmal\u0131\" },\n        array: { unit: \"\u00F6\u011Fe\", verb: \"olmal\u0131\" },\n        set: { unit: \"\u00F6\u011Fe\", verb: \"olmal\u0131\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const Nouns = {\n        regex: \"girdi\",\n        email: \"e-posta adresi\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO tarih ve saat\",\n        date: \"ISO tarih\",\n        time: \"ISO saat\",\n        duration: \"ISO s\u00FCre\",\n        ipv4: \"IPv4 adresi\",\n        ipv6: \"IPv6 adresi\",\n        cidrv4: \"IPv4 aral\u0131\u011F\u0131\",\n        cidrv6: \"IPv6 aral\u0131\u011F\u0131\",\n        base64: \"base64 ile \u015Fifrelenmi\u015F metin\",\n        base64url: \"base64url ile \u015Fifrelenmi\u015F metin\",\n        json_string: \"JSON dizesi\",\n        e164: \"E.164 say\u0131s\u0131\",\n        jwt: \"JWT\",\n        template_literal: \"\u015Eablon dizesi\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Ge\u00E7ersiz de\u011Fer: beklenen ${issue.expected}, al\u0131nan ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Ge\u00E7ersiz de\u011Fer: beklenen ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Ge\u00E7ersiz se\u00E7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u00C7ok b\u00FCy\u00FCk: beklenen ${issue.origin ?? \"de\u011Fer\"} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u00F6\u011Fe\"}`;\n                return `\u00C7ok b\u00FCy\u00FCk: beklenen ${issue.origin ?? \"de\u011Fer\"} ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u00C7ok k\u00FC\u00E7\u00FCk: beklenen ${issue.origin} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                return `\u00C7ok k\u00FC\u00E7\u00FCk: beklenen ${issue.origin} ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Ge\u00E7ersiz metin: \"${_issue.prefix}\" ile ba\u015Flamal\u0131`;\n                if (_issue.format === \"ends_with\")\n                    return `Ge\u00E7ersiz metin: \"${_issue.suffix}\" ile bitmeli`;\n                if (_issue.format === \"includes\")\n                    return `Ge\u00E7ersiz metin: \"${_issue.includes}\" i\u00E7ermeli`;\n                if (_issue.format === \"regex\")\n                    return `Ge\u00E7ersiz metin: ${_issue.pattern} desenine uymal\u0131`;\n                return `Ge\u00E7ersiz ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Ge\u00E7ersiz say\u0131: ${issue.divisor} ile tam b\u00F6l\u00FCnebilmeli`;\n            case \"unrecognized_keys\":\n                return `Tan\u0131nmayan anahtar${issue.keys.length > 1 ? \"lar\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `${issue.origin} i\u00E7inde ge\u00E7ersiz anahtar`;\n            case \"invalid_union\":\n                return \"Ge\u00E7ersiz de\u011Fer\";\n            case \"invalid_element\":\n                return `${issue.origin} i\u00E7inde ge\u00E7ersiz de\u011Fer`;\n            default:\n                return `Ge\u00E7ersiz de\u011Fer`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432\", verb: \"\u043C\u0430\u0442\u0438\u043C\u0435\" },\n        file: { unit: \"\u0431\u0430\u0439\u0442\u0456\u0432\", verb: \"\u043C\u0430\u0442\u0438\u043C\u0435\" },\n        array: { unit: \"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432\", verb: \"\u043C\u0430\u0442\u0438\u043C\u0435\" },\n        set: { unit: \"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432\", verb: \"\u043C\u0430\u0442\u0438\u043C\u0435\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u0447\u0438\u0441\u043B\u043E\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u043C\u0430\u0441\u0438\u0432\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456\",\n        email: \"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438\",\n        url: \"URL\",\n        emoji: \"\u0435\u043C\u043E\u0434\u0437\u0456\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO\",\n        date: \"\u0434\u0430\u0442\u0430 ISO\",\n        time: \"\u0447\u0430\u0441 ISO\",\n        duration: \"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO\",\n        ipv4: \"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4\",\n        ipv6: \"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6\",\n        cidrv4: \"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4\",\n        cidrv6: \"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6\",\n        base64: \"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64\",\n        base64url: \"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url\",\n        json_string: \"\u0440\u044F\u0434\u043E\u043A JSON\",\n        e164: \"\u043D\u043E\u043C\u0435\u0440 E.164\",\n        jwt: \"JWT\",\n        template_literal: \"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${issue.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${parsedType(issue.input)}`;\n            // return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${issue.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${util.getParsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue.origin ?? \"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F\"} ${sizing.verb} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432\"}`;\n                return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue.origin ?? \"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F\"} \u0431\u0443\u0434\u0435 ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue.origin} ${sizing.verb} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue.origin} \u0431\u0443\u0434\u0435 ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${_issue.pattern}`;\n                return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${issue.keys.length > 1 ? \"\u0456\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456\";\n            case \"invalid_element\":\n                return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${issue.origin}`;\n            default:\n                return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import uk from \"./uk.js\";\n/** @deprecated Use `uk` instead. */\nexport default function () {\n    return uk();\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u062D\u0631\u0648\u0641\", verb: \"\u06C1\u0648\u0646\u0627\" },\n        file: { unit: \"\u0628\u0627\u0626\u0679\u0633\", verb: \"\u06C1\u0648\u0646\u0627\" },\n        array: { unit: \"\u0622\u0626\u0679\u0645\u0632\", verb: \"\u06C1\u0648\u0646\u0627\" },\n        set: { unit: \"\u0622\u0626\u0679\u0645\u0632\", verb: \"\u06C1\u0648\u0646\u0627\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u0646\u0645\u0628\u0631\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u0622\u0631\u06D2\";\n                }\n                if (data === null) {\n                    return \"\u0646\u0644\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0627\u0646 \u067E\u0679\",\n        email: \"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633\",\n        url: \"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644\",\n        emoji: \"\u0627\u06CC\u0645\u0648\u062C\u06CC\",\n        uuid: \"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC\",\n        uuidv4: \"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4\",\n        uuidv6: \"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6\",\n        nanoid: \"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC\",\n        guid: \"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC\",\n        cuid: \"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC\",\n        cuid2: \"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2\",\n        ulid: \"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC\",\n        xid: \"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC\",\n        ksuid: \"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC\",\n        datetime: \"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645\",\n        date: \"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E\",\n        time: \"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A\",\n        duration: \"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A\",\n        ipv4: \"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633\",\n        ipv6: \"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633\",\n        cidrv4: \"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C\",\n        cidrv6: \"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C\",\n        base64: \"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF\",\n        base64url: \"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF\",\n        json_string: \"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF\",\n        e164: \"\u0627\u06CC 164 \u0646\u0645\u0628\u0631\",\n        jwt: \"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC\",\n        template_literal: \"\u0627\u0646 \u067E\u0679\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${issue.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${parsedType(issue.input)} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${util.stringifyPrimitive(issue.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;\n                return `\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${util.joinValues(issue.values, \"|\")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u0628\u06C1\u062A \u0628\u0691\u0627: ${issue.origin ?? \"\u0648\u06CC\u0644\u06CC\u0648\"} \u06A9\u06D2 ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u0639\u0646\u0627\u0635\u0631\"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`;\n                return `\u0628\u06C1\u062A \u0628\u0691\u0627: ${issue.origin ?? \"\u0648\u06CC\u0644\u06CC\u0648\"} \u06A9\u0627 ${adj}${issue.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${issue.origin} \u06A9\u06D2 ${adj}${issue.minimum.toString()} ${sizing.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`;\n                }\n                return `\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${issue.origin} \u06A9\u0627 ${adj}${issue.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \"${_issue.prefix}\" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \"${_issue.suffix}\" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;\n                if (_issue.format === \"includes\")\n                    return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \"${_issue.includes}\" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;\n                if (_issue.format === \"regex\")\n                    return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${_issue.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;\n                return `\u063A\u0644\u0637 ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${issue.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;\n            case \"unrecognized_keys\":\n                return `\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${issue.keys.length > 1 ? \"\u0632\" : \"\"}: ${util.joinValues(issue.keys, \"\u060C \")}`;\n            case \"invalid_key\":\n                return `${issue.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;\n            case \"invalid_union\":\n                return \"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679\";\n            case \"invalid_element\":\n                return `${issue.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;\n            default:\n                return `\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"k\u00FD t\u1EF1\", verb: \"c\u00F3\" },\n        file: { unit: \"byte\", verb: \"c\u00F3\" },\n        array: { unit: \"ph\u1EA7n t\u1EED\", verb: \"c\u00F3\" },\n        set: { unit: \"ph\u1EA7n t\u1EED\", verb: \"c\u00F3\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"s\u1ED1\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"m\u1EA3ng\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0111\u1EA7u v\u00E0o\",\n        email: \"\u0111\u1ECBa ch\u1EC9 email\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ng\u00E0y gi\u1EDD ISO\",\n        date: \"ng\u00E0y ISO\",\n        time: \"gi\u1EDD ISO\",\n        duration: \"kho\u1EA3ng th\u1EDDi gian ISO\",\n        ipv4: \"\u0111\u1ECBa ch\u1EC9 IPv4\",\n        ipv6: \"\u0111\u1ECBa ch\u1EC9 IPv6\",\n        cidrv4: \"d\u1EA3i IPv4\",\n        cidrv6: \"d\u1EA3i IPv6\",\n        base64: \"chu\u1ED7i m\u00E3 h\u00F3a base64\",\n        base64url: \"chu\u1ED7i m\u00E3 h\u00F3a base64url\",\n        json_string: \"chu\u1ED7i JSON\",\n        e164: \"s\u1ED1 E.164\",\n        jwt: \"JWT\",\n        template_literal: \"\u0111\u1EA7u v\u00E0o\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u0110\u1EA7u v\u00E0o kh\u00F4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${issue.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u0110\u1EA7u v\u00E0o kh\u00F4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${util.stringifyPrimitive(issue.values[0])}`;\n                return `T\u00F9y ch\u1ECDn kh\u00F4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\u00E1c gi\u00E1 tr\u1ECB ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Qu\u00E1 l\u1EDBn: mong \u0111\u1EE3i ${issue.origin ?? \"gi\u00E1 tr\u1ECB\"} ${sizing.verb} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"ph\u1EA7n t\u1EED\"}`;\n                return `Qu\u00E1 l\u1EDBn: mong \u0111\u1EE3i ${issue.origin ?? \"gi\u00E1 tr\u1ECB\"} ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Qu\u00E1 nh\u1ECF: mong \u0111\u1EE3i ${issue.origin} ${sizing.verb} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Qu\u00E1 nh\u1ECF: mong \u0111\u1EE3i ${issue.origin} ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Chu\u1ED7i kh\u00F4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Chu\u1ED7i kh\u00F4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\u00FAc b\u1EB1ng \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Chu\u1ED7i kh\u00F4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Chu\u1ED7i kh\u00F4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${_issue.pattern}`;\n                return `${Nouns[_issue.format] ?? issue.format} kh\u00F4ng h\u1EE3p l\u1EC7`;\n            }\n            case \"not_multiple_of\":\n                return `S\u1ED1 kh\u00F4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\u00E0 b\u1ED9i s\u1ED1 c\u1EE7a ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Kh\u00F3a kh\u00F4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Kh\u00F3a kh\u00F4ng h\u1EE3p l\u1EC7 trong ${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u0110\u1EA7u v\u00E0o kh\u00F4ng h\u1EE3p l\u1EC7\";\n            case \"invalid_element\":\n                return `Gi\u00E1 tr\u1ECB kh\u00F4ng h\u1EE3p l\u1EC7 trong ${issue.origin}`;\n            default:\n                return `\u0110\u1EA7u v\u00E0o kh\u00F4ng h\u1EE3p l\u1EC7`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u5B57\u7B26\", verb: \"\u5305\u542B\" },\n        file: { unit: \"\u5B57\u8282\", verb: \"\u5305\u542B\" },\n        array: { unit: \"\u9879\", verb: \"\u5305\u542B\" },\n        set: { unit: \"\u9879\", verb: \"\u5305\u542B\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"\u975E\u6570\u5B57(NaN)\" : \"\u6570\u5B57\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u6570\u7EC4\";\n                }\n                if (data === null) {\n                    return \"\u7A7A\u503C(null)\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u8F93\u5165\",\n        email: \"\u7535\u5B50\u90AE\u4EF6\",\n        url: \"URL\",\n        emoji: \"\u8868\u60C5\u7B26\u53F7\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO\u65E5\u671F\u65F6\u95F4\",\n        date: \"ISO\u65E5\u671F\",\n        time: \"ISO\u65F6\u95F4\",\n        duration: \"ISO\u65F6\u957F\",\n        ipv4: \"IPv4\u5730\u5740\",\n        ipv6: \"IPv6\u5730\u5740\",\n        cidrv4: \"IPv4\u7F51\u6BB5\",\n        cidrv6: \"IPv6\u7F51\u6BB5\",\n        base64: \"base64\u7F16\u7801\u5B57\u7B26\u4E32\",\n        base64url: \"base64url\u7F16\u7801\u5B57\u7B26\u4E32\",\n        json_string: \"JSON\u5B57\u7B26\u4E32\",\n        e164: \"E.164\u53F7\u7801\",\n        jwt: \"JWT\",\n        template_literal: \"\u8F93\u5165\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${issue.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${issue.origin ?? \"\u503C\"} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u4E2A\u5143\u7D20\"}`;\n                return `\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${issue.origin ?? \"\u503C\"} ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${issue.origin} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${issue.origin} ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 \"${_issue.prefix}\" \u5F00\u5934`;\n                if (_issue.format === \"ends_with\")\n                    return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 \"${_issue.suffix}\" \u7ED3\u5C3E`;\n                if (_issue.format === \"includes\")\n                    return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${_issue.pattern}`;\n                return `\u65E0\u6548${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${issue.divisor} \u7684\u500D\u6570`;\n            case \"unrecognized_keys\":\n                return `\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `${issue.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;\n            case \"invalid_union\":\n                return \"\u65E0\u6548\u8F93\u5165\";\n            case \"invalid_element\":\n                return `${issue.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;\n            default:\n                return `\u65E0\u6548\u8F93\u5165`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u5B57\u5143\", verb: \"\u64C1\u6709\" },\n        file: { unit: \"\u4F4D\u5143\u7D44\", verb: \"\u64C1\u6709\" },\n        array: { unit: \"\u9805\u76EE\", verb: \"\u64C1\u6709\" },\n        set: { unit: \"\u9805\u76EE\", verb: \"\u64C1\u6709\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"number\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u8F38\u5165\",\n        email: \"\u90F5\u4EF6\u5730\u5740\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO \u65E5\u671F\u6642\u9593\",\n        date: \"ISO \u65E5\u671F\",\n        time: \"ISO \u6642\u9593\",\n        duration: \"ISO \u671F\u9593\",\n        ipv4: \"IPv4 \u4F4D\u5740\",\n        ipv6: \"IPv6 \u4F4D\u5740\",\n        cidrv4: \"IPv4 \u7BC4\u570D\",\n        cidrv6: \"IPv6 \u7BC4\u570D\",\n        base64: \"base64 \u7DE8\u78BC\u5B57\u4E32\",\n        base64url: \"base64url \u7DE8\u78BC\u5B57\u4E32\",\n        json_string: \"JSON \u5B57\u4E32\",\n        e164: \"E.164 \u6578\u503C\",\n        jwt: \"JWT\",\n        template_literal: \"\u8F38\u5165\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${issue.expected}\uFF0C\u4F46\u6536\u5230 ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${issue.origin ?? \"\u503C\"} \u61C9\u70BA ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u500B\u5143\u7D20\"}`;\n                return `\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${issue.origin ?? \"\u503C\"} \u61C9\u70BA ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${issue.origin} \u61C9\u70BA ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${issue.origin} \u61C9\u70BA ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 \"${_issue.prefix}\" \u958B\u982D`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 \"${_issue.suffix}\" \u7D50\u5C3E`;\n                if (_issue.format === \"includes\")\n                    return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${_issue.pattern}`;\n                return `\u7121\u6548\u7684 ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${issue.divisor} \u7684\u500D\u6578`;\n            case \"unrecognized_keys\":\n                return `\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${issue.keys.length > 1 ? \"\u5011\" : \"\"}\uFF1A${util.joinValues(issue.keys, \"\u3001\")}`;\n            case \"invalid_key\":\n                return `${issue.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;\n            case \"invalid_union\":\n                return \"\u7121\u6548\u7684\u8F38\u5165\u503C\";\n            case \"invalid_element\":\n                return `${issue.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;\n            default:\n                return `\u7121\u6548\u7684\u8F38\u5165\u503C`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u00E0mi\", verb: \"n\u00ED\" },\n        file: { unit: \"bytes\", verb: \"n\u00ED\" },\n        array: { unit: \"nkan\", verb: \"n\u00ED\" },\n        set: { unit: \"nkan\", verb: \"n\u00ED\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"n\u1ECD\u0301mb\u00E0\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"akop\u1ECD\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u1EB9\u0300r\u1ECD \u00ECb\u00E1w\u1ECDl\u00E9\",\n        email: \"\u00E0d\u00EDr\u1EB9\u0301s\u00EC \u00ECm\u1EB9\u0301l\u00EC\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"\u00E0k\u00F3k\u00F2 ISO\",\n        date: \"\u1ECDj\u1ECD\u0301 ISO\",\n        time: \"\u00E0k\u00F3k\u00F2 ISO\",\n        duration: \"\u00E0k\u00F3k\u00F2 t\u00F3 p\u00E9 ISO\",\n        ipv4: \"\u00E0d\u00EDr\u1EB9\u0301s\u00EC IPv4\",\n        ipv6: \"\u00E0d\u00EDr\u1EB9\u0301s\u00EC IPv6\",\n        cidrv4: \"\u00E0gb\u00E8gb\u00E8 IPv4\",\n        cidrv6: \"\u00E0gb\u00E8gb\u00E8 IPv6\",\n        base64: \"\u1ECD\u0300r\u1ECD\u0300 t\u00ED a k\u1ECD\u0301 n\u00ED base64\",\n        base64url: \"\u1ECD\u0300r\u1ECD\u0300 base64url\",\n        json_string: \"\u1ECD\u0300r\u1ECD\u0300 JSON\",\n        e164: \"n\u1ECD\u0301mb\u00E0 E.164\",\n        jwt: \"JWT\",\n        template_literal: \"\u1EB9\u0300r\u1ECD \u00ECb\u00E1w\u1ECDl\u00E9\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u00CCb\u00E1w\u1ECDl\u00E9 a\u1E63\u00EC\u1E63e: a n\u00ED l\u00E1ti fi ${issue.expected}, \u00E0m\u1ECD\u0300 a r\u00ED ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u00CCb\u00E1w\u1ECDl\u00E9 a\u1E63\u00EC\u1E63e: a n\u00ED l\u00E1ti fi ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u00C0\u1E63\u00E0y\u00E0n a\u1E63\u00EC\u1E63e: yan \u1ECD\u0300kan l\u00E1ra ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `T\u00F3 p\u1ECD\u0300 j\u00F9: a n\u00ED l\u00E1ti j\u1EB9\u0301 p\u00E9 ${issue.origin ?? \"iye\"} ${sizing.verb} ${adj}${issue.maximum} ${sizing.unit}`;\n                return `T\u00F3 p\u1ECD\u0300 j\u00F9: a n\u00ED l\u00E1ti j\u1EB9\u0301 ${adj}${issue.maximum}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `K\u00E9r\u00E9 ju: a n\u00ED l\u00E1ti j\u1EB9\u0301 p\u00E9 ${issue.origin} ${sizing.verb} ${adj}${issue.minimum} ${sizing.unit}`;\n                return `K\u00E9r\u00E9 ju: a n\u00ED l\u00E1ti j\u1EB9\u0301 ${adj}${issue.minimum}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\u00EC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\u00FA \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\u00EC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\u00ED p\u1EB9\u0300l\u00FA \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\u00EC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\u00ED \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\u00EC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u00E1 \u00E0p\u1EB9\u1EB9r\u1EB9 mu ${_issue.pattern}`;\n                return `A\u1E63\u00EC\u1E63e: ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `N\u1ECD\u0301mb\u00E0 a\u1E63\u00EC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \u00E8y\u00E0 p\u00EDp\u00EDn ti ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `B\u1ECDt\u00ECn\u00EC \u00E0\u00ECm\u1ECD\u0300: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `B\u1ECDt\u00ECn\u00EC a\u1E63\u00EC\u1E63e n\u00EDn\u00FA ${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u00CCb\u00E1w\u1ECDl\u00E9 a\u1E63\u00EC\u1E63e\";\n            case \"invalid_element\":\n                return `Iye a\u1E63\u00EC\u1E63e n\u00EDn\u00FA ${issue.origin}`;\n            default:\n                return \"\u00CCb\u00E1w\u1ECDl\u00E9 a\u1E63\u00EC\u1E63e\";\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "var _a;\nexport const $output = Symbol(\"ZodOutput\");\nexport const $input = Symbol(\"ZodInput\");\nexport class $ZodRegistry {\n    constructor() {\n        this._map = new WeakMap();\n        this._idmap = new Map();\n    }\n    add(schema, ..._meta) {\n        const meta = _meta[0];\n        this._map.set(schema, meta);\n        if (meta && typeof meta === \"object\" && \"id\" in meta) {\n            if (this._idmap.has(meta.id)) {\n                throw new Error(`ID ${meta.id} already exists in the registry`);\n            }\n            this._idmap.set(meta.id, schema);\n        }\n        return this;\n    }\n    clear() {\n        this._map = new WeakMap();\n        this._idmap = new Map();\n        return this;\n    }\n    remove(schema) {\n        const meta = this._map.get(schema);\n        if (meta && typeof meta === \"object\" && \"id\" in meta) {\n            this._idmap.delete(meta.id);\n        }\n        this._map.delete(schema);\n        return this;\n    }\n    get(schema) {\n        // return this._map.get(schema) as any;\n        // inherit metadata\n        const p = schema._zod.parent;\n        if (p) {\n            const pm = { ...(this.get(p) ?? {}) };\n            delete pm.id; // do not inherit id\n            const f = { ...pm, ...this._map.get(schema) };\n            return Object.keys(f).length ? f : undefined;\n        }\n        return this._map.get(schema);\n    }\n    has(schema) {\n        return this._map.has(schema);\n    }\n}\n// registries\nexport function registry() {\n    return new $ZodRegistry();\n}\n(_a = globalThis).__zod_globalRegistry ?? (_a.__zod_globalRegistry = registry());\nexport const globalRegistry = globalThis.__zod_globalRegistry;\n", "import * as checks from \"./checks.js\";\nimport * as registries from \"./registries.js\";\nimport * as schemas from \"./schemas.js\";\nimport * as util from \"./util.js\";\nexport function _string(Class, params) {\n    return new Class({\n        type: \"string\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedString(Class, params) {\n    return new Class({\n        type: \"string\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _email(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"email\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _guid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"guid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuidv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v4\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuidv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v6\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuidv7(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v7\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _url(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"url\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _emoji(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"emoji\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _nanoid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"nanoid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cuid2(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cuid2\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ulid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ulid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _xid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"xid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ksuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ksuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ipv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ipv4\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ipv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ipv6\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _mac(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"mac\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cidrv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cidrv4\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cidrv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cidrv6\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _base64(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"base64\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _base64url(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"base64url\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _e164(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"e164\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _jwt(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"jwt\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport const TimePrecision = {\n    Any: null,\n    Minute: -1,\n    Second: 0,\n    Millisecond: 3,\n    Microsecond: 6,\n};\nexport function _isoDateTime(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"datetime\",\n        check: \"string_format\",\n        offset: false,\n        local: false,\n        precision: null,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _isoDate(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"date\",\n        check: \"string_format\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _isoTime(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"time\",\n        check: \"string_format\",\n        precision: null,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _isoDuration(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"duration\",\n        check: \"string_format\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _number(Class, params) {\n    return new Class({\n        type: \"number\",\n        checks: [],\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedNumber(Class, params) {\n    return new Class({\n        type: \"number\",\n        coerce: true,\n        checks: [],\n        ...util.normalizeParams(params),\n    });\n}\nexport function _int(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"safeint\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _float32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"float32\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _float64(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"float64\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _int32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"int32\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uint32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"uint32\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _boolean(Class, params) {\n    return new Class({\n        type: \"boolean\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedBoolean(Class, params) {\n    return new Class({\n        type: \"boolean\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _bigint(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedBigint(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _int64(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        check: \"bigint_format\",\n        abort: false,\n        format: \"int64\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uint64(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        check: \"bigint_format\",\n        abort: false,\n        format: \"uint64\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _symbol(Class, params) {\n    return new Class({\n        type: \"symbol\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _undefined(Class, params) {\n    return new Class({\n        type: \"undefined\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _null(Class, params) {\n    return new Class({\n        type: \"null\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _any(Class) {\n    return new Class({\n        type: \"any\",\n    });\n}\nexport function _unknown(Class) {\n    return new Class({\n        type: \"unknown\",\n    });\n}\nexport function _never(Class, params) {\n    return new Class({\n        type: \"never\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _void(Class, params) {\n    return new Class({\n        type: \"void\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _date(Class, params) {\n    return new Class({\n        type: \"date\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedDate(Class, params) {\n    return new Class({\n        type: \"date\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _nan(Class, params) {\n    return new Class({\n        type: \"nan\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _lt(value, params) {\n    return new checks.$ZodCheckLessThan({\n        check: \"less_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: false,\n    });\n}\nexport function _lte(value, params) {\n    return new checks.$ZodCheckLessThan({\n        check: \"less_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: true,\n    });\n}\nexport { \n/** @deprecated Use `z.lte()` instead. */\n_lte as _max, };\nexport function _gt(value, params) {\n    return new checks.$ZodCheckGreaterThan({\n        check: \"greater_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: false,\n    });\n}\nexport function _gte(value, params) {\n    return new checks.$ZodCheckGreaterThan({\n        check: \"greater_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: true,\n    });\n}\nexport { \n/** @deprecated Use `z.gte()` instead. */\n_gte as _min, };\nexport function _positive(params) {\n    return _gt(0, params);\n}\n// negative\nexport function _negative(params) {\n    return _lt(0, params);\n}\n// nonpositive\nexport function _nonpositive(params) {\n    return _lte(0, params);\n}\n// nonnegative\nexport function _nonnegative(params) {\n    return _gte(0, params);\n}\nexport function _multipleOf(value, params) {\n    return new checks.$ZodCheckMultipleOf({\n        check: \"multiple_of\",\n        ...util.normalizeParams(params),\n        value,\n    });\n}\nexport function _maxSize(maximum, params) {\n    return new checks.$ZodCheckMaxSize({\n        check: \"max_size\",\n        ...util.normalizeParams(params),\n        maximum,\n    });\n}\nexport function _minSize(minimum, params) {\n    return new checks.$ZodCheckMinSize({\n        check: \"min_size\",\n        ...util.normalizeParams(params),\n        minimum,\n    });\n}\nexport function _size(size, params) {\n    return new checks.$ZodCheckSizeEquals({\n        check: \"size_equals\",\n        ...util.normalizeParams(params),\n        size,\n    });\n}\nexport function _maxLength(maximum, params) {\n    const ch = new checks.$ZodCheckMaxLength({\n        check: \"max_length\",\n        ...util.normalizeParams(params),\n        maximum,\n    });\n    return ch;\n}\nexport function _minLength(minimum, params) {\n    return new checks.$ZodCheckMinLength({\n        check: \"min_length\",\n        ...util.normalizeParams(params),\n        minimum,\n    });\n}\nexport function _length(length, params) {\n    return new checks.$ZodCheckLengthEquals({\n        check: \"length_equals\",\n        ...util.normalizeParams(params),\n        length,\n    });\n}\nexport function _regex(pattern, params) {\n    return new checks.$ZodCheckRegex({\n        check: \"string_format\",\n        format: \"regex\",\n        ...util.normalizeParams(params),\n        pattern,\n    });\n}\nexport function _lowercase(params) {\n    return new checks.$ZodCheckLowerCase({\n        check: \"string_format\",\n        format: \"lowercase\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uppercase(params) {\n    return new checks.$ZodCheckUpperCase({\n        check: \"string_format\",\n        format: \"uppercase\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _includes(includes, params) {\n    return new checks.$ZodCheckIncludes({\n        check: \"string_format\",\n        format: \"includes\",\n        ...util.normalizeParams(params),\n        includes,\n    });\n}\nexport function _startsWith(prefix, params) {\n    return new checks.$ZodCheckStartsWith({\n        check: \"string_format\",\n        format: \"starts_with\",\n        ...util.normalizeParams(params),\n        prefix,\n    });\n}\nexport function _endsWith(suffix, params) {\n    return new checks.$ZodCheckEndsWith({\n        check: \"string_format\",\n        format: \"ends_with\",\n        ...util.normalizeParams(params),\n        suffix,\n    });\n}\nexport function _property(property, schema, params) {\n    return new checks.$ZodCheckProperty({\n        check: \"property\",\n        property,\n        schema,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _mime(types, params) {\n    return new checks.$ZodCheckMimeType({\n        check: \"mime_type\",\n        mime: types,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _overwrite(tx) {\n    return new checks.$ZodCheckOverwrite({\n        check: \"overwrite\",\n        tx,\n    });\n}\n// normalize\nexport function _normalize(form) {\n    return _overwrite((input) => input.normalize(form));\n}\n// trim\nexport function _trim() {\n    return _overwrite((input) => input.trim());\n}\n// toLowerCase\nexport function _toLowerCase() {\n    return _overwrite((input) => input.toLowerCase());\n}\n// toUpperCase\nexport function _toUpperCase() {\n    return _overwrite((input) => input.toUpperCase());\n}\n// slugify\nexport function _slugify() {\n    return _overwrite((input) => util.slugify(input));\n}\nexport function _array(Class, element, params) {\n    return new Class({\n        type: \"array\",\n        element,\n        // get element() {\n        //   return element;\n        // },\n        ...util.normalizeParams(params),\n    });\n}\nexport function _union(Class, options, params) {\n    return new Class({\n        type: \"union\",\n        options,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _discriminatedUnion(Class, discriminator, options, params) {\n    return new Class({\n        type: \"union\",\n        options,\n        discriminator,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _intersection(Class, left, right) {\n    return new Class({\n        type: \"intersection\",\n        left,\n        right,\n    });\n}\n// export function _tuple(\n//   Class: util.SchemaClass<schemas.$ZodTuple>,\n//   items: [],\n//   params?: string | $ZodTupleParams\n// ): schemas.$ZodTuple<[], null>;\nexport function _tuple(Class, items, _paramsOrRest, _params) {\n    const hasRest = _paramsOrRest instanceof schemas.$ZodType;\n    const params = hasRest ? _params : _paramsOrRest;\n    const rest = hasRest ? _paramsOrRest : null;\n    return new Class({\n        type: \"tuple\",\n        items,\n        rest,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _record(Class, keyType, valueType, params) {\n    return new Class({\n        type: \"record\",\n        keyType,\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _map(Class, keyType, valueType, params) {\n    return new Class({\n        type: \"map\",\n        keyType,\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _set(Class, valueType, params) {\n    return new Class({\n        type: \"set\",\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _enum(Class, values, params) {\n    const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [v, v])) : values;\n    // if (Array.isArray(values)) {\n    //   for (const value of values) {\n    //     entries[value] = value;\n    //   }\n    // } else {\n    //   Object.assign(entries, values);\n    // }\n    // const entries: util.EnumLike = {};\n    // for (const val of values) {\n    //   entries[val] = val;\n    // }\n    return new Class({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\n/** @deprecated This API has been merged into `z.enum()`. Use `z.enum()` instead.\n *\n * ```ts\n * enum Colors { red, green, blue }\n * z.enum(Colors);\n * ```\n */\nexport function _nativeEnum(Class, entries, params) {\n    return new Class({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _literal(Class, value, params) {\n    return new Class({\n        type: \"literal\",\n        values: Array.isArray(value) ? value : [value],\n        ...util.normalizeParams(params),\n    });\n}\nexport function _file(Class, params) {\n    return new Class({\n        type: \"file\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _transform(Class, fn) {\n    return new Class({\n        type: \"transform\",\n        transform: fn,\n    });\n}\nexport function _optional(Class, innerType) {\n    return new Class({\n        type: \"optional\",\n        innerType,\n    });\n}\nexport function _nullable(Class, innerType) {\n    return new Class({\n        type: \"nullable\",\n        innerType,\n    });\n}\nexport function _default(Class, innerType, defaultValue) {\n    return new Class({\n        type: \"default\",\n        innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : util.shallowClone(defaultValue);\n        },\n    });\n}\nexport function _nonoptional(Class, innerType, params) {\n    return new Class({\n        type: \"nonoptional\",\n        innerType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _success(Class, innerType) {\n    return new Class({\n        type: \"success\",\n        innerType,\n    });\n}\nexport function _catch(Class, innerType, catchValue) {\n    return new Class({\n        type: \"catch\",\n        innerType,\n        catchValue: (typeof catchValue === \"function\" ? catchValue : () => catchValue),\n    });\n}\nexport function _pipe(Class, in_, out) {\n    return new Class({\n        type: \"pipe\",\n        in: in_,\n        out,\n    });\n}\nexport function _readonly(Class, innerType) {\n    return new Class({\n        type: \"readonly\",\n        innerType,\n    });\n}\nexport function _templateLiteral(Class, parts, params) {\n    return new Class({\n        type: \"template_literal\",\n        parts,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _lazy(Class, getter) {\n    return new Class({\n        type: \"lazy\",\n        getter,\n    });\n}\nexport function _promise(Class, innerType) {\n    return new Class({\n        type: \"promise\",\n        innerType,\n    });\n}\nexport function _custom(Class, fn, _params) {\n    const norm = util.normalizeParams(_params);\n    norm.abort ?? (norm.abort = true); // default to abort:false\n    const schema = new Class({\n        type: \"custom\",\n        check: \"custom\",\n        fn: fn,\n        ...norm,\n    });\n    return schema;\n}\n// same as _custom but defaults to abort:false\nexport function _refine(Class, fn, _params) {\n    const schema = new Class({\n        type: \"custom\",\n        check: \"custom\",\n        fn: fn,\n        ...util.normalizeParams(_params),\n    });\n    return schema;\n}\nexport function _superRefine(fn) {\n    const ch = _check((payload) => {\n        payload.addIssue = (issue) => {\n            if (typeof issue === \"string\") {\n                payload.issues.push(util.issue(issue, payload.value, ch._zod.def));\n            }\n            else {\n                // for Zod 3 backwards compatibility\n                const _issue = issue;\n                if (_issue.fatal)\n                    _issue.continue = false;\n                _issue.code ?? (_issue.code = \"custom\");\n                _issue.input ?? (_issue.input = payload.value);\n                _issue.inst ?? (_issue.inst = ch);\n                _issue.continue ?? (_issue.continue = !ch._zod.def.abort); // abort is always undefined, so this is always true...\n                payload.issues.push(util.issue(_issue));\n            }\n        };\n        return fn(payload.value, payload);\n    });\n    return ch;\n}\nexport function _check(fn, params) {\n    const ch = new checks.$ZodCheck({\n        check: \"custom\",\n        ...util.normalizeParams(params),\n    });\n    ch._zod.check = fn;\n    return ch;\n}\nexport function describe(description) {\n    const ch = new checks.$ZodCheck({ check: \"describe\" });\n    ch._zod.onattach = [\n        (inst) => {\n            const existing = registries.globalRegistry.get(inst) ?? {};\n            registries.globalRegistry.add(inst, { ...existing, description });\n        },\n    ];\n    ch._zod.check = () => { }; // no-op check\n    return ch;\n}\nexport function meta(metadata) {\n    const ch = new checks.$ZodCheck({ check: \"meta\" });\n    ch._zod.onattach = [\n        (inst) => {\n            const existing = registries.globalRegistry.get(inst) ?? {};\n            registries.globalRegistry.add(inst, { ...existing, ...metadata });\n        },\n    ];\n    ch._zod.check = () => { }; // no-op check\n    return ch;\n}\nexport function _stringbool(Classes, _params) {\n    const params = util.normalizeParams(_params);\n    let truthyArray = params.truthy ?? [\"true\", \"1\", \"yes\", \"on\", \"y\", \"enabled\"];\n    let falsyArray = params.falsy ?? [\"false\", \"0\", \"no\", \"off\", \"n\", \"disabled\"];\n    if (params.case !== \"sensitive\") {\n        truthyArray = truthyArray.map((v) => (typeof v === \"string\" ? v.toLowerCase() : v));\n        falsyArray = falsyArray.map((v) => (typeof v === \"string\" ? v.toLowerCase() : v));\n    }\n    const truthySet = new Set(truthyArray);\n    const falsySet = new Set(falsyArray);\n    const _Codec = Classes.Codec ?? schemas.$ZodCodec;\n    const _Boolean = Classes.Boolean ?? schemas.$ZodBoolean;\n    const _String = Classes.String ?? schemas.$ZodString;\n    const stringSchema = new _String({ type: \"string\", error: params.error });\n    const booleanSchema = new _Boolean({ type: \"boolean\", error: params.error });\n    const codec = new _Codec({\n        type: \"pipe\",\n        in: stringSchema,\n        out: booleanSchema,\n        transform: ((input, payload) => {\n            let data = input;\n            if (params.case !== \"sensitive\")\n                data = data.toLowerCase();\n            if (truthySet.has(data)) {\n                return true;\n            }\n            else if (falsySet.has(data)) {\n                return false;\n            }\n            else {\n                payload.issues.push({\n                    code: \"invalid_value\",\n                    expected: \"stringbool\",\n                    values: [...truthySet, ...falsySet],\n                    input: payload.value,\n                    inst: codec,\n                    continue: false,\n                });\n                return {};\n            }\n        }),\n        reverseTransform: ((input, _payload) => {\n            if (input === true) {\n                return truthyArray[0] || \"true\";\n            }\n            else {\n                return falsyArray[0] || \"false\";\n            }\n        }),\n        error: params.error,\n    });\n    return codec;\n}\nexport function _stringFormat(Class, format, fnOrRegex, _params = {}) {\n    const params = util.normalizeParams(_params);\n    const def = {\n        ...util.normalizeParams(_params),\n        check: \"string_format\",\n        type: \"string\",\n        format,\n        fn: typeof fnOrRegex === \"function\" ? fnOrRegex : (val) => fnOrRegex.test(val),\n        ...params,\n    };\n    if (fnOrRegex instanceof RegExp) {\n        def.pattern = fnOrRegex;\n    }\n    const inst = new Class(def);\n    return inst;\n}\n", "import { $ZodRegistry, globalRegistry } from \"./registries.js\";\nimport { getEnumValues } from \"./util.js\";\nexport class JSONSchemaGenerator {\n    constructor(params) {\n        this.counter = 0;\n        this.metadataRegistry = params?.metadata ?? globalRegistry;\n        this.target = params?.target ?? \"draft-2020-12\";\n        this.unrepresentable = params?.unrepresentable ?? \"throw\";\n        this.override = params?.override ?? (() => { });\n        this.io = params?.io ?? \"output\";\n        this.seen = new Map();\n    }\n    process(schema, _params = { path: [], schemaPath: [] }) {\n        var _a;\n        const def = schema._zod.def;\n        const formatMap = {\n            guid: \"uuid\",\n            url: \"uri\",\n            datetime: \"date-time\",\n            json_string: \"json-string\",\n            regex: \"\", // do not set\n        };\n        // check for schema in seens\n        const seen = this.seen.get(schema);\n        if (seen) {\n            seen.count++;\n            // check if cycle\n            const isCycle = _params.schemaPath.includes(schema);\n            if (isCycle) {\n                seen.cycle = _params.path;\n            }\n            return seen.schema;\n        }\n        // initialize\n        const result = { schema: {}, count: 1, cycle: undefined, path: _params.path };\n        this.seen.set(schema, result);\n        // custom method overrides default behavior\n        const overrideSchema = schema._zod.toJSONSchema?.();\n        if (overrideSchema) {\n            result.schema = overrideSchema;\n        }\n        else {\n            const params = {\n                ..._params,\n                schemaPath: [..._params.schemaPath, schema],\n                path: _params.path,\n            };\n            const parent = schema._zod.parent;\n            if (parent) {\n                // schema was cloned from another schema\n                result.ref = parent;\n                this.process(parent, params);\n                this.seen.get(parent).isParent = true;\n            }\n            else {\n                const _json = result.schema;\n                switch (def.type) {\n                    case \"string\": {\n                        const json = _json;\n                        json.type = \"string\";\n                        const { minimum, maximum, format, patterns, contentEncoding } = schema._zod\n                            .bag;\n                        if (typeof minimum === \"number\")\n                            json.minLength = minimum;\n                        if (typeof maximum === \"number\")\n                            json.maxLength = maximum;\n                        // custom pattern overrides format\n                        if (format) {\n                            json.format = formatMap[format] ?? format;\n                            if (json.format === \"\")\n                                delete json.format; // empty format is not valid\n                        }\n                        if (contentEncoding)\n                            json.contentEncoding = contentEncoding;\n                        if (patterns && patterns.size > 0) {\n                            const regexes = [...patterns];\n                            if (regexes.length === 1)\n                                json.pattern = regexes[0].source;\n                            else if (regexes.length > 1) {\n                                result.schema.allOf = [\n                                    ...regexes.map((regex) => ({\n                                        ...(this.target === \"draft-7\" || this.target === \"draft-4\" || this.target === \"openapi-3.0\"\n                                            ? { type: \"string\" }\n                                            : {}),\n                                        pattern: regex.source,\n                                    })),\n                                ];\n                            }\n                        }\n                        break;\n                    }\n                    case \"number\": {\n                        const json = _json;\n                        const { minimum, maximum, format, multipleOf, exclusiveMaximum, exclusiveMinimum } = schema._zod.bag;\n                        if (typeof format === \"string\" && format.includes(\"int\"))\n                            json.type = \"integer\";\n                        else\n                            json.type = \"number\";\n                        if (typeof exclusiveMinimum === \"number\") {\n                            if (this.target === \"draft-4\" || this.target === \"openapi-3.0\") {\n                                json.minimum = exclusiveMinimum;\n                                json.exclusiveMinimum = true;\n                            }\n                            else {\n                                json.exclusiveMinimum = exclusiveMinimum;\n                            }\n                        }\n                        if (typeof minimum === \"number\") {\n                            json.minimum = minimum;\n                            if (typeof exclusiveMinimum === \"number\" && this.target !== \"draft-4\") {\n                                if (exclusiveMinimum >= minimum)\n                                    delete json.minimum;\n                                else\n                                    delete json.exclusiveMinimum;\n                            }\n                        }\n                        if (typeof exclusiveMaximum === \"number\") {\n                            if (this.target === \"draft-4\" || this.target === \"openapi-3.0\") {\n                                json.maximum = exclusiveMaximum;\n                                json.exclusiveMaximum = true;\n                            }\n                            else {\n                                json.exclusiveMaximum = exclusiveMaximum;\n                            }\n                        }\n                        if (typeof maximum === \"number\") {\n                            json.maximum = maximum;\n                            if (typeof exclusiveMaximum === \"number\" && this.target !== \"draft-4\") {\n                                if (exclusiveMaximum <= maximum)\n                                    delete json.maximum;\n                                else\n                                    delete json.exclusiveMaximum;\n                            }\n                        }\n                        if (typeof multipleOf === \"number\")\n                            json.multipleOf = multipleOf;\n                        break;\n                    }\n                    case \"boolean\": {\n                        const json = _json;\n                        json.type = \"boolean\";\n                        break;\n                    }\n                    case \"bigint\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"BigInt cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    case \"symbol\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"Symbols cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    case \"null\": {\n                        if (this.target === \"openapi-3.0\") {\n                            _json.type = \"string\";\n                            _json.nullable = true;\n                            _json.enum = [null];\n                        }\n                        else\n                            _json.type = \"null\";\n                        break;\n                    }\n                    case \"any\": {\n                        break;\n                    }\n                    case \"unknown\": {\n                        break;\n                    }\n                    case \"undefined\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"Undefined cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    case \"void\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"Void cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    case \"never\": {\n                        _json.not = {};\n                        break;\n                    }\n                    case \"date\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"Date cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    case \"array\": {\n                        const json = _json;\n                        const { minimum, maximum } = schema._zod.bag;\n                        if (typeof minimum === \"number\")\n                            json.minItems = minimum;\n                        if (typeof maximum === \"number\")\n                            json.maxItems = maximum;\n                        json.type = \"array\";\n                        json.items = this.process(def.element, { ...params, path: [...params.path, \"items\"] });\n                        break;\n                    }\n                    case \"object\": {\n                        const json = _json;\n                        json.type = \"object\";\n                        json.properties = {};\n                        const shape = def.shape; // params.shapeCache.get(schema)!;\n                        for (const key in shape) {\n                            json.properties[key] = this.process(shape[key], {\n                                ...params,\n                                path: [...params.path, \"properties\", key],\n                            });\n                        }\n                        // required keys\n                        const allKeys = new Set(Object.keys(shape));\n                        // const optionalKeys = new Set(def.optional);\n                        const requiredKeys = new Set([...allKeys].filter((key) => {\n                            const v = def.shape[key]._zod;\n                            if (this.io === \"input\") {\n                                return v.optin === undefined;\n                            }\n                            else {\n                                return v.optout === undefined;\n                            }\n                        }));\n                        if (requiredKeys.size > 0) {\n                            json.required = Array.from(requiredKeys);\n                        }\n                        // catchall\n                        if (def.catchall?._zod.def.type === \"never\") {\n                            // strict\n                            json.additionalProperties = false;\n                        }\n                        else if (!def.catchall) {\n                            // regular\n                            if (this.io === \"output\")\n                                json.additionalProperties = false;\n                        }\n                        else if (def.catchall) {\n                            json.additionalProperties = this.process(def.catchall, {\n                                ...params,\n                                path: [...params.path, \"additionalProperties\"],\n                            });\n                        }\n                        break;\n                    }\n                    case \"union\": {\n                        const json = _json;\n                        // Discriminated unions use oneOf (exactly one match) instead of anyOf (one or more matches)\n                        // because the discriminator field ensures mutual exclusivity between options in JSON Schema\n                        const isDiscriminated = def.discriminator !== undefined;\n                        const options = def.options.map((x, i) => this.process(x, {\n                            ...params,\n                            path: [...params.path, isDiscriminated ? \"oneOf\" : \"anyOf\", i],\n                        }));\n                        if (isDiscriminated) {\n                            json.oneOf = options;\n                        }\n                        else {\n                            json.anyOf = options;\n                        }\n                        break;\n                    }\n                    case \"intersection\": {\n                        const json = _json;\n                        const a = this.process(def.left, {\n                            ...params,\n                            path: [...params.path, \"allOf\", 0],\n                        });\n                        const b = this.process(def.right, {\n                            ...params,\n                            path: [...params.path, \"allOf\", 1],\n                        });\n                        const isSimpleIntersection = (val) => \"allOf\" in val && Object.keys(val).length === 1;\n                        const allOf = [\n                            ...(isSimpleIntersection(a) ? a.allOf : [a]),\n                            ...(isSimpleIntersection(b) ? b.allOf : [b]),\n                        ];\n                        json.allOf = allOf;\n                        break;\n                    }\n                    case \"tuple\": {\n                        const json = _json;\n                        json.type = \"array\";\n                        const prefixPath = this.target === \"draft-2020-12\" ? \"prefixItems\" : \"items\";\n                        const restPath = this.target === \"draft-2020-12\" ? \"items\" : this.target === \"openapi-3.0\" ? \"items\" : \"additionalItems\";\n                        const prefixItems = def.items.map((x, i) => this.process(x, {\n                            ...params,\n                            path: [...params.path, prefixPath, i],\n                        }));\n                        const rest = def.rest\n                            ? this.process(def.rest, {\n                                ...params,\n                                path: [...params.path, restPath, ...(this.target === \"openapi-3.0\" ? [def.items.length] : [])],\n                            })\n                            : null;\n                        if (this.target === \"draft-2020-12\") {\n                            json.prefixItems = prefixItems;\n                            if (rest) {\n                                json.items = rest;\n                            }\n                        }\n                        else if (this.target === \"openapi-3.0\") {\n                            json.items = {\n                                anyOf: prefixItems,\n                            };\n                            if (rest) {\n                                json.items.anyOf.push(rest);\n                            }\n                            json.minItems = prefixItems.length;\n                            if (!rest) {\n                                json.maxItems = prefixItems.length;\n                            }\n                        }\n                        else {\n                            json.items = prefixItems;\n                            if (rest) {\n                                json.additionalItems = rest;\n                            }\n                        }\n                        // length\n                        const { minimum, maximum } = schema._zod.bag;\n                        if (typeof minimum === \"number\")\n                            json.minItems = minimum;\n                        if (typeof maximum === \"number\")\n                            json.maxItems = maximum;\n                        break;\n                    }\n                    case \"record\": {\n                        const json = _json;\n                        json.type = \"object\";\n                        if (this.target === \"draft-7\" || this.target === \"draft-2020-12\") {\n                            json.propertyNames = this.process(def.keyType, {\n                                ...params,\n                                path: [...params.path, \"propertyNames\"],\n                            });\n                        }\n                        json.additionalProperties = this.process(def.valueType, {\n                            ...params,\n                            path: [...params.path, \"additionalProperties\"],\n                        });\n                        break;\n                    }\n                    case \"map\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"Map cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    case \"set\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"Set cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    case \"enum\": {\n                        const json = _json;\n                        const values = getEnumValues(def.entries);\n                        // Number enums can have both string and number values\n                        if (values.every((v) => typeof v === \"number\"))\n                            json.type = \"number\";\n                        if (values.every((v) => typeof v === \"string\"))\n                            json.type = \"string\";\n                        json.enum = values;\n                        break;\n                    }\n                    case \"literal\": {\n                        const json = _json;\n                        const vals = [];\n                        for (const val of def.values) {\n                            if (val === undefined) {\n                                if (this.unrepresentable === \"throw\") {\n                                    throw new Error(\"Literal `undefined` cannot be represented in JSON Schema\");\n                                }\n                                else {\n                                    // do not add to vals\n                                }\n                            }\n                            else if (typeof val === \"bigint\") {\n                                if (this.unrepresentable === \"throw\") {\n                                    throw new Error(\"BigInt literals cannot be represented in JSON Schema\");\n                                }\n                                else {\n                                    vals.push(Number(val));\n                                }\n                            }\n                            else {\n                                vals.push(val);\n                            }\n                        }\n                        if (vals.length === 0) {\n                            // do nothing (an undefined literal was stripped)\n                        }\n                        else if (vals.length === 1) {\n                            const val = vals[0];\n                            json.type = val === null ? \"null\" : typeof val;\n                            if (this.target === \"draft-4\" || this.target === \"openapi-3.0\") {\n                                json.enum = [val];\n                            }\n                            else {\n                                json.const = val;\n                            }\n                        }\n                        else {\n                            if (vals.every((v) => typeof v === \"number\"))\n                                json.type = \"number\";\n                            if (vals.every((v) => typeof v === \"string\"))\n                                json.type = \"string\";\n                            if (vals.every((v) => typeof v === \"boolean\"))\n                                json.type = \"string\";\n                            if (vals.every((v) => v === null))\n                                json.type = \"null\";\n                            json.enum = vals;\n                        }\n                        break;\n                    }\n                    case \"file\": {\n                        const json = _json;\n                        const file = {\n                            type: \"string\",\n                            format: \"binary\",\n                            contentEncoding: \"binary\",\n                        };\n                        const { minimum, maximum, mime } = schema._zod.bag;\n                        if (minimum !== undefined)\n                            file.minLength = minimum;\n                        if (maximum !== undefined)\n                            file.maxLength = maximum;\n                        if (mime) {\n                            if (mime.length === 1) {\n                                file.contentMediaType = mime[0];\n                                Object.assign(json, file);\n                            }\n                            else {\n                                json.anyOf = mime.map((m) => {\n                                    const mFile = { ...file, contentMediaType: m };\n                                    return mFile;\n                                });\n                            }\n                        }\n                        else {\n                            Object.assign(json, file);\n                        }\n                        // if (this.unrepresentable === \"throw\") {\n                        //   throw new Error(\"File cannot be represented in JSON Schema\");\n                        // }\n                        break;\n                    }\n                    case \"transform\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"Transforms cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    case \"nullable\": {\n                        const inner = this.process(def.innerType, params);\n                        if (this.target === \"openapi-3.0\") {\n                            result.ref = def.innerType;\n                            _json.nullable = true;\n                        }\n                        else {\n                            _json.anyOf = [inner, { type: \"null\" }];\n                        }\n                        break;\n                    }\n                    case \"nonoptional\": {\n                        this.process(def.innerType, params);\n                        result.ref = def.innerType;\n                        break;\n                    }\n                    case \"success\": {\n                        const json = _json;\n                        json.type = \"boolean\";\n                        break;\n                    }\n                    case \"default\": {\n                        this.process(def.innerType, params);\n                        result.ref = def.innerType;\n                        _json.default = JSON.parse(JSON.stringify(def.defaultValue));\n                        break;\n                    }\n                    case \"prefault\": {\n                        this.process(def.innerType, params);\n                        result.ref = def.innerType;\n                        if (this.io === \"input\")\n                            _json._prefault = JSON.parse(JSON.stringify(def.defaultValue));\n                        break;\n                    }\n                    case \"catch\": {\n                        // use conditionals\n                        this.process(def.innerType, params);\n                        result.ref = def.innerType;\n                        let catchValue;\n                        try {\n                            catchValue = def.catchValue(undefined);\n                        }\n                        catch {\n                            throw new Error(\"Dynamic catch values are not supported in JSON Schema\");\n                        }\n                        _json.default = catchValue;\n                        break;\n                    }\n                    case \"nan\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"NaN cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    case \"template_literal\": {\n                        const json = _json;\n                        const pattern = schema._zod.pattern;\n                        if (!pattern)\n                            throw new Error(\"Pattern not found in template literal\");\n                        json.type = \"string\";\n                        json.pattern = pattern.source;\n                        break;\n                    }\n                    case \"pipe\": {\n                        const innerType = this.io === \"input\" ? (def.in._zod.def.type === \"transform\" ? def.out : def.in) : def.out;\n                        this.process(innerType, params);\n                        result.ref = innerType;\n                        break;\n                    }\n                    case \"readonly\": {\n                        this.process(def.innerType, params);\n                        result.ref = def.innerType;\n                        _json.readOnly = true;\n                        break;\n                    }\n                    // passthrough types\n                    case \"promise\": {\n                        this.process(def.innerType, params);\n                        result.ref = def.innerType;\n                        break;\n                    }\n                    case \"optional\": {\n                        this.process(def.innerType, params);\n                        result.ref = def.innerType;\n                        break;\n                    }\n                    case \"lazy\": {\n                        const innerType = schema._zod.innerType;\n                        this.process(innerType, params);\n                        result.ref = innerType;\n                        break;\n                    }\n                    case \"custom\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"Custom types cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    case \"function\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"Function types cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    default: {\n                        def;\n                    }\n                }\n            }\n        }\n        // metadata\n        const meta = this.metadataRegistry.get(schema);\n        if (meta)\n            Object.assign(result.schema, meta);\n        if (this.io === \"input\" && isTransforming(schema)) {\n            // examples/defaults only apply to output type of pipe\n            delete result.schema.examples;\n            delete result.schema.default;\n        }\n        // set prefault as default\n        if (this.io === \"input\" && result.schema._prefault)\n            (_a = result.schema).default ?? (_a.default = result.schema._prefault);\n        delete result.schema._prefault;\n        // pulling fresh from this.seen in case it was overwritten\n        const _result = this.seen.get(schema);\n        return _result.schema;\n    }\n    emit(schema, _params) {\n        const params = {\n            cycles: _params?.cycles ?? \"ref\",\n            reused: _params?.reused ?? \"inline\",\n            // unrepresentable: _params?.unrepresentable ?? \"throw\",\n            // uri: _params?.uri ?? ((id) => `${id}`),\n            external: _params?.external ?? undefined,\n        };\n        // iterate over seen map;\n        const root = this.seen.get(schema);\n        if (!root)\n            throw new Error(\"Unprocessed schema. This is a bug in Zod.\");\n        // initialize result with root schema fields\n        // Object.assign(result, seen.cached);\n        // returns a ref to the schema\n        // defId will be empty if the ref points to an external schema (or #)\n        const makeURI = (entry) => {\n            // comparing the seen objects because sometimes\n            // multiple schemas map to the same seen object.\n            // e.g. lazy\n            // external is configured\n            const defsSegment = this.target === \"draft-2020-12\" ? \"$defs\" : \"definitions\";\n            if (params.external) {\n                const externalId = params.external.registry.get(entry[0])?.id; // ?? \"__shared\";// `__schema${this.counter++}`;\n                // check if schema is in the external registry\n                const uriGenerator = params.external.uri ?? ((id) => id);\n                if (externalId) {\n                    return { ref: uriGenerator(externalId) };\n                }\n                // otherwise, add to __shared\n                const id = entry[1].defId ?? entry[1].schema.id ?? `schema${this.counter++}`;\n                entry[1].defId = id; // set defId so it will be reused if needed\n                return { defId: id, ref: `${uriGenerator(\"__shared\")}#/${defsSegment}/${id}` };\n            }\n            if (entry[1] === root) {\n                return { ref: \"#\" };\n            }\n            // self-contained schema\n            const uriPrefix = `#`;\n            const defUriPrefix = `${uriPrefix}/${defsSegment}/`;\n            const defId = entry[1].schema.id ?? `__schema${this.counter++}`;\n            return { defId, ref: defUriPrefix + defId };\n        };\n        // stored cached version in `def` property\n        // remove all properties, set $ref\n        const extractToDef = (entry) => {\n            // if the schema is already a reference, do not extract it\n            if (entry[1].schema.$ref) {\n                return;\n            }\n            const seen = entry[1];\n            const { ref, defId } = makeURI(entry);\n            seen.def = { ...seen.schema };\n            // defId won't be set if the schema is a reference to an external schema\n            if (defId)\n                seen.defId = defId;\n            // wipe away all properties except $ref\n            const schema = seen.schema;\n            for (const key in schema) {\n                delete schema[key];\n            }\n            schema.$ref = ref;\n        };\n        // throw on cycles\n        // break cycles\n        if (params.cycles === \"throw\") {\n            for (const entry of this.seen.entries()) {\n                const seen = entry[1];\n                if (seen.cycle) {\n                    throw new Error(\"Cycle detected: \" +\n                        `#/${seen.cycle?.join(\"/\")}/<root>` +\n                        '\\n\\nSet the `cycles` parameter to `\"ref\"` to resolve cyclical schemas with defs.');\n                }\n            }\n        }\n        // extract schemas into $defs\n        for (const entry of this.seen.entries()) {\n            const seen = entry[1];\n            // convert root schema to # $ref\n            if (schema === entry[0]) {\n                extractToDef(entry); // this has special handling for the root schema\n                continue;\n            }\n            // extract schemas that are in the external registry\n            if (params.external) {\n                const ext = params.external.registry.get(entry[0])?.id;\n                if (schema !== entry[0] && ext) {\n                    extractToDef(entry);\n                    continue;\n                }\n            }\n            // extract schemas with `id` meta\n            const id = this.metadataRegistry.get(entry[0])?.id;\n            if (id) {\n                extractToDef(entry);\n                continue;\n            }\n            // break cycles\n            if (seen.cycle) {\n                // any\n                extractToDef(entry);\n                continue;\n            }\n            // extract reused schemas\n            if (seen.count > 1) {\n                if (params.reused === \"ref\") {\n                    extractToDef(entry);\n                    // biome-ignore lint:\n                    continue;\n                }\n            }\n        }\n        // flatten _refs\n        const flattenRef = (zodSchema, params) => {\n            const seen = this.seen.get(zodSchema);\n            const schema = seen.def ?? seen.schema;\n            const _cached = { ...schema };\n            // already seen\n            if (seen.ref === null) {\n                return;\n            }\n            // flatten ref if defined\n            const ref = seen.ref;\n            seen.ref = null; // prevent recursion\n            if (ref) {\n                flattenRef(ref, params);\n                // merge referenced schema into current\n                const refSchema = this.seen.get(ref).schema;\n                if (refSchema.$ref &&\n                    (params.target === \"draft-7\" || params.target === \"draft-4\" || params.target === \"openapi-3.0\")) {\n                    schema.allOf = schema.allOf ?? [];\n                    schema.allOf.push(refSchema);\n                }\n                else {\n                    Object.assign(schema, refSchema);\n                    Object.assign(schema, _cached); // prevent overwriting any fields in the original schema\n                }\n            }\n            // execute overrides\n            if (!seen.isParent)\n                this.override({\n                    zodSchema: zodSchema,\n                    jsonSchema: schema,\n                    path: seen.path ?? [],\n                });\n        };\n        for (const entry of [...this.seen.entries()].reverse()) {\n            flattenRef(entry[0], { target: this.target });\n        }\n        const result = {};\n        if (this.target === \"draft-2020-12\") {\n            result.$schema = \"https://json-schema.org/draft/2020-12/schema\";\n        }\n        else if (this.target === \"draft-7\") {\n            result.$schema = \"http://json-schema.org/draft-07/schema#\";\n        }\n        else if (this.target === \"draft-4\") {\n            result.$schema = \"http://json-schema.org/draft-04/schema#\";\n        }\n        else if (this.target === \"openapi-3.0\") {\n            // OpenAPI 3.0 schema objects should not include a $schema property\n        }\n        else {\n            // @ts-ignore\n            console.warn(`Invalid target: ${this.target}`);\n        }\n        if (params.external?.uri) {\n            const id = params.external.registry.get(schema)?.id;\n            if (!id)\n                throw new Error(\"Schema is missing an `id` property\");\n            result.$id = params.external.uri(id);\n        }\n        Object.assign(result, root.def);\n        // build defs object\n        const defs = params.external?.defs ?? {};\n        for (const entry of this.seen.entries()) {\n            const seen = entry[1];\n            if (seen.def && seen.defId) {\n                defs[seen.defId] = seen.def;\n            }\n        }\n        // set definitions in result\n        if (params.external) {\n        }\n        else {\n            if (Object.keys(defs).length > 0) {\n                if (this.target === \"draft-2020-12\") {\n                    result.$defs = defs;\n                }\n                else {\n                    result.definitions = defs;\n                }\n            }\n        }\n        try {\n            // this \"finalizes\" this schema and ensures all cycles are removed\n            // each call to .emit() is functionally independent\n            // though the seen map is shared\n            return JSON.parse(JSON.stringify(result));\n        }\n        catch (_err) {\n            throw new Error(\"Error converting schema to JSON.\");\n        }\n    }\n}\nexport function toJSONSchema(input, _params) {\n    if (input instanceof $ZodRegistry) {\n        const gen = new JSONSchemaGenerator(_params);\n        const defs = {};\n        for (const entry of input._idmap.entries()) {\n            const [_, schema] = entry;\n            gen.process(schema);\n        }\n        const schemas = {};\n        const external = {\n            registry: input,\n            uri: _params?.uri,\n            defs,\n        };\n        for (const entry of input._idmap.entries()) {\n            const [key, schema] = entry;\n            schemas[key] = gen.emit(schema, {\n                ..._params,\n                external,\n            });\n        }\n        if (Object.keys(defs).length > 0) {\n            const defsSegment = gen.target === \"draft-2020-12\" ? \"$defs\" : \"definitions\";\n            schemas.__shared = {\n                [defsSegment]: defs,\n            };\n        }\n        return { schemas };\n    }\n    const gen = new JSONSchemaGenerator(_params);\n    gen.process(input);\n    return gen.emit(input, _params);\n}\nfunction isTransforming(_schema, _ctx) {\n    const ctx = _ctx ?? { seen: new Set() };\n    if (ctx.seen.has(_schema))\n        return false;\n    ctx.seen.add(_schema);\n    const def = _schema._zod.def;\n    if (def.type === \"transform\")\n        return true;\n    if (def.type === \"array\")\n        return isTransforming(def.element, ctx);\n    if (def.type === \"set\")\n        return isTransforming(def.valueType, ctx);\n    if (def.type === \"lazy\")\n        return isTransforming(def.getter(), ctx);\n    if (def.type === \"promise\" ||\n        def.type === \"optional\" ||\n        def.type === \"nonoptional\" ||\n        def.type === \"nullable\" ||\n        def.type === \"readonly\" ||\n        def.type === \"default\" ||\n        def.type === \"prefault\") {\n        return isTransforming(def.innerType, ctx);\n    }\n    if (def.type === \"intersection\") {\n        return isTransforming(def.left, ctx) || isTransforming(def.right, ctx);\n    }\n    if (def.type === \"record\" || def.type === \"map\") {\n        return isTransforming(def.keyType, ctx) || isTransforming(def.valueType, ctx);\n    }\n    if (def.type === \"pipe\") {\n        return isTransforming(def.in, ctx) || isTransforming(def.out, ctx);\n    }\n    if (def.type === \"object\") {\n        for (const key in def.shape) {\n            if (isTransforming(def.shape[key], ctx))\n                return true;\n        }\n        return false;\n    }\n    if (def.type === \"union\") {\n        for (const option of def.options) {\n            if (isTransforming(option, ctx))\n                return true;\n        }\n        return false;\n    }\n    if (def.type === \"tuple\") {\n        for (const item of def.items) {\n            if (isTransforming(item, ctx))\n                return true;\n        }\n        if (def.rest && isTransforming(def.rest, ctx))\n            return true;\n        return false;\n    }\n    return false;\n}\n", "export {};\n", "import * as core from \"../core/index.js\";\nimport * as schemas from \"./schemas.js\";\nexport const ZodISODateTime = /*@__PURE__*/ core.$constructor(\"ZodISODateTime\", (inst, def) => {\n    core.$ZodISODateTime.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function datetime(params) {\n    return core._isoDateTime(ZodISODateTime, params);\n}\nexport const ZodISODate = /*@__PURE__*/ core.$constructor(\"ZodISODate\", (inst, def) => {\n    core.$ZodISODate.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function date(params) {\n    return core._isoDate(ZodISODate, params);\n}\nexport const ZodISOTime = /*@__PURE__*/ core.$constructor(\"ZodISOTime\", (inst, def) => {\n    core.$ZodISOTime.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function time(params) {\n    return core._isoTime(ZodISOTime, params);\n}\nexport const ZodISODuration = /*@__PURE__*/ core.$constructor(\"ZodISODuration\", (inst, def) => {\n    core.$ZodISODuration.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function duration(params) {\n    return core._isoDuration(ZodISODuration, params);\n}\n", "import * as core from \"../core/index.js\";\nimport { $ZodError } from \"../core/index.js\";\nimport * as util from \"../core/util.js\";\nconst initializer = (inst, issues) => {\n    $ZodError.init(inst, issues);\n    inst.name = \"ZodError\";\n    Object.defineProperties(inst, {\n        format: {\n            value: (mapper) => core.formatError(inst, mapper),\n            // enumerable: false,\n        },\n        flatten: {\n            value: (mapper) => core.flattenError(inst, mapper),\n            // enumerable: false,\n        },\n        addIssue: {\n            value: (issue) => {\n                inst.issues.push(issue);\n                inst.message = JSON.stringify(inst.issues, util.jsonStringifyReplacer, 2);\n            },\n            // enumerable: false,\n        },\n        addIssues: {\n            value: (issues) => {\n                inst.issues.push(...issues);\n                inst.message = JSON.stringify(inst.issues, util.jsonStringifyReplacer, 2);\n            },\n            // enumerable: false,\n        },\n        isEmpty: {\n            get() {\n                return inst.issues.length === 0;\n            },\n            // enumerable: false,\n        },\n    });\n    // Object.defineProperty(inst, \"isEmpty\", {\n    //   get() {\n    //     return inst.issues.length === 0;\n    //   },\n    // });\n};\nexport const ZodError = core.$constructor(\"ZodError\", initializer);\nexport const ZodRealError = core.$constructor(\"ZodError\", initializer, {\n    Parent: Error,\n});\n// /** @deprecated Use `z.core.$ZodErrorMapCtx` instead. */\n// export type ErrorMapCtx = core.$ZodErrorMapCtx;\n", "import * as core from \"../core/index.js\";\nimport { ZodRealError } from \"./errors.js\";\nexport const parse = /* @__PURE__ */ core._parse(ZodRealError);\nexport const parseAsync = /* @__PURE__ */ core._parseAsync(ZodRealError);\nexport const safeParse = /* @__PURE__ */ core._safeParse(ZodRealError);\nexport const safeParseAsync = /* @__PURE__ */ core._safeParseAsync(ZodRealError);\n// Codec functions\nexport const encode = /* @__PURE__ */ core._encode(ZodRealError);\nexport const decode = /* @__PURE__ */ core._decode(ZodRealError);\nexport const encodeAsync = /* @__PURE__ */ core._encodeAsync(ZodRealError);\nexport const decodeAsync = /* @__PURE__ */ core._decodeAsync(ZodRealError);\nexport const safeEncode = /* @__PURE__ */ core._safeEncode(ZodRealError);\nexport const safeDecode = /* @__PURE__ */ core._safeDecode(ZodRealError);\nexport const safeEncodeAsync = /* @__PURE__ */ core._safeEncodeAsync(ZodRealError);\nexport const safeDecodeAsync = /* @__PURE__ */ core._safeDecodeAsync(ZodRealError);\n", "import * as core from \"../core/index.js\";\nimport { util } from \"../core/index.js\";\nimport * as checks from \"./checks.js\";\nimport * as iso from \"./iso.js\";\nimport * as parse from \"./parse.js\";\nexport const ZodType = /*@__PURE__*/ core.$constructor(\"ZodType\", (inst, def) => {\n    core.$ZodType.init(inst, def);\n    inst.def = def;\n    inst.type = def.type;\n    Object.defineProperty(inst, \"_def\", { value: def });\n    // base methods\n    inst.check = (...checks) => {\n        return inst.clone(util.mergeDefs(def, {\n            checks: [\n                ...(def.checks ?? []),\n                ...checks.map((ch) => typeof ch === \"function\" ? { _zod: { check: ch, def: { check: \"custom\" }, onattach: [] } } : ch),\n            ],\n        }));\n    };\n    inst.clone = (def, params) => core.clone(inst, def, params);\n    inst.brand = () => inst;\n    inst.register = ((reg, meta) => {\n        reg.add(inst, meta);\n        return inst;\n    });\n    // parsing\n    inst.parse = (data, params) => parse.parse(inst, data, params, { callee: inst.parse });\n    inst.safeParse = (data, params) => parse.safeParse(inst, data, params);\n    inst.parseAsync = async (data, params) => parse.parseAsync(inst, data, params, { callee: inst.parseAsync });\n    inst.safeParseAsync = async (data, params) => parse.safeParseAsync(inst, data, params);\n    inst.spa = inst.safeParseAsync;\n    // encoding/decoding\n    inst.encode = (data, params) => parse.encode(inst, data, params);\n    inst.decode = (data, params) => parse.decode(inst, data, params);\n    inst.encodeAsync = async (data, params) => parse.encodeAsync(inst, data, params);\n    inst.decodeAsync = async (data, params) => parse.decodeAsync(inst, data, params);\n    inst.safeEncode = (data, params) => parse.safeEncode(inst, data, params);\n    inst.safeDecode = (data, params) => parse.safeDecode(inst, data, params);\n    inst.safeEncodeAsync = async (data, params) => parse.safeEncodeAsync(inst, data, params);\n    inst.safeDecodeAsync = async (data, params) => parse.safeDecodeAsync(inst, data, params);\n    // refinements\n    inst.refine = (check, params) => inst.check(refine(check, params));\n    inst.superRefine = (refinement) => inst.check(superRefine(refinement));\n    inst.overwrite = (fn) => inst.check(checks.overwrite(fn));\n    // wrappers\n    inst.optional = () => optional(inst);\n    inst.nullable = () => nullable(inst);\n    inst.nullish = () => optional(nullable(inst));\n    inst.nonoptional = (params) => nonoptional(inst, params);\n    inst.array = () => array(inst);\n    inst.or = (arg) => union([inst, arg]);\n    inst.and = (arg) => intersection(inst, arg);\n    inst.transform = (tx) => pipe(inst, transform(tx));\n    inst.default = (def) => _default(inst, def);\n    inst.prefault = (def) => prefault(inst, def);\n    // inst.coalesce = (def, params) => coalesce(inst, def, params);\n    inst.catch = (params) => _catch(inst, params);\n    inst.pipe = (target) => pipe(inst, target);\n    inst.readonly = () => readonly(inst);\n    // meta\n    inst.describe = (description) => {\n        const cl = inst.clone();\n        core.globalRegistry.add(cl, { description });\n        return cl;\n    };\n    Object.defineProperty(inst, \"description\", {\n        get() {\n            return core.globalRegistry.get(inst)?.description;\n        },\n        configurable: true,\n    });\n    inst.meta = (...args) => {\n        if (args.length === 0) {\n            return core.globalRegistry.get(inst);\n        }\n        const cl = inst.clone();\n        core.globalRegistry.add(cl, args[0]);\n        return cl;\n    };\n    // helpers\n    inst.isOptional = () => inst.safeParse(undefined).success;\n    inst.isNullable = () => inst.safeParse(null).success;\n    return inst;\n});\n/** @internal */\nexport const _ZodString = /*@__PURE__*/ core.$constructor(\"_ZodString\", (inst, def) => {\n    core.$ZodString.init(inst, def);\n    ZodType.init(inst, def);\n    const bag = inst._zod.bag;\n    inst.format = bag.format ?? null;\n    inst.minLength = bag.minimum ?? null;\n    inst.maxLength = bag.maximum ?? null;\n    // validations\n    inst.regex = (...args) => inst.check(checks.regex(...args));\n    inst.includes = (...args) => inst.check(checks.includes(...args));\n    inst.startsWith = (...args) => inst.check(checks.startsWith(...args));\n    inst.endsWith = (...args) => inst.check(checks.endsWith(...args));\n    inst.min = (...args) => inst.check(checks.minLength(...args));\n    inst.max = (...args) => inst.check(checks.maxLength(...args));\n    inst.length = (...args) => inst.check(checks.length(...args));\n    inst.nonempty = (...args) => inst.check(checks.minLength(1, ...args));\n    inst.lowercase = (params) => inst.check(checks.lowercase(params));\n    inst.uppercase = (params) => inst.check(checks.uppercase(params));\n    // transforms\n    inst.trim = () => inst.check(checks.trim());\n    inst.normalize = (...args) => inst.check(checks.normalize(...args));\n    inst.toLowerCase = () => inst.check(checks.toLowerCase());\n    inst.toUpperCase = () => inst.check(checks.toUpperCase());\n    inst.slugify = () => inst.check(checks.slugify());\n});\nexport const ZodString = /*@__PURE__*/ core.$constructor(\"ZodString\", (inst, def) => {\n    core.$ZodString.init(inst, def);\n    _ZodString.init(inst, def);\n    inst.email = (params) => inst.check(core._email(ZodEmail, params));\n    inst.url = (params) => inst.check(core._url(ZodURL, params));\n    inst.jwt = (params) => inst.check(core._jwt(ZodJWT, params));\n    inst.emoji = (params) => inst.check(core._emoji(ZodEmoji, params));\n    inst.guid = (params) => inst.check(core._guid(ZodGUID, params));\n    inst.uuid = (params) => inst.check(core._uuid(ZodUUID, params));\n    inst.uuidv4 = (params) => inst.check(core._uuidv4(ZodUUID, params));\n    inst.uuidv6 = (params) => inst.check(core._uuidv6(ZodUUID, params));\n    inst.uuidv7 = (params) => inst.check(core._uuidv7(ZodUUID, params));\n    inst.nanoid = (params) => inst.check(core._nanoid(ZodNanoID, params));\n    inst.guid = (params) => inst.check(core._guid(ZodGUID, params));\n    inst.cuid = (params) => inst.check(core._cuid(ZodCUID, params));\n    inst.cuid2 = (params) => inst.check(core._cuid2(ZodCUID2, params));\n    inst.ulid = (params) => inst.check(core._ulid(ZodULID, params));\n    inst.base64 = (params) => inst.check(core._base64(ZodBase64, params));\n    inst.base64url = (params) => inst.check(core._base64url(ZodBase64URL, params));\n    inst.xid = (params) => inst.check(core._xid(ZodXID, params));\n    inst.ksuid = (params) => inst.check(core._ksuid(ZodKSUID, params));\n    inst.ipv4 = (params) => inst.check(core._ipv4(ZodIPv4, params));\n    inst.ipv6 = (params) => inst.check(core._ipv6(ZodIPv6, params));\n    inst.cidrv4 = (params) => inst.check(core._cidrv4(ZodCIDRv4, params));\n    inst.cidrv6 = (params) => inst.check(core._cidrv6(ZodCIDRv6, params));\n    inst.e164 = (params) => inst.check(core._e164(ZodE164, params));\n    // iso\n    inst.datetime = (params) => inst.check(iso.datetime(params));\n    inst.date = (params) => inst.check(iso.date(params));\n    inst.time = (params) => inst.check(iso.time(params));\n    inst.duration = (params) => inst.check(iso.duration(params));\n});\nexport function string(params) {\n    return core._string(ZodString, params);\n}\nexport const ZodStringFormat = /*@__PURE__*/ core.$constructor(\"ZodStringFormat\", (inst, def) => {\n    core.$ZodStringFormat.init(inst, def);\n    _ZodString.init(inst, def);\n});\nexport const ZodEmail = /*@__PURE__*/ core.$constructor(\"ZodEmail\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodEmail.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function email(params) {\n    return core._email(ZodEmail, params);\n}\nexport const ZodGUID = /*@__PURE__*/ core.$constructor(\"ZodGUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodGUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function guid(params) {\n    return core._guid(ZodGUID, params);\n}\nexport const ZodUUID = /*@__PURE__*/ core.$constructor(\"ZodUUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodUUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function uuid(params) {\n    return core._uuid(ZodUUID, params);\n}\nexport function uuidv4(params) {\n    return core._uuidv4(ZodUUID, params);\n}\n// ZodUUIDv6\nexport function uuidv6(params) {\n    return core._uuidv6(ZodUUID, params);\n}\n// ZodUUIDv7\nexport function uuidv7(params) {\n    return core._uuidv7(ZodUUID, params);\n}\nexport const ZodURL = /*@__PURE__*/ core.$constructor(\"ZodURL\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodURL.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function url(params) {\n    return core._url(ZodURL, params);\n}\nexport function httpUrl(params) {\n    return core._url(ZodURL, {\n        protocol: /^https?$/,\n        hostname: core.regexes.domain,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodEmoji = /*@__PURE__*/ core.$constructor(\"ZodEmoji\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodEmoji.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function emoji(params) {\n    return core._emoji(ZodEmoji, params);\n}\nexport const ZodNanoID = /*@__PURE__*/ core.$constructor(\"ZodNanoID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodNanoID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function nanoid(params) {\n    return core._nanoid(ZodNanoID, params);\n}\nexport const ZodCUID = /*@__PURE__*/ core.$constructor(\"ZodCUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cuid(params) {\n    return core._cuid(ZodCUID, params);\n}\nexport const ZodCUID2 = /*@__PURE__*/ core.$constructor(\"ZodCUID2\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCUID2.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cuid2(params) {\n    return core._cuid2(ZodCUID2, params);\n}\nexport const ZodULID = /*@__PURE__*/ core.$constructor(\"ZodULID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodULID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ulid(params) {\n    return core._ulid(ZodULID, params);\n}\nexport const ZodXID = /*@__PURE__*/ core.$constructor(\"ZodXID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodXID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function xid(params) {\n    return core._xid(ZodXID, params);\n}\nexport const ZodKSUID = /*@__PURE__*/ core.$constructor(\"ZodKSUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodKSUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ksuid(params) {\n    return core._ksuid(ZodKSUID, params);\n}\nexport const ZodIPv4 = /*@__PURE__*/ core.$constructor(\"ZodIPv4\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodIPv4.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ipv4(params) {\n    return core._ipv4(ZodIPv4, params);\n}\nexport const ZodMAC = /*@__PURE__*/ core.$constructor(\"ZodMAC\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodMAC.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function mac(params) {\n    return core._mac(ZodMAC, params);\n}\nexport const ZodIPv6 = /*@__PURE__*/ core.$constructor(\"ZodIPv6\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodIPv6.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ipv6(params) {\n    return core._ipv6(ZodIPv6, params);\n}\nexport const ZodCIDRv4 = /*@__PURE__*/ core.$constructor(\"ZodCIDRv4\", (inst, def) => {\n    core.$ZodCIDRv4.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cidrv4(params) {\n    return core._cidrv4(ZodCIDRv4, params);\n}\nexport const ZodCIDRv6 = /*@__PURE__*/ core.$constructor(\"ZodCIDRv6\", (inst, def) => {\n    core.$ZodCIDRv6.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cidrv6(params) {\n    return core._cidrv6(ZodCIDRv6, params);\n}\nexport const ZodBase64 = /*@__PURE__*/ core.$constructor(\"ZodBase64\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodBase64.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function base64(params) {\n    return core._base64(ZodBase64, params);\n}\nexport const ZodBase64URL = /*@__PURE__*/ core.$constructor(\"ZodBase64URL\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodBase64URL.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function base64url(params) {\n    return core._base64url(ZodBase64URL, params);\n}\nexport const ZodE164 = /*@__PURE__*/ core.$constructor(\"ZodE164\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodE164.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function e164(params) {\n    return core._e164(ZodE164, params);\n}\nexport const ZodJWT = /*@__PURE__*/ core.$constructor(\"ZodJWT\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodJWT.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function jwt(params) {\n    return core._jwt(ZodJWT, params);\n}\nexport const ZodCustomStringFormat = /*@__PURE__*/ core.$constructor(\"ZodCustomStringFormat\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCustomStringFormat.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function stringFormat(format, fnOrRegex, _params = {}) {\n    return core._stringFormat(ZodCustomStringFormat, format, fnOrRegex, _params);\n}\nexport function hostname(_params) {\n    return core._stringFormat(ZodCustomStringFormat, \"hostname\", core.regexes.hostname, _params);\n}\nexport function hex(_params) {\n    return core._stringFormat(ZodCustomStringFormat, \"hex\", core.regexes.hex, _params);\n}\nexport function hash(alg, params) {\n    const enc = params?.enc ?? \"hex\";\n    const format = `${alg}_${enc}`;\n    const regex = core.regexes[format];\n    if (!regex)\n        throw new Error(`Unrecognized hash format: ${format}`);\n    return core._stringFormat(ZodCustomStringFormat, format, regex, params);\n}\nexport const ZodNumber = /*@__PURE__*/ core.$constructor(\"ZodNumber\", (inst, def) => {\n    core.$ZodNumber.init(inst, def);\n    ZodType.init(inst, def);\n    inst.gt = (value, params) => inst.check(checks.gt(value, params));\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.lt = (value, params) => inst.check(checks.lt(value, params));\n    inst.lte = (value, params) => inst.check(checks.lte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    inst.int = (params) => inst.check(int(params));\n    inst.safe = (params) => inst.check(int(params));\n    inst.positive = (params) => inst.check(checks.gt(0, params));\n    inst.nonnegative = (params) => inst.check(checks.gte(0, params));\n    inst.negative = (params) => inst.check(checks.lt(0, params));\n    inst.nonpositive = (params) => inst.check(checks.lte(0, params));\n    inst.multipleOf = (value, params) => inst.check(checks.multipleOf(value, params));\n    inst.step = (value, params) => inst.check(checks.multipleOf(value, params));\n    // inst.finite = (params) => inst.check(core.finite(params));\n    inst.finite = () => inst;\n    const bag = inst._zod.bag;\n    inst.minValue =\n        Math.max(bag.minimum ?? Number.NEGATIVE_INFINITY, bag.exclusiveMinimum ?? Number.NEGATIVE_INFINITY) ?? null;\n    inst.maxValue =\n        Math.min(bag.maximum ?? Number.POSITIVE_INFINITY, bag.exclusiveMaximum ?? Number.POSITIVE_INFINITY) ?? null;\n    inst.isInt = (bag.format ?? \"\").includes(\"int\") || Number.isSafeInteger(bag.multipleOf ?? 0.5);\n    inst.isFinite = true;\n    inst.format = bag.format ?? null;\n});\nexport function number(params) {\n    return core._number(ZodNumber, params);\n}\nexport const ZodNumberFormat = /*@__PURE__*/ core.$constructor(\"ZodNumberFormat\", (inst, def) => {\n    core.$ZodNumberFormat.init(inst, def);\n    ZodNumber.init(inst, def);\n});\nexport function int(params) {\n    return core._int(ZodNumberFormat, params);\n}\nexport function float32(params) {\n    return core._float32(ZodNumberFormat, params);\n}\nexport function float64(params) {\n    return core._float64(ZodNumberFormat, params);\n}\nexport function int32(params) {\n    return core._int32(ZodNumberFormat, params);\n}\nexport function uint32(params) {\n    return core._uint32(ZodNumberFormat, params);\n}\nexport const ZodBoolean = /*@__PURE__*/ core.$constructor(\"ZodBoolean\", (inst, def) => {\n    core.$ZodBoolean.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function boolean(params) {\n    return core._boolean(ZodBoolean, params);\n}\nexport const ZodBigInt = /*@__PURE__*/ core.$constructor(\"ZodBigInt\", (inst, def) => {\n    core.$ZodBigInt.init(inst, def);\n    ZodType.init(inst, def);\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.gt = (value, params) => inst.check(checks.gt(value, params));\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.lt = (value, params) => inst.check(checks.lt(value, params));\n    inst.lte = (value, params) => inst.check(checks.lte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    inst.positive = (params) => inst.check(checks.gt(BigInt(0), params));\n    inst.negative = (params) => inst.check(checks.lt(BigInt(0), params));\n    inst.nonpositive = (params) => inst.check(checks.lte(BigInt(0), params));\n    inst.nonnegative = (params) => inst.check(checks.gte(BigInt(0), params));\n    inst.multipleOf = (value, params) => inst.check(checks.multipleOf(value, params));\n    const bag = inst._zod.bag;\n    inst.minValue = bag.minimum ?? null;\n    inst.maxValue = bag.maximum ?? null;\n    inst.format = bag.format ?? null;\n});\nexport function bigint(params) {\n    return core._bigint(ZodBigInt, params);\n}\nexport const ZodBigIntFormat = /*@__PURE__*/ core.$constructor(\"ZodBigIntFormat\", (inst, def) => {\n    core.$ZodBigIntFormat.init(inst, def);\n    ZodBigInt.init(inst, def);\n});\n// int64\nexport function int64(params) {\n    return core._int64(ZodBigIntFormat, params);\n}\n// uint64\nexport function uint64(params) {\n    return core._uint64(ZodBigIntFormat, params);\n}\nexport const ZodSymbol = /*@__PURE__*/ core.$constructor(\"ZodSymbol\", (inst, def) => {\n    core.$ZodSymbol.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function symbol(params) {\n    return core._symbol(ZodSymbol, params);\n}\nexport const ZodUndefined = /*@__PURE__*/ core.$constructor(\"ZodUndefined\", (inst, def) => {\n    core.$ZodUndefined.init(inst, def);\n    ZodType.init(inst, def);\n});\nfunction _undefined(params) {\n    return core._undefined(ZodUndefined, params);\n}\nexport { _undefined as undefined };\nexport const ZodNull = /*@__PURE__*/ core.$constructor(\"ZodNull\", (inst, def) => {\n    core.$ZodNull.init(inst, def);\n    ZodType.init(inst, def);\n});\nfunction _null(params) {\n    return core._null(ZodNull, params);\n}\nexport { _null as null };\nexport const ZodAny = /*@__PURE__*/ core.$constructor(\"ZodAny\", (inst, def) => {\n    core.$ZodAny.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function any() {\n    return core._any(ZodAny);\n}\nexport const ZodUnknown = /*@__PURE__*/ core.$constructor(\"ZodUnknown\", (inst, def) => {\n    core.$ZodUnknown.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function unknown() {\n    return core._unknown(ZodUnknown);\n}\nexport const ZodNever = /*@__PURE__*/ core.$constructor(\"ZodNever\", (inst, def) => {\n    core.$ZodNever.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function never(params) {\n    return core._never(ZodNever, params);\n}\nexport const ZodVoid = /*@__PURE__*/ core.$constructor(\"ZodVoid\", (inst, def) => {\n    core.$ZodVoid.init(inst, def);\n    ZodType.init(inst, def);\n});\nfunction _void(params) {\n    return core._void(ZodVoid, params);\n}\nexport { _void as void };\nexport const ZodDate = /*@__PURE__*/ core.$constructor(\"ZodDate\", (inst, def) => {\n    core.$ZodDate.init(inst, def);\n    ZodType.init(inst, def);\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    const c = inst._zod.bag;\n    inst.minDate = c.minimum ? new Date(c.minimum) : null;\n    inst.maxDate = c.maximum ? new Date(c.maximum) : null;\n});\nexport function date(params) {\n    return core._date(ZodDate, params);\n}\nexport const ZodArray = /*@__PURE__*/ core.$constructor(\"ZodArray\", (inst, def) => {\n    core.$ZodArray.init(inst, def);\n    ZodType.init(inst, def);\n    inst.element = def.element;\n    inst.min = (minLength, params) => inst.check(checks.minLength(minLength, params));\n    inst.nonempty = (params) => inst.check(checks.minLength(1, params));\n    inst.max = (maxLength, params) => inst.check(checks.maxLength(maxLength, params));\n    inst.length = (len, params) => inst.check(checks.length(len, params));\n    inst.unwrap = () => inst.element;\n});\nexport function array(element, params) {\n    return core._array(ZodArray, element, params);\n}\n// .keyof\nexport function keyof(schema) {\n    const shape = schema._zod.def.shape;\n    return _enum(Object.keys(shape));\n}\nexport const ZodObject = /*@__PURE__*/ core.$constructor(\"ZodObject\", (inst, def) => {\n    core.$ZodObjectJIT.init(inst, def);\n    ZodType.init(inst, def);\n    util.defineLazy(inst, \"shape\", () => {\n        return def.shape;\n    });\n    inst.keyof = () => _enum(Object.keys(inst._zod.def.shape));\n    inst.catchall = (catchall) => inst.clone({ ...inst._zod.def, catchall: catchall });\n    inst.passthrough = () => inst.clone({ ...inst._zod.def, catchall: unknown() });\n    inst.loose = () => inst.clone({ ...inst._zod.def, catchall: unknown() });\n    inst.strict = () => inst.clone({ ...inst._zod.def, catchall: never() });\n    inst.strip = () => inst.clone({ ...inst._zod.def, catchall: undefined });\n    inst.extend = (incoming) => {\n        return util.extend(inst, incoming);\n    };\n    inst.safeExtend = (incoming) => {\n        return util.safeExtend(inst, incoming);\n    };\n    inst.merge = (other) => util.merge(inst, other);\n    inst.pick = (mask) => util.pick(inst, mask);\n    inst.omit = (mask) => util.omit(inst, mask);\n    inst.partial = (...args) => util.partial(ZodOptional, inst, args[0]);\n    inst.required = (...args) => util.required(ZodNonOptional, inst, args[0]);\n});\nexport function object(shape, params) {\n    const def = {\n        type: \"object\",\n        shape: shape ?? {},\n        ...util.normalizeParams(params),\n    };\n    return new ZodObject(def);\n}\n// strictObject\nexport function strictObject(shape, params) {\n    return new ZodObject({\n        type: \"object\",\n        shape,\n        catchall: never(),\n        ...util.normalizeParams(params),\n    });\n}\n// looseObject\nexport function looseObject(shape, params) {\n    return new ZodObject({\n        type: \"object\",\n        shape,\n        catchall: unknown(),\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodUnion = /*@__PURE__*/ core.$constructor(\"ZodUnion\", (inst, def) => {\n    core.$ZodUnion.init(inst, def);\n    ZodType.init(inst, def);\n    inst.options = def.options;\n});\nexport function union(options, params) {\n    return new ZodUnion({\n        type: \"union\",\n        options: options,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodDiscriminatedUnion = /*@__PURE__*/ core.$constructor(\"ZodDiscriminatedUnion\", (inst, def) => {\n    ZodUnion.init(inst, def);\n    core.$ZodDiscriminatedUnion.init(inst, def);\n});\nexport function discriminatedUnion(discriminator, options, params) {\n    // const [options, params] = args;\n    return new ZodDiscriminatedUnion({\n        type: \"union\",\n        options,\n        discriminator,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodIntersection = /*@__PURE__*/ core.$constructor(\"ZodIntersection\", (inst, def) => {\n    core.$ZodIntersection.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function intersection(left, right) {\n    return new ZodIntersection({\n        type: \"intersection\",\n        left: left,\n        right: right,\n    });\n}\nexport const ZodTuple = /*@__PURE__*/ core.$constructor(\"ZodTuple\", (inst, def) => {\n    core.$ZodTuple.init(inst, def);\n    ZodType.init(inst, def);\n    inst.rest = (rest) => inst.clone({\n        ...inst._zod.def,\n        rest: rest,\n    });\n});\nexport function tuple(items, _paramsOrRest, _params) {\n    const hasRest = _paramsOrRest instanceof core.$ZodType;\n    const params = hasRest ? _params : _paramsOrRest;\n    const rest = hasRest ? _paramsOrRest : null;\n    return new ZodTuple({\n        type: \"tuple\",\n        items: items,\n        rest,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodRecord = /*@__PURE__*/ core.$constructor(\"ZodRecord\", (inst, def) => {\n    core.$ZodRecord.init(inst, def);\n    ZodType.init(inst, def);\n    inst.keyType = def.keyType;\n    inst.valueType = def.valueType;\n});\nexport function record(keyType, valueType, params) {\n    return new ZodRecord({\n        type: \"record\",\n        keyType,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\n// type alksjf = core.output<core.$ZodRecordKey>;\nexport function partialRecord(keyType, valueType, params) {\n    const k = core.clone(keyType);\n    k._zod.values = undefined;\n    return new ZodRecord({\n        type: \"record\",\n        keyType: k,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodMap = /*@__PURE__*/ core.$constructor(\"ZodMap\", (inst, def) => {\n    core.$ZodMap.init(inst, def);\n    ZodType.init(inst, def);\n    inst.keyType = def.keyType;\n    inst.valueType = def.valueType;\n});\nexport function map(keyType, valueType, params) {\n    return new ZodMap({\n        type: \"map\",\n        keyType: keyType,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodSet = /*@__PURE__*/ core.$constructor(\"ZodSet\", (inst, def) => {\n    core.$ZodSet.init(inst, def);\n    ZodType.init(inst, def);\n    inst.min = (...args) => inst.check(core._minSize(...args));\n    inst.nonempty = (params) => inst.check(core._minSize(1, params));\n    inst.max = (...args) => inst.check(core._maxSize(...args));\n    inst.size = (...args) => inst.check(core._size(...args));\n});\nexport function set(valueType, params) {\n    return new ZodSet({\n        type: \"set\",\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodEnum = /*@__PURE__*/ core.$constructor(\"ZodEnum\", (inst, def) => {\n    core.$ZodEnum.init(inst, def);\n    ZodType.init(inst, def);\n    inst.enum = def.entries;\n    inst.options = Object.values(def.entries);\n    const keys = new Set(Object.keys(def.entries));\n    inst.extract = (values, params) => {\n        const newEntries = {};\n        for (const value of values) {\n            if (keys.has(value)) {\n                newEntries[value] = def.entries[value];\n            }\n            else\n                throw new Error(`Key ${value} not found in enum`);\n        }\n        return new ZodEnum({\n            ...def,\n            checks: [],\n            ...util.normalizeParams(params),\n            entries: newEntries,\n        });\n    };\n    inst.exclude = (values, params) => {\n        const newEntries = { ...def.entries };\n        for (const value of values) {\n            if (keys.has(value)) {\n                delete newEntries[value];\n            }\n            else\n                throw new Error(`Key ${value} not found in enum`);\n        }\n        return new ZodEnum({\n            ...def,\n            checks: [],\n            ...util.normalizeParams(params),\n            entries: newEntries,\n        });\n    };\n});\nfunction _enum(values, params) {\n    const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [v, v])) : values;\n    return new ZodEnum({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\nexport { _enum as enum };\n/** @deprecated This API has been merged into `z.enum()`. Use `z.enum()` instead.\n *\n * ```ts\n * enum Colors { red, green, blue }\n * z.enum(Colors);\n * ```\n */\nexport function nativeEnum(entries, params) {\n    return new ZodEnum({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodLiteral = /*@__PURE__*/ core.$constructor(\"ZodLiteral\", (inst, def) => {\n    core.$ZodLiteral.init(inst, def);\n    ZodType.init(inst, def);\n    inst.values = new Set(def.values);\n    Object.defineProperty(inst, \"value\", {\n        get() {\n            if (def.values.length > 1) {\n                throw new Error(\"This schema contains multiple valid literal values. Use `.values` instead.\");\n            }\n            return def.values[0];\n        },\n    });\n});\nexport function literal(value, params) {\n    return new ZodLiteral({\n        type: \"literal\",\n        values: Array.isArray(value) ? value : [value],\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodFile = /*@__PURE__*/ core.$constructor(\"ZodFile\", (inst, def) => {\n    core.$ZodFile.init(inst, def);\n    ZodType.init(inst, def);\n    inst.min = (size, params) => inst.check(core._minSize(size, params));\n    inst.max = (size, params) => inst.check(core._maxSize(size, params));\n    inst.mime = (types, params) => inst.check(core._mime(Array.isArray(types) ? types : [types], params));\n});\nexport function file(params) {\n    return core._file(ZodFile, params);\n}\nexport const ZodTransform = /*@__PURE__*/ core.$constructor(\"ZodTransform\", (inst, def) => {\n    core.$ZodTransform.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        if (_ctx.direction === \"backward\") {\n            throw new core.$ZodEncodeError(inst.constructor.name);\n        }\n        payload.addIssue = (issue) => {\n            if (typeof issue === \"string\") {\n                payload.issues.push(util.issue(issue, payload.value, def));\n            }\n            else {\n                // for Zod 3 backwards compatibility\n                const _issue = issue;\n                if (_issue.fatal)\n                    _issue.continue = false;\n                _issue.code ?? (_issue.code = \"custom\");\n                _issue.input ?? (_issue.input = payload.value);\n                _issue.inst ?? (_issue.inst = inst);\n                // _issue.continue ??= true;\n                payload.issues.push(util.issue(_issue));\n            }\n        };\n        const output = def.transform(payload.value, payload);\n        if (output instanceof Promise) {\n            return output.then((output) => {\n                payload.value = output;\n                return payload;\n            });\n        }\n        payload.value = output;\n        return payload;\n    };\n});\nexport function transform(fn) {\n    return new ZodTransform({\n        type: \"transform\",\n        transform: fn,\n    });\n}\nexport const ZodOptional = /*@__PURE__*/ core.$constructor(\"ZodOptional\", (inst, def) => {\n    core.$ZodOptional.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function optional(innerType) {\n    return new ZodOptional({\n        type: \"optional\",\n        innerType: innerType,\n    });\n}\nexport const ZodNullable = /*@__PURE__*/ core.$constructor(\"ZodNullable\", (inst, def) => {\n    core.$ZodNullable.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function nullable(innerType) {\n    return new ZodNullable({\n        type: \"nullable\",\n        innerType: innerType,\n    });\n}\n// nullish\nexport function nullish(innerType) {\n    return optional(nullable(innerType));\n}\nexport const ZodDefault = /*@__PURE__*/ core.$constructor(\"ZodDefault\", (inst, def) => {\n    core.$ZodDefault.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n    inst.removeDefault = inst.unwrap;\n});\nexport function _default(innerType, defaultValue) {\n    return new ZodDefault({\n        type: \"default\",\n        innerType: innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : util.shallowClone(defaultValue);\n        },\n    });\n}\nexport const ZodPrefault = /*@__PURE__*/ core.$constructor(\"ZodPrefault\", (inst, def) => {\n    core.$ZodPrefault.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function prefault(innerType, defaultValue) {\n    return new ZodPrefault({\n        type: \"prefault\",\n        innerType: innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : util.shallowClone(defaultValue);\n        },\n    });\n}\nexport const ZodNonOptional = /*@__PURE__*/ core.$constructor(\"ZodNonOptional\", (inst, def) => {\n    core.$ZodNonOptional.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function nonoptional(innerType, params) {\n    return new ZodNonOptional({\n        type: \"nonoptional\",\n        innerType: innerType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodSuccess = /*@__PURE__*/ core.$constructor(\"ZodSuccess\", (inst, def) => {\n    core.$ZodSuccess.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function success(innerType) {\n    return new ZodSuccess({\n        type: \"success\",\n        innerType: innerType,\n    });\n}\nexport const ZodCatch = /*@__PURE__*/ core.$constructor(\"ZodCatch\", (inst, def) => {\n    core.$ZodCatch.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n    inst.removeCatch = inst.unwrap;\n});\nfunction _catch(innerType, catchValue) {\n    return new ZodCatch({\n        type: \"catch\",\n        innerType: innerType,\n        catchValue: (typeof catchValue === \"function\" ? catchValue : () => catchValue),\n    });\n}\nexport { _catch as catch };\nexport const ZodNaN = /*@__PURE__*/ core.$constructor(\"ZodNaN\", (inst, def) => {\n    core.$ZodNaN.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function nan(params) {\n    return core._nan(ZodNaN, params);\n}\nexport const ZodPipe = /*@__PURE__*/ core.$constructor(\"ZodPipe\", (inst, def) => {\n    core.$ZodPipe.init(inst, def);\n    ZodType.init(inst, def);\n    inst.in = def.in;\n    inst.out = def.out;\n});\nexport function pipe(in_, out) {\n    return new ZodPipe({\n        type: \"pipe\",\n        in: in_,\n        out: out,\n        // ...util.normalizeParams(params),\n    });\n}\nexport const ZodCodec = /*@__PURE__*/ core.$constructor(\"ZodCodec\", (inst, def) => {\n    ZodPipe.init(inst, def);\n    core.$ZodCodec.init(inst, def);\n});\nexport function codec(in_, out, params) {\n    return new ZodCodec({\n        type: \"pipe\",\n        in: in_,\n        out: out,\n        transform: params.decode,\n        reverseTransform: params.encode,\n    });\n}\nexport const ZodReadonly = /*@__PURE__*/ core.$constructor(\"ZodReadonly\", (inst, def) => {\n    core.$ZodReadonly.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function readonly(innerType) {\n    return new ZodReadonly({\n        type: \"readonly\",\n        innerType: innerType,\n    });\n}\nexport const ZodTemplateLiteral = /*@__PURE__*/ core.$constructor(\"ZodTemplateLiteral\", (inst, def) => {\n    core.$ZodTemplateLiteral.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function templateLiteral(parts, params) {\n    return new ZodTemplateLiteral({\n        type: \"template_literal\",\n        parts,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodLazy = /*@__PURE__*/ core.$constructor(\"ZodLazy\", (inst, def) => {\n    core.$ZodLazy.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.getter();\n});\nexport function lazy(getter) {\n    return new ZodLazy({\n        type: \"lazy\",\n        getter: getter,\n    });\n}\nexport const ZodPromise = /*@__PURE__*/ core.$constructor(\"ZodPromise\", (inst, def) => {\n    core.$ZodPromise.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function promise(innerType) {\n    return new ZodPromise({\n        type: \"promise\",\n        innerType: innerType,\n    });\n}\nexport const ZodFunction = /*@__PURE__*/ core.$constructor(\"ZodFunction\", (inst, def) => {\n    core.$ZodFunction.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function _function(params) {\n    return new ZodFunction({\n        type: \"function\",\n        input: Array.isArray(params?.input) ? tuple(params?.input) : (params?.input ?? array(unknown())),\n        output: params?.output ?? unknown(),\n    });\n}\nexport { _function as function };\nexport const ZodCustom = /*@__PURE__*/ core.$constructor(\"ZodCustom\", (inst, def) => {\n    core.$ZodCustom.init(inst, def);\n    ZodType.init(inst, def);\n});\n// custom checks\nexport function check(fn) {\n    const ch = new core.$ZodCheck({\n        check: \"custom\",\n        // ...util.normalizeParams(params),\n    });\n    ch._zod.check = fn;\n    return ch;\n}\nexport function custom(fn, _params) {\n    return core._custom(ZodCustom, fn ?? (() => true), _params);\n}\nexport function refine(fn, _params = {}) {\n    return core._refine(ZodCustom, fn, _params);\n}\n// superRefine\nexport function superRefine(fn) {\n    return core._superRefine(fn);\n}\n// Re-export describe and meta from core\nexport const describe = core.describe;\nexport const meta = core.meta;\nfunction _instanceof(cls, params = {\n    error: `Input not instance of ${cls.name}`,\n}) {\n    const inst = new ZodCustom({\n        type: \"custom\",\n        check: \"custom\",\n        fn: (data) => data instanceof cls,\n        abort: true,\n        ...util.normalizeParams(params),\n    });\n    inst._zod.bag.Class = cls;\n    return inst;\n}\nexport { _instanceof as instanceof };\n// stringbool\nexport const stringbool = (...args) => core._stringbool({\n    Codec: ZodCodec,\n    Boolean: ZodBoolean,\n    String: ZodString,\n}, ...args);\nexport function json(params) {\n    const jsonSchema = lazy(() => {\n        return union([string(params), number(), boolean(), _null(), array(jsonSchema), record(string(), jsonSchema)]);\n    });\n    return jsonSchema;\n}\n// preprocess\n// /** @deprecated Use `z.pipe()` and `z.transform()` instead. */\nexport function preprocess(fn, schema) {\n    return pipe(transform(fn), schema);\n}\n", "// Zod 3 compat layer\nimport * as core from \"../core/index.js\";\n/** @deprecated Use the raw string literal codes instead, e.g. \"invalid_type\". */\nexport const ZodIssueCode = {\n    invalid_type: \"invalid_type\",\n    too_big: \"too_big\",\n    too_small: \"too_small\",\n    invalid_format: \"invalid_format\",\n    not_multiple_of: \"not_multiple_of\",\n    unrecognized_keys: \"unrecognized_keys\",\n    invalid_union: \"invalid_union\",\n    invalid_key: \"invalid_key\",\n    invalid_element: \"invalid_element\",\n    invalid_value: \"invalid_value\",\n    custom: \"custom\",\n};\nexport { $brand, config } from \"../core/index.js\";\n/** @deprecated Use `z.config(params)` instead. */\nexport function setErrorMap(map) {\n    core.config({\n        customError: map,\n    });\n}\n/** @deprecated Use `z.config()` instead. */\nexport function getErrorMap() {\n    return core.config().customError;\n}\n/** @deprecated Do not use. Stub definition, only included for zod-to-json-schema compatibility. */\nexport var ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\n", "import * as core from \"../core/index.js\";\nimport * as schemas from \"./schemas.js\";\nexport function string(params) {\n    return core._coercedString(schemas.ZodString, params);\n}\nexport function number(params) {\n    return core._coercedNumber(schemas.ZodNumber, params);\n}\nexport function boolean(params) {\n    return core._coercedBoolean(schemas.ZodBoolean, params);\n}\nexport function bigint(params) {\n    return core._coercedBigint(schemas.ZodBigInt, params);\n}\nexport function date(params) {\n    return core._coercedDate(schemas.ZodDate, params);\n}\n", "import { z } from \"zod\";\nexport const SampleMetaData = z.object({\n    name: z.string(),\n    bpm: z.number(),\n    duration: z.number(),\n    sample_rate: z.number(),\n    origin: z.enum([\"openDAW\", \"recording\", \"import\"])\n});\n", "import { UUID } from \"@naomiarotest/lib-std\";\nimport { SampleMetaData } from \"./SampleMetaData\";\nimport { z } from \"zod\";\nexport const Sample = SampleMetaData.extend({\n    uuid: UUID.zType(z)\n});\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _FilteredSelection_selection, _FilteredSelection_filter, _FilteredSelection_mapping, _FilteredSelection_set, _FilteredSelection_listeners, _FilteredSelection_subscription;\nimport { Listeners } from \"@naomiarotest/lib-std\";\nimport { Address } from \"@naomiarotest/lib-box\";\nexport class FilteredSelection {\n    constructor(selection, filter, mapping) {\n        _FilteredSelection_selection.set(this, void 0);\n        _FilteredSelection_filter.set(this, void 0);\n        _FilteredSelection_mapping.set(this, void 0);\n        _FilteredSelection_set.set(this, void 0);\n        _FilteredSelection_listeners.set(this, void 0);\n        _FilteredSelection_subscription.set(this, void 0);\n        __classPrivateFieldSet(this, _FilteredSelection_selection, selection, \"f\");\n        __classPrivateFieldSet(this, _FilteredSelection_filter, filter, \"f\");\n        __classPrivateFieldSet(this, _FilteredSelection_mapping, mapping, \"f\");\n        __classPrivateFieldSet(this, _FilteredSelection_set, Address.newSet(addressable => addressable.address), \"f\");\n        __classPrivateFieldSet(this, _FilteredSelection_listeners, new Listeners(), \"f\");\n        __classPrivateFieldGet(this, _FilteredSelection_selection, \"f\").selected()\n            .filter(element => __classPrivateFieldGet(this, _FilteredSelection_filter, \"f\").call(this, element))\n            .forEach(element => __classPrivateFieldGet(this, _FilteredSelection_set, \"f\").add(__classPrivateFieldGet(this, _FilteredSelection_mapping, \"f\").fy(element)));\n        __classPrivateFieldSet(this, _FilteredSelection_subscription, __classPrivateFieldGet(this, _FilteredSelection_selection, \"f\").catchupAndSubscribe({\n            onSelected: (element) => {\n                if (__classPrivateFieldGet(this, _FilteredSelection_filter, \"f\").call(this, element)) {\n                    const value = __classPrivateFieldGet(this, _FilteredSelection_mapping, \"f\").fy(element);\n                    __classPrivateFieldGet(this, _FilteredSelection_set, \"f\").add(value);\n                    __classPrivateFieldGet(this, _FilteredSelection_listeners, \"f\").proxy.onSelected(value);\n                }\n            },\n            onDeselected: (element) => {\n                if (__classPrivateFieldGet(this, _FilteredSelection_filter, \"f\").call(this, element)) {\n                    __classPrivateFieldGet(this, _FilteredSelection_listeners, \"f\").proxy.onDeselected(__classPrivateFieldGet(this, _FilteredSelection_set, \"f\").removeByKey(element.address));\n                }\n            }\n        }), \"f\");\n    }\n    terminate() { __classPrivateFieldGet(this, _FilteredSelection_subscription, \"f\").terminate(); }\n    select(...selectables) {\n        __classPrivateFieldGet(this, _FilteredSelection_selection, \"f\").select(...selectables.map(selectable => __classPrivateFieldGet(this, _FilteredSelection_mapping, \"f\").fx(selectable)));\n    }\n    deselect(...selectables) {\n        __classPrivateFieldGet(this, _FilteredSelection_selection, \"f\").deselect(...selectables.map(selectable => __classPrivateFieldGet(this, _FilteredSelection_mapping, \"f\").fx(selectable)));\n    }\n    deselectAll() {\n        __classPrivateFieldGet(this, _FilteredSelection_selection, \"f\").deselect(...(__classPrivateFieldGet(this, _FilteredSelection_set, \"f\").values().map(selectable => __classPrivateFieldGet(this, _FilteredSelection_mapping, \"f\").fx(selectable))));\n    }\n    distance(inventory) {\n        return __classPrivateFieldGet(this, _FilteredSelection_selection, \"f\").distance(inventory.map(selectable => __classPrivateFieldGet(this, _FilteredSelection_mapping, \"f\").fx(selectable))).map(item => __classPrivateFieldGet(this, _FilteredSelection_mapping, \"f\").fy(item));\n    }\n    isEmpty() { return __classPrivateFieldGet(this, _FilteredSelection_set, \"f\").size() === 0; }\n    nonEmpty() { return __classPrivateFieldGet(this, _FilteredSelection_set, \"f\").size() > 0; }\n    count() { return __classPrivateFieldGet(this, _FilteredSelection_set, \"f\").size(); }\n    isSelected(selectable) { return __classPrivateFieldGet(this, _FilteredSelection_set, \"f\").hasKey(selectable.address); }\n    selected() { return __classPrivateFieldGet(this, _FilteredSelection_set, \"f\").values(); }\n    subscribe(listener) {\n        return __classPrivateFieldGet(this, _FilteredSelection_listeners, \"f\").subscribe(listener);\n    }\n    catchupAndSubscribe(listener) {\n        __classPrivateFieldGet(this, _FilteredSelection_set, \"f\").forEach(selectable => listener.onSelected(selectable));\n        return this.subscribe(listener);\n    }\n}\n_FilteredSelection_selection = new WeakMap(), _FilteredSelection_filter = new WeakMap(), _FilteredSelection_mapping = new WeakMap(), _FilteredSelection_set = new WeakMap(), _FilteredSelection_listeners = new WeakMap(), _FilteredSelection_subscription = new WeakMap();\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _VertexSelection_instances, _VertexSelection_lifeTime, _VertexSelection_entityMap, _VertexSelection_selectableMap, _VertexSelection_listeners, _VertexSelection_target, _VertexSelection_watch;\nimport { asInstanceOf, assert, Listeners, Option, Terminator, UUID } from \"@naomiarotest/lib-std\";\nimport { Address } from \"@naomiarotest/lib-box\";\nimport { Pointers } from \"@naomiarotest/studio-enums\";\nimport { SelectionBox } from \"@naomiarotest/studio-boxes\";\nimport { FilteredSelection } from \"./FilteredSelection\";\n/**\n * Represents the main selection management within a document.\n * This class maintains selections for different users, with each user having their own unique selection.\n */\nexport class VertexSelection {\n    constructor(editing, boxGraph) {\n        _VertexSelection_instances.add(this);\n        this.editing = editing;\n        this.boxGraph = boxGraph;\n        _VertexSelection_lifeTime.set(this, void 0);\n        _VertexSelection_entityMap.set(this, void 0); // sorted on entity\n        _VertexSelection_selectableMap.set(this, void 0); // sorted on selectable\n        _VertexSelection_listeners.set(this, void 0);\n        _VertexSelection_target.set(this, Option.None);\n        __classPrivateFieldSet(this, _VertexSelection_lifeTime, new Terminator(), \"f\");\n        __classPrivateFieldSet(this, _VertexSelection_entityMap, UUID.newSet(entry => entry.box.address.uuid), \"f\");\n        __classPrivateFieldSet(this, _VertexSelection_selectableMap, Address.newSet(entry => entry.selectable.address), \"f\");\n        __classPrivateFieldSet(this, _VertexSelection_listeners, new Listeners(), \"f\");\n    }\n    switch(target) {\n        this.release();\n        console.debug(`VertexSelection.switch(${target.address.toString()})`);\n        __classPrivateFieldSet(this, _VertexSelection_target, Option.wrap(target), \"f\");\n        __classPrivateFieldGet(this, _VertexSelection_lifeTime, \"f\").own(__classPrivateFieldGet(this, _VertexSelection_instances, \"m\", _VertexSelection_watch).call(this, target));\n        return this;\n    }\n    release() {\n        if (__classPrivateFieldGet(this, _VertexSelection_target, \"f\").isEmpty()) {\n            return;\n        }\n        __classPrivateFieldSet(this, _VertexSelection_target, Option.None, \"f\");\n        __classPrivateFieldGet(this, _VertexSelection_lifeTime, \"f\").terminate();\n        __classPrivateFieldGet(this, _VertexSelection_selectableMap, \"f\").forEach(entry => __classPrivateFieldGet(this, _VertexSelection_listeners, \"f\").proxy.onDeselected(entry.selectable));\n        __classPrivateFieldGet(this, _VertexSelection_selectableMap, \"f\").clear();\n        __classPrivateFieldGet(this, _VertexSelection_entityMap, \"f\").clear();\n    }\n    createFilteredSelection(affiliate, map) {\n        return new FilteredSelection(this, affiliate, map);\n    }\n    select(...selectables) {\n        if (__classPrivateFieldGet(this, _VertexSelection_target, \"f\").isEmpty()) {\n            console.debug(`Cannot select without a user`);\n            return;\n        }\n        if (selectables.length === 0) {\n            return;\n        }\n        this.editing.modify(() => {\n            const selection = __classPrivateFieldGet(this, _VertexSelection_target, \"f\").unwrap();\n            for (const selectable of selectables) {\n                if (!__classPrivateFieldGet(this, _VertexSelection_selectableMap, \"f\").hasKey(selectable.address)) {\n                    SelectionBox.create(this.boxGraph, UUID.generate(), box => {\n                        box.selectable.refer(selectable);\n                        box.selection.refer(selection);\n                    });\n                }\n            }\n        }, false);\n    }\n    deselect(...selectables) {\n        if (__classPrivateFieldGet(this, _VertexSelection_target, \"f\").isEmpty()) {\n            console.debug(`Cannot deselect without a user`);\n            return;\n        }\n        if (selectables.length === 0) {\n            return;\n        }\n        this.editing.modify(() => selectables\n            .forEach(selectable => __classPrivateFieldGet(this, _VertexSelection_selectableMap, \"f\").get(selectable.address).box.delete()), false);\n    }\n    deselectAll() {\n        this.deselect(...__classPrivateFieldGet(this, _VertexSelection_selectableMap, \"f\").values().map(entry => entry.selectable));\n    }\n    distance(inventory) {\n        const excludes = [];\n        for (const selectable of inventory) {\n            if (!__classPrivateFieldGet(this, _VertexSelection_selectableMap, \"f\").hasKey(selectable.address)) {\n                excludes.push(selectable);\n            }\n        }\n        return excludes;\n    }\n    isEmpty() { return __classPrivateFieldGet(this, _VertexSelection_selectableMap, \"f\").size() === 0; }\n    count() { return __classPrivateFieldGet(this, _VertexSelection_selectableMap, \"f\").size(); }\n    isSelected(selectable) { return __classPrivateFieldGet(this, _VertexSelection_selectableMap, \"f\").hasKey(selectable.address); }\n    selected() { return __classPrivateFieldGet(this, _VertexSelection_selectableMap, \"f\").values().map(entry => entry.selectable); }\n    subscribe(listener) { return __classPrivateFieldGet(this, _VertexSelection_listeners, \"f\").subscribe(listener); }\n    catchupAndSubscribe(listener) {\n        this.selected().forEach(element => listener.onSelected(element));\n        return __classPrivateFieldGet(this, _VertexSelection_listeners, \"f\").subscribe(listener);\n    }\n}\n_VertexSelection_lifeTime = new WeakMap(), _VertexSelection_entityMap = new WeakMap(), _VertexSelection_selectableMap = new WeakMap(), _VertexSelection_listeners = new WeakMap(), _VertexSelection_target = new WeakMap(), _VertexSelection_instances = new WeakSet(), _VertexSelection_watch = function _VertexSelection_watch(target) {\n    return target.pointerHub.catchupAndSubscribe({\n        onAdded: (pointer) => {\n            const box = asInstanceOf(pointer.box, SelectionBox);\n            assert(box.isAttached(), \"SelectionBox is not attached\");\n            const selectable = box.selectable.targetVertex\n                .unwrap(() => `SelectionBox has no target (${box.selectable.targetAddress.unwrapOrUndefined()\n                ?.toString() ?? \"No address\"})`);\n            const entry = { box, selectable };\n            __classPrivateFieldGet(this, _VertexSelection_listeners, \"f\").proxy.onSelected(selectable);\n            assert(__classPrivateFieldGet(this, _VertexSelection_entityMap, \"f\").add(entry), \"Could not add to entityMap\");\n            assert(__classPrivateFieldGet(this, _VertexSelection_selectableMap, \"f\").add(entry), \"Could not add to selectableMap\");\n        },\n        onRemoved: (pointer) => {\n            const box = asInstanceOf(pointer.box, SelectionBox);\n            const entry = __classPrivateFieldGet(this, _VertexSelection_entityMap, \"f\").removeByKey(box.address.uuid);\n            assert(entry.box === box, \"Broken selection\");\n            const selectable = entry.selectable;\n            __classPrivateFieldGet(this, _VertexSelection_listeners, \"f\").proxy.onDeselected(selectable);\n            __classPrivateFieldGet(this, _VertexSelection_selectableMap, \"f\").removeByKey(selectable.address);\n        }\n    }, Pointers.Selection);\n};\n", "import { z } from \"zod\";\nexport const SoundfontMetaData = z.object({\n    name: z.string(),\n    size: z.number().int(),\n    url: z.string(),\n    license: z.string(),\n    origin: z.enum([\"openDAW\", \"import\"])\n});\n", "import { UUID } from \"@naomiarotest/lib-std\";\nimport { SoundfontMetaData } from \"./SoundfontMetaData\";\nimport { z } from \"zod\";\nexport const Soundfont = SoundfontMetaData.extend({\n    uuid: UUID.zType(z)\n});\n", "import { mod, panic } from \"@naomiarotest/lib-std\";\nimport { UnionAdapterTypes } from \"../UnionAdapterTypes\";\nexport var RegionEditing;\n(function (RegionEditing) {\n    RegionEditing.cut = (region, cut, consolidate) => {\n        if (region.position >= cut || cut >= region.complete) {\n            return;\n        }\n        if (UnionAdapterTypes.isLoopableRegion(region)) {\n            const { position, complete, loopOffset, loopDuration } = region;\n            region.box.duration.setValue(cut - position);\n            region.copyTo({\n                position: cut,\n                duration: complete - cut,\n                loopOffset: mod(loopOffset + (cut - position), loopDuration),\n                consolidate\n            });\n        }\n        else {\n            return panic(\"Not yet implemented\");\n        }\n    };\n    RegionEditing.clip = (region, begin, end) => {\n        if (UnionAdapterTypes.isLoopableRegion(region)) {\n            const { position, complete, loopOffset, loopDuration } = region;\n            if (complete - end <= 0) {\n                return panic(`duration will zero or negative(${complete - end})`);\n            }\n            region.box.duration.setValue(begin - position);\n            region.copyTo({\n                position: end,\n                duration: complete - end,\n                loopOffset: mod(loopOffset + (end - position), loopDuration)\n            });\n        }\n        else {\n            return panic(\"Not yet implemented\");\n        }\n    };\n})(RegionEditing || (RegionEditing = {}));\n", "import {int, Terminable} from \"@naomiarotest/lib-std\"\nimport {AudioBuffer, ppqn} from \"@naomiarotest/lib-dsp\"\nimport {EventBuffer} from \"./EventBuffer\"\n\nexport const enum BlockFlag {\n    transporting = 1 << 0, // is true if the (main) timeline should not advance\n    discontinuous = 1 << 1, // set, if the time has not been advanced naturally (release notes)\n    playing = 1 << 2, // set, if arrangement should generate sound\n    tempoChanged = 1 << 3 // true if the tempo has been changed\n}\n\nexport namespace BlockFlags {\n    export const create = (transporting: boolean,\n                           discontinuous: boolean,\n                           playing: boolean,\n                           tempoChanged: boolean): int => 0\n        | (transporting ? BlockFlag.transporting : 0)\n        | (discontinuous ? BlockFlag.discontinuous : 0)\n        | (playing ? BlockFlag.playing : 0)\n        | (tempoChanged ? BlockFlag.tempoChanged : 0)\n}\n\nexport type Block = Readonly<{\n    index: int,\n    // range in ppqn time\n    p0: ppqn\n    p1: ppqn\n    // range in audio block\n    s0: int\n    s1: int\n    // tempo in this block\n    bpm: number\n    // BlockFlag\n    flags: int\n}>\n\nexport enum ProcessPhase {Before, After}\n\nexport interface ProcessInfo {\n    blocks: ReadonlyArray<Block>\n}\n\nexport interface Processor extends EventReceiver {\n    reset(): void\n    process(processInfo: ProcessInfo): void\n}\n\nexport interface EventReceiver {\n    get eventInput(): EventBuffer\n}\n\nexport interface AudioGenerator {\n    get audioOutput(): AudioBuffer\n}\n\nexport interface EventGenerator {\n    setEventTarget(target: EventBuffer): Terminable\n}\n\nexport interface AudioInput {\n    setAudioSource(source: AudioBuffer): Terminable\n}", "import {Arrays, int, Terminable} from \"@naomiarotest/lib-std\"\nimport {Address} from \"@naomiarotest/lib-box\"\nimport {RenderQuantum, RMS, StereoMatrix} from \"@naomiarotest/lib-dsp\"\nimport {LiveStreamBroadcaster} from \"@naomiarotest/lib-fusion\"\n\nexport class PeakBroadcaster implements Terminable {\n    static readonly PEAK_DECAY = Math.exp(-1.0 / (sampleRate * 0.250))\n    static readonly RMS_WINDOW = Math.floor(sampleRate * 0.100)\n\n    readonly #broadcaster: LiveStreamBroadcaster\n    readonly #address: Address\n\n    readonly #values: Float32Array\n    readonly #rms: ReadonlyArray<RMS>\n    readonly #terminable: Terminable\n\n    #peakL: number = 0.0\n    #peakR: number = 0.0\n    #rmsL: number = 0.0\n    #rmsR: number = 0.0\n\n    constructor(broadcaster: LiveStreamBroadcaster, address: Address) {\n        this.#broadcaster = broadcaster\n        this.#address = address\n\n        this.#values = new Float32Array(4)\n        this.#rms = Arrays.create(() => new RMS(PeakBroadcaster.RMS_WINDOW), 2)\n        this.#terminable = this.#broadcaster.broadcastFloats(this.#address, this.#values, () => {\n            this.#values[0] = this.#peakL\n            this.#values[1] = this.#peakR\n            this.#values[2] = this.#rmsL\n            this.#values[3] = this.#rmsR\n        })\n    }\n\n    clear(): void {\n        this.#rms[0].clear()\n        this.#rms[1].clear()\n        this.#peakL = 0.0\n        this.#peakR = 0.0\n    }\n\n    process(outL: Float32Array, outR: Float32Array, fromIndex: int = 0, toIndex: int = RenderQuantum): void {\n        const samples = toIndex - fromIndex\n        const decay = PeakBroadcaster.PEAK_DECAY ** samples\n        let maxL = 0.0\n        let maxR = 0.0\n        for (let i = fromIndex; i < toIndex; i++) {\n            const l = Math.abs(outL[i])\n            const r = Math.abs(outR[i])\n            if (l > maxL) maxL = l\n            if (r > maxR) maxR = r\n        }\n        this.#peakL = Math.max(maxL, this.#peakL * decay)\n        this.#peakR = Math.max(maxR, this.#peakR * decay)\n        this.#rmsL = this.#rms[0].processBlock(outL, fromIndex, toIndex)\n        this.#rmsR = this.#rms[1].processBlock(outR, fromIndex, toIndex)\n    }\n\n    processStereo([l, r]: StereoMatrix.Channels, fromIndex: int = 0, toIndex: int = RenderQuantum): void {\n        this.process(l, r, fromIndex, toIndex)\n    }\n\n    terminate(): void {this.#terminable.terminate()}\n}", "import {Address, PrimitiveValues} from \"@naomiarotest/lib-box\"\nimport {AutomatableParameterFieldAdapter} from \"@naomiarotest/studio-adapters\"\nimport {\n    assert,\n    Notifier,\n    Observer,\n    Option,\n    Subscription,\n    Terminable,\n    TerminableOwner,\n    Terminator,\n    unitValue\n} from \"@naomiarotest/lib-std\"\nimport {ppqn} from \"@naomiarotest/lib-dsp\"\nimport {EngineContext} from \"./EngineContext\"\n\nexport class AutomatableParameter<T extends PrimitiveValues = any> implements TerminableOwner, Terminable {\n    readonly #terminator = new Terminator()\n\n    readonly #context: EngineContext\n    readonly #adapter: AutomatableParameterFieldAdapter<T>\n    readonly #notifier: Notifier<this>\n\n    #broadcasting: Option<Subscription> = Option.None\n\n    #value: T\n\n    constructor(context: EngineContext, adapter: AutomatableParameterFieldAdapter<T>) {\n        this.#context = context\n        this.#adapter = adapter\n        this.#notifier = new Notifier<this>()\n        this.#value = this.#adapter.getValue()\n        this.#terminator.own(this.#adapter.subscribe(owner => {\n            this.#value = owner.getValue()\n            this.#notifier.notify(this)\n        }))\n    }\n\n    get adapter(): AutomatableParameterFieldAdapter<T> {return this.#adapter}\n    get address(): Address {return this.#adapter.address}\n\n    subscribe(observer: Observer<this>): Subscription {return this.#notifier.subscribe(observer)}\n    getValue(): T {return this.#value}\n    getUnitValue(): unitValue {return this.#adapter.valueMapping.x(this.#value)}\n\n    onStartAutomation(): void {\n        assert(this.#broadcasting.isEmpty(), \"Already broadcasting\")\n        this.#broadcasting = Option.wrap(this.#context.broadcaster\n            .broadcastFloat(this.#adapter.address, () => this.getUnitValue()))\n    }\n\n    updateAutomation(position: ppqn): boolean {\n        const value = this.#adapter.valueAt(position)\n        if (this.#value !== value) {\n            this.#value = value\n            return true\n        }\n        return false\n    }\n\n    onStopAutomation(): void {\n        assert(this.#broadcasting.nonEmpty(), \"Never started broadcasting\")\n        this.#broadcasting.unwrap().terminate()\n        this.#broadcasting = Option.None\n        this.#value = this.#adapter.getValue()\n    }\n\n    own<T extends Terminable>(terminable: T): T {return this.#terminator.own<T>(terminable)}\n    ownAll<T extends Terminable>(...terminables: T[]): void {this.#terminator.ownAll<T>(...terminables)}\n    spawn(): Terminator {return this.#terminator.spawn()}\n    terminate(): void {this.#terminator.terminate()}\n}", "import {ArrayMultimap, int} from \"@naomiarotest/lib-std\"\nimport {Event} from \"@naomiarotest/lib-dsp\"\n\nexport class EventBuffer {\n    readonly #events: ArrayMultimap<int, Event>\n\n    constructor() {this.#events = new ArrayMultimap()}\n\n    add(index: int, event: Event): void {this.#events.add(index, event)}\n    get(index: int): ReadonlyArray<Event> {return this.#events.get(index)}\n    forEach(procedure: (index: int, values: ReadonlyArray<Event>) => void): void {return this.#events.forEach(procedure)}\n    clear(): void {this.#events.clear()}\n}", "import {Arrays, Option, panic, Terminable, TerminableOwner, Terminator} from \"@naomiarotest/lib-std\"\nimport {PointerField, PrimitiveValues} from \"@naomiarotest/lib-box\"\nimport {Pointers} from \"@naomiarotest/studio-enums\"\nimport {AutomatableParameterFieldAdapter} from \"@naomiarotest/studio-adapters\"\nimport {AutomatableParameter} from \"./AutomatableParameter\"\nimport {ProcessInfo, Processor} from \"./processing\"\nimport {EngineContext} from \"./EngineContext\"\nimport {EventBuffer} from \"./EventBuffer\"\nimport {ppqn} from \"@naomiarotest/lib-dsp\"\n\nexport abstract class AbstractProcessor implements Processor, TerminableOwner, Terminable {\n    readonly #terminator = new Terminator()\n    readonly #context: EngineContext\n    readonly #eventInput: EventBuffer\n    readonly #parameters: Array<AutomatableParameter>\n    readonly #automatedParameters: Array<AutomatableParameter>\n\n    #updateClockConnection: Option<Terminable> = Option.None\n\n    constructor(context: EngineContext) {\n        this.#context = context\n        this.#eventInput = new EventBuffer()\n        this.#parameters = []\n        this.#automatedParameters = []\n    }\n\n    abstract reset(): void\n    abstract process(processInfo: ProcessInfo): void\n\n    parameterChanged(parameter: AutomatableParameter, _relativeBlockTime?: number): void {\n        return panic(`Got update event for ${parameter}, but has no parameter change method`)\n    }\n\n    get context(): EngineContext {return this.#context}\n    get eventInput(): EventBuffer {return this.#eventInput}\n\n    bindParameter<T extends PrimitiveValues>(adapter: AutomatableParameterFieldAdapter<T>): AutomatableParameter<T> {\n        const parameter = new AutomatableParameter<T>(this.#context, adapter)\n        parameter.ownAll(\n            adapter.field.pointerHub.catchupAndSubscribe({\n                onAdded: (_pointer: PointerField) => {\n                    if (this.#updateClockConnection.isEmpty()) {\n                        this.#updateClockConnection = Option.wrap(this.#context.updateClock.addEventOutput(this.#eventInput))\n                    }\n                    this.#automatedParameters.push(parameter)\n                    parameter.onStartAutomation()\n                },\n                onRemoved: (_pointer: PointerField) => {\n                    Arrays.remove(this.#automatedParameters, parameter)\n                    if (this.#automatedParameters.length === 0) {\n                        this.#updateClockConnection.ifSome(connection => connection.terminate())\n                        this.#updateClockConnection = Option.None\n                    }\n                    parameter.onStopAutomation()\n                }\n            }, Pointers.Automation),\n            parameter.subscribe(() => this.parameterChanged(parameter))\n        )\n        this.#parameters.push(parameter)\n        return parameter\n    }\n\n    updateParameters(position: ppqn, relativeBlockTimeInSeconds: number): void {\n        this.#automatedParameters.forEach((parameter: AutomatableParameter) => {\n            if (parameter.updateAutomation(position)) {\n                this.parameterChanged(parameter, relativeBlockTimeInSeconds)\n            }\n        })\n    }\n\n    readAllParameters(): void {this.#parameters.forEach(parameter => this.parameterChanged(parameter, 0.0))}\n\n    own<T extends Terminable>(terminable: T): T {return this.#terminator.own(terminable)}\n    ownAll<T extends Terminable>(...terminables: T[]): void {return this.#terminator.ownAll(...terminables)}\n    spawn(): Terminator {return this.#terminator.spawn()}\n\n    terminate(): void {\n        this.#updateClockConnection.ifSome(connection => connection.terminate())\n        this.#updateClockConnection = Option.None\n        this.#parameters.length = 0\n        this.#terminator.terminate()\n    }\n\n    toString(): string {return `{${this.constructor.name}}`}\n}", "import {BlockFlag, ProcessInfo} from \"./processing\"\nimport {Event, Fragmentor, UpdateClockRate} from \"@naomiarotest/lib-dsp\"\nimport {EngineContext} from \"./EngineContext\"\nimport {Arrays, Bits, int, Terminable} from \"@naomiarotest/lib-std\"\nimport {AbstractProcessor} from \"./AbstractProcessor\"\nimport {EventBuffer} from \"./EventBuffer\"\n\nexport interface UpdateEvent extends Event {type: \"update-event\"}\n\nexport namespace UpdateEvent {\n    export const isOfType = (event: Event): event is UpdateEvent => event.type === \"update-event\"\n}\n\nexport class UpdateClock extends AbstractProcessor {\n    readonly #outputs: Array<EventBuffer> = []\n\n    constructor(context: EngineContext) {\n        super(context)\n\n        this.own(this.context.registerProcessor(this))\n    }\n\n    reset(): void {this.eventInput.clear()}\n\n    addEventOutput(output: EventBuffer): Terminable {\n        this.#outputs.push(output)\n        return {terminate: () => Arrays.remove(this.#outputs, output)}\n    }\n\n    process({blocks}: ProcessInfo): void {\n        blocks.forEach(({p0, p1, flags}, index: int) => {\n            if (!Bits.every(flags, BlockFlag.transporting)) {return}\n            for (const position of Fragmentor.iterate(p0, p1, UpdateClockRate)) {\n                const event: UpdateEvent = {type: \"update-event\", position}\n                this.#outputs.forEach(output => output.add(index, event))\n            }\n        })\n    }\n\n    toString(): string {return `{${this.constructor.name}}`}\n}", "import {Event, PPQN} from \"@naomiarotest/lib-dsp\"\nimport {assert, int, Maybe, panic} from \"@naomiarotest/lib-std\"\nimport {Block, ProcessInfo} from \"./processing\"\nimport {AbstractProcessor} from \"./AbstractProcessor\"\nimport {UpdateEvent} from \"./UpdateClock\"\nimport {EngineContext} from \"./EngineContext\"\n\nexport abstract class AudioProcessor extends AbstractProcessor {\n    protected constructor(context: EngineContext) {\n        super(context)\n    }\n\n    process({blocks}: ProcessInfo): void {\n        blocks.forEach((block) => {\n            this.introduceBlock(block)\n            const {index, p0, s0, s1, bpm} = block\n            let anyEvents: Maybe<Array<Event>> = null\n            let fromIndex = s0\n            for (const event of this.eventInput.get(index)) {\n                const pulses = event.position - p0\n                const toIndex = Math.abs(pulses) < 1.0e-7 ? s0 : s0 + Math.floor(PPQN.pulsesToSamples(pulses, bpm, sampleRate))\n                assert(s0 <= toIndex && toIndex <= s1, () => `${toIndex} out of bounds. event: ${event.position} (${event.type}), p0: ${p0}`)\n                anyEvents?.forEach(event => this.handleEvent(event))\n                anyEvents = null\n                if (fromIndex < toIndex) {\n                    this.processAudio(block, fromIndex, toIndex)\n                    fromIndex = toIndex\n                }\n                if (UpdateEvent.isOfType(event)) {\n                    this.updateParameters(event.position, s0 / sampleRate + PPQN.pulsesToSeconds(event.position - p0, bpm))\n                } else {\n                    (anyEvents ??= []).push(event)\n                }\n            }\n            anyEvents?.forEach(event => this.handleEvent(event))\n            anyEvents = null\n            if (fromIndex < s1) {\n                this.processAudio(block, fromIndex, s1)\n            }\n        })\n        this.eventInput.clear()\n        this.finishProcess()\n    }\n\n    abstract processAudio(block: Block, fromIndex: int, toIndex: int): void\n\n    introduceBlock(_block: Block): void {}\n\n    handleEvent(_event: Event): void {return panic(`${this} received an event but has no accepting method.`)}\n\n    finishProcess(): void {}\n}", "import {assert, int, nextPowOf2, unitValue, ValueMapping} from \"@naomiarotest/lib-std\"\nimport {BiquadCoeff, BiquadMono, BiquadProcessor, StereoMatrix} from \"@naomiarotest/lib-dsp\"\n\nexport class DelayDeviceDsp {\n    static readonly #FilterMapping: ValueMapping<number> = ValueMapping.exponential(20.0 / sampleRate, 20000.0 / sampleRate)\n\n    readonly #delaySize: int\n    readonly #delayBuffer: StereoMatrix.Channels\n    readonly #biquad: [BiquadProcessor, BiquadProcessor]\n    readonly #biquadCoeff: BiquadCoeff\n    readonly #interpolationLength: int\n\n    feedback: unitValue = 0.7\n    cross: unitValue = 0.0\n    wet: number = 0.75\n    dry: number = 0.75\n\n    #deltaOffset = 0.0\n    #writePosition: int = 0 | 0\n    #currentOffset: int = 0 | 0\n    #targetOffset = 0.0\n    #alphaPosition = 0 | 0\n    #processed = false\n    #interpolating = false\n\n    constructor(maxFrames: int, interpolationLength: int) {\n        const pow2Size = nextPowOf2(maxFrames)\n\n        this.#delaySize = pow2Size\n        this.#delayBuffer = [new Float32Array(pow2Size), new Float32Array(pow2Size)]\n        this.#biquad = [new BiquadMono(), new BiquadMono()]\n        this.#biquadCoeff = new BiquadCoeff()\n        this.#interpolationLength = interpolationLength\n    }\n\n    reset(): void {\n        this.#writePosition = 0\n        if (this.#processed) {\n            this.#biquad.forEach(biquad => biquad.reset())\n            this.#delayBuffer.forEach(delay => delay.fill(0.0))\n            this.#processed = false\n            this.#interpolating = false\n        }\n        this.#initDelayTime()\n    }\n\n    set offset(value: number) {\n        assert(0 <= value && value < this.#delaySize, \"Out of bounds\")\n        if (this.#targetOffset === value) {return}\n        this.#targetOffset = value\n        if (this.#processed) {\n            this.#updateDelayTime()\n        } else {\n            this.#initDelayTime()\n        }\n    }\n    get offset(): number {return this.#targetOffset}\n\n    set filter(value: number) {\n        if (value === 0.0) {\n            this.#biquadCoeff.identity()\n        } else if (value > 0.0) {\n            this.#biquadCoeff.setHighpassParams(DelayDeviceDsp.#FilterMapping.y(value))\n        } else if (value < 0.0) {\n            this.#biquadCoeff.setLowpassParams(DelayDeviceDsp.#FilterMapping.y(1.0 + value))\n        }\n    }\n\n    process(input: StereoMatrix.Channels, output: StereoMatrix.Channels, fromIndex: int, toIndex: int): void {\n        if (this.#interpolating) {\n            this.#processInterpolate(input, output, fromIndex, toIndex)\n        } else {\n            this.#processSteady(input, output, fromIndex, toIndex)\n        }\n        this.#processed = true\n    }\n\n    #processSteady(input: StereoMatrix.Channels, output: StereoMatrix.Channels, fromIndex: int, toIndex: int): void {\n        const delayMask = this.#delaySize - 1\n        const delayBuffer = this.#delayBuffer\n        const feedback = this.feedback\n        const pWetLevel = this.wet\n        const pDryLevel = this.dry\n        let writePosition = this.#writePosition\n        let readPosition: int = writePosition - Math.floor(this.#currentOffset)\n        if (readPosition < 0) {readPosition += this.#delaySize}\n        const iL = input[0]\n        const iR = input[1]\n        const oL = output[0]\n        const oR = output[1]\n        const bL = this.#biquad[0]\n        const bR = this.#biquad[1]\n        const dL = delayBuffer[0]\n        const dR = delayBuffer[1]\n        for (let i: int = fromIndex; i < toIndex; ++i) {\n            const inpL = iL[i]\n            const inpR = iR[i]\n            // the magic number prevents filter from getting unstable (beginner's fix)\n            const dReadL = bL.processFrame(this.#biquadCoeff, dL[readPosition] * 0.96)\n            const dReadR = bR.processFrame(this.#biquadCoeff, dR[readPosition] * 0.96)\n            // const crossL = this.cross * dReadR + (1.0 - this.cross) * dReadL\n            // const crossR = this.cross * dReadL + (1.0 - this.cross) * dReadR\n            // simplified to:\n            const diff = this.cross * (dReadR - dReadL)\n            const crossL = dReadL + diff\n            const crossR = dReadR - diff\n            dL[writePosition] = (inpL + crossL) * feedback + 1.0e-18 - 1.0e-18\n            dR[writePosition] = (inpR + crossR) * feedback + 1.0e-18 - 1.0e-18\n            oL[i] = crossL * pWetLevel + inpL * pDryLevel\n            oR[i] = crossR * pWetLevel + inpR * pDryLevel\n            readPosition = ++readPosition & delayMask\n            writePosition = ++writePosition & delayMask\n        }\n        this.#writePosition = writePosition\n    }\n\n    #processInterpolate(input: StereoMatrix.Channels, output: StereoMatrix.Channels, fromIndex: int, toIndex: int): void {\n        const delayMask = this.#delaySize - 1\n        const delayBuffer = this.#delayBuffer\n        const feedback = this.feedback\n        const pWetLevel = this.wet\n        const pDryLevel = this.dry\n        let writePosition = this.#writePosition\n        for (let i: int = fromIndex; i < toIndex; ++i) {\n            if (0 < this.#alphaPosition) {\n                this.#currentOffset += this.#deltaOffset\n                this.#alphaPosition--\n            } else {\n                this.#currentOffset = this.#targetOffset\n                this.#interpolating = false\n            }\n            let readPosition: int = writePosition - this.#currentOffset\n            if (readPosition < 0) {\n                readPosition += this.#delaySize\n            }\n            const readPositionInt = readPosition | 0\n            const alpha = readPosition - readPositionInt\n            const inpL = input[0][i]\n            const inpR = input[1][i]\n            const d00 = delayBuffer[0][readPositionInt]\n            const d10 = delayBuffer[0][readPositionInt]\n            const d0 = this.#biquad[0].processFrame(this.#biquadCoeff, d00 + alpha * (delayBuffer[0][(readPositionInt + 1) & delayMask] - d00))\n            const d1 = this.#biquad[1].processFrame(this.#biquadCoeff, d10 + alpha * (delayBuffer[1][(readPositionInt + 1) & delayMask] - d10))\n            delayBuffer[0][writePosition] = inpL + d0 * feedback + 1.0e-18 - 1.0e-18\n            delayBuffer[1][writePosition] = inpR + d0 * feedback + 1.0e-18 - 1.0e-18\n            output[0][i] = d0 * pWetLevel + inpL * pDryLevel\n            output[1][i] = d1 * pWetLevel + inpR * pDryLevel\n            writePosition = ++writePosition & delayMask\n        }\n        this.#writePosition = writePosition\n    }\n\n    #initDelayTime(): void {\n        this.#currentOffset = this.#targetOffset\n        this.#alphaPosition = 0\n        this.#interpolating = false\n    }\n\n    #updateDelayTime(): void {\n        if (this.#targetOffset !== this.#currentOffset) {\n            this.#alphaPosition = this.#interpolationLength\n            this.#deltaOffset = (this.#targetOffset - this.#currentOffset) / this.#alphaPosition\n            this.#interpolating = true\n        }\n    }\n}", "import {AudioEffectDeviceAdapter, DelayDeviceBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {Bits, int, Option, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {AudioBuffer, dbToGain, Event, Fraction, PPQN, StereoMatrix} from \"@naomiarotest/lib-dsp\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {Block, BlockFlag, Processor} from \"../../processing\"\nimport {PeakBroadcaster} from \"../../PeakBroadcaster\"\nimport {AudioProcessor} from \"../../AudioProcessor\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {DelayDeviceDsp} from \"./DelayDeviceDsp\"\nimport {AudioEffectDeviceProcessor} from \"../../AudioEffectDeviceProcessor\"\n\nexport class DelayDeviceProcessor extends AudioProcessor implements AudioEffectDeviceProcessor {\n    static ID: int = 0 | 0\n\n    readonly #id: int = DelayDeviceProcessor.ID++\n\n    readonly #adapter: DelayDeviceBoxAdapter\n\n    readonly parameterDelay: AutomatableParameter<number>\n    readonly parameterFeedback: AutomatableParameter<number>\n    readonly parameterCross: AutomatableParameter<number>\n    readonly parameterFilter: AutomatableParameter<number>\n    readonly parameterDry: AutomatableParameter<number>\n    readonly parameterWet: AutomatableParameter<number>\n\n    readonly #output: AudioBuffer\n    readonly #peaks: PeakBroadcaster\n    readonly #delayLines: DelayDeviceDsp\n\n    #source: Option<AudioBuffer> = Option.None\n\n    #updateDelayTime: boolean = true\n\n    constructor(context: EngineContext, adapter: DelayDeviceBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n        this.#output = new AudioBuffer()\n        this.#peaks = this.own(new PeakBroadcaster(context.broadcaster, adapter.address))\n\n        const {delay, feedback, cross, filter, dry, wet} = adapter.namedParameter\n        this.parameterDelay = this.own(this.bindParameter(delay))\n        this.parameterFeedback = this.own(this.bindParameter(feedback))\n        this.parameterCross = this.own(this.bindParameter(cross))\n        this.parameterFilter = this.own(this.bindParameter(filter))\n        this.parameterDry = this.own(this.bindParameter(dry))\n        this.parameterWet = this.own(this.bindParameter(wet))\n\n        const maxFrames = PPQN.pulsesToSamples(Fraction.toPPQN(DelayDeviceBoxAdapter.OffsetFractions[0]), 30.0, sampleRate)\n        const interpolationDuration = Math.floor(0.5 * sampleRate)\n        this.#delayLines = new DelayDeviceDsp(maxFrames, interpolationDuration)\n\n        this.own(context.registerProcessor(this))\n        this.readAllParameters()\n    }\n\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n\n    reset(): void {\n        this.#output.clear()\n        this.#delayLines.reset()\n        this.#peaks.clear()\n        this.eventInput.clear()\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n    get audioOutput(): AudioBuffer {return this.#output}\n\n    setAudioSource(source: AudioBuffer): Terminable {\n        this.#source = Option.wrap(source)\n        return {terminate: () => this.#source = Option.None}\n    }\n\n    index(): int {return this.#adapter.indexField.getValue()}\n    adapter(): AudioEffectDeviceAdapter {return this.#adapter}\n\n    handleEvent(_event: Event): void {}\n\n    processAudio({bpm, flags}: Block, from: number, to: number): void {\n        if (this.#source.isEmpty()) {return}\n        if (this.#updateDelayTime || Bits.some(flags, BlockFlag.tempoChanged)) {\n            const offsetIndex = this.parameterDelay.getValue()\n            const offsetInPulses = Fraction.toPPQN(DelayDeviceBoxAdapter.OffsetFractions[offsetIndex])\n            this.#delayLines.offset = PPQN.pulsesToSamples(offsetInPulses, bpm, sampleRate)\n            this.#updateDelayTime = false\n        }\n        const source = this.#source.unwrap()\n        this.#delayLines.process(\n            source.channels() as StereoMatrix.Channels,\n            this.#output.channels() as StereoMatrix.Channels,\n            from, to)\n        this.#peaks.process(this.#output.getChannel(0), this.#output.getChannel(1), from, to)\n    }\n\n    parameterChanged(parameter: AutomatableParameter): void {\n        if (parameter === this.parameterDelay) {\n            this.#updateDelayTime = true\n        } else if (parameter === this.parameterFeedback) {\n            this.#delayLines.feedback = this.parameterFeedback.getValue()\n        } else if (parameter === this.parameterCross) {\n            this.#delayLines.cross = this.parameterCross.getValue()\n        } else if (parameter === this.parameterFilter) {\n            this.#delayLines.filter = this.parameterFilter.getValue()\n        } else if (parameter === this.parameterDry) {\n            this.#delayLines.dry = dbToGain(this.parameterDry.getValue())\n        } else if (parameter === this.parameterWet) {\n            this.#delayLines.wet = dbToGain(this.parameterWet.getValue())\n        }\n    }\n\n    toString(): string {return `{${this.constructor.name} (${this.#id})}`}\n}", "import {int, Option, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {AudioEffectDeviceAdapter} from \"@naomiarotest/studio-adapters\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {ProcessInfo, Processor} from \"../../processing\"\nimport {AbstractProcessor} from \"../../AbstractProcessor\"\nimport {PeakBroadcaster} from \"../../PeakBroadcaster\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {AudioEffectDeviceProcessor} from \"../../AudioEffectDeviceProcessor\"\nimport {AudioBuffer, RenderQuantum} from \"@naomiarotest/lib-dsp\"\n\nexport class NopDeviceProcessor extends AbstractProcessor implements AudioEffectDeviceProcessor {\n    static ID: int = 0 | 0\n\n    readonly #id: int = NopDeviceProcessor.ID++\n\n    readonly #adapter: AudioEffectDeviceAdapter\n    readonly #output: AudioBuffer\n    readonly #peaks: PeakBroadcaster\n\n    #source: Option<AudioBuffer> = Option.None\n\n    constructor(context: EngineContext, adapter: AudioEffectDeviceAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n        this.#output = new AudioBuffer()\n        this.#peaks = this.own(new PeakBroadcaster(context.broadcaster, adapter.address))\n\n        this.own(context.registerProcessor(this))\n    }\n\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n\n    reset(): void {\n        this.#peaks.clear()\n        this.#output.clear()\n        this.eventInput.clear()\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n\n    get audioOutput(): AudioBuffer {return this.#output}\n\n    setAudioSource(source: AudioBuffer): Terminable {\n        this.#source = Option.wrap(source)\n        return {terminate: () => this.#source = Option.None}\n    }\n\n    index(): int {return this.#adapter.indexField.getValue()}\n    adapter(): AudioEffectDeviceAdapter {return this.#adapter}\n\n    process(_processInfo: ProcessInfo): void {\n        if (this.#source.isEmpty()) {return}\n        const input = this.#source.unwrap()\n        const [inpL, inpR] = input.channels()\n        const [outL, outR] = this.#output.channels()\n        for (let i = 0; i < RenderQuantum; i++) {\n            outL[i] = inpL[i]\n            outR[i] = inpR[i]\n        }\n        this.#peaks.process(outL, outR)\n    }\n\n    parameterChanged(_parameter: AutomatableParameter): void {}\n\n    toString(): string {return `{${this.constructor.name} (${this.#id})`}\n}", "import {Arrays, int, Option, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {AbstractProcessor} from \"./AbstractProcessor\"\nimport {AudioBusBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {AudioBuffer, RenderQuantum} from \"@naomiarotest/lib-dsp\"\nimport {PeakBroadcaster} from \"./PeakBroadcaster\"\nimport {EngineContext} from \"./EngineContext\"\nimport {NoteEventTarget} from \"./NoteEventSource\"\nimport {ProcessInfo, Processor} from \"./processing\"\nimport {AutomatableParameter} from \"./AutomatableParameter\"\nimport {DeviceProcessor} from \"./DeviceProcessor\"\nimport {InstrumentDeviceProcessor} from \"./InstrumentDeviceProcessor\"\n\nexport class AudioBusProcessor extends AbstractProcessor implements InstrumentDeviceProcessor, Terminable {\n    static ID: int = 0 | 0\n\n    readonly #id: int = AudioBusProcessor.ID++\n\n    readonly #adapter: AudioBusBoxAdapter\n\n    readonly #audioOutput: AudioBuffer\n    readonly #peaks: PeakBroadcaster\n    readonly #sources: Array<AudioBuffer>\n\n    constructor(context: EngineContext, adapter: AudioBusBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n\n        this.#audioOutput = new AudioBuffer()\n        this.#peaks = this.own(new PeakBroadcaster(context.broadcaster, adapter.address))\n        this.#sources = []\n\n        this.own(context.registerProcessor(this))\n    }\n\n    get noteEventTarget(): Option<NoteEventTarget & DeviceProcessor> {return Option.None}\n\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n\n    reset(): void {\n        this.#peaks.clear()\n        this.#audioOutput.clear()\n    }\n\n    addAudioSource(output: AudioBuffer): Terminable {\n        this.#sources.push(output)\n        return {\n            terminate: () => {\n                Arrays.remove(this.#sources, output)\n                this.#audioOutput.clear()\n            }\n        }\n    }\n\n    get adapter(): AudioBusBoxAdapter {return this.#adapter}\n    get audioOutput(): AudioBuffer {return this.#audioOutput}\n\n    process(_processInfo: ProcessInfo): void {\n        this.#audioOutput.clear()\n        const [outL, outR] = this.#audioOutput.channels()\n        for (const source of this.#sources) {\n            const [srcL, srcR] = source.channels()\n            for (let i = 0; i < RenderQuantum; i++) {\n                outL[i] += srcL[i]\n                outR[i] += srcR[i]\n            }\n        }\n        this.#audioOutput.assertSanity()\n        this.#peaks.process(this.#audioOutput.getChannel(0), this.#audioOutput.getChannel(1))\n    }\n\n    parameterChanged(_parameter: AutomatableParameter): void {}\n\n    toString(): string {\n        return `{${this.constructor.name} (${this.#id})}`\n    }\n}", "import {Event, NoteEvent, ppqn} from \"@naomiarotest/lib-dsp\"\nimport {byte, float, Id, int, Terminable} from \"@naomiarotest/lib-std\"\n\nexport type NoteCompleteEvent = Id<Event & {\n    readonly type: \"note-complete-event\"\n    readonly pitch: byte\n}>\n\nexport type NoteLifecycleEvent = Id<NoteEvent> | NoteCompleteEvent\n\nexport namespace NoteLifecycleEvent {\n    // adjacent notes are independent\n    export const Comparator = (a: NoteLifecycleEvent, b: NoteLifecycleEvent): number => {\n        const delta = a.position - b.position\n        if (delta !== 0) {return delta}\n        if (a.type === \"note-complete-event\") {return -1}\n        if (b.type === \"note-complete-event\") {return 1}\n        return 0\n    }\n\n    export const start = (position: ppqn, duration: ppqn, pitch: byte, velocity: float, cent: number = 0.0): Id<NoteEvent> =>\n        ({type: \"note-event\", position, duration, pitch, velocity, cent, id: ++$id})\n    export const startWith = (source: NoteEvent, position?: ppqn, duration?: ppqn): Id<NoteEvent> => ({\n        type: \"note-event\",\n        position: position ?? source.position,\n        duration: duration ?? source.duration,\n        pitch: source.pitch,\n        cent: source.cent,\n        velocity: source.velocity,\n        id: ++$id\n    })\n    export const stop = ({id, pitch}: Id<NoteEvent>, position: ppqn): NoteCompleteEvent =>\n        ({type: \"note-complete-event\", position, pitch, id})\n    export const isStart = (event: Event): event is Id<NoteEvent> =>\n        event.type === \"note-event\" && \"id\" in event && typeof event.id === \"number\"\n    export const isStop = (event: Event): event is NoteCompleteEvent =>\n        event.type === \"note-complete-event\"\n    let $id: int = 0 | 0\n}\n\nexport interface NoteEventSource {\n    // find all notes that start in a given interval and returns them moved into global time space\n    processNotes(from: ppqn, to: ppqn, flags: int /*BlockFlag*/): Generator<NoteLifecycleEvent>\n\n    // find all active local notes at a given position\n    iterateActiveNotesAt(position: ppqn, onlyExternal: boolean): Generator<NoteEvent>\n}\n\nexport interface NoteEventTarget {\n    setNoteEventSource(source: NoteEventSource): Terminable\n}", "import {Block, Processor} from \"./processing\"\nimport {Event} from \"@naomiarotest/lib-dsp\"\nimport {NoteEventSource, NoteLifecycleEvent} from \"./NoteEventSource\"\nimport {assert, Option, Terminable, Terminator} from \"@naomiarotest/lib-std\"\nimport {NoteBroadcaster} from \"@naomiarotest/studio-adapters\"\nimport {Address} from \"@naomiarotest/lib-box\"\nimport {LiveStreamBroadcaster} from \"@naomiarotest/lib-fusion\"\n\nexport class NoteEventInstrument implements Terminable {\n    readonly #terminator = new Terminator()\n    readonly #receiver: Processor\n    readonly #broadcaster: NoteBroadcaster\n    readonly #buffer: Array<NoteLifecycleEvent>\n\n    #source: Option<NoteEventSource> = Option.None\n\n    constructor(receiver: Processor, broadcaster: LiveStreamBroadcaster, address: Address) {\n        this.#receiver = receiver\n\n        this.#broadcaster = this.#terminator.own(new NoteBroadcaster(broadcaster, address))\n        this.#buffer = new Array(16)\n    }\n\n    setNoteEventSource(source: NoteEventSource): Terminable {\n        assert(this.#source.isEmpty(), \"NoteEventSource already set\")\n        this.#source = Option.wrap(source)\n        this.#receiver.reset()\n        return Terminable.create(() => {\n            this.#source = Option.None\n            this.#receiver.reset()\n        })\n    }\n\n    introduceBlock({index, p0, p1, flags}: Block): void {\n        if (this.#source.isEmpty()) {return}\n        for (const event of this.#source.unwrap().processNotes(p0, p1, flags)) {\n            this.#buffer.push(event)\n        }\n        this.#buffer\n            .sort(NoteLifecycleEvent.Comparator)\n            .forEach(event => {\n                if (event.pitch >= 0 && event.pitch <= 127) {\n                    this.#receiver.eventInput.add(index, event)\n                    this.#showEvent(event)\n                }\n            })\n        this.#buffer.length = 0\n    }\n\n    clear(): void {}\n\n    terminate(): void {this.#terminator.terminate()}\n\n    #showEvent(event: Event): void {\n        if (NoteLifecycleEvent.isStart(event)) {\n            this.#broadcaster.noteOn(event.pitch)\n        } else if (NoteLifecycleEvent.isStop(event)) {\n            this.#broadcaster.noteOff(event.pitch)\n        }\n    }\n}", "import {Arrays, EmptyExec, Id, int, panic} from \"@naomiarotest/lib-std\"\nimport {AudioBuffer, NoteEvent} from \"@naomiarotest/lib-dsp\"\nimport {Block} from \"../processing\"\nimport {Voice} from \"./Voice\"\n\nexport interface VoicingStrategy {\n    start(event: Id<NoteEvent>): void\n    stop(id: int): void\n    forceStop(): void\n    process(output: AudioBuffer, block: Block, fromIndex: int, toIndex: int): boolean // true if idle\n    reset(): void\n    processing(): ReadonlyArray<Voice>\n}\n\nexport namespace VoicingStrategy {\n    export const NotSet: VoicingStrategy = {\n        start: () => panic(\"VoicingStrategy.start\"),\n        stop: () => panic(\"VoicingStrategy.stop\"),\n        forceStop: () => EmptyExec,\n        process: () => panic(\"VoicingStrategy.process\"),\n        reset: EmptyExec,\n        processing: (): ReadonlyArray<Voice> => Arrays.empty()\n    }\n}", "import {Id, int} from \"@naomiarotest/lib-std\"\nimport {AudioBuffer, NoteEvent} from \"@naomiarotest/lib-dsp\"\nimport {Block} from \"../processing\"\nimport {VoicingStrategy} from \"./VoicingStrategy\"\n\nexport class Voicing {\n    #strategy: VoicingStrategy\n\n    readonly #expiring: Array<VoicingStrategy> = []\n\n    constructor(strategy: VoicingStrategy = VoicingStrategy.NotSet) {\n        this.#strategy = strategy\n    }\n\n    set strategy(strategy: VoicingStrategy) {\n        this.#expiring.push(this.#strategy)\n        this.#strategy.forceStop()\n        this.#strategy = strategy\n    }\n\n    get strategy(): VoicingStrategy {return this.#strategy}\n\n    start(event: Id<NoteEvent>): void {\n        this.#strategy.start(event)\n    }\n\n    stop(id: int): void {\n        this.#strategy.stop(id)\n    }\n\n    process(output: AudioBuffer, block: Block, fromIndex: int, toIndex: int): void {\n        this.#strategy.process(output, block, fromIndex, toIndex)\n        for (let i = this.#expiring.length - 1; i >= 0; i--) {\n            const strategy = this.#expiring[i]\n            if (strategy.process(output, block, fromIndex, toIndex)) {\n                this.#expiring.splice(i, 1)\n            }\n        }\n    }\n\n    reset(): void {\n        this.#expiring.forEach(strategy => strategy.reset())\n        this.#expiring.length = 0\n        this.#strategy.reset()\n    }\n}", "import {Arrays, Id, int} from \"@naomiarotest/lib-std\"\nimport {AudioBuffer, NoteEvent} from \"@naomiarotest/lib-dsp\"\nimport {Voice} from \"./Voice\"\nimport {VoicingHost} from \"./VoicingHost\"\nimport {VoicingStrategy} from \"./VoicingStrategy\"\nimport {Block} from \"../processing\"\n\nexport class PolyphonicStrategy implements VoicingStrategy {\n    readonly #host: VoicingHost\n    readonly #processing: Array<Voice> = []\n    readonly #availableForGlide: Array<Voice> = []\n\n    constructor(host: VoicingHost) {this.#host = host}\n\n    start(event: Id<NoteEvent>): void {\n        let lastFrequency: number = NaN\n        for (let index = 0; index < this.#availableForGlide.length; index++) {\n            const voice = this.#availableForGlide[index]\n            if (!voice.gate) {\n                lastFrequency = voice.currentFrequency\n                this.#availableForGlide.splice(index, 1)\n                break\n            }\n        }\n        const targetFrequency = this.#host.computeFrequency(event)\n        const voice = this.#host.create()\n        if (isNaN(lastFrequency)) {\n            voice.start(event, targetFrequency, 1.0, 0.0)\n        } else {\n            voice.start(event, lastFrequency, 1.0, 0.0)\n            voice.startGlide(targetFrequency, this.#host.glideTime)\n        }\n        this.#availableForGlide.push(voice)\n        this.#processing.push(voice)\n    }\n\n    stop(id: int): void {\n        this.#processing.find(voice => voice.id === id)?.stop()\n    }\n\n    forceStop(): void {this.#processing.forEach(voice => voice.forceStop())}\n\n    reset(): void {\n        this.#processing.length = 0\n        this.#availableForGlide.length = 0\n    }\n\n    process(output: AudioBuffer, block: Block, fromIndex: int, toIndex: int): boolean {\n        output.clear(fromIndex, toIndex)\n        for (let i = this.#processing.length - 1; i >= 0; i--) {\n            const voice = this.#processing[i]\n            if (voice.process(output, block, fromIndex, toIndex)) {\n                Arrays.removeIf(this.#availableForGlide, other => other === voice)\n                this.#processing.splice(i, 1)\n            }\n        }\n        return this.#processing.length === 0\n    }\n\n    processing(): ReadonlyArray<Voice> {return this.#processing}\n}", "import {Id, int, isDefined, Nullable} from \"@naomiarotest/lib-std\"\nimport {AudioBuffer, NoteEvent} from \"@naomiarotest/lib-dsp\"\nimport {Voice} from \"./Voice\"\nimport {VoicingHost} from \"./VoicingHost\"\nimport {VoicingStrategy} from \"./VoicingStrategy\"\nimport {Block} from \"../processing\"\n\nexport class MonophonicStrategy implements VoicingStrategy {\n    readonly #host: VoicingHost\n    readonly #processing: Array<Voice> = []\n    readonly #stack: Array<Id<NoteEvent>> = []\n\n    #triggered: Nullable<Voice> = null // voice with the gate on\n    #sounding: Nullable<Voice> = null // voice currently producing sound\n\n    constructor(host: VoicingHost) {this.#host = host}\n\n    start(event: Id<NoteEvent>): void {\n        this.#stack.push(event)\n\n        if (isDefined(this.#triggered)) {\n            if (this.#triggered.gate) {\n                this.#triggered.startGlide(this.#host.computeFrequency(event), this.#host.glideTime)\n                return\n            }\n        }\n\n        if (isDefined(this.#sounding)) {\n            this.#sounding.forceStop()\n        }\n\n        const voice = this.#host.create()\n        voice.start(event, this.#host.computeFrequency(event), 1.0, 0.0)\n        this.#triggered = voice\n        this.#sounding = voice\n        this.#processing.push(voice)\n    }\n\n    stop(id: int): void {\n        const index = this.#stack.findIndex(event => event.id === id)\n        if (index === -1) {return}\n\n        this.#stack.splice(index, 1)\n\n        if (!isDefined(this.#triggered)) return\n\n        // released the topmost key and glide back if another note held\n        if (index === this.#stack.length) {\n            const prev = this.#stack.at(-1)\n            if (isDefined(prev)) {\n                this.#triggered.startGlide(this.#host.computeFrequency(prev), this.#host.glideTime)\n                return\n            }\n        }\n        if (this.#stack.length === 0) {\n            this.#triggered.stop()\n            this.#triggered = null\n        }\n    }\n\n    forceStop(): void {this.#processing.forEach(voice => voice.forceStop())}\n\n    reset(): void {\n        this.#stack.length = 0\n        this.#processing.length = 0\n        this.#triggered = null\n        this.#sounding = null\n    }\n\n    process(output: AudioBuffer, block: Block, fromIndex: int, toIndex: int): boolean {\n        output.clear(fromIndex, toIndex)\n        for (let i = this.#processing.length - 1; i >= 0; i--) {\n            const voice = this.#processing[i]\n            if (voice.process(output, block, fromIndex, toIndex)) {\n                this.#processing.splice(i, 1)\n                if (voice === this.#triggered) {this.#triggered = null}\n                if (voice === this.#sounding) {this.#sounding = null}\n            }\n        }\n        return this.#processing.length === 0\n    }\n\n    processing(): ReadonlyArray<Voice> {return this.#processing}\n}", "import {Voice} from \"./Voice\"\nimport {bipolar, Id, int, Provider, unitValue} from \"@naomiarotest/lib-std\"\nimport {AudioBuffer, Glide, NoteEvent, ppqn} from \"@naomiarotest/lib-dsp\"\nimport {Block} from \"../processing\"\n\nexport class VoiceUnison implements Voice {\n    readonly #voiceFactory: Provider<Voice>\n    readonly #processing: Array<Voice> = []\n    readonly #glide: Glide = new Glide()\n    readonly #numVoices: int\n\n    gate: boolean = true\n    id: int = -1\n\n    constructor(voiceFactory: Provider<Voice>, numVoices: int) {\n        this.#voiceFactory = voiceFactory\n        this.#numVoices = numVoices\n    }\n\n    get currentFrequency(): number {return this.#glide.currentFrequency()}\n\n    start(event: Id<NoteEvent>, frequency: number, gain: unitValue, parentSpread: bipolar): void {\n        this.id = event.id\n        this.#glide.init(frequency)\n        if (this.#numVoices === 1) {\n            const voice = this.#voiceFactory()\n            voice.start(event, frequency, gain, parentSpread)\n            this.#processing.push(voice)\n        } else {\n            for (let index = 0; index < this.#numVoices; ++index) {\n                const spread = index / (this.#numVoices - 1) * 2.0 - 1.0 // [-1...+1]\n                const voice = this.#voiceFactory()\n                const voiceSpread = (1.0 - Math.abs(parentSpread)) * spread + parentSpread // pushes the voice to the edge\n                voice.start(event, frequency, gain / Math.sqrt(this.#numVoices), voiceSpread)\n                this.#processing.push(voice)\n            }\n        }\n    }\n\n    startGlide(targetFrequency: number, glideDuration: ppqn): void {\n        this.#glide.glideTo(targetFrequency, glideDuration)\n        this.#processing.forEach((voice) => voice.startGlide(targetFrequency, glideDuration))\n    }\n\n    process(output: AudioBuffer, block: Block, fromIndex: int, toIndex: int): boolean {\n        this.#glide.advance(block.bpm, fromIndex, toIndex)\n        for (let i = this.#processing.length - 1; i >= 0; i--) {\n            const voice = this.#processing[i]\n            if (voice.process(output, block, fromIndex, toIndex)) {\n                this.#processing.splice(i, 1)\n            }\n        }\n        return this.#processing.length === 0\n    }\n\n    stop(): void {\n        this.#processing.forEach((voice) => voice.stop())\n        this.gate = false\n    }\n\n    forceStop(): void {\n        this.#processing.forEach((voice) => voice.forceStop())\n        this.gate = false\n    }\n\n    processing(): ReadonlyArray<Voice> {return this.#processing}\n}", "import {bipolar, clampUnit, Id, InaccessibleProperty, int, mint, unitValue} from \"@naomiarotest/lib-std\"\nimport {\n    Adsr,\n    AudioBuffer,\n    BandLimitedOscillator,\n    Glide,\n    LFO,\n    MidiKeys,\n    Mixing,\n    ModulatedBiquad,\n    NoteEvent,\n    ppqn,\n    RenderQuantum,\n    SILENCE_THRESHOLD,\n    Smooth,\n    StereoMatrix,\n    velocityToGain\n} from \"@naomiarotest/lib-dsp\"\nimport {VaporisateurSettings} from \"@naomiarotest/studio-adapters\"\nimport {VaporisateurDeviceProcessor} from \"./VaporisateurDeviceProcessor\"\nimport {Voice} from \"../../voicing/Voice\"\nimport {Block} from \"../../processing\"\n\n// We can do this because there is no multi-threading within the processor\nconst [\n    oscABuffer, oscBBuffer, freqBuffer, freqBufferA, freqBufferB,\n    vcaBuffer, lfoBuffer, cutoffBuffer, oscSumBuffer\n] = mint(Float32Array, RenderQuantum)\n\nexport class VaporisateurVoice implements Voice {\n    readonly device: VaporisateurDeviceProcessor\n    readonly oscA: BandLimitedOscillator\n    readonly oscB: BandLimitedOscillator\n    readonly lfo: LFO\n    readonly filter: ModulatedBiquad\n    readonly env: Adsr\n    readonly glide: Glide\n    readonly gainASmooth: Smooth\n    readonly gainBSmooth: Smooth\n    readonly gainVcaSmooth: Smooth\n\n    #event: Id<NoteEvent> = InaccessibleProperty(\"NoteEvent not set\")\n    #gain: unitValue = 1.0\n    #spread: bipolar = 1.0\n\n    id: int = -1\n    phase: number = 0.0\n    filter_keyboard_delta: number = 0.0\n\n    constructor(device: VaporisateurDeviceProcessor) {\n        this.device = device\n\n        this.oscA = new BandLimitedOscillator(sampleRate)\n        this.oscB = new BandLimitedOscillator(sampleRate)\n        this.lfo = new LFO(sampleRate)\n        this.filter = new ModulatedBiquad(VaporisateurSettings.MIN_CUTOFF, VaporisateurSettings.MAX_CUTOFF, sampleRate)\n        this.filter.order = 1\n        this.env = new Adsr(sampleRate)\n        this.env.set(this.device.env_attack, this.device.env_decay, this.device.env_sustain, this.device.env_release)\n        this.env.gateOn()\n        this.glide = new Glide()\n        this.gainASmooth = new Smooth(0.003, sampleRate)\n        this.gainBSmooth = new Smooth(0.003, sampleRate)\n        this.gainVcaSmooth = new Smooth(0.003, sampleRate)\n    }\n\n    start(event: Id<NoteEvent>, frequency: number, gain: unitValue, spread: bipolar): void {\n        this.#event = event\n        this.#gain = gain\n        this.#spread = spread\n        this.filter_keyboard_delta = MidiKeys.keyboardTracking(event.pitch, this.device.parameterFilterKeyboard.getValue())\n        this.glide.init(frequency)\n    }\n\n    stop(): void {this.env.gateOff()}\n\n    forceStop(): void {this.env.forceStop()}\n\n    startGlide(targetFrequency: number, glideDuration: ppqn): void {\n        this.glide.glideTo(targetFrequency, glideDuration)\n    }\n\n    get gate(): boolean {return this.env.gate}\n    get currentFrequency(): number {return this.glide.currentFrequency()}\n\n    process(output: AudioBuffer, {bpm}: Block, fromIndex: int, toIndex: int): boolean {\n        const {\n            gainOscA,\n            gainOscB,\n            oscA_waveform,\n            oscB_waveform,\n            flt_cutoff,\n            flt_resonance,\n            flt_env_amount,\n            flt_order,\n            frequencyAMultiplier,\n            frequencyBMultiplier,\n            parameterLfoShape,\n            parameterLfoRate,\n            parameterLfoTargetTune,\n            parameterLfoTargetCutoff,\n            parameterLfoTargetVolume,\n            parameterUnisonDetune,\n            parameterUnisonStereo\n        } = this.device\n        const gain = velocityToGain(this.#event.velocity) * this.#gain\n        const detune = 2.0 ** (this.#spread * (parameterUnisonDetune.getValue() / 1200.0))\n        const panning = this.#spread * parameterUnisonStereo.getValue()\n        const [gainL, gainR] = StereoMatrix.panningToGains(panning, Mixing.Linear)\n        const [outL, outR] = output.channels()\n\n        freqBuffer.fill(detune, fromIndex, toIndex)\n        this.glide.process(freqBuffer, bpm, fromIndex, toIndex)\n        this.lfo.fill(lfoBuffer, parameterLfoShape.getValue(), parameterLfoRate.getValue(), fromIndex, toIndex)\n        this.env.process(vcaBuffer, fromIndex, toIndex)\n\n        const lfo_target_tune = parameterLfoTargetTune.getValue()\n        const lfo_target_cutoff = parameterLfoTargetCutoff.getValue()\n        const lfo_target_volume = parameterLfoTargetVolume.getValue()\n\n        for (let i = fromIndex; i < toIndex; i++) {\n            // apply lfo\n            const lfo = lfoBuffer[i]\n            cutoffBuffer[i] = flt_cutoff\n                + this.filter_keyboard_delta\n                + vcaBuffer[i] * flt_env_amount\n                + lfo * lfo_target_cutoff\n            // apply gain\n            vcaBuffer[i] *= clampUnit(gain + lfo * lfo_target_volume)\n            // compute frequencies\n            const frequency = freqBuffer[i] * (2.0 ** (lfo * lfo_target_tune))\n            freqBufferA[i] = frequency * frequencyAMultiplier\n            freqBufferB[i] = frequency * frequencyBMultiplier\n        }\n\n        this.oscA.generateFromFrequencies(oscABuffer, freqBufferA, oscA_waveform, fromIndex, toIndex)\n        this.oscB.generateFromFrequencies(oscBBuffer, freqBufferB, oscB_waveform, fromIndex, toIndex)\n\n        for (let i = fromIndex; i < toIndex; i++) {\n            oscSumBuffer[i] =\n                oscABuffer[i] * this.gainASmooth.process(gainOscA)\n                + oscBBuffer[i] * this.gainBSmooth.process(gainOscB)\n        }\n\n        this.filter.order = flt_order\n        this.filter.process(oscSumBuffer, oscSumBuffer, cutoffBuffer, flt_resonance, fromIndex, toIndex)\n\n        for (let i = fromIndex; i < toIndex; i++) {\n            const vca = this.gainVcaSmooth.process(clampUnit(vcaBuffer[i]))\n            const out = oscSumBuffer[i] * vca\n            outL[i] += out * gainL\n            outR[i] += out * gainR\n            if (this.env.complete && vca < SILENCE_THRESHOLD) {return true}\n        }\n        return false\n    }\n}", "import {asEnumValue, asInstanceOf, int, Option, panic, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {\n    AudioBuffer,\n    ClassicWaveform,\n    dbToGain,\n    Event,\n    midiToHz,\n    NoteEvent,\n    PPQN,\n    ppqn,\n    SimpleLimiter\n} from \"@naomiarotest/lib-dsp\"\nimport {VaporisateurDeviceBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {AudioProcessor} from \"../../AudioProcessor\"\nimport {Block, Processor} from \"../../processing\"\nimport {PeakBroadcaster} from \"../../PeakBroadcaster\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {NoteEventSource, NoteEventTarget, NoteLifecycleEvent} from \"../../NoteEventSource\"\nimport {NoteEventInstrument} from \"../../NoteEventInstrument\"\nimport {DeviceProcessor} from \"../../DeviceProcessor\"\nimport {InstrumentDeviceProcessor} from \"../../InstrumentDeviceProcessor\"\nimport {Voicing} from \"../../voicing/Voicing\"\nimport {PolyphonicStrategy} from \"../../voicing/PolyphonicStrategy\"\nimport {VoicingHost} from \"../../voicing/VoicingHost\"\nimport {VoicingMode} from \"@naomiarotest/studio-enums\"\nimport {MonophonicStrategy} from \"../../voicing/MonophonicStrategy\"\nimport {VoiceUnison} from \"../../voicing/VoiceUnison\"\nimport {VaporisateurVoice} from \"./VaporisateurVoice\"\nimport {Voice} from \"../../voicing/Voice\"\n\nexport class VaporisateurDeviceProcessor extends AudioProcessor\n    implements InstrumentDeviceProcessor, VoicingHost, NoteEventTarget {\n    readonly #adapter: VaporisateurDeviceBoxAdapter\n\n    readonly #voicing: Voicing\n    readonly #noteEventInstrument: NoteEventInstrument\n    readonly #audioOutput: AudioBuffer\n    readonly #limiter: SimpleLimiter\n    readonly #peakBroadcaster: PeakBroadcaster\n\n    readonly #parameterOscAWaveform: AutomatableParameter<number>\n    readonly #parameterOscAOctave: AutomatableParameter<number>\n    readonly #parameterOscATune: AutomatableParameter<number>\n    readonly #parameterOscAVolume: AutomatableParameter<number>\n    readonly #parameterOscBWaveform: AutomatableParameter<number>\n    readonly #parameterOscBOctave: AutomatableParameter<number>\n    readonly #parameterOscBTune: AutomatableParameter<number>\n    readonly #parameterOscBVolume: AutomatableParameter<number>\n    readonly #parameterAttack: AutomatableParameter<number>\n    readonly #parameterDecay: AutomatableParameter<number>\n    readonly #parameterSustain: AutomatableParameter<number>\n    readonly #parameterRelease: AutomatableParameter<number>\n    readonly #parameterCutoff: AutomatableParameter<number>\n    readonly #parameterResonance: AutomatableParameter<number>\n    readonly #parameterFilterEnvelope: AutomatableParameter<number>\n    readonly #parameterFilterOrder: AutomatableParameter<int>\n    readonly #parameterFilterKeyboard: AutomatableParameter<number>\n    readonly #parameterGlideTime: AutomatableParameter<number>\n    readonly #parameterVoicingMode: AutomatableParameter<VoicingMode>\n    readonly #parameterUnisonCount: AutomatableParameter<int>\n    readonly #parameterUnisonDetune: AutomatableParameter<number>\n    readonly #parameterUnisonStereo: AutomatableParameter<number>\n    readonly #parameterLfoShape: AutomatableParameter<ClassicWaveform>\n    readonly #parameterLfoRate: AutomatableParameter<number>\n    readonly #parameterLfoTargetTune: AutomatableParameter<number>\n    readonly #parameterLfoTargetCutoff: AutomatableParameter<number>\n    readonly #parameterLfoTargetVolume: AutomatableParameter<number>\n\n    gainOscA: number = 1.0\n    gainOscB: number = 1.0\n    frequencyAMultiplier: number = 1.0\n    frequencyBMultiplier: number = 1.0\n    env_attack: number = 1.0\n    env_decay: number = 1.0\n    env_sustain: number = 1.0\n    env_release: number = 1.0\n    oscA_waveform: ClassicWaveform = ClassicWaveform.sine\n    oscB_waveform: ClassicWaveform = ClassicWaveform.sine\n    flt_cutoff: number = 1.0\n    flt_resonance: number = Math.SQRT1_2\n    flt_env_amount: number = 0.0\n    flt_order: int = 1\n    #glideTime: number = 0.0\n\n    constructor(context: EngineContext, adapter: VaporisateurDeviceBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n\n        this.#voicing = new Voicing()\n        this.#noteEventInstrument = new NoteEventInstrument(this, context.broadcaster, adapter.audioUnitBoxAdapter().address)\n        this.#audioOutput = new AudioBuffer()\n        this.#limiter = new SimpleLimiter(sampleRate)\n        this.#peakBroadcaster = this.own(new PeakBroadcaster(context.broadcaster, adapter.address))\n\n        const {namedParameter} = this.#adapter\n        const {oscillators} = namedParameter\n        this.#parameterOscAWaveform = this.own(this.bindParameter(oscillators[0].waveform))\n        this.#parameterOscAOctave = this.own(this.bindParameter(oscillators[0].octave))\n        this.#parameterOscATune = this.own(this.bindParameter(oscillators[0].tune))\n        this.#parameterOscAVolume = this.own(this.bindParameter(oscillators[0].volume))\n        this.#parameterOscBWaveform = this.own(this.bindParameter(oscillators[1].waveform))\n        this.#parameterOscBOctave = this.own(this.bindParameter(oscillators[1].octave))\n        this.#parameterOscBTune = this.own(this.bindParameter(oscillators[1].tune))\n        this.#parameterOscBVolume = this.own(this.bindParameter(oscillators[1].volume))\n        this.#parameterAttack = this.own(this.bindParameter(namedParameter.attack))\n        this.#parameterDecay = this.own(this.bindParameter(namedParameter.decay))\n        this.#parameterSustain = this.own(this.bindParameter(namedParameter.sustain))\n        this.#parameterRelease = this.own(this.bindParameter(namedParameter.release))\n        this.#parameterCutoff = this.own(this.bindParameter(namedParameter.cutoff))\n        this.#parameterResonance = this.own(this.bindParameter(namedParameter.resonance))\n        this.#parameterFilterEnvelope = this.own(this.bindParameter(namedParameter.filterEnvelope))\n        this.#parameterFilterOrder = this.own(this.bindParameter(namedParameter.filterOrder))\n        this.#parameterFilterKeyboard = this.own(this.bindParameter(namedParameter.filterKeyboard))\n        this.#parameterGlideTime = this.own(this.bindParameter(namedParameter.glideTime))\n        this.#parameterVoicingMode = this.own(this.bindParameter(namedParameter.voicingMode))\n        this.#parameterUnisonCount = this.own(this.bindParameter(namedParameter.unisonCount))\n        this.#parameterUnisonDetune = this.own(this.bindParameter(namedParameter.unisonDetune))\n        this.#parameterUnisonStereo = this.own(this.bindParameter(namedParameter.unisonStereo))\n        this.#parameterLfoShape = this.own(this.bindParameter(namedParameter.lfoWaveform))\n        this.#parameterLfoRate = this.own(this.bindParameter(namedParameter.lfoRate))\n        this.#parameterLfoTargetTune = this.own(this.bindParameter(namedParameter.lfoTargetTune))\n        this.#parameterLfoTargetCutoff = this.own(this.bindParameter(namedParameter.lfoTargetCutoff))\n        this.#parameterLfoTargetVolume = this.own(this.bindParameter(namedParameter.lfoTargetVolume))\n\n        const envValues = new Float32Array(32)\n        this.ownAll(\n            context.broadcaster.broadcastFloats(adapter.address.append(0), envValues, () => {\n                let index = 0\n                this.#voicing.strategy.processing().forEach(voice => {\n                    const unisono = asInstanceOf(voice, VoiceUnison)\n                    const first = unisono.processing().at(0)\n                    if (first instanceof VaporisateurVoice) {\n                        envValues[index++] = first.env.phase\n                    }\n                    if (index === envValues.length - 1) {return}\n                })\n                envValues[index] = -1\n            }),\n            context.registerProcessor(this)\n        )\n        this.readAllParameters()\n    }\n\n    computeFrequency(event: NoteEvent): number {return midiToHz(event.pitch + event.cent / 100.0, 440.0)}\n    get glideTime(): ppqn {return this.#glideTime}\n    get parameterFilterKeyboard(): AutomatableParameter<number> {return this.#parameterFilterKeyboard}\n    get parameterLfoShape(): AutomatableParameter<ClassicWaveform> {return this.#parameterLfoShape}\n    get parameterLfoRate(): AutomatableParameter<number> {return this.#parameterLfoRate}\n    get parameterLfoTargetTune(): AutomatableParameter<number> {return this.#parameterLfoTargetTune}\n    get parameterLfoTargetCutoff(): AutomatableParameter<number> {return this.#parameterLfoTargetCutoff}\n    get parameterLfoTargetVolume(): AutomatableParameter<number> {return this.#parameterLfoTargetVolume}\n    get parameterUnisonDetune(): AutomatableParameter<number> {return this.#parameterUnisonDetune}\n    get parameterUnisonStereo(): AutomatableParameter<number> {return this.#parameterUnisonStereo}\n\n    create(): Voice {\n        return new VoiceUnison(() =>\n            new VaporisateurVoice(this), this.#parameterUnisonCount.getValue())\n    }\n\n    get noteEventTarget(): Option<NoteEventTarget & DeviceProcessor> {return Option.wrap(this)}\n\n    introduceBlock(block: Block): void {this.#noteEventInstrument.introduceBlock(block)}\n    setNoteEventSource(source: NoteEventSource): Terminable {return this.#noteEventInstrument.setNoteEventSource(source)}\n\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n\n    reset(): void {\n        this.#noteEventInstrument.clear()\n        this.#peakBroadcaster.clear()\n        this.#voicing.reset()\n        this.#audioOutput.clear()\n        this.eventInput.clear()\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n    get audioOutput(): AudioBuffer {return this.#audioOutput}\n    get adapter(): VaporisateurDeviceBoxAdapter {return this.#adapter}\n\n    handleEvent(event: Event): void {\n        if (NoteLifecycleEvent.isStart(event)) {\n            this.#voicing.start(event)\n        } else if (NoteLifecycleEvent.isStop(event)) {\n            this.#voicing.stop(event.id)\n        }\n    }\n\n    processAudio(block: Block, fromIndex: int, toIndex: int): void {\n        this.#voicing.process(this.#audioOutput, block, fromIndex, toIndex)\n        this.#limiter.replace(this.#audioOutput, fromIndex, toIndex)\n    }\n\n    parameterChanged(parameter: AutomatableParameter): void {\n        if (parameter === this.#parameterOscAVolume) {\n            this.gainOscA = dbToGain(this.#parameterOscAVolume.getValue())\n        } else if (parameter === this.#parameterOscBVolume) {\n            this.gainOscB = dbToGain(this.#parameterOscBVolume.getValue())\n        } else if (parameter === this.#parameterOscAOctave || parameter === this.#parameterOscATune) {\n            this.frequencyAMultiplier = 2.0 ** (this.#parameterOscAOctave.getValue() + this.#parameterOscATune.getValue() / 1200.0)\n        } else if (parameter === this.#parameterOscBOctave || parameter === this.#parameterOscBTune) {\n            this.frequencyBMultiplier = 2.0 ** (this.#parameterOscBOctave.getValue() + this.#parameterOscBTune.getValue() / 1200.0)\n        } else if (parameter === this.#parameterAttack) {\n            this.env_attack = this.#parameterAttack.getValue()\n        } else if (parameter === this.#parameterDecay) {\n            this.env_decay = this.#parameterDecay.getValue()\n        } else if (parameter === this.#parameterSustain) {\n            this.env_sustain = this.#parameterSustain.getValue()\n        } else if (parameter === this.#parameterRelease) {\n            this.env_release = this.#parameterRelease.getValue()\n        } else if (parameter === this.#parameterOscAWaveform) {\n            this.oscA_waveform = asEnumValue(this.#parameterOscAWaveform.getValue(), ClassicWaveform)\n        } else if (parameter === this.#parameterOscBWaveform) {\n            this.oscB_waveform = asEnumValue(this.#parameterOscBWaveform.getValue(), ClassicWaveform)\n        } else if (parameter === this.#parameterCutoff) {\n            this.flt_cutoff = this.#parameterCutoff.getUnitValue()\n        } else if (parameter === this.#parameterResonance) {\n            this.flt_resonance = this.#parameterResonance.getValue()\n        } else if (parameter === this.#parameterFilterEnvelope) {\n            this.flt_env_amount = this.#parameterFilterEnvelope.getValue()\n        } else if (parameter === this.#parameterFilterOrder) {\n            this.flt_order = this.#parameterFilterOrder.getValue()\n        } else if (parameter === this.#parameterGlideTime) {\n            this.#glideTime = this.#parameterGlideTime.getValue() * PPQN.Bar\n        } else if (parameter === this.#parameterVoicingMode) {\n            const mode = this.#parameterVoicingMode.getValue()\n            switch (mode) {\n                case VoicingMode.Monophonic: {\n                    this.#voicing.strategy = new MonophonicStrategy(this)\n                    return\n                }\n                case VoicingMode.Polyphonic: {\n                    this.#voicing.strategy = new PolyphonicStrategy(this)\n                    return\n                }\n                default:\n                    return panic(`Unknown VoicingMode '${mode}'`)\n            }\n        }\n    }\n\n    finishProcess(): void {\n        this.#audioOutput.assertSanity()\n        this.#peakBroadcaster.process(this.#audioOutput.getChannel(0), this.#audioOutput.getChannel(1))\n    }\n\n    toString(): string {return `{VaporisateurDevice}`}\n}\n\n", "import {assert, Bits, isInstanceOf, Option, SortedSet, UUID} from \"@naomiarotest/lib-std\"\nimport {AudioBuffer, LoopableRegion, RenderQuantum} from \"@naomiarotest/lib-dsp\"\nimport {\n    AudioClipBoxAdapter,\n    AudioData,\n    AudioRegionBoxAdapter,\n    SampleLoader,\n    TapeDeviceBoxAdapter,\n    TrackBoxAdapter,\n    TrackType\n} from \"@naomiarotest/studio-adapters\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {AudioGenerator, Block, BlockFlag, ProcessInfo, Processor} from \"../../processing\"\nimport {AbstractProcessor} from \"../../AbstractProcessor\"\nimport {PeakBroadcaster} from \"../../PeakBroadcaster\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {NoteEventTarget} from \"../../NoteEventSource\"\nimport {DeviceProcessor} from \"../../DeviceProcessor\"\n\ntype Lane = { adapter: TrackBoxAdapter, lastRead: number, lastStepSize: number }\n\nexport class TapeDeviceProcessor extends AbstractProcessor implements DeviceProcessor, AudioGenerator {\n    readonly #adapter: TapeDeviceBoxAdapter\n    readonly #audioOutput: AudioBuffer\n    readonly #peaks: PeakBroadcaster\n    readonly #lanes: SortedSet<UUID.Bytes, Lane>\n\n    readonly #fadeLength: number = 128\n\n    constructor(context: EngineContext, adapter: TapeDeviceBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n        this.#audioOutput = new AudioBuffer(2)\n        this.#peaks = this.own(new PeakBroadcaster(context.broadcaster, adapter.address))\n        this.#lanes = UUID.newSet<Lane>(({adapter: {uuid}}) => uuid)\n\n        this.ownAll(\n            this.#adapter.deviceHost().audioUnitBoxAdapter().tracks.catchupAndSubscribe({\n                onAdd: (adapter: TrackBoxAdapter) => this.#lanes.add({adapter, lastRead: NaN, lastStepSize: 0.0}),\n                onRemove: (adapter: TrackBoxAdapter) => this.#lanes.removeByKey(adapter.uuid),\n                onReorder: (_adapter: TrackBoxAdapter) => {}\n            }),\n            context.registerProcessor(this)\n        )\n    }\n\n    get noteEventTarget(): Option<NoteEventTarget & DeviceProcessor> {return Option.None}\n\n    reset(): void {\n        this.#peaks.clear()\n        this.#audioOutput.clear()\n        this.eventInput.clear()\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n    get audioOutput(): AudioBuffer {return this.#audioOutput}\n\n    process({blocks}: ProcessInfo): void {\n        this.#audioOutput.clear(0, RenderQuantum)\n        const [outL, outR] = this.#audioOutput.channels()\n        this.#lanes.forEach(lane => blocks.forEach((block) => {\n            const {adapter} = lane\n            if (adapter.type !== TrackType.Audio || !adapter.enabled.getValue()) {return}\n            const {p0, p1, flags} = block\n            if (!Bits.every(flags, BlockFlag.transporting | BlockFlag.playing)) {return}\n            const intervals = this.context.clipSequencing.iterate(adapter.uuid, p0, p1)\n            for (const {optClip, sectionFrom, sectionTo} of intervals) {\n                optClip.match({\n                    none: () => {\n                        for (const region of adapter.regions.collection.iterateRange(p0, p1)) {\n                            if (region.mute || !isInstanceOf(region, AudioRegionBoxAdapter)) {continue}\n                            const loader: SampleLoader = region.file.getOrCreateLoader()\n                            const optData = loader.data\n                            if (optData.isEmpty()) {return}\n                            const data = optData.unwrap()\n                            for (const cycle of LoopableRegion.locateLoops(region, p0, p1)) {\n                                this.#processPass(this.#audioOutput, data, cycle, block, lane)\n                            }\n                        }\n                    },\n                    some: clip => {\n                        if (!isInstanceOf(clip, AudioClipBoxAdapter)) {return}\n                        const optData = clip.file.getOrCreateLoader().data\n                        if (optData.isEmpty()) {return}\n                        const data = optData.unwrap()\n                        for (const cycle of LoopableRegion.locateLoops({\n                            position: 0.0,\n                            loopDuration: clip.duration,\n                            loopOffset: 0.0,\n                            complete: Number.POSITIVE_INFINITY\n                        }, sectionFrom, sectionTo)) {\n                            this.#processPass(this.#audioOutput, data, cycle, block, lane)\n                        }\n                    }\n                })\n            }\n        }))\n\n        this.#audioOutput.assertSanity()\n        this.#peaks.process(outL, outR)\n    }\n\n    parameterChanged(_parameter: AutomatableParameter): void {}\n\n    #processPass(output: AudioBuffer,\n                 data: AudioData,\n                 cycle: LoopableRegion.LoopCycle,\n                 {p0, p1, s0, s1}: Block,\n                 lane: Lane): void {\n        const [outL, outR] = output.channels()\n        const {numberOfFrames, frames} = data\n        const framesL = frames[0]\n        const framesR = frames.length === 1 ? frames[0] : frames[1]\n        const sn = s1 - s0\n        const pn = p1 - p0\n        const wp0 = numberOfFrames * cycle.resultStartValue\n        const wp1 = numberOfFrames * cycle.resultEndValue\n        const r0 = (cycle.resultStart - p0) / pn\n        const r1 = (cycle.resultEnd - p0) / pn\n        const bp0 = s0 + sn * r0\n        const bp1 = s0 + sn * r1\n        const bpn = (bp1 - bp0) | 0\n        const stepSize = (wp1 - wp0) / bpn\n        assert(s0 <= bp0 && bp1 <= s1, `Out of bounds ${bp0}, ${bp1}`)\n        const fading = !Number.isFinite(lane.lastRead) || Math.abs(wp0 - (lane.lastRead + stepSize)) > 2.0\n        for (let i = 0 | 0, j = bp0 | 0; i < bpn; i++, j++) {\n            const readNew = wp0 + i * stepSize\n            const readNewInt = readNew | 0\n            let lNew = 0.0, rNew = 0.0\n            if (readNewInt >= 0 && readNewInt < numberOfFrames - 1) {\n                const alpha = readNew - readNewInt\n                const fL = framesL[readNewInt]\n                const fR = framesR[readNewInt]\n                lNew = fL + alpha * (framesL[readNewInt + 1] - fL)\n                rNew = fR + alpha * (framesR[readNewInt + 1] - fR)\n            }\n            if (fading && i < this.#fadeLength && Number.isFinite(lane.lastRead)) {\n                const fadeIn = i / this.#fadeLength\n                const fadeOut = 1.0 - fadeIn\n                const readOld = lane.lastRead + i * lane.lastStepSize\n                const readOldInt = readOld | 0\n                if (readOldInt >= 0 && readOldInt < numberOfFrames - 1) {\n                    const alpha = readOld - readOldInt\n                    const fL = framesL[readOldInt]\n                    const fR = framesR[readOldInt]\n                    const lOld = fL + alpha * (framesL[readOldInt + 1] - fL)\n                    const rOld = fR + alpha * (framesR[readOldInt + 1] - fR)\n                    outL[j] += fadeOut * lOld + fadeIn * lNew\n                    outR[j] += fadeOut * rOld + fadeIn * rNew\n                } else {\n                    outL[j] += lNew\n                    outR[j] += rNew\n                }\n            } else {\n                outL[j] += lNew\n                outR[j] += rNew\n            }\n        }\n        lane.lastRead = wp0 + (bpn - 1) * stepSize\n        lane.lastStepSize = stepSize\n    }\n}", "import {Block, ProcessInfo} from \"./processing\"\nimport {Event, PPQN, ppqn} from \"@naomiarotest/lib-dsp\"\nimport {Maybe} from \"@naomiarotest/lib-std\"\nimport {AbstractProcessor} from \"./AbstractProcessor\"\nimport {UpdateEvent} from \"./UpdateClock\"\n\nexport abstract class EventProcessor extends AbstractProcessor {\n    process({blocks}: ProcessInfo): void {\n        blocks.forEach((block) => {\n            this.introduceBlock(block)\n            const {index, p0, p1, s0, bpm} = block\n            let anyEvents: Maybe<Array<Event>> = null\n            let position = p0\n            for (const event of this.eventInput.get(index)) {\n                anyEvents?.forEach(event => this.handleEvent(block, event))\n                anyEvents = null\n                if (position < event.position) {\n                    this.processEvents(block, position, event.position)\n                    position = event.position\n                }\n                if (UpdateEvent.isOfType(event)) {\n                    this.updateParameters(event.position, s0 / sampleRate + PPQN.pulsesToSeconds(event.position - p0, bpm))\n                } else {\n                    (anyEvents ??= []).push(event)\n                }\n            }\n            anyEvents?.forEach(event => this.handleEvent(block, event))\n            anyEvents = null\n            if (position < p1) {\n                this.processEvents(block, position, p1)\n            }\n        })\n        this.eventInput.clear()\n    }\n\n    abstract handleEvent(block: Block, event: Event): void\n    abstract processEvents(block: Block, from: ppqn, to: ppqn): void\n\n    introduceBlock(_block: Block): void {}\n}", "import {Id, int, unitValue} from \"@naomiarotest/lib-std\"\nimport {NoteEvent, ppqn} from \"@naomiarotest/lib-dsp\"\nimport {NoteLifecycleEvent} from \"../../../NoteEventSource\"\n\nexport type Stack = ReadonlyArray<Omit<NoteEvent, \"position\">>\nexport type VelocityMatrix = { mult: unitValue, add: unitValue }\nexport namespace VelocityMatrix {\n    export const create = (): VelocityMatrix => ({mult: 1.0, add: 0.0})\n    export const apply = (matrix: VelocityMatrix, velocity: unitValue): unitValue => velocity * matrix.mult + matrix.add\n}\n\nexport interface Mode {\n    get name(): string\n    run(stack: Stack, octaves: int, stepIndex: int, position: ppqn, duration: ppqn, velocityMatrix: VelocityMatrix): Id<NoteEvent>\n}\n\nexport const ArpeggioModes: ReadonlyArray<Mode> = Object.freeze([{\n    name: \"up\",\n    run: (stack: Stack,\n          octaves: int,\n          stepIndex: int,\n          position: ppqn,\n          duration: ppqn,\n          velocityMatrix: VelocityMatrix): Id<NoteEvent> => {\n        const count = stack.length\n        const amount = count * octaves\n        const localIndex = stepIndex % count\n        const octave = Math.floor((stepIndex % amount) / count)\n        const event = stack[localIndex]\n        return NoteLifecycleEvent.start(\n            position, duration, event.pitch + octave * 12, VelocityMatrix.apply(velocityMatrix, event.velocity))\n    }\n}, {\n    name: \"down\",\n    run: (stack: Stack,\n          octaves: int,\n          stepIndex: int,\n          position: ppqn,\n          duration: ppqn,\n          velocityMatrix: VelocityMatrix): Id<NoteEvent> => {\n        const count = stack.length\n        const amount = count * octaves\n        const localIndex = (count - 1) - stepIndex % count\n        const octave = (octaves - 1) - Math.floor((stepIndex % amount) / count)\n        const event = stack[localIndex]\n        return NoteLifecycleEvent.start(\n            position, duration, event.pitch + octave * 12, VelocityMatrix.apply(velocityMatrix, event.velocity))\n    }\n}, {\n    name: \"up-down\",\n    run: (stack: Stack,\n          octaves: int,\n          stepIndex: int,\n          position: ppqn,\n          duration: ppqn,\n          velocityMatrix: VelocityMatrix): Id<NoteEvent> => {\n        const count = stack.length\n        const processLength = count * octaves\n        const sequenceLength = Math.max(1, processLength * 2 - 2)\n        const sequenceIndex = stepIndex % sequenceLength\n        const processIndex = (sequenceIndex < processLength ? sequenceIndex : sequenceLength - sequenceIndex)\n        const localIndex = processIndex % count\n        const octave = Math.floor(processIndex / count)\n        const event = stack[localIndex]\n        return NoteLifecycleEvent.start(\n            position, duration, event.pitch + octave * 12, VelocityMatrix.apply(velocityMatrix, event.velocity))\n    }\n}])", "import {ArpeggioDeviceBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {Event, EventSpanRetainer, Fraction, Fragmentor, NoteEvent, ppqn} from \"@naomiarotest/lib-dsp\"\nimport {assert, Bits, Id, int, Option, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {EventProcessor} from \"../../EventProcessor\"\nimport {Block, BlockFlag, Processor} from \"../../processing\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {NoteEventSource, NoteEventTarget, NoteLifecycleEvent} from \"../../NoteEventSource\"\nimport {ArpeggioModes, Mode, VelocityMatrix} from \"./ArpeggioDevice/ArpeggioModes\"\n\nimport {MidiEffectProcessor} from \"../../MidiEffectProcessor\"\n\nexport class ArpeggioDeviceProcessor extends EventProcessor implements MidiEffectProcessor {\n    readonly #adapter: ArpeggioDeviceBoxAdapter\n\n    readonly #stack: Array<NoteEvent>\n    readonly #retainer: EventSpanRetainer<Id<NoteEvent>>\n\n    readonly #modeIndexParameter: AutomatableParameter<int>\n    readonly #rateParameter: AutomatableParameter<int>\n    readonly #gateParameter: AutomatableParameter<number>\n    readonly #repeatParameter: AutomatableParameter<int>\n    readonly #numOctaveParameter: AutomatableParameter<int>\n    readonly #velocityParameter: AutomatableParameter<int>\n\n    readonly #velocityMatrix: VelocityMatrix = VelocityMatrix.create()\n\n    #source: Option<NoteEventSource> = Option.None\n\n    #strategy: Mode = ArpeggioModes[0]\n    #rate: ppqn = NaN\n    #gate: number = 1.0\n    #repeat: int = 1\n    #numOctaves: int = 1\n\n    constructor(context: EngineContext, adapter: ArpeggioDeviceBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n\n        this.#stack = []\n        this.#retainer = new EventSpanRetainer<Id<NoteEvent>>()\n\n        this.#modeIndexParameter = this.own(this.bindParameter(adapter.namedParameter.modeIndex))\n        this.#rateParameter = this.own(this.bindParameter(adapter.namedParameter.rate))\n        this.#gateParameter = this.own(this.bindParameter(adapter.namedParameter.gate))\n        this.#repeatParameter = this.own(this.bindParameter(adapter.namedParameter.repeat))\n        this.#numOctaveParameter = this.own(this.bindParameter(adapter.namedParameter.numOctaves))\n        this.#velocityParameter = this.own(this.bindParameter(adapter.namedParameter.velocity))\n\n        this.ownAll(context.registerProcessor(this))\n        this.readAllParameters()\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n    get noteEventTarget(): Option<NoteEventTarget> {return Option.wrap(this)}\n\n    setNoteEventSource(source: NoteEventSource): Terminable {\n        assert(this.#source.isEmpty(), \"NoteEventSource already set\")\n        this.#source = Option.wrap(source)\n        return Terminable.create(() => this.#source = Option.None)\n    }\n\n    * processNotes(from: ppqn, to: ppqn, flags: int): Generator<NoteLifecycleEvent> {\n        if (this.#retainer.nonEmpty()) {\n            const releaseAll = Bits.every(flags, BlockFlag.discontinuous)\n            if (releaseAll) {\n                for (const event of this.#retainer.releaseAll()) {\n                    yield NoteLifecycleEvent.stop(event, from)\n                }\n            } else {\n                for (const event of this.#retainer.releaseLinearCompleted(to)) {\n                    yield NoteLifecycleEvent.stop(event, event.position + event.duration)\n                }\n            }\n        }\n        if (this.#source.nonEmpty()) {\n            const source = this.#source.unwrap()\n            for (const _ of source.processNotes(from, to, flags)) {} // advance source\n            const onlyExternal = !Bits.every(flags, BlockFlag.transporting)\n            for (const {position, index} of Fragmentor.iterateWithIndex(from, to, this.#rate)) {\n                const stack = Array.from(source.iterateActiveNotesAt(position, onlyExternal))\n                if (stack.length === 0) {continue}\n                const stepIndex = Math.floor(index / this.#repeat)\n                const duration = Math.max(1, Math.floor(this.#rate * this.#gate))\n                const event = this.#strategy.run(stack, this.#numOctaves, stepIndex, position, duration, this.#velocityMatrix)\n                this.#retainer.addAndRetain({...event})\n                yield event\n            }\n            for (const event of this.#retainer.releaseLinearCompleted(to)) {\n                yield NoteLifecycleEvent.stop(event, event.position + event.duration)\n            }\n        }\n    }\n\n    * iterateActiveNotesAt(position: ppqn, onlyExternal: boolean): Generator<NoteEvent> {\n        if (this.#source.isEmpty() || onlyExternal) {return}\n        yield* this.#retainer.overlapping(position, NoteEvent.Comparator)\n    }\n\n    reset(): void {\n        this.#stack.length = 0\n        this.#retainer.clear()\n        this.eventInput.clear()\n    }\n\n    processEvents(_block: Block, _from: ppqn, _to: ppqn): void {}\n\n    parameterChanged(parameter: AutomatableParameter): void {\n        if (parameter === this.#modeIndexParameter) {\n            this.#strategy = ArpeggioModes.at(this.#modeIndexParameter.getValue()) ?? ArpeggioModes[0]\n        } else if (parameter === this.#rateParameter) {\n            this.#rate = Fraction.toPPQN(ArpeggioDeviceBoxAdapter.RateFractions[this.#rateParameter.getValue()])\n        } else if (parameter === this.#gateParameter) {\n            this.#gate = this.#gateParameter.getValue()\n        } else if (parameter === this.#repeatParameter) {\n            this.#repeat = this.#repeatParameter.getValue()\n        } else if (parameter === this.#numOctaveParameter) {\n            this.#numOctaves = this.#numOctaveParameter.getValue()\n        } else if (parameter === this.#velocityParameter) {\n            const velocity = this.#velocityParameter.getValue()\n            if (velocity <= 0.0) {\n                this.#velocityMatrix.add = 1.0 + velocity\n                this.#velocityMatrix.mult = 0.0\n            } else {\n                this.#velocityMatrix.add = 1.0 - velocity\n                this.#velocityMatrix.mult = velocity\n            }\n        }\n    }\n\n    handleEvent(_block: Block, _event: Event): void {}\n\n    index(): number {return this.#adapter.indexField.getValue()}\n    adapter(): ArpeggioDeviceBoxAdapter {return this.#adapter}\n}", "import {assert, int, Objects, Option, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {NoteBroadcaster, PitchDeviceBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {Event, NoteEvent, ppqn} from \"@naomiarotest/lib-dsp\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {EventProcessor} from \"../../EventProcessor\"\nimport {Block, Processor} from \"../../processing\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {NoteEventSource, NoteLifecycleEvent} from \"../../NoteEventSource\"\nimport {MidiEffectProcessor} from \"../../MidiEffectProcessor\"\n\nexport class PitchDeviceProcessor extends EventProcessor implements MidiEffectProcessor {\n    readonly #adapter: PitchDeviceBoxAdapter\n\n    readonly #noteBroadcaster: NoteBroadcaster\n    // TODO We do not need this system in midi-effects, but we cannot remove it without losing ui-updates\n    readonly #octavesParameter: AutomatableParameter<int>\n    readonly #semiTonesParameter: AutomatableParameter<int>\n    readonly #centParameter: AutomatableParameter<number>\n\n    #source: Option<NoteEventSource> = Option.None\n\n    constructor(context: EngineContext, adapter: PitchDeviceBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n\n        this.#noteBroadcaster = this.own(new NoteBroadcaster(context.broadcaster, adapter.address))\n        this.#octavesParameter = this.own(this.bindParameter(adapter.namedParameter.octaves))\n        this.#semiTonesParameter = this.own(this.bindParameter(adapter.namedParameter.semiTones))\n        this.#centParameter = this.own(this.bindParameter(adapter.namedParameter.cent))\n        this.own(context.registerProcessor(this))\n        this.readAllParameters()\n    }\n\n    setNoteEventSource(source: NoteEventSource): Terminable {\n        assert(this.#source.isEmpty(), \"NoteEventSource already set\")\n        this.#source = Option.wrap(source)\n        return Terminable.create(() => this.#source = Option.None)\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n\n    * processNotes(from: ppqn, to: ppqn, flags: int): Generator<NoteLifecycleEvent> {\n        if (this.#source.isEmpty()) {return}\n        for (const event of this.#source.unwrap().processNotes(from, to, flags)) {\n            if (NoteLifecycleEvent.isStart(event)) {\n                this.#noteBroadcaster.noteOn(event.pitch)\n                const {cent, octaves, semiTones} = this.#adapter.namedParameter\n                yield Objects.overwrite(event, {\n                    pitch: event.pitch + octaves.valueAt(event.position) * 12 + semiTones.valueAt(event.position),\n                    cent: event.cent + cent.valueAt(event.position)\n                })\n            } else {\n                this.#noteBroadcaster.noteOff(event.pitch)\n                yield event\n            }\n        }\n    }\n\n    * iterateActiveNotesAt(position: ppqn, onlyExternal: boolean): Generator<NoteEvent> {\n        if (this.#source.isEmpty()) {return}\n        for (const event of this.#source.unwrap().iterateActiveNotesAt(position, onlyExternal)) {\n            if (event.type === \"note-event\") {\n                const {cent, octaves, semiTones} = this.#adapter.namedParameter\n                yield Objects.overwrite(event, {\n                    pitch: event.pitch + octaves.valueAt(event.position) * 12 + semiTones.valueAt(event.position),\n                    cent: event.cent + cent.valueAt(event.position)\n                })\n            }\n        }\n    }\n\n    reset(): void {\n        this.eventInput.clear()\n    }\n\n    processEvents(_block: Block, _from: ppqn, _to: ppqn): void {}\n\n    parameterChanged(parameter: AutomatableParameter): void {}\n\n    handleEvent(_block: Block, _event: Event): void {}\n\n    index(): number {return this.#adapter.indexField.getValue()}\n    adapter(): PitchDeviceBoxAdapter {return this.#adapter}\n}", "import {FFT, Window} from \"@naomiarotest/lib-dsp\"\nimport {int} from \"@naomiarotest/lib-std\"\n\nexport class SpectrumAnalyser {\n    static readonly DEFAULT_SIZE = 1024\n\n    readonly #fftSize: number\n    readonly #numBins: number\n    readonly #fft: FFT\n    readonly #real: Float32Array\n    readonly #imag: Float32Array\n    readonly #window: Float32Array\n    readonly #bins: Float32Array\n\n    #index: number = 0\n\n    decay: boolean = false\n\n    constructor(n: int = SpectrumAnalyser.DEFAULT_SIZE) {\n        this.#fftSize = n\n        this.#fft = new FFT(this.#fftSize)\n        this.#real = new Float32Array(this.#fftSize)\n        this.#imag = new Float32Array(this.#fftSize)\n        this.#window = Window.create(Window.Type.Blackman, this.#fftSize)\n        this.#numBins = this.#fftSize >> 1\n        this.#bins = new Float32Array(this.#numBins)\n    }\n\n    clear(): void {\n        this.#bins.fill(0.0)\n        this.#index = 0\n    }\n\n    numBins(): int {return this.#numBins}\n    bins(): Float32Array {return this.#bins}\n\n    process(left: Float32Array, right: Float32Array, fromIndex: int, toIndex: int): void {\n        for (let i = fromIndex; i < toIndex; ++i) {\n            this.#real[this.#index] = this.#window[this.#index] * (left[i] + right[i])\n            if (++this.#index === this.#fftSize) {\n                this.#update()\n            }\n        }\n    }\n\n    #update(): void {\n        this.#fft.process(this.#real, this.#imag)\n        const scale = 1.0 / this.#numBins\n        for (let i = 0; i < this.#numBins; ++i) {\n            const re = this.#real[i]\n            const im = this.#imag[i]\n            const energy = Math.sqrt(re * re + im * im) * scale\n            if (this.#bins[i] < energy) {\n                this.#bins[i] = energy\n            } else if (this.decay) {\n                this.#bins[i] *= 0.90 // TODO Can we compute a coefficient? (depends on the FPS!)\n            }\n        }\n        this.#index = 0\n        this.#imag.fill(0.0)\n        this.decay = false\n    }\n}\n", "import {Arrays, int, Option, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {AudioBuffer, BiquadCoeff, BiquadMono, BiquadProcessor, BiquadStack} from \"@naomiarotest/lib-dsp\"\nimport {AudioEffectDeviceAdapter, RevampDeviceBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {Block, Processor} from \"../../processing\"\nimport {PeakBroadcaster} from \"../../PeakBroadcaster\"\nimport {SpectrumAnalyser} from \"../../SpectrumAnalyser\"\nimport {AudioProcessor} from \"../../AudioProcessor\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {AudioEffectDeviceProcessor} from \"../../AudioEffectDeviceProcessor\"\n\nexport class RevampDeviceProcessor extends AudioProcessor implements AudioEffectDeviceProcessor {\n    static ID: int = 0 | 0\n\n    readonly #id: int = RevampDeviceProcessor.ID++\n\n    readonly #adapter: RevampDeviceBoxAdapter\n    readonly #output: AudioBuffer\n    readonly #peaks: PeakBroadcaster\n    readonly #spectrumAnalyser: SpectrumAnalyser\n    readonly #spectrum: Float32Array\n\n    readonly #biquadCoeff: ReadonlyArray<BiquadCoeff>\n    readonly #biquadLowPassProcessors: [BiquadStack, BiquadStack]\n    readonly #biquadHighPassProcessors: [BiquadStack, BiquadStack]\n    readonly #biquadProcessors: Array<[BiquadProcessor, BiquadProcessor]>\n    readonly #enabled: Array<boolean>\n    readonly #parameterHighPassEnabled: AutomatableParameter<boolean>\n    readonly #parameterHighPassFrequency: AutomatableParameter<number>\n    readonly #parameterHighPassQ: AutomatableParameter<number>\n    readonly #parameterHighPassOrder: AutomatableParameter<int>\n    readonly #parameterLowShelfEnabled: AutomatableParameter<boolean>\n    readonly #parameterLowShelfFrequency: AutomatableParameter<number>\n    readonly #parameterLowShelfGain: AutomatableParameter<number>\n    readonly #parameterLowBellEnabled: AutomatableParameter<boolean>\n    readonly #parameterLowBellFrequency: AutomatableParameter<number>\n    readonly #parameterLowBellGain: AutomatableParameter<number>\n    readonly #parameterLowBellQ: AutomatableParameter<number>\n    readonly #parameterMidBellEnabled: AutomatableParameter<boolean>\n    readonly #parameterMidBellFrequency: AutomatableParameter<number>\n    readonly #parameterMidBellGain: AutomatableParameter<number>\n    readonly #parameterMidBellQ: AutomatableParameter<number>\n    readonly #parameterHighBellEnabled: AutomatableParameter<boolean>\n    readonly #parameterHighBellFrequency: AutomatableParameter<number>\n    readonly #parameterHighBellGain: AutomatableParameter<number>\n    readonly #parameterHighBellQ: AutomatableParameter<number>\n    readonly #parameterHighShelfEnabled: AutomatableParameter<boolean>\n    readonly #parameterHighShelfFrequency: AutomatableParameter<int>\n    readonly #parameterHighShelfGain: AutomatableParameter<number>\n    readonly #parameterLowPassEnabled: AutomatableParameter<boolean>\n    readonly #parameterLowPassFrequency: AutomatableParameter<number>\n    readonly #parameterLowPassQ: AutomatableParameter<number>\n    readonly #parameterLowPassOrder: AutomatableParameter<number>\n\n    #source: Option<AudioBuffer> = Option.None\n\n    constructor(context: EngineContext, adapter: RevampDeviceBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n        this.#output = new AudioBuffer()\n        this.#peaks = this.own(new PeakBroadcaster(context.broadcaster, adapter.address))\n        this.#spectrumAnalyser = new SpectrumAnalyser()\n        this.#spectrum = new Float32Array(this.#spectrumAnalyser.numBins())\n\n        this.#biquadCoeff = Arrays.create(() => new BiquadCoeff(), 7)\n        this.#biquadLowPassProcessors = [new BiquadStack(4), new BiquadStack(4)]\n        this.#biquadHighPassProcessors = [new BiquadStack(4), new BiquadStack(4)]\n        this.#biquadProcessors = [\n            this.#biquadHighPassProcessors,\n            [new BiquadMono(), new BiquadMono()],\n            [new BiquadMono(), new BiquadMono()],\n            [new BiquadMono(), new BiquadMono()],\n            [new BiquadMono(), new BiquadMono()],\n            [new BiquadMono(), new BiquadMono()],\n            this.#biquadLowPassProcessors\n        ]\n        this.#enabled = Arrays.create(() => true, 7)\n\n        const namedParameter = this.#adapter.namedParameter\n        this.#parameterHighPassEnabled = this.own(this.bindParameter(namedParameter.highPass.enabled))\n        this.#parameterHighPassQ = this.own(this.bindParameter(namedParameter.highPass.q))\n        this.#parameterHighPassFrequency = this.own(this.bindParameter(namedParameter.highPass.frequency))\n        this.#parameterHighPassOrder = this.own(this.bindParameter(namedParameter.highPass.order))\n        this.#parameterLowShelfEnabled = this.own(this.bindParameter(namedParameter.lowShelf.enabled))\n        this.#parameterLowShelfFrequency = this.own(this.bindParameter(namedParameter.lowShelf.frequency))\n        this.#parameterLowShelfGain = this.own(this.bindParameter(namedParameter.lowShelf.gain))\n        this.#parameterLowBellEnabled = this.own(this.bindParameter(namedParameter.lowBell.enabled))\n        this.#parameterLowBellFrequency = this.own(this.bindParameter(namedParameter.lowBell.frequency))\n        this.#parameterLowBellGain = this.own(this.bindParameter(namedParameter.lowBell.gain))\n        this.#parameterLowBellQ = this.own(this.bindParameter(namedParameter.lowBell.q))\n        this.#parameterMidBellEnabled = this.own(this.bindParameter(namedParameter.midBell.enabled))\n        this.#parameterMidBellFrequency = this.own(this.bindParameter(namedParameter.midBell.frequency))\n        this.#parameterMidBellGain = this.own(this.bindParameter(namedParameter.midBell.gain))\n        this.#parameterMidBellQ = this.own(this.bindParameter(namedParameter.midBell.q))\n        this.#parameterHighBellEnabled = this.own(this.bindParameter(namedParameter.highBell.enabled))\n        this.#parameterHighBellFrequency = this.own(this.bindParameter(namedParameter.highBell.frequency))\n        this.#parameterHighBellGain = this.own(this.bindParameter(namedParameter.highBell.gain))\n        this.#parameterHighBellQ = this.own(this.bindParameter(namedParameter.highBell.q))\n        this.#parameterHighShelfEnabled = this.own(this.bindParameter(namedParameter.highShelf.enabled))\n        this.#parameterHighShelfFrequency = this.own(this.bindParameter(namedParameter.highShelf.frequency))\n        this.#parameterHighShelfGain = this.own(this.bindParameter(namedParameter.highShelf.gain))\n        this.#parameterLowPassEnabled = this.own(this.bindParameter(namedParameter.lowPass.enabled))\n        this.#parameterLowPassFrequency = this.own(this.bindParameter(namedParameter.lowPass.frequency))\n        this.#parameterLowPassQ = this.own(this.bindParameter(namedParameter.lowPass.q))\n        this.#parameterLowPassOrder = this.own(this.bindParameter(namedParameter.lowPass.order))\n\n        this.own(context.registerProcessor(this))\n        context.broadcaster.broadcastFloats(adapter.spectrum, this.#spectrum, () => {\n            this.#spectrum.set(this.#spectrumAnalyser.bins())\n            this.#spectrumAnalyser.decay = true\n        })\n        this.readAllParameters()\n    }\n\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n\n    reset(): void {\n        this.#peaks.clear()\n        this.#output.clear()\n        this.#biquadProcessors.forEach(pair => pair.forEach(processor => processor.reset()))\n        this.eventInput.clear()\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n    get audioOutput(): AudioBuffer {return this.#output}\n\n    setAudioSource(source: AudioBuffer): Terminable {\n        this.#source = Option.wrap(source)\n        return {terminate: () => this.#source = Option.None}\n    }\n\n    index(): int {return this.#adapter.indexField.getValue()}\n    adapter(): AudioEffectDeviceAdapter {return this.#adapter}\n\n    processAudio(_block: Block, fromIndex: int, toIndex: int) {\n        if (this.#source.isEmpty()) {return}\n        const [outL, outR] = this.#output.channels()\n        const input = this.#source.unwrap()\n        if (this.#enabled.some(b => b)) {\n            let [inpL, inpR] = input.channels()\n            this.#biquadCoeff.forEach((coeff, index) => {\n                if (this.#enabled[index]) {\n                    const [fltL, fltR] = this.#biquadProcessors[index]\n                    fltL.process(coeff, inpL, outL, fromIndex, toIndex)\n                    fltR.process(coeff, inpR, outR, fromIndex, toIndex)\n                    inpL = outL\n                    inpR = outR\n                }\n            })\n        } else {\n            const [inpL, inpR] = input.channels()\n            for (let i = fromIndex; i < toIndex; i++) {\n                outL[i] = inpL[i]\n                outR[i] = inpR[i]\n            }\n        }\n        this.#peaks.process(outL, outR, fromIndex, toIndex)\n        this.#spectrumAnalyser.process(outL, outR, fromIndex, toIndex)\n    }\n\n    parameterChanged(parameter: AutomatableParameter): void {\n        if (parameter === this.#parameterLowPassOrder) {\n            const zeroBasedOrder = this.#parameterLowPassOrder.getValue()\n            const order = zeroBasedOrder + 1\n            this.#biquadLowPassProcessors[0].order = order\n            this.#biquadLowPassProcessors[1].order = order\n        } else if (parameter === this.#parameterHighPassOrder) {\n            const zeroBasedOrder = this.#parameterHighPassOrder.getValue()\n            const order = zeroBasedOrder + 1\n            this.#biquadHighPassProcessors[0].order = order\n            this.#biquadHighPassProcessors[1].order = order\n        } else if (parameter === this.#parameterHighPassFrequency || parameter === this.#parameterHighPassQ) {\n            const frequency = this.#parameterHighPassFrequency.getValue()\n            const q = this.#parameterHighPassQ.getValue()\n            this.#biquadCoeff[0].setHighpassParams(frequency / sampleRate, q)\n        } else if (parameter === this.#parameterLowShelfFrequency || parameter === this.#parameterLowShelfGain) {\n            const frequency = this.#parameterLowShelfFrequency.getValue()\n            const gain = this.#parameterLowShelfGain.getValue()\n            this.#biquadCoeff[1].setLowShelfParams(frequency / sampleRate, gain)\n        } else if (parameter === this.#parameterLowBellFrequency || parameter === this.#parameterLowBellGain || parameter === this.#parameterLowBellQ) {\n            const frequency = this.#parameterLowBellFrequency.getValue()\n            const gain = this.#parameterLowBellGain.getValue()\n            const q = this.#parameterLowBellQ.getValue()\n            this.#biquadCoeff[2].setPeakingParams(frequency / sampleRate, q, gain)\n        } else if (parameter === this.#parameterMidBellFrequency || parameter === this.#parameterMidBellGain || parameter === this.#parameterMidBellQ) {\n            const frequency = this.#parameterMidBellFrequency.getValue()\n            const gain = this.#parameterMidBellGain.getValue()\n            const q = this.#parameterMidBellQ.getValue()\n            this.#biquadCoeff[3].setPeakingParams(frequency / sampleRate, q, gain)\n        } else if (parameter === this.#parameterHighBellFrequency || parameter === this.#parameterHighBellGain || parameter === this.#parameterHighBellQ) {\n            const frequency = this.#parameterHighBellFrequency.getValue()\n            const gain = this.#parameterHighBellGain.getValue()\n            const q = this.#parameterHighBellQ.getValue()\n            this.#biquadCoeff[4].setPeakingParams(frequency / sampleRate, q, gain)\n        } else if (parameter === this.#parameterHighShelfFrequency || parameter === this.#parameterHighShelfGain) {\n            const frequency = this.#parameterHighShelfFrequency.getValue()\n            const gain = this.#parameterHighShelfGain.getValue()\n            this.#biquadCoeff[5].setHighShelfParams(frequency / sampleRate, gain)\n        } else if (parameter === this.#parameterLowPassFrequency || parameter === this.#parameterLowPassQ) {\n            const frequency = this.#parameterLowPassFrequency.getValue()\n            const q = this.#parameterLowPassQ.getValue()\n            this.#biquadCoeff[6].setLowpassParams(frequency / sampleRate, q)\n        } else if (parameter === this.#parameterHighPassEnabled) {\n            this.#enabled[0] = this.#parameterHighPassEnabled.getValue()\n        } else if (parameter === this.#parameterLowShelfEnabled) {\n            this.#enabled[1] = this.#parameterLowShelfEnabled.getValue()\n        } else if (parameter === this.#parameterLowBellEnabled) {\n            this.#enabled[2] = this.#parameterLowBellEnabled.getValue()\n        } else if (parameter === this.#parameterMidBellEnabled) {\n            this.#enabled[3] = this.#parameterMidBellEnabled.getValue()\n        } else if (parameter === this.#parameterHighBellEnabled) {\n            this.#enabled[4] = this.#parameterHighBellEnabled.getValue()\n        } else if (parameter === this.#parameterHighShelfEnabled) {\n            this.#enabled[5] = this.#parameterHighShelfEnabled.getValue()\n        } else if (parameter === this.#parameterLowPassEnabled) {\n            this.#enabled[6] = this.#parameterLowPassEnabled.getValue()\n        }\n    }\n\n    toString(): string {return `{${this.constructor.name} (${this.#id})`}\n}", "import {int, nextPowOf2} from \"@naomiarotest/lib-std\"\nimport {AudioBuffer} from \"@naomiarotest/lib-dsp\"\n\nexport class FreeVerb {\n    roomSize: number\n    damp: number\n    predelayInSamples: int\n    wetGain: number\n    dryGain: number\n\n    readonly #buf0 = new Float32Array(2048)\n    readonly #buf1 = new Float32Array(2048)\n    readonly #buf2 = new Float32Array(2048)\n    readonly #buf3 = new Float32Array(2048)\n    readonly #buf4 = new Float32Array(2048)\n    readonly #buf5 = new Float32Array(2048)\n    readonly #buf6 = new Float32Array(2048)\n    readonly #buf7 = new Float32Array(2048)\n    readonly #buf8 = new Float32Array(1024)\n    readonly #buf9 = new Float32Array(512)\n    readonly #buf10 = new Float32Array(512)\n    readonly #buf11 = new Float32Array(256)\n    readonly #buf12 = new Float32Array(2048)\n    readonly #buf13 = new Float32Array(2048)\n    readonly #buf14 = new Float32Array(2048)\n    readonly #buf15 = new Float32Array(2048)\n    readonly #buf16 = new Float32Array(2048)\n    readonly #buf17 = new Float32Array(2048)\n    readonly #buf18 = new Float32Array(2048)\n    readonly #buf19 = new Float32Array(2048)\n    readonly #buf20 = new Float32Array(1024)\n    readonly #buf21 = new Float32Array(512)\n    readonly #buf22 = new Float32Array(512)\n    readonly #buf23 = new Float32Array(256)\n\n    readonly #delaySize: int\n    readonly #delayBuffer: Float32Array\n\n    #v9_1: number = 0.0\n    #v8_1: number = 0.0\n    #v11_1: number = 0.0\n    #v10_1: number = 0.0\n    #v13_1: number = 0.0\n    #v12_1: number = 0.0\n    #v15_1: number = 0.0\n    #v14_1: number = 0.0\n    #v17_1: number = 0.0\n    #v16_1: number = 0.0\n    #v19_1: number = 0.0\n    #v18_1: number = 0.0\n    #v21_1: number = 0.0\n    #v20_1: number = 0.0\n    #v23_1: number = 0.0\n    #v22_1: number = 0.0\n    #v6_1: number = 0.0\n    #v4_1: number = 0.0\n    #v2_1: number = 0.0\n    #v0_1: number = 0.0\n    #v33_1: number = 0.0\n    #v32_1: number = 0.0\n    #v35_1: number = 0.0\n    #v34_1: number = 0.0\n    #v37_1: number = 0.0\n    #v36_1: number = 0.0\n    #v39_1: number = 0.0\n    #v38_1: number = 0.0\n    #v41_1: number = 0.0\n    #v40_1: number = 0.0\n    #v43_1: number = 0.0\n    #v42_1: number = 0.0\n    #v45_1: number = 0.0\n    #v44_1: number = 0.0\n    #v47_1: number = 0.0\n    #v46_1: number = 0.0\n    #v30_1: number = 0.0\n    #v28_1: number = 0.0\n    #v26_1: number = 0.0\n    #v24_1: number = 0.0\n\n    #index: int = 0\n    #delayPosition: int = 0\n\n    constructor(MaxPreDelaySec: number = 0.500) {\n        this.#delaySize = nextPowOf2(Math.ceil(MaxPreDelaySec * sampleRate))\n        this.#delayBuffer = new Float32Array(this.#delaySize << 1)\n\n        this.damp = 0.\n        this.roomSize = 0.5\n        this.wetGain = 0.3333\n        this.dryGain = 1.0 - this.wetGain\n        this.#index = 0\n        this.#delayPosition = 0\n        this.predelayInSamples = 0.008 * sampleRate\n\n        this.clearHistory()\n    }\n\n    clear(): void {\n        this.#index = 0\n        this.#delayPosition = 0\n\n        this.clearHistory()\n        this.clearBuffers()\n    }\n\n    process(outBuffer: AudioBuffer, inpBuffer: AudioBuffer, fromIndex: int, toIndex: int): void {\n        const [inputL, inputR] = inpBuffer.channels()\n        const [outputL, outputR] = outBuffer.channels()\n\n        const p0 = (0.4 * this.damp)\n        const p1 = (1.0 - p0)\n        const p2 = (0.7 + (0.28 * this.roomSize))\n\n        for (let i = fromIndex; i < toIndex; ++i) {\n            const inpL = inputL[i]\n            const inpR = inputR[i]\n\n            let delayRead = this.#delayPosition - this.predelayInSamples\n            if (delayRead < 0) delayRead += this.#delaySize\n\n            let i2\n            i2 = delayRead << 1\n            const magic_gain = 0.01\n            const readL = this.#delayBuffer[i2] * magic_gain\n            const readR = this.#delayBuffer[i2 + 1] * magic_gain\n            i2 = this.#delayPosition << 1\n            this.#delayBuffer[i2] = inpL\n            this.#delayBuffer[i2 + 1] = inpR\n            this.#delayPosition = (this.#delayPosition + 1) & (this.#delaySize - 1)\n            const p = this.#index & 2047\n            this.#v9_1 = p1 * this.#v8_1 + p0 * this.#v9_1\n            this.#buf0[p] = readL + p2 * this.#v9_1\n            this.#v8_1 = this.#buf0[(this.#index - 1617) & 2047]\n            this.#v11_1 = p1 * this.#v10_1 + p0 * this.#v11_1\n            this.#buf1[p] = (readL + (p2 * this.#v11_1))\n            this.#v10_1 = this.#buf1[(this.#index - 1557) & 2047]\n            this.#v13_1 = p1 * this.#v12_1 + p0 * this.#v13_1\n            this.#buf2[p] = readL + p2 * this.#v13_1\n            this.#v12_1 = this.#buf2[(this.#index - 1491) & 2047]\n            this.#v15_1 = p1 * this.#v14_1 + p0 * this.#v15_1\n            this.#buf3[p] = readL + p2 * this.#v15_1\n            this.#v14_1 = this.#buf3[(this.#index - 1422) & 2047]\n            this.#v17_1 = p1 * this.#v16_1 + p0 * this.#v17_1\n            this.#buf4[p] = readL + p2 * this.#v17_1\n            this.#v16_1 = this.#buf4[(this.#index - 1356) & 2047]\n            this.#v19_1 = p1 * this.#v18_1 + p0 * this.#v19_1\n            this.#buf5[p] = readL + p2 * this.#v19_1\n            this.#v18_1 = this.#buf5[(this.#index - 1277) & 2047]\n            this.#v21_1 = p1 * this.#v20_1 + p0 * this.#v21_1\n            this.#buf6[p] = readL + p2 * this.#v21_1\n            this.#v20_1 = this.#buf6[(this.#index - 1188) & 2047]\n            this.#v23_1 = p1 * this.#v22_1 + p0 * this.#v23_1\n            this.#buf7[p] = readL + p2 * this.#v23_1\n            this.#v22_1 = this.#buf7[(this.#index - 1116) & 2047]\n            const lt0 = this.#v22_1 + this.#v20_1 + this.#v18_1 + this.#v16_1 + this.#v14_1 + this.#v12_1 + this.#v10_1 + this.#v8_1\n            const lt1 = this.#v6_1 - lt0\n            const lt2 = this.#v4_1 - lt1\n            const lt3 = this.#v2_1 - lt2\n            this.#buf8[this.#index & 1023] = lt0 + 0.5 * this.#v6_1\n            this.#v6_1 = this.#buf8[(this.#index - 556) & 1023]\n            this.#buf9[this.#index & 511] = lt1 + 0.5 * this.#v4_1\n            this.#v4_1 = this.#buf9[(this.#index - 441) & 511]\n            this.#buf10[this.#index & 511] = lt2 + 0.5 * this.#v2_1\n            this.#v2_1 = this.#buf10[(this.#index - 341) & 511]\n            this.#buf11[this.#index & 255] = lt3 + 0.5 * this.#v0_1\n            this.#v0_1 = this.#buf11[(this.#index - 225) & 255]\n            outputL[i] = this.dryGain * inpL + this.wetGain * (this.#v0_1 - lt3)\n            this.#v33_1 = p1 * this.#v32_1 + p0 * this.#v33_1\n            this.#buf12[p] = readR + p2 * this.#v33_1\n            this.#v32_1 = this.#buf12[(this.#index - 1640) & 2047]\n            this.#v35_1 = p1 * this.#v34_1 + p0 * this.#v35_1\n            this.#buf13[p] = readR + p2 * this.#v35_1\n            this.#v34_1 = this.#buf13[(this.#index - 1580) & 2047]\n            this.#v37_1 = p1 * this.#v36_1 + p0 * this.#v37_1\n            this.#buf14[p] = readR + p2 * this.#v37_1\n            this.#v36_1 = this.#buf14[(this.#index - 1514) & 2047]\n            this.#v39_1 = p1 * this.#v38_1 + p0 * this.#v39_1\n            this.#buf15[p] = readR + p2 * this.#v39_1\n            this.#v38_1 = this.#buf15[(this.#index - 1445) & 2047]\n            this.#v41_1 = p1 * this.#v40_1 + p0 * this.#v41_1\n            this.#buf16[p] = readR + p2 * this.#v41_1\n            this.#v40_1 = this.#buf16[(this.#index - 1379) & 2047]\n            this.#v43_1 = p1 * this.#v42_1 + p0 * this.#v43_1\n            this.#buf17[p] = (readR + (p2 * this.#v43_1))\n            this.#v42_1 = this.#buf17[(this.#index - 1300) & 2047]\n            this.#v45_1 = p1 * this.#v44_1 + p0 * this.#v45_1\n            this.#buf18[p] = readR + p2 * this.#v45_1\n            this.#v44_1 = this.#buf18[(this.#index - 1211) & 2047]\n            this.#v47_1 = p1 * this.#v46_1 + p0 * this.#v47_1\n            this.#buf19[p] = readR + p2 * this.#v47_1\n            this.#v46_1 = this.#buf19[(this.#index - 1139) & 2047]\n            const rt0 = this.#v46_1 + this.#v44_1 + this.#v42_1 + this.#v40_1 + this.#v38_1 + this.#v36_1 + this.#v34_1 + this.#v32_1\n            const rt1 = this.#v30_1 - rt0\n            const rt2 = this.#v28_1 - rt1\n            const rt3 = this.#v26_1 - rt2\n            this.#buf20[this.#index & 1023] = rt0 + 0.5 * this.#v30_1\n            this.#v30_1 = this.#buf20[(this.#index - 579) & 1023]\n            this.#buf21[this.#index & 511] = rt1 + 0.5 * this.#v28_1\n            this.#v28_1 = this.#buf21[(this.#index - 464) & 511]\n            this.#buf22[this.#index & 511] = rt2 + 0.5 * this.#v26_1\n            this.#v26_1 = this.#buf22[(this.#index - 364) & 511]\n            this.#buf23[this.#index & 255] = rt3 + 0.5 * this.#v24_1\n            this.#v24_1 = this.#buf23[(this.#index - 248) & 255]\n            outputR[i] = this.dryGain * inpR + this.wetGain * (this.#v24_1 - rt3)\n            this.#index++\n        }\n    }\n\n    clearBuffers(): void {\n        this.#buf0.fill(0.0)\n        this.#buf1.fill(0.0)\n        this.#buf2.fill(0.0)\n        this.#buf3.fill(0.0)\n        this.#buf4.fill(0.0)\n        this.#buf5.fill(0.0)\n        this.#buf6.fill(0.0)\n        this.#buf7.fill(0.0)\n        this.#buf8.fill(0.0)\n        this.#buf9.fill(0.0)\n        this.#buf10.fill(0.0)\n        this.#buf11.fill(0.0)\n        this.#buf12.fill(0.0)\n        this.#buf13.fill(0.0)\n        this.#buf14.fill(0.0)\n        this.#buf15.fill(0.0)\n        this.#buf16.fill(0.0)\n        this.#buf17.fill(0.0)\n        this.#buf18.fill(0.0)\n        this.#buf19.fill(0.0)\n        this.#buf20.fill(0.0)\n        this.#buf21.fill(0.0)\n        this.#buf22.fill(0.0)\n        this.#buf23.fill(0.0)\n        this.#delayBuffer.fill(0.0)\n    }\n\n    clearHistory() {\n        this.#v9_1 = 0.0\n        this.#v8_1 = 0.0\n        this.#v11_1 = 0.0\n        this.#v10_1 = 0.0\n        this.#v13_1 = 0.0\n        this.#v12_1 = 0.0\n        this.#v15_1 = 0.0\n        this.#v14_1 = 0.0\n        this.#v17_1 = 0.0\n        this.#v16_1 = 0.0\n        this.#v19_1 = 0.0\n        this.#v18_1 = 0.0\n        this.#v21_1 = 0.0\n        this.#v20_1 = 0.0\n        this.#v23_1 = 0.0\n        this.#v22_1 = 0.0\n        this.#v6_1 = 0.0\n        this.#v4_1 = 0.0\n        this.#v2_1 = 0.0\n        this.#v0_1 = 0.0\n        this.#v33_1 = 0.0\n        this.#v32_1 = 0.0\n        this.#v35_1 = 0.0\n        this.#v34_1 = 0.0\n        this.#v37_1 = 0.0\n        this.#v36_1 = 0.0\n        this.#v39_1 = 0.0\n        this.#v38_1 = 0.0\n        this.#v41_1 = 0.0\n        this.#v40_1 = 0.0\n        this.#v43_1 = 0.0\n        this.#v42_1 = 0.0\n        this.#v45_1 = 0.0\n        this.#v44_1 = 0.0\n        this.#v47_1 = 0.0\n        this.#v46_1 = 0.0\n        this.#v30_1 = 0.0\n        this.#v28_1 = 0.0\n        this.#v26_1 = 0.0\n        this.#v24_1 = 0.0\n    }\n}", "import {int, Option, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {AudioBuffer, dbToGain} from \"@naomiarotest/lib-dsp\"\nimport {AudioEffectDeviceAdapter, ReverbDeviceBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {PeakBroadcaster} from \"../../PeakBroadcaster\"\nimport {FreeVerb} from \"../../FreeVerb\"\nimport {AudioProcessor} from \"../../AudioProcessor\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {Processor} from \"../../processing\"\nimport {AudioEffectDeviceProcessor} from \"../../AudioEffectDeviceProcessor\"\n\nexport class ReverbDeviceProcessor extends AudioProcessor implements AudioEffectDeviceProcessor {\n    static ID: int = 0 | 0\n\n    readonly #id: int = ReverbDeviceProcessor.ID++\n\n    readonly #adapter: ReverbDeviceBoxAdapter\n    readonly #output: AudioBuffer\n    readonly #peaks: PeakBroadcaster\n    readonly #reverb: FreeVerb\n    readonly #parameterDecay: AutomatableParameter<number>\n    readonly #parameterPreDelay: AutomatableParameter<number>\n    readonly #parameterDamp: AutomatableParameter<number>\n    readonly #parameterWet: AutomatableParameter<number>\n    readonly #parameterDry: AutomatableParameter<number>\n\n    #source: Option<AudioBuffer> = Option.None\n\n    constructor(context: EngineContext, adapter: ReverbDeviceBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n        this.#output = new AudioBuffer()\n        this.#peaks = this.own(new PeakBroadcaster(context.broadcaster, adapter.address))\n        this.#reverb = new FreeVerb()\n\n        const {decay, preDelay, damp, wet, dry} = this.#adapter.namedParameter\n        this.#parameterDecay = this.own(this.bindParameter(decay))\n        this.#parameterPreDelay = this.own(this.bindParameter(preDelay))\n        this.#parameterDamp = this.own(this.bindParameter(damp))\n        this.#parameterWet = this.own(this.bindParameter(wet))\n        this.#parameterDry = this.own(this.bindParameter(dry))\n\n        this.own(context.registerProcessor(this))\n        this.readAllParameters()\n    }\n\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n\n    reset(): void {\n        this.#peaks.clear()\n        this.#reverb.clear()\n        this.#output.clear()\n        this.eventInput.clear()\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n\n    get audioOutput(): AudioBuffer {return this.#output}\n\n    setAudioSource(source: AudioBuffer): Terminable {\n        this.#source = Option.wrap(source)\n        return {terminate: () => this.#source = Option.None}\n    }\n\n    index(): int {return this.#adapter.indexField.getValue()}\n    adapter(): AudioEffectDeviceAdapter {return this.#adapter}\n\n    processAudio(_block: Readonly<{}>, fromIndex: number, toIndex: number) {\n        if (this.#source.isEmpty()) {return}\n        this.#reverb.process(this.#output, this.#source.unwrap(), fromIndex, toIndex)\n        const [outL, outR] = this.#output.channels()\n        this.#peaks.process(outL, outR, fromIndex, toIndex)\n    }\n\n    parameterChanged(parameter: AutomatableParameter): void {\n        if (this.#parameterDecay === parameter) {\n            this.#reverb.roomSize = this.#parameterDecay.getValue()\n        } else if (this.#parameterPreDelay === parameter) {\n            this.#reverb.predelayInSamples = Math.ceil(this.#parameterPreDelay.getValue() * sampleRate)\n        } else if (this.#parameterDamp === parameter) {\n            this.#reverb.damp = this.#parameterDamp.getValue()\n        } else if (this.#parameterWet === parameter) {\n            this.#reverb.wetGain = dbToGain(this.#parameterWet.getValue())\n        } else if (this.#parameterDry === parameter) {\n            this.#reverb.dryGain = dbToGain(this.#parameterDry.getValue())\n        }\n    }\n\n    toString(): string {return `{${this.constructor.name} (${this.#id})`}\n}", "import {Id, int, Option, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {AudioBuffer, dbToGain, Event, NoteEvent} from \"@naomiarotest/lib-dsp\"\nimport {AudioData, NanoDeviceBoxAdapter, SampleLoader} from \"@naomiarotest/studio-adapters\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {AudioProcessor} from \"../../AudioProcessor\"\nimport {Block, Processor} from \"../../processing\"\nimport {PeakBroadcaster} from \"../../PeakBroadcaster\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {NoteEventSource, NoteEventTarget, NoteLifecycleEvent} from \"../../NoteEventSource\"\nimport {NoteEventInstrument} from \"../../NoteEventInstrument\"\nimport {DeviceProcessor} from \"../../DeviceProcessor\"\nimport {InstrumentDeviceProcessor} from \"../../InstrumentDeviceProcessor\"\n\nexport class NanoDeviceProcessor extends AudioProcessor implements InstrumentDeviceProcessor, NoteEventTarget {\n    readonly #adapter: NanoDeviceBoxAdapter\n\n    readonly #voices: Array<Voice>\n    readonly #audioOutput: AudioBuffer\n    readonly #noteEventProcessor: NoteEventInstrument\n    readonly #peakBroadcaster: PeakBroadcaster\n    readonly #parameterVolume: AutomatableParameter<number>\n    readonly #parameterRelease: AutomatableParameter<number>\n\n    gain: number = 1.0\n    release: number = 1.0\n\n    loader: Option<SampleLoader> = Option.None\n\n    constructor(context: EngineContext, adapter: NanoDeviceBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n\n        this.#voices = []\n        this.#audioOutput = new AudioBuffer()\n        this.#noteEventProcessor = new NoteEventInstrument(this, context.broadcaster, adapter.audioUnitBoxAdapter().address)\n        this.#peakBroadcaster = this.own(new PeakBroadcaster(context.broadcaster, adapter.address))\n        this.#parameterVolume = this.own(this.bindParameter(this.#adapter.namedParameter.volume))\n        this.#parameterRelease = this.own(this.bindParameter(this.#adapter.namedParameter.release))\n\n        this.ownAll(\n            context.registerProcessor(this),\n            adapter.box.file.catchupAndSubscribe((pointer) =>\n                this.loader = pointer.targetVertex.map(({box}) =>\n                    context.sampleManager.getOrCreate(box.address.uuid)))\n        )\n        this.readAllParameters()\n    }\n\n    get noteEventTarget(): Option<NoteEventTarget & DeviceProcessor> {return Option.wrap(this)}\n\n    introduceBlock(block: Block): void {\n        this.#noteEventProcessor.introduceBlock(block)\n    }\n\n    setNoteEventSource(source: NoteEventSource): Terminable {\n        return this.#noteEventProcessor.setNoteEventSource(source)\n    }\n\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n\n    reset(): void {\n        this.#voices.length = 0\n        this.#audioOutput.clear()\n        this.eventInput.clear()\n        this.#noteEventProcessor.clear()\n        this.#peakBroadcaster.clear()\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n    get audioOutput(): AudioBuffer {return this.#audioOutput}\n    get adapter(): NanoDeviceBoxAdapter {return this.#adapter}\n\n    handleEvent(event: Event): void {\n        if (NoteLifecycleEvent.isStart(event)) {\n            this.#voices.push(new Voice(this, event))\n        } else if (NoteLifecycleEvent.isStop(event)) {\n            this.#voices.find(voice => voice.event().id === event.id)?.stop()\n        }\n    }\n\n    processAudio(_block: Block, fromIndex: int, toIndex: int): void {\n        this.#audioOutput.clear(fromIndex, toIndex)\n        for (let i = this.#voices.length - 1; i >= 0; i--) {\n            if (this.#voices[i].processAdd(this.#audioOutput, fromIndex, toIndex)) {\n                this.#voices.splice(i, 1)\n            }\n        }\n    }\n\n    parameterChanged(parameter: AutomatableParameter): void {\n        if (parameter === this.#parameterVolume) {\n            this.gain = dbToGain(this.#parameterVolume.getValue())\n        } else if (parameter === this.#parameterRelease) {\n            this.release = this.#parameterRelease.getValue() * sampleRate\n        }\n    }\n\n    finishProcess(): void {\n        this.#audioOutput.assertSanity()\n        this.#peakBroadcaster.process(this.#audioOutput.getChannel(0), this.#audioOutput.getChannel(1))\n    }\n\n    toString(): string {return `{NanoDevice}`}\n}\n\nclass Voice {\n    readonly #device: NanoDeviceProcessor\n    readonly #event: Id<NoteEvent>\n\n    readonly #speed: number = 1.0\n\n    #position: number = 0.0\n    #attack: number = (0.003 * sampleRate) | 0\n    #envPosition: int = 0 | 0\n    #decayPosition: int = Number.POSITIVE_INFINITY\n\n    constructor(device: NanoDeviceProcessor, event: Id<NoteEvent>) {\n        this.#device = device\n        this.#event = event\n\n        this.#speed = Math.pow(2.0, (event.pitch + event.cent / 100.0) / 12.0 - 5.0)\n    }\n\n    event(): Id<NoteEvent> {return this.#event}\n\n    stop(): void {this.#decayPosition = this.#envPosition}\n\n    processAdd(output: AudioBuffer, fromIndex: int, toIndex: int): boolean {\n        const optLoader = this.#device.loader\n        if (optLoader.isEmpty()) {return true}\n        const loader = optLoader.unwrap()\n        if (loader.data.isEmpty()) {return true}\n        return this.processSimple(output.channels(), loader.data.unwrap(), fromIndex, toIndex)\n    }\n\n    processSimple(output: ReadonlyArray<Float32Array>, data: AudioData, fromIndex: int, toIndex: int): boolean {\n        const [outL, outR] = output\n        const inpL = data.frames[0]\n        const inpR = data.frames[1] ?? inpL\n        const numberOfFrames = data.numberOfFrames\n        const rateRatio = data.sampleRate / sampleRate\n        const gain = this.#device.gain * this.#event.velocity\n        const release = this.#device.release\n        const releaseInverse = 1.0 / release\n        for (let i = fromIndex; i < toIndex; i++) {\n            const intPosition = this.#position | 0\n            if (intPosition >= numberOfFrames - 1) {return true}\n            const frac = this.#position - intPosition\n            const att = this.#envPosition < this.#attack ? this.#envPosition / this.#attack : 1.0\n            const env = (Math.min(1.0 - (this.#envPosition - this.#decayPosition) * releaseInverse, 1.0) * att) ** 2.0\n            const l = inpL[intPosition] * (1.0 - frac) + inpL[intPosition + 1] * frac\n            const r = inpR[intPosition] * (1.0 - frac) + inpR[intPosition + 1] * frac\n            outL[i] += l * gain * env\n            outR[i] += r * gain * env\n            this.#position += this.#speed * rateRatio\n            if (++this.#envPosition - this.#decayPosition > release) {return true}\n        }\n        return false\n    }\n}", "import {Terminable} from \"@naomiarotest/lib-std\"\nimport {Event} from \"@naomiarotest/lib-dsp\"\nimport {Block} from \"../../../processing\"\nimport {EngineContext} from \"../../../EngineContext\"\nimport {EventProcessor} from \"../../../EventProcessor\"\nimport {NoteEventSource, NoteEventTarget, NoteLifecycleEvent} from \"../../../NoteEventSource\"\nimport {NoteEventInstrument} from \"../../../NoteEventInstrument\"\nimport {PlayfieldDeviceProcessor} from \"../PlayfieldDeviceProcessor\"\n\nexport class PlayfieldSequencer extends EventProcessor implements NoteEventTarget {\n    readonly #device: PlayfieldDeviceProcessor\n\n    readonly #noteEventInstrument: NoteEventInstrument\n\n    constructor(context: EngineContext, device: PlayfieldDeviceProcessor) {\n        super(context)\n\n        this.#device = device\n\n        this.#noteEventInstrument = new NoteEventInstrument(this, context.broadcaster, device.adapter.audioUnitBoxAdapter().address)\n\n        this.own(context.registerProcessor(this))\n        this.readAllParameters()\n    }\n\n    introduceBlock(block: Block): void {this.#noteEventInstrument.introduceBlock(block)}\n    setNoteEventSource(source: NoteEventSource): Terminable {return this.#noteEventInstrument.setNoteEventSource(source)}\n\n    reset(): void {\n        this.eventInput.clear()\n        this.#noteEventInstrument.clear()\n    }\n\n    processEvents(_block: Readonly<Block>, _from: number, _to: number): void {}\n\n    handleEvent({index}: Readonly<Block>, event: Event): void {\n        if (NoteLifecycleEvent.isStart(event)) {\n            this.#device.optSampleProcessor(event.pitch).ifSome(({eventInput}) => eventInput.add(index, event))\n        } else if (NoteLifecycleEvent.isStop(event)) {\n            this.#device.optSampleProcessor(event.pitch).ifSome(({eventInput}) => eventInput.add(index, event))\n        }\n    }\n\n    toString(): string {return \"{PlayfieldSequencer}\"}\n}", "import {Arrays, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {AudioProcessor} from \"../../../AudioProcessor\"\nimport {AudioGenerator, Processor} from \"../../../processing\"\nimport {PeakBroadcaster} from \"../../../PeakBroadcaster\"\nimport {EventBuffer} from \"../../../EventBuffer\"\nimport {EngineContext} from \"../../../EngineContext\"\nimport {PlayfieldDeviceProcessor} from \"../PlayfieldDeviceProcessor\"\nimport {AudioDeviceProcessor} from \"../../../AudioDeviceProcessor\"\nimport {AudioBuffer, RenderQuantum} from \"@naomiarotest/lib-dsp\"\n\nexport class MixProcessor extends AudioProcessor implements AudioDeviceProcessor, Processor, AudioGenerator {\n    readonly #device: PlayfieldDeviceProcessor\n\n    readonly #audioOutput: AudioBuffer\n    readonly #peaksBroadcaster: PeakBroadcaster\n    readonly #sources: Array<AudioBuffer>\n    readonly #eventBuffer: EventBuffer\n\n    constructor(context: EngineContext, device: PlayfieldDeviceProcessor) {\n        super(context)\n\n        this.#device = device\n\n        this.#audioOutput = new AudioBuffer()\n        this.#peaksBroadcaster = this.own(new PeakBroadcaster(context.broadcaster, device.adapter.address))\n        this.#sources = []\n        this.#eventBuffer = new EventBuffer()\n\n        this.own(context.registerProcessor(this))\n        this.readAllParameters()\n    }\n\n    get uuid(): UUID.Bytes {return this.#device.uuid}\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n\n    setAudioSource(source: AudioBuffer): Terminable {\n        this.#sources.push(source)\n        return {\n            terminate: () => {\n                Arrays.remove(this.#sources, source)\n                this.#audioOutput.clear()\n            }\n        }\n    }\n\n    get audioOutput(): AudioBuffer {return this.#audioOutput}\n    get eventInput(): EventBuffer {return this.#eventBuffer}\n\n    processAudio(_block: Readonly<{}>, _fromIndex: number, _toIndex: number): void {}\n\n    reset(): void {this.#peaksBroadcaster.clear()}\n\n    finishProcess(): void {\n        this.#audioOutput.clear()\n        const [outL, outR] = this.#audioOutput.channels()\n        for (const source of this.#sources) {\n            const [srcL, srcR] = source.channels()\n            for (let i = 0; i < RenderQuantum; i++) {\n                outL[i] += srcL[i]\n                outR[i] += srcR[i]\n            }\n        }\n        this.#audioOutput.assertSanity()\n        this.#peaksBroadcaster.process(this.#audioOutput.getChannel(0), this.#audioOutput.getChannel(1))\n    }\n\n    toString(): string {return \"{PlayfieldMixProcessor}\"}\n}", "import {Arrays, assert, SortedSet, Subscription, Terminator, UUID} from \"@naomiarotest/lib-std\"\nimport {AudioEffectDeviceAdapter, IndexedBoxAdapterCollection} from \"@naomiarotest/studio-adapters\"\nimport {AudioEffectDeviceProcessorFactory} from \"./DeviceProcessorFactory\"\nimport {AudioInput, ProcessPhase} from \"./processing\"\nimport {DeviceChain} from \"./DeviceChain\"\nimport {EngineContext} from \"./EngineContext\"\nimport {Pointers} from \"@naomiarotest/studio-enums\"\nimport {DeviceProcessor} from \"./DeviceProcessor\"\nimport {AudioDeviceProcessor} from \"./AudioDeviceProcessor\"\nimport {AudioEffectDeviceProcessor} from \"./AudioEffectDeviceProcessor\"\n\n// TODO Open this to MidiEffects as well\n\ntype EffectDeviceEntry = {\n    device: AudioEffectDeviceProcessor\n    subscription: Subscription\n}\n\nexport interface AudioTarget extends AudioInput, DeviceProcessor {}\n\nexport class InsertReturnAudioChain implements DeviceChain {\n    static create(context: EngineContext,\n                  collection: IndexedBoxAdapterCollection<AudioEffectDeviceAdapter, Pointers.AudioEffectHost>,\n                  sourceProcessor: AudioDeviceProcessor,\n                  targetProcessor: AudioTarget) {\n        return new InsertReturnAudioChain(context, collection, sourceProcessor, targetProcessor)\n    }\n\n    readonly #terminator = new Terminator()\n\n    readonly #effects: SortedSet<UUID.Bytes, EffectDeviceEntry>\n    readonly #disconnector: Terminator\n\n    #orderedEffects: Array<AudioEffectDeviceProcessor> = []\n    #needsWiring = true\n\n    private constructor(context: EngineContext,\n                        collection: IndexedBoxAdapterCollection<AudioEffectDeviceAdapter, Pointers.AudioEffectHost>,\n                        sourceProcessor: AudioDeviceProcessor,\n                        targetProcessor: AudioTarget) {\n        this.#effects = UUID.newSet(({device}) => device.uuid)\n        this.#disconnector = this.#terminator.own(new Terminator())\n\n        this.#terminator.ownAll(\n            collection.catchupAndSubscribe({\n                onAdd: (adapter: AudioEffectDeviceAdapter) => {\n                    this.invalidateWiring()\n                    const device = AudioEffectDeviceProcessorFactory.create(context, adapter.box)\n                    const added = this.#effects.add({\n                        device, subscription: device.adapter().enabledField.subscribe(() => this.invalidateWiring())\n                    })\n                    assert(added, \"Could not add.\")\n                },\n                onRemove: (adapter: AudioEffectDeviceAdapter) => {\n                    this.invalidateWiring()\n                    const {device, subscription} = this.#effects.removeByKey(adapter.uuid)\n                    subscription.terminate()\n                    device.terminate()\n                },\n                onReorder: (_adapter: AudioEffectDeviceAdapter) => this.invalidateWiring()\n            }),\n            context.subscribeProcessPhase(phase => {\n                if (phase === ProcessPhase.Before && this.#needsWiring) {\n                    let source = sourceProcessor\n                    Arrays.replace(this.#orderedEffects, collection.adapters().map(({uuid}) => this.#effects.get(uuid).device))\n                    for (const target of this.#orderedEffects) {\n                        if (target.adapter().enabledField.getValue()) {\n                            this.#disconnector.own(target.setAudioSource(source.audioOutput))\n                            this.#disconnector.own(context.registerEdge(source.outgoing, target.incoming))\n                            source = target\n                        }\n                    }\n                    this.#disconnector.own(targetProcessor.setAudioSource(source.audioOutput))\n                    this.#disconnector.own(context.registerEdge(source.outgoing, targetProcessor.incoming))\n                    this.#needsWiring = false\n                }\n            })\n        )\n    }\n\n    invalidateWiring(): void {\n        this.#disconnector.terminate()\n        this.#needsWiring = true\n    }\n\n    terminate(): void {\n        this.#terminator.terminate()\n        this.#effects.forEach(({device}) => device.terminate())\n        this.#effects.clear()\n        this.#orderedEffects = []\n    }\n\n    toString(): string {return `{${this.constructor.name}}`}\n}", "import {AudioData, Gate, PlayfieldSampleBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {NoteEvent, velocityToGain} from \"@naomiarotest/lib-dsp\"\nimport {Id, int} from \"@naomiarotest/lib-std\"\nimport {AutomatableParameters} from \"./AutomatableParameters\"\n\nconst FAST_RELEASE = Math.floor(0.005 * sampleRate)\n\nexport class SampleVoice {\n    readonly #sample: PlayfieldSampleBoxAdapter\n    readonly #parameters: AutomatableParameters\n    readonly #event: Id<NoteEvent>\n    readonly #data: AudioData\n\n    readonly #gate: Gate\n    readonly #gain: number\n\n    #envPosition: int = 0 | 0\n\n    #decayPosition: int = Number.POSITIVE_INFINITY\n    #attack: number\n    #release: number\n    #start: number\n    #end: number\n    #position: number\n    #envelope: number\n\n    #active: boolean = true\n    #released: boolean = false\n\n    constructor(sample: PlayfieldSampleBoxAdapter,\n                parameters: AutomatableParameters,\n                data: AudioData,\n                event: Id<NoteEvent>) {\n        this.#sample = sample\n        this.#parameters = parameters\n        this.#data = data\n        this.#event = event\n\n        this.#gate = sample.gate\n        this.#gain = velocityToGain(this.#event.velocity)\n\n        const {attack, release, sampleStart, sampleEnd} = this.#parameters\n        this.#attack = attack.getValue() * sampleRate\n        this.#release = release.getValue() * sampleRate\n        this.#start = (data.numberOfFrames - 1) * sampleStart.getValue()\n        this.#end = (data.numberOfFrames - 1) * sampleEnd.getValue()\n        this.#position = this.#start\n        this.#envelope = 0.0\n    }\n\n    get sample(): PlayfieldSampleBoxAdapter {return this.#sample}\n    get event(): Id<NoteEvent> {return this.#event}\n    get position(): number {return this.#position}\n    get envelope(): number {return this.#envelope}\n\n    release(force: boolean = false): void {\n        if (!this.#active) {return}\n        if (force) {\n            this.#release = FAST_RELEASE\n            this.#releaseEnvelope()\n            this.#active = false\n        } else if (this.#gate !== Gate.Off) {\n            this.#releaseEnvelope()\n        }\n    }\n\n    processAdd(output: ReadonlyArray<Float32Array>, fromIndex: int, toIndex: int): boolean {\n        const [outL, outR] = output\n        const {frames, numberOfFrames} = this.#data\n        const inpL = frames[0]\n        const inpR = frames[1] ?? inpL\n        const {pitch} = this.#parameters\n        const distance = this.#end - this.#start\n        const sign = Math.sign(distance)\n        const rateRatio = this.#data.sampleRate / sampleRate * sign * (2.0 ** (pitch.getValue() / 1200.0))\n        let env = 0.0\n        for (let i = fromIndex; i < toIndex; i++) {\n            const intPosition = this.#position | 0\n            const frac = this.#position - intPosition\n            const l = inpL[intPosition] * (1.0 - frac) + (inpL[intPosition + 1] ?? 0.0) * frac\n            const r = inpR[intPosition] * (1.0 - frac) + (inpR[intPosition + 1] ?? 0.0) * frac\n            env = Math.min(this.#envPosition / this.#attack,\n                1.0 - (this.#envPosition - (this.#decayPosition + this.#attack)) / this.#release, 1.0)\n            this.#position += rateRatio\n            if (sign > 0.0) {\n                if (this.#gate === Gate.Off) {\n                    if (this.#position >= numberOfFrames) {return true}\n                    if (!this.#released && this.#position >= this.#end) {\n                        this.#releaseEnvelope()\n                    }\n                } else if (this.#gate === Gate.On) {\n                    if (this.#position >= this.#end - FAST_RELEASE) {\n                        if (this.#position >= this.#end) {return true}\n                        env *= (this.#end - this.#position) / FAST_RELEASE\n                    }\n                } else if (this.#gate === Gate.Loop) {\n                    while (this.#position >= this.#end) {this.#position -= distance}\n                }\n            } else if (sign < 0.0) {\n                if (this.#gate === Gate.Off) {\n                    if (this.#position <= 0) {return true}\n                    if (!this.#released && this.#position <= this.#end) {\n                        this.#releaseEnvelope()\n                    }\n                } else if (this.#gate === Gate.On) {\n                    if (this.#position <= this.#end + FAST_RELEASE) {\n                        if (this.#position <= this.#end) {return true}\n                        env *= (this.#end - this.#position) / FAST_RELEASE\n                    }\n                } else if (this.#gate === Gate.Loop) {\n                    while (this.#position <= this.#end) {this.#position -= distance}\n                }\n            }\n            if (++this.#envPosition - this.#decayPosition > this.#attack + this.#release) {return true}\n            env *= this.#gain * env\n            outL[i] += l * env\n            outR[i] += r * env\n        }\n        this.#envelope = env\n        return false\n    }\n\n    toString(): string {return \"{PlayfieldSampleVoice}\"}\n\n    #releaseEnvelope(): void {\n        if (this.#released) {return}\n        this.#released = true\n        this.#decayPosition = this.#envPosition < this.#attack\n            ? this.#envPosition - this.#attack\n            : this.#envPosition\n    }\n}", "import {int, UUID} from \"@naomiarotest/lib-std\"\nimport {AudioBuffer, Event} from \"@naomiarotest/lib-dsp\"\nimport {PlayfieldSampleBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {AudioProcessor} from \"../../../AudioProcessor\"\nimport {AudioGenerator, Block, Processor} from \"../../../processing\"\nimport {EngineContext} from \"../../../EngineContext\"\nimport {InsertReturnAudioChain} from \"../../../InsertReturnAudioChain\"\nimport {AutomatableParameter} from \"../../../AutomatableParameter\"\nimport {PeakBroadcaster} from \"../../../PeakBroadcaster\"\nimport {NoteLifecycleEvent} from \"../../../NoteEventSource\"\nimport {PlayfieldDeviceProcessor} from \"../PlayfieldDeviceProcessor\"\nimport {SampleVoice} from \"./SampleVoice\"\nimport {AutomatableParameters} from \"./AutomatableParameters\"\nimport {MixProcessor} from \"./MixProcessor\"\nimport {DeviceProcessor} from \"../../../DeviceProcessor\"\n\nexport class SampleProcessor extends AudioProcessor implements DeviceProcessor, AudioGenerator {\n    readonly #device: PlayfieldDeviceProcessor\n    readonly #adapter: PlayfieldSampleBoxAdapter\n\n    readonly #voices: Array<SampleVoice>\n    readonly #audioOutput: AudioBuffer\n    readonly #peaksBroadcaster: PeakBroadcaster\n\n    readonly #parameters: AutomatableParameters\n\n    constructor(context: EngineContext,\n                device: PlayfieldDeviceProcessor,\n                adapter: PlayfieldSampleBoxAdapter,\n                mixProcessor: MixProcessor) {\n        super(context)\n\n        this.#device = device\n        this.#adapter = adapter\n\n        this.#voices = []\n        this.#audioOutput = new AudioBuffer()\n        this.#peaksBroadcaster = this.own(new PeakBroadcaster(context.broadcaster, adapter.peakAddress))\n\n        const {sampleStart, sampleEnd, attack, release, pitch} = adapter.namedParameter\n\n        this.#parameters = Object.freeze({\n            sampleStart: this.own(this.bindParameter(sampleStart)),\n            sampleEnd: this.own(this.bindParameter(sampleEnd)),\n            attack: this.own(this.bindParameter(attack)),\n            release: this.own(this.bindParameter(release)),\n            pitch: this.own(this.bindParameter(pitch))\n        })\n\n        const positions = new Float32Array(16) // we just assume that 16 voices per channels are enough to visualize\n        this.ownAll(\n            InsertReturnAudioChain.create(context, adapter.audioEffects, this, mixProcessor),\n            context.broadcaster.broadcastFloats(adapter.address, positions, () => {\n                const slices = this.#voices.length < positions.length ? this.#voices : this.#voices.slice(0, positions.length)\n                slices.forEach(({position}, index) => positions[index] = position)\n                positions[slices.length] = -1.0 // close stream\n            }),\n            context.registerProcessor(this)\n        )\n        this.readAllParameters()\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n    get audioOutput(): AudioBuffer {return this.#audioOutput}\n\n    get adapter(): PlayfieldSampleBoxAdapter {return this.#adapter}\n\n    handleEvent(event: Event) {\n        if (NoteLifecycleEvent.isStart(event)) {\n            const optData = this.#adapter.file().flatMap(file => file.getOrCreateLoader().data)\n            if (optData.isEmpty()) {return}\n            const {mute, solo, polyphone, exclude} = this.#adapter.namedParameter\n            const isMute = mute.getValue()\n            const isSolo = solo.getValue()\n            const silent = isMute || (this.#device.hasSolo() && !isSolo)\n            if (silent) {return}\n            if (!polyphone.getValue()) {this.#voices.forEach(voice => voice.release(true))}\n            if (exclude.getValue()) {this.#device.stopExcludeOthers(this.#adapter)}\n            this.#voices.push(new SampleVoice(this.#adapter, this.#parameters, optData.unwrap(), event))\n        } else if (NoteLifecycleEvent.isStop(event)) {\n            this.#voices.find(voice => voice.event.id === event.id)?.release()\n        }\n    }\n\n    processAudio(_block: Block, fromIndex: int, toIndex: int): void {\n        this.#audioOutput.clear(fromIndex, toIndex)\n        for (let i = this.#voices.length - 1; i >= 0; i--) {\n            if (this.#voices[i].processAdd(this.#audioOutput.channels(), fromIndex, toIndex)) {\n                this.#voices.splice(i, 1)\n            }\n        }\n    }\n\n    forceStop(): void {this.#voices.forEach(voice => voice.release(true))}\n\n    parameterChanged(_parameter: AutomatableParameter): void {}\n\n    reset(): void {\n        this.#voices.length = 0\n        this.#audioOutput.clear()\n        this.#peaksBroadcaster.clear()\n    }\n\n    finishProcess(): void {\n        this.#audioOutput.assertSanity()\n        this.#peaksBroadcaster.process(this.#audioOutput.getChannel(0), this.#audioOutput.getChannel(1))\n    }\n\n    toString(): string {return `{PlayfieldSampleProcessor note: ${this.#adapter.indexField.getValue()}}`}\n}", "import {byte, Option, SortedSet, Terminable, Terminator, UUID} from \"@naomiarotest/lib-std\"\nimport {PlayfieldDeviceBoxAdapter, PlayfieldSampleBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {Processor} from \"../../processing\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {NoteEventSource, NoteEventTarget} from \"../../NoteEventSource\"\nimport {PlayfieldSequencer} from \"./Playfield/PlayfieldSequencer\"\nimport {MixProcessor} from \"./Playfield/MixProcessor\"\nimport {SampleProcessor} from \"./Playfield/SampleProcessor\"\nimport {DeviceProcessor} from \"../../DeviceProcessor\"\nimport {AudioBuffer} from \"@naomiarotest/lib-dsp\"\n\nexport class PlayfieldDeviceProcessor implements DeviceProcessor, NoteEventTarget {\n    readonly #terminator = new Terminator()\n    readonly #adapter: PlayfieldDeviceBoxAdapter\n\n    readonly #sequencer: PlayfieldSequencer\n    readonly #mixProcessor: MixProcessor\n    readonly #sampleSet: SortedSet<UUID.Bytes, {\n        uuid: UUID.Bytes,\n        processor: SampleProcessor,\n        terminable: Terminable\n    }>\n\n    constructor(context: EngineContext, adapter: PlayfieldDeviceBoxAdapter) {\n        this.#adapter = adapter\n\n        this.#sequencer = this.#terminator.own(new PlayfieldSequencer(context, this))\n        this.#mixProcessor = this.#terminator.own(new MixProcessor(context, this))\n        this.#sampleSet = UUID.newSet(entry => entry.uuid)\n\n        this.#terminator.ownAll(\n            adapter.samples.catchupAndSubscribe({\n                onAdd: (adapter: PlayfieldSampleBoxAdapter) => {\n                    const processor = new SampleProcessor(context, this, adapter, this.#mixProcessor)\n                    this.#sampleSet.add({\n                        uuid: adapter.uuid,\n                        processor,\n                        terminable: context.registerEdge(this.#sequencer, processor)\n                    })\n                    context.sampleManager.getOrCreate(adapter.fileUUID()) // preloading files\n                },\n                onRemove: (adapter: PlayfieldSampleBoxAdapter) => {\n                    const {terminable, processor} = this.#sampleSet.removeByKey(adapter.uuid)\n                    terminable.terminate()\n                    processor.terminate()\n                },\n                onReorder: (_adapter: PlayfieldSampleBoxAdapter) => {}\n            }),\n            {\n                terminate: () => {\n                    this.#sampleSet.forEach(({terminable, processor}) => {\n                        terminable.terminate()\n                        processor.terminate()\n                    })\n                    this.#sampleSet.clear()\n                }\n            }\n        )\n    }\n\n    setNoteEventSource(source: NoteEventSource): Terminable {return this.#sequencer.setNoteEventSource(source)}\n\n    get noteEventTarget(): Option<NoteEventTarget & DeviceProcessor> {return Option.wrap(this)}\n\n    get incoming(): Processor {return this.#sequencer}\n    get outgoing(): Processor {return this.#mixProcessor}\n\n    optSampleProcessor(note: byte): Option<SampleProcessor> {\n        return this.#adapter.samples.getAdapterByIndex(note)\n            .flatMap(adapter => this.#sampleSet.opt(adapter.uuid))\n            .map(entry => entry.processor)\n    }\n\n    hasSolo(): boolean {\n        return this.#adapter.samples.adapters().some(adapter => adapter.namedParameter.solo.getValue())\n    }\n\n    stopExcludeOthers(exclude: PlayfieldSampleBoxAdapter): void {\n        for (const adapter of this.#adapter.samples.adapters()) {\n            if (adapter.exclude && adapter !== exclude) {\n                this.#sampleSet.opt(adapter.uuid).ifSome(({processor}) => processor.forceStop())\n            }\n        }\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n    get adapter(): PlayfieldDeviceBoxAdapter {return this.#adapter}\n    get audioOutput(): AudioBuffer {return this.#mixProcessor.audioOutput}\n\n    parameterChanged(_parameter: AutomatableParameter): void {}\n\n    terminate(): void {this.#terminator.terminate()}\n\n    toString(): string {return \"{PlayfieldDeviceProcessor}\"}\n}", "import {int, Option, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {AudioBuffer, dbToGain, Mixing, Ramp, StereoMatrix} from \"@naomiarotest/lib-dsp\"\nimport {AudioEffectDeviceAdapter, StereoToolDeviceBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {Block, Processor} from \"../../processing\"\nimport {PeakBroadcaster} from \"../../PeakBroadcaster\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {AudioProcessor} from \"../../AudioProcessor\"\nimport {AudioEffectDeviceProcessor} from \"../../AudioEffectDeviceProcessor\"\n\nexport class StereoToolDeviceProcessor extends AudioProcessor implements AudioEffectDeviceProcessor {\n    readonly #adapter: StereoToolDeviceBoxAdapter\n    readonly #output: AudioBuffer\n    readonly #peaks: PeakBroadcaster\n\n    readonly #matrix: Ramp.StereoMatrixRamp = Ramp.stereoMatrix(sampleRate)\n    readonly #params: StereoMatrix.Params = {\n        gain: 0.0,\n        panning: 0.0,\n        stereo: 0.0,\n        invertL: false,\n        invertR: false,\n        swap: false\n    }\n\n    readonly #volume: AutomatableParameter<number>\n    readonly #panning: AutomatableParameter<number>\n    readonly #stereo: AutomatableParameter<number>\n    readonly #invertL: AutomatableParameter<boolean>\n    readonly #invertR: AutomatableParameter<boolean>\n    readonly #swap: AutomatableParameter<boolean>\n\n    #source: Option<AudioBuffer> = Option.None\n    #mixing: Mixing = Mixing.Linear\n    #needsUpdate: boolean = true\n    #processed: boolean = false\n\n    constructor(context: EngineContext, adapter: StereoToolDeviceBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n        this.#output = new AudioBuffer()\n        this.#peaks = this.own(new PeakBroadcaster(context.broadcaster, adapter.address))\n        this.#volume = this.own(this.bindParameter(adapter.namedParameter.volume))\n        this.#panning = this.own(this.bindParameter(adapter.namedParameter.panning))\n        this.#stereo = this.own(this.bindParameter(adapter.namedParameter.stereo))\n        this.#invertL = this.own(this.bindParameter(adapter.namedParameter.invertL))\n        this.#invertR = this.own(this.bindParameter(adapter.namedParameter.invertR))\n        this.#swap = this.own(this.bindParameter(adapter.namedParameter.swap))\n\n        this.ownAll(\n            adapter.box.panningMixing.catchupAndSubscribe(owner => {\n                this.#mixing = owner.getValue()\n                this.#needsUpdate = true\n            }),\n            context.registerProcessor(this)\n        )\n        this.readAllParameters()\n    }\n\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n\n    reset(): void {\n        this.#peaks.clear()\n        this.#output.clear()\n        this.eventInput.clear()\n        this.#processed = false\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n\n    get audioOutput(): AudioBuffer {return this.#output}\n\n    setAudioSource(source: AudioBuffer): Terminable {\n        this.#source = Option.wrap(source)\n        return {terminate: () => this.#source = Option.None}\n    }\n\n    index(): int {return this.#adapter.indexField.getValue()}\n    adapter(): AudioEffectDeviceAdapter {return this.#adapter}\n\n    processAudio(_block: Readonly<Block>, fromIndex: number, toIndex: number): void {\n        if (this.#source.isEmpty()) {return}\n        if (this.#needsUpdate) {\n            this.#matrix.update(this.#params, this.#mixing, this.#processed)\n            this.#needsUpdate = false\n        }\n        const source = this.#source.unwrap().channels() as StereoMatrix.Channels\n        const target = this.#output.channels() as StereoMatrix.Channels\n        this.#matrix.processFrames(source, target, fromIndex, toIndex)\n        this.#peaks.processStereo(target, fromIndex, toIndex)\n        this.#processed = true\n    }\n\n    parameterChanged(parameter: AutomatableParameter): void {\n        switch (parameter) {\n            case this.#volume:\n                this.#params.gain = dbToGain(this.#volume.getValue())\n                this.#needsUpdate = true\n                return\n            case this.#panning:\n                this.#params.panning = this.#panning.getValue()\n                this.#needsUpdate = true\n                return\n            case this.#stereo:\n                this.#params.stereo = this.#stereo.getValue()\n                this.#needsUpdate = true\n                return\n            case this.#invertL:\n                this.#params.invertL = this.#invertL.getValue()\n                this.#needsUpdate = true\n                return\n            case this.#invertR:\n                this.#params.invertR = this.#invertR.getValue()\n                this.#needsUpdate = true\n                return\n            case this.#swap:\n                this.#params.swap = this.#swap.getValue()\n                this.#needsUpdate = true\n                return\n        }\n    }\n\n    toString(): string {return `{${this.constructor.name}}`}\n}", "import {assert, clamp, identity, int, Objects, Option, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {Event, Groove, NoteEvent, ppqn} from \"@naomiarotest/lib-dsp\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {NoteEventSource, NoteLifecycleEvent} from \"../../NoteEventSource\"\nimport {GrooveAdapter, NoteBroadcaster, ZeitgeistDeviceBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {EventProcessor} from \"../../EventProcessor\"\nimport {Block} from \"../../processing\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {MidiEffectProcessor} from \"../../MidiEffectProcessor\"\n\nexport class ZeitgeistDeviceProcessor extends EventProcessor implements MidiEffectProcessor {\n    readonly #adapter: ZeitgeistDeviceBoxAdapter\n\n    readonly #noteBroadcaster: NoteBroadcaster\n\n    #groove: Option<GrooveAdapter> = Option.None\n    #source: Option<NoteEventSource> = Option.None\n\n    constructor(context: EngineContext, adapter: ZeitgeistDeviceBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n\n        this.#noteBroadcaster = this.own(new NoteBroadcaster(context.broadcaster, adapter.address))\n\n        this.ownAll(\n            adapter.box.groove.catchupAndSubscribe(pointer => {\n                this.#groove.ifSome(adapter => adapter.terminate())\n                this.#groove = Option.wrap(pointer.targetVertex.isEmpty()\n                    ? null\n                    : context.boxAdapters.adapterFor(pointer.targetVertex.unwrap().box, GrooveAdapter.checkType))\n            }),\n            Terminable.create(() => {\n                this.#groove.ifSome(adapter => adapter.terminate()) // FIXME This processor does not OWN that adapter!\n                this.#groove = Option.None\n            }),\n            context.registerProcessor(this)\n        )\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n\n    index(): int {return this.#adapter.indexField.getValue()}\n    adapter(): ZeitgeistDeviceBoxAdapter {return this.#adapter}\n\n    setNoteEventSource(source: NoteEventSource): Terminable {\n        assert(this.#source.isEmpty(), \"NoteEventSource already set\")\n        this.#source = Option.wrap(source)\n        return Terminable.create(() => this.#source = Option.None)\n    }\n\n    * processNotes(from: ppqn, to: ppqn, flags: int): Generator<NoteLifecycleEvent> {\n        if (this.#source.isEmpty()) {return}\n        const source = this.#source.unwrap()\n        const groove: Groove = this.#groove.mapOr(identity, Groove.Identity)\n        for (const event of source.processNotes(groove.unwarp(from), groove.unwarp(to), flags)) {\n            if (NoteLifecycleEvent.isStart(event)) {\n                this.#noteBroadcaster.noteOn(event.pitch)\n            } else {\n                this.#noteBroadcaster.noteOff(event.pitch)\n            }\n            yield Objects.overwrite(event, {position: clamp(groove.warp(event.position), from, to)})\n        }\n    }\n\n    * iterateActiveNotesAt(position: ppqn, onlyExternal: boolean): Generator<NoteEvent> {\n        if (this.#source.isEmpty()) {return}\n        const source = this.#source.unwrap()\n        const groove: Groove = this.#groove.mapOr(identity, Groove.Identity)\n        for (const event of source.iterateActiveNotesAt(groove.unwarp(position), onlyExternal)) {\n            yield Objects.overwrite(event, {position: groove.warp(event.position)})\n        }\n    }\n\n    reset(): void {this.eventInput.clear()}\n\n    parameterChanged(_parameter: AutomatableParameter): void {}\n\n    handleEvent(_block: Readonly<Block>, _event: Event): void {}\n    processEvents(_block: Readonly<Block>, _from: number, _to: number): void {}\n}\n", "import {assert, int, Option, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {NoteBroadcaster, UnknownMidiEffectDeviceBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {Event, NoteEvent, ppqn} from \"@naomiarotest/lib-dsp\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {EventProcessor} from \"../../EventProcessor\"\nimport {Block, Processor} from \"../../processing\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {NoteEventSource, NoteLifecycleEvent} from \"../../NoteEventSource\"\nimport {MidiEffectProcessor} from \"../../MidiEffectProcessor\"\n\nexport class UnknownMidiEffectDeviceProcessor extends EventProcessor implements MidiEffectProcessor {\n    readonly #adapter: UnknownMidiEffectDeviceBoxAdapter\n\n    readonly #noteBroadcaster: NoteBroadcaster\n\n    #source: Option<NoteEventSource> = Option.None\n\n    constructor(context: EngineContext, adapter: UnknownMidiEffectDeviceBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n\n        this.#noteBroadcaster = this.own(new NoteBroadcaster(context.broadcaster, adapter.address))\n        this.own(context.registerProcessor(this))\n        this.readAllParameters()\n    }\n\n    setNoteEventSource(source: NoteEventSource): Terminable {\n        assert(this.#source.isEmpty(), \"NoteEventSource already set\")\n        this.#source = Option.wrap(source)\n        return Terminable.create(() => this.#source = Option.None)\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n\n    * processNotes(from: ppqn, to: ppqn, flags: int): Generator<NoteLifecycleEvent> {\n        if (this.#source.isEmpty()) {return}\n        for (const event of this.#source.unwrap().processNotes(from, to, flags)) {\n            yield event\n        }\n    }\n\n    * iterateActiveNotesAt(position: ppqn, onlyExternal: boolean): Generator<NoteEvent> {\n        if (this.#source.isEmpty()) {return}\n        for (const event of this.#source.unwrap().iterateActiveNotesAt(position, onlyExternal)) {\n            yield event\n        }\n    }\n\n    reset(): void {this.eventInput.clear()}\n\n    processEvents(_block: Block, _from: ppqn, _to: ppqn): void {}\n\n    parameterChanged(_parameter: AutomatableParameter): void {}\n\n    handleEvent(_block: Block, _event: Event): void {}\n\n    index(): number {return this.#adapter.indexField.getValue()}\n    adapter(): UnknownMidiEffectDeviceBoxAdapter {return this.#adapter}\n}", "import type {Generator, InstrumentZone, PresetZone, SoundFont2, ZoneMap} from \"soundfont2\"\nimport {\n    Adsr,\n    AudioBuffer,\n    midiToHz,\n    NoteEvent,\n    RenderQuantum,\n    SILENCE_THRESHOLD,\n    Smooth,\n    velocityToGain\n} from \"@naomiarotest/lib-dsp\"\nimport {Id, int, isNotUndefined, Optional} from \"@naomiarotest/lib-std\"\nimport {GeneratorType} from \"./GeneratorType\"\n\nconst getNumericGenerator = (generators: ZoneMap<Generator>, type: GeneratorType): Optional<number> =>\n    (generators[type] ?? generators[type.toString() as unknown as keyof typeof generators])?.value\n\nconst getCombinedGenerator = (presetGens: ZoneMap<Generator>, instGens: ZoneMap<Generator>,\n                              type: GeneratorType): Optional<number> =>\n    getNumericGenerator(instGens, type) ?? getNumericGenerator(presetGens, type)\n\nconst envBuffer = new Float32Array(RenderQuantum)\n\nexport class SoundfontVoice {\n    readonly event: Id<NoteEvent>\n    readonly sampleData: Int16Array\n    readonly envelope: Adsr\n    readonly #gainSmooth: Smooth\n    readonly rootKey: number\n    readonly sampleRate: number\n    readonly loopStart: number\n    readonly loopEnd: number\n    readonly pan: number\n    readonly shouldLoop: boolean\n\n    playbackPosition: number = 0\n    isReleasing: boolean = false\n\n    constructor(event: Id<NoteEvent>, presetZone: PresetZone, instrumentZone: InstrumentZone, soundFont: SoundFont2) {\n        this.event = event\n\n        const presetGens = presetZone.generators\n        const instGens = instrumentZone?.generators\n\n        const sampleId = getNumericGenerator(instGens, GeneratorType.SampleId) ?? 0\n        const sample = instrumentZone?.sample ?? soundFont.samples[sampleId]\n        this.sampleData = sample.data\n        this.rootKey = getNumericGenerator(instGens, GeneratorType.OverridingRootKey) ?? sample?.header.originalPitch ?? 60\n        this.sampleRate = sample?.header.sampleRate ?? sampleRate\n        this.loopStart = sample?.header.startLoop ?? 0\n        this.loopEnd = sample?.header.endLoop ?? this.sampleData.length\n\n        // SampleModes: 0 = no loop, 1 = loop continuously, 3 = loop until note off\n        const sampleModes = getCombinedGenerator(presetGens, instGens, GeneratorType.SampleModes) ?? 0\n        this.shouldLoop = sampleModes === 1 || sampleModes === 3\n        this.pan = (getCombinedGenerator(presetGens, instGens, GeneratorType.Pan) ?? 0) / 1000\n\n        const attack = getCombinedGenerator(presetGens, instGens, GeneratorType.AttackVolEnv)\n        const decay = getCombinedGenerator(presetGens, instGens, GeneratorType.DecayVolEnv)\n        const sustain = getCombinedGenerator(presetGens, instGens, GeneratorType.SustainVolEnv)\n        const release = getCombinedGenerator(presetGens, instGens, GeneratorType.ReleaseVolEnv)\n\n        const attackTime = isNotUndefined(attack) ? Math.pow(2.0, attack / 1200.0) : 0.005\n        const decayTime = isNotUndefined(decay) ? Math.pow(2.0, decay / 1200.0) : 0.005\n        const sustainLevel = 1.0 - (sustain ?? 0.0) / 1000.0\n        const releaseTime = isNotUndefined(release) ? Math.pow(2.0, release / 1200.0) : 0.005\n        this.envelope = new Adsr(sampleRate)\n        this.envelope.set(attackTime, decayTime, sustainLevel, releaseTime)\n        this.envelope.gateOn()\n        this.#gainSmooth = new Smooth(0.003, sampleRate)\n    }\n\n    release(): void {\n        this.isReleasing = true\n        this.envelope.gateOff()\n    }\n\n    processAdd(output: AudioBuffer, fromIndex: int, toIndex: int): boolean {\n        const pitchRatio = midiToHz(this.event.pitch + this.event.cent / 100, 440) / midiToHz(this.rootKey, 440)\n        const playbackRate = pitchRatio * (this.sampleRate / sampleRate)\n        const gain = velocityToGain(this.event.velocity)\n        const panLeft = Math.cos((this.pan + 1) * Math.PI / 4)\n        const panRight = Math.sin((this.pan + 1) * Math.PI / 4)\n        this.envelope.process(envBuffer, fromIndex, toIndex)\n        const l = output.getChannel(0)\n        const r = output.getChannel(1)\n        for (let i = fromIndex; i < toIndex; i++) {\n            const sampleIndex = Math.floor(this.playbackPosition)\n            const sample = this.#getSample(sampleIndex)\n            const amp = (sample / 32768.0) * gain * this.#gainSmooth.process(envBuffer[i])\n            l[i] += amp * panLeft\n            r[i] += amp * panRight\n            this.playbackPosition += playbackRate\n            if (this.shouldLoop) {\n                if (this.playbackPosition >= this.loopEnd && this.loopEnd > this.loopStart) {\n                    this.playbackPosition = this.loopStart + (this.playbackPosition - this.loopEnd)\n                }\n            } else {\n                if (this.playbackPosition >= this.sampleData.length - 1) {\n                    return true\n                }\n            }\n        }\n        return this.envelope.complete && this.#gainSmooth.value < SILENCE_THRESHOLD\n    }\n\n    #getSample(index: number): number {\n        if (index >= this.sampleData.length - 1) return this.sampleData[this.sampleData.length - 1]\n        const frac = this.playbackPosition - index\n        return this.sampleData[index] * (1.0 - frac) + this.sampleData[index + 1] * frac\n    }\n}", "import {byte, int, isAbsent, isUndefined, Option, Optional, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {AudioBuffer, Event} from \"@naomiarotest/lib-dsp\"\nimport {SoundfontDeviceBoxAdapter, SoundfontLoader} from \"@naomiarotest/studio-adapters\"\nimport type {InstrumentZone, Preset, PresetZone} from \"soundfont2\"\nimport {AudioProcessor} from \"../../AudioProcessor\"\nimport {InstrumentDeviceProcessor} from \"../../InstrumentDeviceProcessor\"\nimport {NoteEventSource, NoteEventTarget, NoteLifecycleEvent} from \"../../NoteEventSource\"\nimport {NoteEventInstrument} from \"../../NoteEventInstrument\"\nimport {PeakBroadcaster} from \"../../PeakBroadcaster\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {DeviceProcessor} from \"../../DeviceProcessor\"\nimport {Block, Processor} from \"../../processing\"\nimport {SoundfontVoice} from \"./Soundfont/SoundfontVoice\"\nimport {GeneratorType, Range} from \"./Soundfont/GeneratorType\"\n\nexport class SoundfontDeviceProcessor extends AudioProcessor implements InstrumentDeviceProcessor, NoteEventTarget {\n    readonly #adapter: SoundfontDeviceBoxAdapter\n    readonly #voices: Array<SoundfontVoice>\n    readonly #noteEventInstrument: NoteEventInstrument\n    readonly #audioOutput: AudioBuffer\n    readonly #peakBroadcaster: PeakBroadcaster\n\n    #loader: Option<SoundfontLoader> = Option.None\n\n    constructor(context: EngineContext, adapter: SoundfontDeviceBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n        this.#voices = []\n        this.#noteEventInstrument = new NoteEventInstrument(this, context.broadcaster, adapter.audioUnitBoxAdapter().address)\n        this.#audioOutput = new AudioBuffer()\n        this.#peakBroadcaster = this.own(new PeakBroadcaster(context.broadcaster, adapter.address))\n\n        this.ownAll(\n            context.registerProcessor(this),\n            adapter.box.file.catchupAndSubscribe((pointer) =>\n                this.#loader = pointer.targetVertex.map(({box}) =>\n                    context.soundfontManager.getOrCreate(box.address.uuid)))\n        )\n    }\n\n    introduceBlock(block: Block): void {this.#noteEventInstrument.introduceBlock(block)}\n    setNoteEventSource(source: NoteEventSource): Terminable {return this.#noteEventInstrument.setNoteEventSource(source)}\n\n    get noteEventTarget(): Option<NoteEventTarget & DeviceProcessor> {return Option.wrap(this)}\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n    get audioOutput(): AudioBuffer {return this.#audioOutput}\n    get adapter(): SoundfontDeviceBoxAdapter {return this.#adapter}\n\n    reset(): void {\n        this.#noteEventInstrument.clear()\n        this.#peakBroadcaster.clear()\n        this.#voices.length = 0\n        this.#audioOutput.clear()\n        this.eventInput.clear()\n    }\n\n    handleEvent(event: Event): void {\n        const optSoundfont = this.#loader.flatMap(loader => loader.soundfont)\n        if (optSoundfont.isEmpty()) {return}\n        const soundfont = optSoundfont.unwrap()\n        if (NoteLifecycleEvent.isStart(event)) {\n            const preset: Preset = soundfont.presets[this.#adapter.presetIndex] ?? soundfont.presets[0]\n            if (isAbsent(preset)) {\n                console.warn(\"No preset available\")\n                return\n            }\n            let voiceCount = 0\n            for (const presetZone of preset.zones) {\n                const velocityByte = Math.round(event.velocity * 127)\n                if (this.#isMatching(event.pitch, velocityByte, presetZone)) {\n                    const instrumentZones = presetZone.instrument.zones\n                    for (let i = 0; i < instrumentZones.length; i++) {\n                        const instZone = instrumentZones[i]\n                        if (this.#isMatching(event.pitch, velocityByte, instZone)) {\n                            this.#voices.push(new SoundfontVoice(event, presetZone, instZone, soundfont))\n                            voiceCount++\n                        }\n                    }\n                }\n            }\n        } else if (NoteLifecycleEvent.isStop(event)) {\n            this.#voices.forEach(voice => {\n                if (voice.event.id === event.id) {voice.release()}\n            })\n        }\n    }\n\n    processAudio(_block: Block, fromIndex: int, toIndex: int): void {\n        this.#audioOutput.clear(fromIndex, toIndex)\n        for (let index = this.#voices.length - 1; index >= 0; index--) {\n            if (this.#voices[index].processAdd(this.#audioOutput, fromIndex, toIndex)) {\n                this.#voices.splice(index, 1)\n            }\n        }\n    }\n\n    finishProcess(): void {\n        this.#audioOutput.assertSanity()\n        this.#peakBroadcaster.process(this.#audioOutput.getChannel(0), this.#audioOutput.getChannel(1))\n    }\n\n    toString(): string {return `{SoundfontDevice}`}\n\n    #isMatching(pitch: byte, velocity: byte, zone: PresetZone | InstrumentZone): boolean {\n        return this.#isInRange(zone.generators[GeneratorType.VelRange]?.range, velocity)\n            && this.#isInRange(zone.generators[GeneratorType.KeyRange]?.range, pitch)\n\n    }\n\n    #isInRange(range: Optional<Range>, value: byte): boolean {\n        return isUndefined(range) || (value >= range.lo && value <= range.hi)\n    }\n}", "// Helper functions for dB conversion\nexport const gainToDecibels = (gain) => gain > 0 ? 20.0 * Math.log10(gain) : -100.0;\nexport const decibelsToGain = (db) => Math.pow(10.0, db * 0.05);\n", "export class CrestFactor {\n    #maxAttackTime = 0.08; // 8ms\n    #maxReleaseTime = 1.0; // 1sec\n    #a1;\n    #b1;\n    #attackTimeInSeconds = 0.0;\n    #releaseTimeInSeconds = 0.14;\n    #avgAttackTime = 0.0;\n    #avgReleaseTime = 0.14;\n    #peakState = 0.0;\n    #rmsState = 0.0;\n    #cFactor = 0.0;\n    constructor(sampleRate) {\n        this.#a1 = Math.exp(-1.0 / (sampleRate * 0.2)); // Calculate alpha for release time of 200 ms\n        this.#b1 = 1 - this.#a1;\n    }\n    process(src, fromIndex, toIndex) {\n        // Init accumulators\n        if (this.#peakState === 0.0) {\n            this.#peakState = src[0];\n        }\n        if (this.#rmsState === 0.0) {\n            this.#rmsState = src[0];\n        }\n        // Reset avg attack/release\n        this.#avgAttackTime = 0.0;\n        this.#avgReleaseTime = 0.0;\n        // Calculate averages of auto-attack/release times for a single buffer\n        for (let i = fromIndex; i < toIndex; ++i) {\n            // Square of input signal\n            const s = src[i] * src[i];\n            // Update peak state\n            this.#peakState = Math.max(s, this.#a1 * this.#peakState + this.#b1 * s);\n            // Update rms state\n            this.#rmsState = this.#a1 * this.#rmsState + this.#b1 * s;\n            // Calculate squared crest factor\n            const c = this.#peakState / this.#rmsState;\n            this.#cFactor = c > 0.0 ? c : 0.0;\n            // Calculate ballistics\n            if (this.#cFactor > 0.0) {\n                this.#attackTimeInSeconds = 2 * (this.#maxAttackTime / this.#cFactor);\n                this.#releaseTimeInSeconds = 2 * (this.#maxReleaseTime / this.#cFactor) - this.#attackTimeInSeconds;\n                // Update avg ballistics\n                this.#avgAttackTime += this.#attackTimeInSeconds;\n                this.#avgReleaseTime += this.#releaseTimeInSeconds;\n            }\n        }\n        // Calculate average ballistics\n        const n = toIndex - fromIndex;\n        this.#avgAttackTime /= n;\n        this.#avgReleaseTime /= n;\n    }\n    getAvgAttack() {\n        return this.#avgAttackTime;\n    }\n    getAvgRelease() {\n        return this.#avgReleaseTime;\n    }\n}\n", "// Delay Line for lookahead\nexport class DelayLine {\n    #delayBuffer = [];\n    #delayBufferSize;\n    #delayInSamples;\n    #numChannels;\n    #writePosition = 0;\n    constructor(sampleRate, delayInSeconds, maxBlockSize, numChannels) {\n        this.#numChannels = numChannels;\n        this.#delayInSamples = Math.floor(sampleRate * delayInSeconds);\n        this.#delayBufferSize = maxBlockSize + this.#delayInSamples;\n        for (let ch = 0; ch < numChannels; ch++) {\n            this.#delayBuffer[ch] = new Float32Array(this.#delayBufferSize);\n        }\n        this.#writePosition = 0;\n    }\n    process(buffer, fromIndex, toIndex) {\n        if (this.#delayInSamples === 0) {\n            return;\n        }\n        let readPosition = (this.#writePosition - this.#delayInSamples + this.#delayBufferSize) % this.#delayBufferSize;\n        for (let ch = 0; ch < this.#numChannels; ch++) {\n            const channelData = buffer.getChannel(ch);\n            let writePos = this.#writePosition;\n            let readPos = readPosition;\n            for (let i = fromIndex; i < toIndex; i++) {\n                const delayedSample = this.#delayBuffer[ch][readPos];\n                this.#delayBuffer[ch][writePos] = channelData[i];\n                channelData[i] = delayedSample;\n                writePos = (writePos + 1) % this.#delayBufferSize;\n                readPos = (readPos + 1) % this.#delayBufferSize;\n            }\n        }\n        this.#writePosition = (this.#writePosition + (toIndex - fromIndex)) % this.#delayBufferSize;\n    }\n}\n", "import { gainToDecibels } from \"./conversation\";\nexport class GainComputer {\n    #threshold = -20.0;\n    #ratio = 2.0;\n    #knee = 6.0;\n    #kneeHalf = 3.0;\n    #slope = -0.5;\n    setThreshold(newThreshold) {\n        this.#threshold = newThreshold;\n    }\n    setRatio(newRatio) {\n        if (this.#ratio !== newRatio) {\n            this.#ratio = newRatio;\n            if (this.#ratio > 23.9) {\n                this.#ratio = -Infinity;\n            }\n            this.#slope = 1.0 / newRatio - 1.0;\n        }\n    }\n    setKnee(newKnee) {\n        if (newKnee !== this.#knee) {\n            this.#knee = newKnee;\n            this.#kneeHalf = newKnee / 2.0;\n        }\n    }\n    applyCompression(input) {\n        const overshoot = input - this.#threshold;\n        if (overshoot <= -this.#kneeHalf) {\n            return 0.0;\n        }\n        if (overshoot > -this.#kneeHalf && overshoot <= this.#kneeHalf) {\n            return 0.5 * this.#slope * ((overshoot + this.#kneeHalf) * (overshoot + this.#kneeHalf)) / this.#knee;\n        }\n        return this.#slope * overshoot;\n    }\n    applyCompressionToBuffer(src, fromIndex, toIndex) {\n        for (let i = fromIndex; i < toIndex; ++i) {\n            const level = Math.max(Math.abs(src[i]), 1e-6);\n            const levelInDecibels = gainToDecibels(level);\n            src[i] = this.applyCompression(levelInDecibels);\n        }\n    }\n}\n", "// Smoothing Filter (1-pole IIR filter)\nexport class SmoothingFilter {\n    #sampleRate;\n    #a1 = 1.0;\n    #b1 = 0.0;\n    #state = 0.0;\n    #first = true;\n    constructor(sampleRate) {\n        this.#sampleRate = sampleRate;\n        this.#a1 = 1;\n        this.#b1 = 1 - this.#a1;\n    }\n    process(sample) {\n        if (this.#first) {\n            this.#state = sample;\n            this.#first = false;\n        }\n        this.#state = this.#a1 * sample + this.#b1 * this.#state;\n    }\n    setAlpha(a) {\n        this.#a1 = a;\n        this.#b1 = 1 - this.#a1;\n    }\n    setAlphaWithTime(timeInSeconds) {\n        this.#a1 = Math.exp(-1.0 / (this.#sampleRate * timeInSeconds));\n        this.#b1 = 1 - this.#a1;\n    }\n    getState() {\n        return this.#state;\n    }\n}\n", "// Level Detector (Ballistics)\nimport { CrestFactor } from \"./CrestFactor\";\nimport { SmoothingFilter } from \"./SmoothingFilter\";\nexport class LevelDetector {\n    #sampleRate;\n    #crestFactor;\n    #attackSmoothingFilter;\n    #releaseSmoothingFilter;\n    #attackTimeInSeconds = 0.01;\n    #alphaAttack = 0.0;\n    #releaseTimeInSeconds = 0.14;\n    #alphaRelease = 0.0;\n    #state01 = 0.0;\n    #state02 = 0.0;\n    #autoAttack = false;\n    #autoRelease = false;\n    constructor(sampleRate) {\n        this.#sampleRate = sampleRate;\n        this.#crestFactor = new CrestFactor(sampleRate);\n        this.#attackSmoothingFilter = new SmoothingFilter(sampleRate);\n        this.#releaseSmoothingFilter = new SmoothingFilter(sampleRate);\n        this.#alphaAttack = Math.exp(-1.0 / (sampleRate * this.#attackTimeInSeconds));\n        this.#alphaRelease = Math.exp(-1.0 / (sampleRate * this.#releaseTimeInSeconds));\n        this.#state01 = 0.0;\n        this.#state02 = 0.0;\n    }\n    setAttack(attack) {\n        if (attack !== this.#attackTimeInSeconds) {\n            this.#attackTimeInSeconds = attack;\n            this.#alphaAttack = Math.exp(-1.0 / (this.#sampleRate * this.#attackTimeInSeconds));\n        }\n    }\n    setRelease(release) {\n        if (release !== this.#releaseTimeInSeconds) {\n            this.#releaseTimeInSeconds = release;\n            this.#alphaRelease = Math.exp(-1.0 / (this.#sampleRate * this.#releaseTimeInSeconds));\n        }\n    }\n    setAutoAttack(isEnabled) {\n        this.#autoAttack = isEnabled;\n    }\n    setAutoRelease(isEnabled) {\n        this.#autoRelease = isEnabled;\n    }\n    #processPeakBranched(input) {\n        // Smooth branched peak detector\n        if (input < this.#state01) {\n            this.#state01 = this.#alphaAttack * this.#state01 + (1 - this.#alphaAttack) * input;\n        }\n        else {\n            this.#state01 = this.#alphaRelease * this.#state01 + (1 - this.#alphaRelease) * input;\n        }\n        return this.#state01;\n    }\n    applyBallistics(src, fromIndex, toIndex) {\n        // Apply ballistics to src buffer\n        for (let i = fromIndex; i < toIndex; ++i) {\n            src[i] = this.#processPeakBranched(src[i]);\n        }\n    }\n    processCrestFactor(src, fromIndex, toIndex) {\n        if (this.#autoAttack || this.#autoRelease) {\n            // Crest factor calculation\n            this.#crestFactor.process(src, fromIndex, toIndex);\n            this.#attackSmoothingFilter.process(this.#crestFactor.getAvgAttack());\n            this.#releaseSmoothingFilter.process(this.#crestFactor.getAvgRelease());\n            if (this.#autoAttack)\n                this.setAttack(this.#attackSmoothingFilter.getState());\n            if (this.#autoRelease)\n                this.setRelease(this.#releaseSmoothingFilter.getState());\n        }\n    }\n}\n", "export class LookAhead {\n    #buffer;\n    #delayInSamples;\n    #bufferSize;\n    #writePosition = 0;\n    #numLastPushed = 0;\n    constructor(sampleRate, delay, blockSize) {\n        this.#delayInSamples = Math.floor(sampleRate * delay);\n        this.#bufferSize = blockSize + this.#delayInSamples;\n        this.#buffer = new Float32Array(this.#bufferSize);\n        this.#writePosition = 0;\n    }\n    process(src, fromIndex, toIndex) {\n        this.#pushSamples(src, fromIndex, toIndex);\n        this.#processSamples();\n        this.#readSamples(src, fromIndex, toIndex);\n    }\n    #pushSamples(src, fromIndex, toIndex) {\n        for (let i = fromIndex; i < toIndex; i++) {\n            this.#buffer[this.#writePosition] = src[i];\n            this.#writePosition = (this.#writePosition + 1) % this.#bufferSize;\n        }\n        this.#numLastPushed = toIndex - fromIndex;\n    }\n    #readSamples(dst, fromIndex, toIndex) {\n        let readPosition = this.#writePosition - this.#numLastPushed - this.#delayInSamples;\n        if (readPosition < 0)\n            readPosition += this.#bufferSize;\n        for (let i = fromIndex; i < toIndex; i++) {\n            dst[i] = this.#buffer[readPosition];\n            readPosition = (readPosition + 1) % this.#bufferSize;\n        }\n    }\n    #processSamples() {\n        let index = this.#writePosition - 1;\n        if (index < 0)\n            index += this.#bufferSize;\n        let nextValue = 0.0;\n        let slope = 0.0;\n        for (let i = 0; i < this.#numLastPushed; i++) {\n            const sample = this.#buffer[index];\n            if (sample > nextValue) {\n                this.#buffer[index] = nextValue;\n                nextValue += slope;\n            }\n            else {\n                slope = -sample / this.#delayInSamples;\n                nextValue = sample + slope;\n            }\n            index = index - 1;\n            if (index < 0)\n                index += this.#bufferSize;\n        }\n        let procMinimumFound = false;\n        for (let i = 0; i < this.#delayInSamples && !procMinimumFound; i++) {\n            const sample = this.#buffer[index];\n            if (sample > nextValue) {\n                this.#buffer[index] = nextValue;\n                nextValue += slope;\n            }\n            else {\n                procMinimumFound = true;\n                break;\n            }\n            index = index - 1;\n            if (index < 0)\n                index += this.#bufferSize;\n        }\n    }\n}\n", "import {AudioEffectDeviceAdapter, CompressorDeviceBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {int, Option, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {AudioBuffer, dbToGain, Event, gainToDb, Ramp, RenderQuantum} from \"@naomiarotest/lib-dsp\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {Block, Processor} from \"../../processing\"\nimport {PeakBroadcaster} from \"../../PeakBroadcaster\"\nimport {AudioProcessor} from \"../../AudioProcessor\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {AudioEffectDeviceProcessor} from \"../../AudioEffectDeviceProcessor\"\nimport {\n    decibelsToGain,\n    DelayLine,\n    GainComputer,\n    LevelDetector,\n    LookAhead,\n    SmoothingFilter\n} from \"@naomiarotest/lib-dsp/ctagdrc\"\n\n/**\n * Ported from https://github.com/p-hlp/CTAGDRC\n * More information in 'packages/lib/dsp/src/ctagdrc/readme.md'\n */\nexport class CompressorDeviceProcessor extends AudioProcessor implements AudioEffectDeviceProcessor {\n    static readonly PEAK_DECAY_PER_SAMPLE = Math.exp(-1.0 / (sampleRate * 0.500))\n    static readonly REDUCTION_DECAY_PER_SAMPLE = RenderQuantum / sampleRate * 0.050\n\n    static ID: int = 0 | 0\n\n    readonly #id: int = CompressorDeviceProcessor.ID++\n    readonly #adapter: CompressorDeviceBoxAdapter\n\n    readonly parameterLookahead: AutomatableParameter<boolean>\n    readonly parameterAutomakeup: AutomatableParameter<boolean>\n    readonly parameterAutoattack: AutomatableParameter<boolean>\n    readonly parameterAutorelease: AutomatableParameter<boolean>\n    readonly parameterInputgain: AutomatableParameter<number>\n    readonly parameterThreshold: AutomatableParameter<number>\n    readonly parameterRatio: AutomatableParameter<number>\n    readonly parameterKnee: AutomatableParameter<number>\n    readonly parameterAttack: AutomatableParameter<number>\n    readonly parameterRelease: AutomatableParameter<number>\n    readonly parameterMakeup: AutomatableParameter<number>\n    readonly parameterMix: AutomatableParameter<number>\n\n    readonly #output: AudioBuffer\n    readonly #peaks: PeakBroadcaster\n\n    readonly #ballistics: LevelDetector\n    readonly #gainComputer: GainComputer\n    readonly #delay: DelayLine\n    readonly #lookaheadProcessor: LookAhead\n    readonly #smoothedAutoMakeup: SmoothingFilter\n\n    readonly #sidechainSignal: Float32Array\n    readonly #originalSignal: readonly [Float32Array, Float32Array]\n    readonly #lookaheadDelay: number = 0.005\n    readonly #editorValues: Float32Array\n    readonly #smoothInputGain: Ramp<number>\n\n    #source: Option<AudioBuffer> = Option.None\n\n    #lookahead: boolean = false\n    #automakeup: boolean = false\n    #autoattack: boolean = false\n    #autorelease: boolean = false\n    #threshold: number = -10.0\n    #ratio: number = 2.0\n    #knee: number = 6.0\n    #attack: number = 2.0\n    #release: number = 140.0\n    #makeup: number = 0.0\n    #mix: number = 1.0\n\n    #autoMakeup: number = 0.0\n\n    #inpMax: number = 0.0\n    #outMax: number = 0.0\n    #redMin: number = 0.0\n\n    #processing: boolean = false\n\n    constructor(context: EngineContext, adapter: CompressorDeviceBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n        this.#output = new AudioBuffer()\n        this.#peaks = this.own(new PeakBroadcaster(context.broadcaster, adapter.address))\n        this.#editorValues = new Float32Array([Number.NEGATIVE_INFINITY, 0.0, Number.NEGATIVE_INFINITY])\n        this.#smoothInputGain = Ramp.linear(sampleRate)\n\n        const {\n            lookahead, automakeup, autoattack, autorelease,\n            inputgain, threshold, ratio, knee, attack, release, makeup, mix\n        } = adapter.namedParameter\n\n        this.parameterLookahead = this.own(this.bindParameter(lookahead))\n        this.parameterAutomakeup = this.own(this.bindParameter(automakeup))\n        this.parameterAutoattack = this.own(this.bindParameter(autoattack))\n        this.parameterAutorelease = this.own(this.bindParameter(autorelease))\n        this.parameterInputgain = this.own(this.bindParameter(inputgain))\n        this.parameterThreshold = this.own(this.bindParameter(threshold))\n        this.parameterRatio = this.own(this.bindParameter(ratio))\n        this.parameterKnee = this.own(this.bindParameter(knee))\n        this.parameterAttack = this.own(this.bindParameter(attack))\n        this.parameterRelease = this.own(this.bindParameter(release))\n        this.parameterMakeup = this.own(this.bindParameter(makeup))\n        this.parameterMix = this.own(this.bindParameter(mix))\n\n        this.#ballistics = new LevelDetector(sampleRate)\n        this.#gainComputer = new GainComputer()\n        this.#delay = new DelayLine(sampleRate, 0.005, RenderQuantum, 2)\n        this.#lookaheadProcessor = new LookAhead(sampleRate, this.#lookaheadDelay, RenderQuantum)\n        this.#smoothedAutoMakeup = new SmoothingFilter(sampleRate)\n        this.#smoothedAutoMakeup.setAlpha(0.03)\n\n        this.#sidechainSignal = new Float32Array(RenderQuantum)\n        this.#originalSignal = [\n            new Float32Array(RenderQuantum),\n            new Float32Array(RenderQuantum)\n        ]\n\n        this.ownAll(\n            context.registerProcessor(this),\n            context.broadcaster.broadcastFloats(adapter.address.append(0),\n                this.#editorValues, () => {\n                    this.#editorValues[0] = gainToDb(this.#inpMax)\n                    this.#editorValues[1] = this.#redMin\n                    this.#editorValues[2] = gainToDb(this.#outMax)\n                })\n        )\n        this.readAllParameters()\n    }\n\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n\n    reset(): void {\n        this.#processing = false\n        this.#output.clear()\n        this.#peaks.clear()\n        this.eventInput.clear()\n        this.#sidechainSignal.fill(0.0)\n        this.#originalSignal[0].fill(0.0)\n        this.#originalSignal[1].fill(0.0)\n        this.#autoMakeup = 0.0\n        this.#inpMax = 0.0\n        this.#outMax = 0.0\n        this.#redMin = 0.0\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n    get audioOutput(): AudioBuffer {return this.#output}\n\n    setAudioSource(source: AudioBuffer): Terminable {\n        this.#source = Option.wrap(source)\n        return {terminate: () => this.#source = Option.None}\n    }\n\n    index(): int {return this.#adapter.indexField.getValue()}\n    adapter(): AudioEffectDeviceAdapter {return this.#adapter}\n\n    handleEvent(_event: Event): void {}\n\n    processAudio(_block: Block, from: int, to: int): void {\n        if (this.#source.isEmpty()) return\n        const source = this.#source.unwrap()\n\n        const srcL = source.getChannel(0)\n        const srcR = source.getChannel(1)\n        const outL = this.#output.getChannel(0)\n        const outR = this.#output.getChannel(1)\n\n        for (let i = from; i < to; i++) {\n            const g = this.#smoothInputGain.moveAndGet()\n            const l = outL[i] = srcL[i] * g\n            const r = outR[i] = srcR[i] * g\n            const peak = Math.max(Math.abs(l), Math.abs(r))\n            if (this.#inpMax <= peak) {\n                this.#inpMax = peak\n            } else {\n                this.#inpMax *= CompressorDeviceProcessor.PEAK_DECAY_PER_SAMPLE\n            }\n        }\n\n        // Clear sidechain and original signal buffers\n        this.#sidechainSignal.fill(0.0, from, to)\n\n        // Get max L/R amplitude values and fill sidechain signal\n        for (let i = from; i < to; i++) {\n            this.#sidechainSignal[i] = Math.max(Math.abs(outL[i]), Math.abs(outR[i]))\n        }\n\n        // Calculate crest factor on max amplitude values\n        this.#ballistics.processCrestFactor(this.#sidechainSignal, from, to)\n\n        // Compute attenuation - converts sidechain from linear to logarithmic\n        this.#gainComputer.applyCompressionToBuffer(this.#sidechainSignal, from, to)\n\n        // Smooth attenuation - still logarithmic\n        this.#ballistics.applyBallistics(this.#sidechainSignal, from, to)\n\n        // Get minimum = max gain reduction from a sidechain signal\n        for (let i = from; i < to; i++) {\n            const peak = this.#sidechainSignal[i]\n            if (this.#redMin >= peak) {\n                this.#redMin = peak\n            } else {\n                this.#redMin += CompressorDeviceProcessor.REDUCTION_DECAY_PER_SAMPLE\n            }\n        }\n\n        // Calculate auto makeup\n        this.#autoMakeup = this.#calculateAutoMakeup(this.#sidechainSignal, from, to)\n\n        // Do lookahead if enabled\n        if (this.#lookahead) {\n            // Delay input buffer\n            this.#delay.process(this.#output, from, to)\n\n            // Process sidechain (delay + gain reduction fade in)\n            this.#lookaheadProcessor.process(this.#sidechainSignal, from, to)\n        }\n\n        // Add makeup gain and convert sidechain to a linear domain\n        for (let i = from; i < to; i++) {\n            this.#sidechainSignal[i] = decibelsToGain(\n                this.#sidechainSignal[i] + this.#makeup + this.#autoMakeup\n            )\n        }\n\n        // Copy buffer to the original signal for dry/wet mixing\n        for (let i = from; i < to; i++) {\n            this.#originalSignal[0][i] = outL[i]\n            this.#originalSignal[1][i] = outR[i]\n        }\n\n        // Multiply attenuation with buffer - apply compression\n        for (let i = from; i < to; i++) {\n            outL[i] *= this.#sidechainSignal[i]\n            outR[i] *= this.#sidechainSignal[i]\n        }\n\n        // Mix dry and wet signal\n        for (let i = from; i < to; i++) {\n            const l = outL[i] * this.#mix + this.#originalSignal[0][i] * (1.0 - this.#mix)\n            const r = outR[i] * this.#mix + this.#originalSignal[1][i] * (1.0 - this.#mix)\n            const peak = Math.max(Math.abs(l), Math.abs(r))\n            if (this.#outMax <= peak) {\n                this.#outMax = peak\n            } else {\n                this.#outMax *= CompressorDeviceProcessor.PEAK_DECAY_PER_SAMPLE\n            }\n            outL[i] = l\n            outR[i] = r\n        }\n\n        this.#peaks.process(outL, outR, from, to)\n        this.#processing = true\n    }\n\n    #calculateAutoMakeup(src: Float32Array, fromIndex: int, toIndex: int): number {\n        let sum = 0.0\n        for (let i = fromIndex; i < toIndex; i++) {\n            sum += src[i]\n        }\n        this.#smoothedAutoMakeup.process(-sum / (toIndex - fromIndex))\n        return this.#automakeup ? this.#smoothedAutoMakeup.getState() : 0.0\n    }\n\n    parameterChanged(parameter: AutomatableParameter): void {\n        if (parameter === this.parameterLookahead) {\n            this.#lookahead = this.parameterLookahead.getValue()\n        } else if (parameter === this.parameterAutomakeup) {\n            this.#automakeup = this.parameterAutomakeup.getValue()\n        } else if (parameter === this.parameterAutoattack) {\n            this.#autoattack = this.parameterAutoattack.getValue()\n            this.#ballistics.setAutoAttack(this.#autoattack)\n            if (!this.#autoattack) {\n                this.#ballistics.setAttack(this.#attack * 0.001) // Convert ms to seconds\n            }\n        } else if (parameter === this.parameterAutorelease) {\n            this.#autorelease = this.parameterAutorelease.getValue()\n            this.#ballistics.setAutoRelease(this.#autorelease)\n            if (!this.#autorelease) {\n                this.#ballistics.setRelease(this.#release * 0.001) // Convert ms to seconds\n            }\n        } else if (parameter === this.parameterInputgain) {\n            this.#smoothInputGain.set(dbToGain(this.parameterInputgain.getValue()), this.#processing)\n        } else if (parameter === this.parameterThreshold) {\n            this.#threshold = this.parameterThreshold.getValue()\n            this.#gainComputer.setThreshold(this.#threshold)\n        } else if (parameter === this.parameterRatio) {\n            this.#ratio = this.parameterRatio.getValue()\n            this.#gainComputer.setRatio(this.#ratio)\n        } else if (parameter === this.parameterKnee) {\n            this.#knee = this.parameterKnee.getValue()\n            this.#gainComputer.setKnee(this.#knee)\n        } else if (parameter === this.parameterAttack) {\n            this.#attack = this.parameterAttack.getValue()\n            if (!this.#autoattack) {\n                this.#ballistics.setAttack(this.#attack * 0.001) // Convert ms to seconds\n            }\n        } else if (parameter === this.parameterRelease) {\n            this.#release = this.parameterRelease.getValue()\n            if (!this.#autorelease) {\n                this.#ballistics.setRelease(this.#release * 0.001) // Convert ms to seconds\n            }\n        } else if (parameter === this.parameterMakeup) {\n            this.#makeup = this.parameterMakeup.getValue()\n        } else if (parameter === this.parameterMix) {\n            this.#mix = this.parameterMix.getValue()\n        }\n    }\n\n    toString(): string {return `{${this.constructor.name} (${this.#id})}`}\n}", "import {int, Option, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {AudioEffectDeviceAdapter, CrusherDeviceBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {Block, Processor} from \"../../processing\"\nimport {PeakBroadcaster} from \"../../PeakBroadcaster\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {AudioEffectDeviceProcessor} from \"../../AudioEffectDeviceProcessor\"\nimport {AudioBuffer, Crusher, StereoMatrix} from \"@naomiarotest/lib-dsp\"\nimport {AudioProcessor} from \"../../AudioProcessor\"\n\nexport class CrusherDeviceProcessor extends AudioProcessor implements AudioEffectDeviceProcessor {\n    static ID: int = 0 | 0\n\n    readonly #id: int = CrusherDeviceProcessor.ID++\n\n    readonly #adapter: CrusherDeviceBoxAdapter\n    readonly #output: AudioBuffer\n    readonly #dsp: Crusher\n    readonly #peaks: PeakBroadcaster\n\n    readonly parameterCrusherRate: AutomatableParameter<number>\n    readonly parameterBitDepth: AutomatableParameter<number>\n    readonly parameterBoost: AutomatableParameter<number>\n    readonly parameterMix: AutomatableParameter<number>\n\n    #source: Option<AudioBuffer> = Option.None\n\n    constructor(context: EngineContext, adapter: CrusherDeviceBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n        this.#output = new AudioBuffer()\n        this.#dsp = new Crusher(sampleRate)\n        this.#peaks = this.own(new PeakBroadcaster(context.broadcaster, adapter.address))\n\n        const {crush, bits, boost, mix} = adapter.namedParameter\n        this.parameterCrusherRate = this.own(this.bindParameter(crush))\n        this.parameterBitDepth = this.own(this.bindParameter(bits))\n        this.parameterBoost = this.own(this.bindParameter(boost))\n        this.parameterMix = this.own(this.bindParameter(mix))\n\n        this.own(context.registerProcessor(this))\n        this.readAllParameters()\n    }\n\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n\n    reset(): void {\n        this.#dsp.reset()\n        this.#peaks.clear()\n        this.#output.clear()\n        this.eventInput.clear()\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n\n    get audioOutput(): AudioBuffer {return this.#output}\n\n    setAudioSource(source: AudioBuffer): Terminable {\n        this.#source = Option.wrap(source)\n        return {terminate: () => this.#source = Option.None}\n    }\n\n    index(): int {return this.#adapter.indexField.getValue()}\n\n    adapter(): AudioEffectDeviceAdapter {return this.#adapter}\n\n    processAudio(_block: Block, fromIndex: int, toIndex: int): void {\n        if (this.#source.isEmpty()) {return}\n        const input = this.#source.unwrap()\n        this.#dsp.process(\n            input.channels() as StereoMatrix.Channels,\n            this.#output.channels() as StereoMatrix.Channels,\n            fromIndex, toIndex)\n        this.#peaks.process(\n            this.#output.getChannel(0),\n            this.#output.getChannel(1),\n            fromIndex, toIndex)\n    }\n\n    parameterChanged(parameter: AutomatableParameter): void {\n        if (parameter === this.parameterCrusherRate) {\n            this.#dsp.setCrush(1.0 - this.parameterCrusherRate.getValue())\n        } else if (parameter === this.parameterBitDepth) {\n            this.#dsp.setBitDepth(this.parameterBitDepth.getValue())\n        } else if (parameter === this.parameterBoost) {\n            this.#dsp.setBoost(this.parameterBoost.getValue())\n        } else if (parameter === this.parameterMix) {\n            this.#dsp.setMix(this.parameterMix.getValue())\n        }\n    }\n\n    toString(): string {return `{${this.constructor.name} (${this.#id})`}\n}", "import {int, Option, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {AudioEffectDeviceAdapter, FoldDeviceBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {Block, Processor} from \"../../processing\"\nimport {PeakBroadcaster} from \"../../PeakBroadcaster\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {AudioEffectDeviceProcessor} from \"../../AudioEffectDeviceProcessor\"\nimport {AudioBuffer, dbToGain, Ramp, RenderQuantum, ResamplerStereo, StereoMatrix, wavefold} from \"@naomiarotest/lib-dsp\"\nimport {AudioProcessor} from \"../../AudioProcessor\"\n\nconst oversamplingValues = [2, 4, 8] as const\nconst maxOversampleFactor = 8 as const\n\nexport class FoldDeviceProcessor extends AudioProcessor implements AudioEffectDeviceProcessor {\n    static ID: int = 0 | 0\n\n    readonly #id: int = FoldDeviceProcessor.ID++\n\n    readonly #adapter: FoldDeviceBoxAdapter\n    readonly #output: AudioBuffer\n    readonly #buffer: StereoMatrix.Channels\n    readonly #peaks: PeakBroadcaster\n\n    readonly parameterDrive: AutomatableParameter<number>\n    readonly parameterVolume: AutomatableParameter<number>\n\n    #source: Option<AudioBuffer> = Option.None\n    #processed: boolean = false\n\n    // will be set in contructor callback: 'catchupAndSubscribe'\n    #resampler!: ResamplerStereo\n    #oversamplingFactor!: int\n    #smoothInputGain!: Ramp<number>\n    #smoothOutputGain!: Ramp<number>\n\n    constructor(context: EngineContext, adapter: FoldDeviceBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n        this.#output = new AudioBuffer()\n        this.#buffer = [\n            new Float32Array(RenderQuantum * maxOversampleFactor),\n            new Float32Array(RenderQuantum * maxOversampleFactor)]\n        this.#peaks = this.own(new PeakBroadcaster(context.broadcaster, adapter.address))\n\n        const {drive, volume} = adapter.namedParameter\n        this.parameterDrive = this.own(this.bindParameter(drive))\n        this.parameterVolume = this.own(this.bindParameter(volume))\n\n        this.ownAll(\n            context.registerProcessor(this),\n            adapter.box.overSampling.catchupAndSubscribe(owner => {\n                const factor = oversamplingValues[owner.getValue()]\n                this.#resampler = new ResamplerStereo(factor)\n                this.#smoothInputGain = Ramp.linear(sampleRate * factor)\n                this.#smoothInputGain.set(dbToGain(this.parameterDrive.getValue()), this.#processed)\n                this.#smoothOutputGain = Ramp.linear(sampleRate * factor)\n                this.#smoothOutputGain.set(dbToGain(this.parameterVolume.getValue()), this.#processed)\n                this.#oversamplingFactor = factor\n            })\n        )\n        this.readAllParameters()\n    }\n\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n\n    reset(): void {\n        console.debug(\"reset\")\n        this.#processed = false\n        this.#peaks.clear()\n        this.#output.clear()\n        this.eventInput.clear()\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n\n    get audioOutput(): AudioBuffer {return this.#output}\n\n    setAudioSource(source: AudioBuffer): Terminable {\n        this.#source = Option.wrap(source)\n        return {terminate: () => this.#source = Option.None}\n    }\n\n    index(): int {return this.#adapter.indexField.getValue()}\n\n    adapter(): AudioEffectDeviceAdapter {return this.#adapter}\n\n    processAudio(_block: Block, fromIndex: int, toIndex: int): void {\n        if (this.#source.isEmpty()) {return}\n\n        this.#resampler.upsample(this.#source.unwrap().channels() as StereoMatrix.Channels, this.#buffer, fromIndex, toIndex)\n        const oversampledLength = (toIndex - fromIndex) * this.#oversamplingFactor\n        const [oversampledL, oversampledR] = this.#buffer\n\n        for (let i = 0; i < oversampledLength; i++) {\n            const gain = this.#smoothOutputGain.moveAndGet()\n            const amount = this.#smoothInputGain.moveAndGet()\n            oversampledL[i] = wavefold(oversampledL[i] * amount) * gain\n            oversampledR[i] = wavefold(oversampledR[i] * amount) * gain\n        }\n        this.#resampler.downsample(this.#buffer, this.#output.channels() as StereoMatrix.Channels, fromIndex, toIndex)\n\n        this.#peaks.process(\n            this.#output.getChannel(0), this.#output.getChannel(1), fromIndex, toIndex)\n        this.#processed = true\n    }\n\n    parameterChanged(parameter: AutomatableParameter): void {\n        if (parameter === this.parameterDrive) {\n            this.#smoothInputGain.set(dbToGain(this.parameterDrive.getValue()), this.#processed)\n        } else if (parameter === this.parameterVolume) {\n            this.#smoothOutputGain.set(dbToGain(this.parameterVolume.getValue()), this.#processed)\n        }\n    }\n\n    toString(): string {return `{${this.constructor.name} (${this.#id})`}\n}", "import {Arrays, asInstanceOf, byte, int, Option, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {AudioBuffer, Event, PPQN} from \"@naomiarotest/lib-dsp\"\nimport {MIDIOutputDeviceBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {AudioProcessor} from \"../../AudioProcessor\"\nimport {Block, Processor} from \"../../processing\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {NoteEventSource, NoteEventTarget, NoteLifecycleEvent} from \"../../NoteEventSource\"\nimport {DeviceProcessor} from \"../../DeviceProcessor\"\nimport {InstrumentDeviceProcessor} from \"../../InstrumentDeviceProcessor\"\nimport {MidiData} from \"@naomiarotest/lib-midi\"\nimport {MIDIOutputBox, MIDIOutputParameterBox} from \"@naomiarotest/studio-boxes\"\n\nexport class MIDIOutputDeviceProcessor extends AudioProcessor implements InstrumentDeviceProcessor, NoteEventTarget {\n    readonly #adapter: MIDIOutputDeviceBoxAdapter\n\n    readonly #audioOutput: AudioBuffer\n\n    readonly #activeNotes: Array<byte> = []\n\n    readonly #parameters: Array<AutomatableParameter<number>>\n\n    #lastChannel: byte\n\n    #source: Option<NoteEventSource> = Option.None\n\n    constructor(context: EngineContext, adapter: MIDIOutputDeviceBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n        this.#audioOutput = new AudioBuffer()\n        this.#parameters = []\n\n        const {midiDevice, box, parameters} = adapter\n\n        this.#lastChannel = box.channel.getValue()\n\n        this.ownAll(\n            box.parameters.pointerHub.catchupAndSubscribe({\n                onAdded: (({box}) =>\n                    this.#parameters.push(this.bindParameter(\n                        parameters.parameterAt(asInstanceOf(box, MIDIOutputParameterBox).value.address)))),\n                onRemoved: (({box}) =>\n                    Arrays.removeIf(this.#parameters, parameter =>\n                        parameter.address === asInstanceOf(box, MIDIOutputParameterBox).value.address))\n            }),\n            box.channel.subscribe(owner => {\n                midiDevice.ifSome(outputBox => this.#activeNotes.forEach(pitch =>\n                    context.sendMIDIData(outputBox.id.getValue(),\n                        MidiData.noteOff(this.#lastChannel, pitch), outputBox.delayInMs.getValue())))\n                this.#activeNotes.length = 0\n                this.#lastChannel = owner.getValue()\n            }),\n            context.registerProcessor(this)\n        )\n        this.readAllParameters()\n    }\n\n    get noteEventTarget(): Option<NoteEventTarget & DeviceProcessor> {return Option.wrap(this)}\n\n    introduceBlock({p0, p1, s0, flags, bpm}: Block): void {\n        if (this.#source.isEmpty()) {return}\n        const {box: {channel, device}} = this.#adapter\n        const optDevice = device.targetVertex.match({\n            none: () => Option.None,\n            some: ({box}) => Option.wrap(asInstanceOf(box, MIDIOutputBox))\n        })\n        const delayInMs = optDevice.mapOr(box => box.delayInMs.getValue(), 0)\n        for (const event of this.#source.unwrap().processNotes(p0, p1, flags)) {\n            if (event.pitch >= 0 && event.pitch <= 127) {\n                const blockOffsetInSeconds = s0 / sampleRate\n                const eventOffsetInSeconds = PPQN.pulsesToSeconds(event.position - p0, bpm)\n                const relativeTimeInMs = (blockOffsetInSeconds + eventOffsetInSeconds) * 1000.0 + delayInMs\n                const channelIndex = channel.getValue()\n                if (NoteLifecycleEvent.isStart(event)) {\n                    const velocityAsByte = Math.round(event.velocity * 127)\n                    this.#activeNotes.push(event.pitch)\n                    optDevice.ifSome(device => this.context.sendMIDIData(device.id.getValue(),\n                        MidiData.noteOn(channelIndex, event.pitch, velocityAsByte), relativeTimeInMs))\n                } else if (NoteLifecycleEvent.isStop(event)) {\n                    const deleteIndex = this.#activeNotes.indexOf(event.pitch)\n                    if (deleteIndex > -1) {this.#activeNotes.splice(deleteIndex, 1)}\n                    optDevice.ifSome(optDevice => this.context.sendMIDIData(optDevice.id.getValue(),\n                        MidiData.noteOff(channelIndex, event.pitch), relativeTimeInMs))\n                }\n            }\n        }\n    }\n\n    setNoteEventSource(source: NoteEventSource): Terminable {\n        this.#source = Option.wrap(source)\n        return Terminable.create(() => this.#source = Option.None)\n    }\n\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n\n    reset(): void {}\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n    get audioOutput(): AudioBuffer {return this.#audioOutput}\n    get adapter(): MIDIOutputDeviceBoxAdapter {return this.#adapter}\n\n    handleEvent(_event: Event): void {}\n    processAudio(_block: Block, _fromIndex: int, _toIndex: int): void {}\n\n    parameterChanged(parameter: AutomatableParameter, relativeBlockTime: number = 0.0): void {\n        const {box: {channel, device}} = this.#adapter\n        if (device.isEmpty()) {return}\n        const {id, delayInMs} = asInstanceOf(device.targetVertex.unwrap().box, MIDIOutputBox)\n        const relativeTimeInMs = relativeBlockTime * 1000.0 * delayInMs.getValue()\n        const controllerId = asInstanceOf(parameter.adapter.field.box, MIDIOutputParameterBox).controller.getValue()\n        const velocityAsByte = Math.round(parameter.getValue() * 127)\n        const data = MidiData.control(channel.getValue(), controllerId, velocityAsByte)\n        this.context.sendMIDIData(id.getValue(), data, relativeTimeInMs)\n    }\n\n    finishProcess(): void {}\n\n    toString(): string {return `{MIDIOutputDeviceProcessor}`}\n}", "import {assert, int, Objects, Option, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {NoteBroadcaster, VelocityDeviceBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {Event, NoteEvent, ppqn} from \"@naomiarotest/lib-dsp\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {EventProcessor} from \"../../EventProcessor\"\nimport {Block, Processor} from \"../../processing\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {NoteEventSource, NoteLifecycleEvent} from \"../../NoteEventSource\"\nimport {MidiEffectProcessor} from \"../../MidiEffectProcessor\"\n\nexport class VelocityDeviceProcessor extends EventProcessor implements MidiEffectProcessor {\n    readonly #adapter: VelocityDeviceBoxAdapter\n\n    readonly #noteBroadcaster: NoteBroadcaster\n    readonly #velocities: Int32Array<ArrayBuffer>\n\n    #source: Option<NoteEventSource> = Option.None\n    #velocityIndex: int\n\n    constructor(context: EngineContext, adapter: VelocityDeviceBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n\n        this.#noteBroadcaster = this.own(new NoteBroadcaster(context.broadcaster, adapter.address))\n        this.#velocities = new Int32Array(1024)\n        this.#velocityIndex = 0 | 0\n\n        const {magnetPosition, magnetStrength, randomSeed, randomAmount, offset, mix} = adapter.namedParameter\n        this.ownAll(\n            this.bindParameter(magnetPosition),\n            this.bindParameter(magnetStrength),\n            this.bindParameter(randomSeed),\n            this.bindParameter(randomAmount),\n            this.bindParameter(offset),\n            this.bindParameter(mix),\n            context.broadcaster.broadcastIntegers(adapter.address.append(0), this.#velocities, () => {\n                this.#velocities[this.#velocityIndex] = 0\n                this.#velocityIndex = 0\n            }),\n            context.registerProcessor(this)\n        )\n        this.readAllParameters()\n    }\n\n    setNoteEventSource(source: NoteEventSource): Terminable {\n        assert(this.#source.isEmpty(), \"NoteEventSource already set\")\n        this.#source = Option.wrap(source)\n        return Terminable.create(() => this.#source = Option.None)\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n\n    * processNotes(from: ppqn, to: ppqn, flags: int): Generator<NoteLifecycleEvent> {\n        if (this.#source.isEmpty()) {return}\n        for (const event of this.#source.unwrap().processNotes(from, to, flags)) {\n            if (NoteLifecycleEvent.isStart(event)) {\n                this.#noteBroadcaster.noteOn(event.pitch)\n                const velocity = this.#adapter.computeVelocity(event.position, event.velocity)\n                this.#velocities[this.#velocityIndex++] =\n                    Math.round(event.velocity * 127) | (Math.round(velocity * 127) << 8) | (1 << 16) // last byte keep reading\n                yield Objects.overwrite(event, {velocity})\n            } else {\n                this.#noteBroadcaster.noteOff(event.pitch)\n                yield event\n            }\n        }\n    }\n\n    * iterateActiveNotesAt(position: ppqn, onlyExternal: boolean): Generator<NoteEvent> {\n        if (this.#source.isEmpty()) {return}\n        for (const event of this.#source.unwrap().iterateActiveNotesAt(position, onlyExternal)) {\n            if (event.type === \"note-event\") {\n                yield Objects.overwrite(event, {\n                    velocity: this.#adapter.computeVelocity(event.position, event.velocity)\n                })\n            }\n        }\n    }\n\n    reset(): void {this.eventInput.clear()}\n\n    processEvents(_block: Block, _from: ppqn, _to: ppqn): void {}\n\n    parameterChanged(_parameter: AutomatableParameter): void {}\n\n    handleEvent(_block: Block, _event: Event): void {}\n\n    index(): number {return this.#adapter.indexField.getValue()}\n    adapter(): VelocityDeviceBoxAdapter {return this.#adapter}\n}", "import {Bits, int, Option, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {TidalDeviceBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {Block, BlockFlag, Processor} from \"../../processing\"\nimport {PeakBroadcaster} from \"../../PeakBroadcaster\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {AudioEffectDeviceProcessor} from \"../../AudioEffectDeviceProcessor\"\nimport {AudioBuffer, Fraction, PPQN, Smooth, TidalComputer} from \"@naomiarotest/lib-dsp\"\nimport {AudioProcessor} from \"../../AudioProcessor\"\n\nexport class TidalDeviceProcessor extends AudioProcessor implements AudioEffectDeviceProcessor {\n    static ID: int = 0 | 0\n\n    readonly #id: int = TidalDeviceProcessor.ID++\n\n    readonly #adapter: TidalDeviceBoxAdapter\n    readonly #output: AudioBuffer\n    readonly #peaks: PeakBroadcaster\n    readonly #computer: TidalComputer\n    readonly #smoothGainL: Smooth\n    readonly #smoothGainR: Smooth\n\n    readonly #pRate: AutomatableParameter<number>\n    readonly #pDepth: AutomatableParameter<number>\n    readonly #pSlope: AutomatableParameter<number>\n    readonly #pSymmetry: AutomatableParameter<number>\n    readonly #pOffset: AutomatableParameter<number>\n    readonly #pChannelOffset: AutomatableParameter<number>\n\n    #source: Option<AudioBuffer> = Option.None\n    #needsUpdate: boolean = true\n    #phase: number = 0.0\n\n    constructor(context: EngineContext, adapter: TidalDeviceBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n        this.#output = new AudioBuffer()\n        this.#peaks = this.own(new PeakBroadcaster(context.broadcaster, adapter.address))\n        this.#computer = new TidalComputer()\n        this.#smoothGainL = new Smooth(0.003, sampleRate)\n        this.#smoothGainR = new Smooth(0.003, sampleRate)\n\n        const {rate, depth, slope, symmetry, offset, channelOffset} = adapter.namedParameter\n\n        this.#pRate = this.bindParameter(rate)\n        this.#pDepth = this.bindParameter(depth)\n        this.#pSlope = this.bindParameter(slope)\n        this.#pSymmetry = this.bindParameter(symmetry)\n        this.#pOffset = this.bindParameter(offset)\n        this.#pChannelOffset = this.bindParameter(channelOffset)\n\n        this.ownAll(\n            context.broadcaster.broadcastFloat(adapter.address.append(0), () => this.#phase),\n            context.registerProcessor(this)\n        )\n        this.readAllParameters()\n    }\n\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n\n    reset(): void {\n        this.#phase = 0.0\n        this.#needsUpdate = true\n        this.#peaks.clear()\n        this.#output.clear()\n        this.eventInput.clear()\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n\n    get audioOutput(): AudioBuffer {return this.#output}\n\n    setAudioSource(source: AudioBuffer): Terminable {\n        this.#source = Option.wrap(source)\n        return {terminate: () => this.#source = Option.None}\n    }\n\n    index(): int {return this.#adapter.indexField.getValue()}\n    adapter(): TidalDeviceBoxAdapter {return this.#adapter}\n\n    processAudio({p0, bpm, flags}: Block, fromIndex: int, toIndex: int): void {\n        if (this.#source.isEmpty()) {return}\n        const input = this.#source.unwrap()\n        const [inpL, inpR] = input.channels()\n        const [outL, outR] = this.#output.channels()\n        if (this.#needsUpdate) {\n            this.#computer.set(this.#pDepth.getValue(), this.#pSlope.getValue(), this.#pSymmetry.getValue())\n            this.#needsUpdate = false\n        }\n        const {RateFractions} = TidalDeviceBoxAdapter\n        const delta = PPQN.samplesToPulses(1, bpm, sampleRate)\n        const ratePulses = Fraction.toPPQN(RateFractions[this.#pRate.getValue()])\n        const rateInvPulses = 1.0 / ratePulses\n        const offset0 = this.#pOffset.getValue() / 360.0\n        const offset1 = offset0 + this.#pChannelOffset.getValue() / 360.0\n        for (let i = fromIndex; i < toIndex; i++) {\n            const phaseL = (p0 + i * delta) * rateInvPulses + offset0\n            const phaseR = (p0 + i * delta) * rateInvPulses + offset1\n            outL[i] = inpL[i] * this.#smoothGainL.process(this.#computer.compute(phaseL - Math.floor(phaseL)))\n            outR[i] = inpR[i] * this.#smoothGainR.process(this.#computer.compute(phaseR - Math.floor(phaseR)))\n        }\n        this.#peaks.process(outL, outR)\n        if (Bits.every(flags, BlockFlag.transporting | BlockFlag.playing)) {\n            this.#phase = (p0 + (toIndex - fromIndex) * delta) * rateInvPulses\n        }\n    }\n\n    parameterChanged(parameter: AutomatableParameter): void {\n        if (parameter === this.#pDepth || parameter === this.#pSlope || parameter === this.#pSymmetry) {\n            this.#needsUpdate = true\n        }\n    }\n\n    toString(): string {return `{${this.constructor.name} (${this.#id})`}\n}", "import {float, int} from \"@naomiarotest/lib-std\"\nimport {StereoMatrix} from \"@naomiarotest/lib-dsp\"\n\n// https://github.com/khoin/DattorroReverbNode\n// https://ccrma.stanford.edu/~dattorro/EffectDesignPart1.pdf\n\nexport class DattorroReverbDsp {\n    readonly #sampleRate: float\n    readonly #delays: Array<[Float32Array, int, int, int]> = []\n    readonly #preDelayBuffer: Float32Array\n    readonly #taps: Int16Array\n    readonly #preDelayLength: int\n\n    #preDelayWrite = 0 | 0\n    #lp1 = 0.0\n    #lp2 = 0.0\n    #lp3 = 0.0\n    #excPhase = 0.0\n    #preDelay = 0\n    #bandwidth = 0.9999\n    #inputDiffusion1 = 0.75\n    #inputDiffusion2 = 0.625\n    #decay = 0.5\n    #decayDiffusion1 = 0.7\n    #decayDiffusion2 = 0.5\n    #damping = 0.005\n    #excursionRate = 0.5\n    #excursionDepth = 0.7\n    #wet = 0.3\n    #dry = 0.6\n\n    constructor(sampleRate: float) {\n        this.#sampleRate = sampleRate\n        this.#preDelayLength = sampleRate + 1 // one-second max\n        this.#preDelayBuffer = new Float32Array(this.#preDelayLength)\n        const delayTimes = [\n            0.004771345, 0.003595309, 0.012734787, 0.009307483,\n            0.022579886, 0.149625349, 0.060481839, 0.1249958,\n            0.030509727, 0.141695508, 0.089244313, 0.106280031\n        ]\n        delayTimes.forEach(x => this.#makeDelay(x))\n        const tapTimes = [\n            0.008937872, 0.099929438, 0.064278754, 0.067067639, 0.066866033, 0.006283391, 0.035818689,\n            0.011861161, 0.121870905, 0.041262054, 0.08981553, 0.070931756, 0.011256342, 0.004065724\n        ]\n        this.#taps = Int16Array.from(tapTimes, x => Math.round(x * sampleRate))\n    }\n    #makeDelay(length: float): void {\n        const len = Math.round(length * this.#sampleRate)\n        const nextPow2 = 2 ** Math.ceil(Math.log2(len))\n        this.#delays.push([new Float32Array(nextPow2), len - 1, 0, nextPow2 - 1])\n    }\n    #writeDelay(index: int, data: float): float {\n        return this.#delays[index][0][this.#delays[index][1]] = data\n    }\n    #readDelay(index: int): float {\n        return this.#delays[index][0][this.#delays[index][2]]\n    }\n    #readDelayAt(index: int, offset: int): float {\n        const d = this.#delays[index]\n        return d[0][(d[2] + offset) & d[3]]\n    }\n    #readDelayCAt(index: int, offset: float): float {\n        const d = this.#delays[index]\n        const frac = offset - ~~offset\n        let int = ~~offset + d[2] - 1\n        const mask = d[3]\n        const x0 = d[0][int++ & mask]\n        const x1 = d[0][int++ & mask]\n        const x2 = d[0][int++ & mask]\n        const x3 = d[0][int & mask]\n        const a = (3.0 * (x1 - x2) - x0 + x3) * 0.5\n        const b = 2.0 * x2 + x0 - (5 * x1 + x3) * 0.5\n        const c = (x2 - x0) * 0.5\n        return (((a * frac) + b) * frac + c) * frac + x1\n    }\n    set preDelayMs(ms: float) {this.#preDelay = Math.floor((ms / 1000) * this.#sampleRate)}\n    set bandwidth(value: float) { this.#bandwidth = value * 0.9999 }\n    set inputDiffusion1(value: float) { this.#inputDiffusion1 = value }\n    set inputDiffusion2(value: float) { this.#inputDiffusion2 = value }\n    set decay(value: float) { this.#decay = value }\n    set decayDiffusion1(value: float) { this.#decayDiffusion1 = value * 0.999999 }\n    set decayDiffusion2(value: float) { this.#decayDiffusion2 = value * 0.999999 }\n    set damping(value: float) { this.#damping = value }\n    set excursionRate(value: float) { this.#excursionRate = value * 2.0 }\n    set excursionDepth(value: float) { this.#excursionDepth = value * 2.0 }\n    set wetGain(value: float) { this.#wet = value }\n    set dryGain(value: float) { this.#dry = value }\n\n    reset(): void {\n        this.#preDelayBuffer.fill(0)\n        this.#delays.forEach(d => d[0].fill(0))\n        this.#preDelayWrite = 0\n        this.#lp1 = 0.0\n        this.#lp2 = 0.0\n        this.#lp3 = 0.0\n        this.#excPhase = 0.0\n    }\n\n    process(input: StereoMatrix.Channels, output: StereoMatrix.Channels, fromIndex: int, toIndex: int): void {\n        const pd = this.#preDelay\n        const bw = this.#bandwidth\n        const fi = this.#inputDiffusion1\n        const si = this.#inputDiffusion2\n        const dc = this.#decay\n        const ft = this.#decayDiffusion1\n        const st = this.#decayDiffusion2\n        const dp = 1.0 - this.#damping\n        const ex = this.#excursionRate / this.#sampleRate\n        const ed = this.#excursionDepth * this.#sampleRate / 1000.0\n        const we = this.#wet * 0.6\n        const dr = this.#dry\n        const inpChL = input[0]\n        const inpChR = input[1]\n        const outChL = output[0]\n        const outChR = output[1]\n        for (let i = fromIndex; i < toIndex; i++) {\n            const inpL = inpChL[i]\n            const inpR = inpChR[i]\n            this.#preDelayBuffer[this.#preDelayWrite] = (inpL + inpR) * 0.5\n            outChL[i] = inpL * dr\n            outChR[i] = inpR * dr\n            const delayedInput = this.#preDelayBuffer[(this.#preDelayLength + this.#preDelayWrite - pd) % this.#preDelayLength]\n            this.#lp1 += bw * (delayedInput - this.#lp1)\n            let pre = this.#writeDelay(0, this.#lp1 - fi * this.#readDelay(0))\n            pre = this.#writeDelay(1, fi * (pre - this.#readDelay(1)) + this.#readDelay(0))\n            pre = this.#writeDelay(2, fi * pre + this.#readDelay(1) - si * this.#readDelay(2))\n            pre = this.#writeDelay(3, si * (pre - this.#readDelay(3)) + this.#readDelay(2))\n            const split = si * pre + this.#readDelay(3)\n            const exc = ed * (1 + Math.cos(this.#excPhase * 6.28))\n            const exc2 = ed * (1 + Math.sin(this.#excPhase * 6.2847))\n            let temp = this.#writeDelay(4, split + dc * this.#readDelay(11) + ft * this.#readDelayCAt(4, exc))\n            this.#writeDelay(5, this.#readDelayCAt(4, exc) - ft * temp)\n            this.#lp2 += dp * (this.#readDelay(5) - this.#lp2)\n            temp = this.#writeDelay(6, dc * this.#lp2 - st * this.#readDelay(6))\n            this.#writeDelay(7, this.#readDelay(6) + st * temp)\n            temp = this.#writeDelay(8, split + dc * this.#readDelay(7) + ft * this.#readDelayCAt(8, exc2))\n            this.#writeDelay(9, this.#readDelayCAt(8, exc2) - ft * temp)\n            this.#lp3 += dp * (this.#readDelay(9) - this.#lp3)\n            temp = this.#writeDelay(10, dc * this.#lp3 - st * this.#readDelay(10))\n            this.#writeDelay(11, this.#readDelay(10) + st * temp)\n            const lo = this.#readDelayAt(9, this.#taps[0]) + this.#readDelayAt(9, this.#taps[1]) -\n                this.#readDelayAt(10, this.#taps[2]) + this.#readDelayAt(11, this.#taps[3]) -\n                this.#readDelayAt(5, this.#taps[4]) - this.#readDelayAt(6, this.#taps[5]) -\n                this.#readDelayAt(7, this.#taps[6])\n            const ro = this.#readDelayAt(5, this.#taps[7]) + this.#readDelayAt(5, this.#taps[8]) -\n                this.#readDelayAt(6, this.#taps[9]) + this.#readDelayAt(7, this.#taps[10]) -\n                this.#readDelayAt(9, this.#taps[11]) - this.#readDelayAt(10, this.#taps[12]) -\n                this.#readDelayAt(11, this.#taps[13])\n            outChL[i] += lo * we\n            outChR[i] += ro * we\n            this.#excPhase += ex\n            this.#preDelayWrite = (this.#preDelayWrite + 1) % this.#preDelayLength\n            for (let i1 = 0; i1 < this.#delays.length; i1++) {\n                const d = this.#delays[i1]\n                d[1] = (d[1] + 1) & d[3]\n                d[2] = (d[2] + 1) & d[3]\n            }\n        }\n    }\n}", "import {AudioEffectDeviceAdapter, DattorroReverbDeviceBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {int, Option, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {AudioBuffer, dbToGain, Event, StereoMatrix} from \"@naomiarotest/lib-dsp\"\nimport {EngineContext} from \"../../EngineContext\"\nimport {Block, Processor} from \"../../processing\"\nimport {PeakBroadcaster} from \"../../PeakBroadcaster\"\nimport {AudioProcessor} from \"../../AudioProcessor\"\nimport {AutomatableParameter} from \"../../AutomatableParameter\"\nimport {AudioEffectDeviceProcessor} from \"../../AudioEffectDeviceProcessor\"\nimport {DattorroReverbDsp} from \"./DattorroReverbDsp\"\n\nexport class DattorroReverbDeviceProcessor extends AudioProcessor implements AudioEffectDeviceProcessor {\n    static ID: int = 0 | 0\n\n    readonly #id: int = DattorroReverbDeviceProcessor.ID++\n\n    readonly #adapter: DattorroReverbDeviceBoxAdapter\n\n    readonly parameterPreDelay: AutomatableParameter<number>\n    readonly parameterBandwidth: AutomatableParameter<number>\n    readonly parameterInputDiffusion1: AutomatableParameter<number>\n    readonly parameterInputDiffusion2: AutomatableParameter<number>\n    readonly parameterDecay: AutomatableParameter<number>\n    readonly parameterDecayDiffusion1: AutomatableParameter<number>\n    readonly parameterDecayDiffusion2: AutomatableParameter<number>\n    readonly parameterDamping: AutomatableParameter<number>\n    readonly parameterExcursionRate: AutomatableParameter<number>\n    readonly parameterExcursionDepth: AutomatableParameter<number>\n    readonly parameterWet: AutomatableParameter<number>\n    readonly parameterDry: AutomatableParameter<number>\n\n    readonly #dsp: DattorroReverbDsp\n\n    readonly #output: AudioBuffer\n    readonly #peaks: PeakBroadcaster\n\n    #source: Option<AudioBuffer> = Option.None\n\n    constructor(context: EngineContext, adapter: DattorroReverbDeviceBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n        this.#output = new AudioBuffer()\n        this.#peaks = this.own(new PeakBroadcaster(context.broadcaster, adapter.address))\n        this.#dsp = new DattorroReverbDsp(sampleRate)\n\n        const {\n            preDelay, bandwidth, inputDiffusion1, inputDiffusion2, decay,\n            decayDiffusion1, decayDiffusion2, damping, excursionRate, excursionDepth,\n            wet, dry\n        } = adapter.namedParameter\n        this.parameterPreDelay = this.own(this.bindParameter(preDelay))\n        this.parameterBandwidth = this.own(this.bindParameter(bandwidth))\n        this.parameterInputDiffusion1 = this.own(this.bindParameter(inputDiffusion1))\n        this.parameterInputDiffusion2 = this.own(this.bindParameter(inputDiffusion2))\n        this.parameterDecay = this.own(this.bindParameter(decay))\n        this.parameterDecayDiffusion1 = this.own(this.bindParameter(decayDiffusion1))\n        this.parameterDecayDiffusion2 = this.own(this.bindParameter(decayDiffusion2))\n        this.parameterDamping = this.own(this.bindParameter(damping))\n        this.parameterExcursionRate = this.own(this.bindParameter(excursionRate))\n        this.parameterExcursionDepth = this.own(this.bindParameter(excursionDepth))\n        this.parameterWet = this.own(this.bindParameter(wet))\n        this.parameterDry = this.own(this.bindParameter(dry))\n\n        this.own(context.registerProcessor(this))\n        this.readAllParameters()\n    }\n\n    get incoming(): Processor {return this}\n    get outgoing(): Processor {return this}\n\n    reset(): void {\n        this.#dsp.reset()\n        this.#output.clear()\n        this.#peaks.clear()\n        this.eventInput.clear()\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n    get audioOutput(): AudioBuffer {return this.#output}\n\n    setAudioSource(source: AudioBuffer): Terminable {\n        this.#source = Option.wrap(source)\n        return {terminate: () => this.#source = Option.None}\n    }\n\n    index(): int {return this.#adapter.indexField.getValue()}\n    adapter(): AudioEffectDeviceAdapter {return this.#adapter}\n\n    handleEvent(_event: Event): void {}\n\n    processAudio(_block: Block, from: number, to: number): void {\n        if (this.#source.isEmpty()) {return}\n        const source = this.#source.unwrap()\n        this.#dsp.process(source.channels() as StereoMatrix.Channels, this.#output.channels() as StereoMatrix.Channels, from, to)\n        this.#peaks.process(this.#output.getChannel(0), this.#output.getChannel(1), from, to)\n    }\n\n    parameterChanged(parameter: AutomatableParameter): void {\n        if (parameter === this.parameterPreDelay) {\n            this.#dsp.preDelayMs = this.parameterPreDelay.getValue()\n        } else if (parameter === this.parameterBandwidth) {\n            this.#dsp.bandwidth = this.parameterBandwidth.getValue()\n        } else if (parameter === this.parameterInputDiffusion1) {\n            this.#dsp.inputDiffusion1 = this.parameterInputDiffusion1.getValue()\n        } else if (parameter === this.parameterInputDiffusion2) {\n            this.#dsp.inputDiffusion2 = this.parameterInputDiffusion2.getValue()\n        } else if (parameter === this.parameterDecay) {\n            this.#dsp.decay = this.parameterDecay.getValue()\n        } else if (parameter === this.parameterDecayDiffusion1) {\n            this.#dsp.decayDiffusion1 = this.parameterDecayDiffusion1.getValue()\n        } else if (parameter === this.parameterDecayDiffusion2) {\n            this.#dsp.decayDiffusion2 = this.parameterDecayDiffusion2.getValue()\n        } else if (parameter === this.parameterDamping) {\n            this.#dsp.damping = this.parameterDamping.getValue()\n        } else if (parameter === this.parameterExcursionRate) {\n            this.#dsp.excursionRate = this.parameterExcursionRate.getValue()\n        } else if (parameter === this.parameterExcursionDepth) {\n            this.#dsp.excursionDepth = this.parameterExcursionDepth.getValue()\n        } else if (parameter === this.parameterWet) {\n            this.#dsp.wetGain = dbToGain(this.parameterWet.getValue())\n        } else if (parameter === this.parameterDry) {\n            this.#dsp.dryGain = dbToGain(this.parameterDry.getValue())\n        }\n    }\n\n    toString(): string {return `{${this.constructor.name} (${this.#id})}`}\n}", "import {\n    ArpeggioDeviceBox,\n    AudioBusBox,\n    BoxVisitor,\n    CompressorDeviceBox,\n    CrusherDeviceBox,\n    DattorroReverbDeviceBox,\n    DelayDeviceBox,\n    FoldDeviceBox,\n    MIDIOutputDeviceBox,\n    ModularDeviceBox,\n    NanoDeviceBox,\n    PitchDeviceBox,\n    PlayfieldDeviceBox,\n    RevampDeviceBox,\n    ReverbDeviceBox,\n    SoundfontDeviceBox,\n    StereoToolDeviceBox,\n    TapeDeviceBox,\n    TidalDeviceBox,\n    UnknownAudioEffectDeviceBox,\n    UnknownMidiEffectDeviceBox,\n    VaporisateurDeviceBox,\n    VelocityDeviceBox,\n    ZeitgeistDeviceBox\n} from \"@naomiarotest/studio-boxes\"\nimport {DelayDeviceProcessor} from \"./devices/audio-effects/DelayDeviceProcessor\"\nimport {\n    ArpeggioDeviceBoxAdapter,\n    AudioBusBoxAdapter,\n    CompressorDeviceBoxAdapter,\n    CrusherDeviceBoxAdapter,\n    DattorroReverbDeviceBoxAdapter,\n    DelayDeviceBoxAdapter,\n    FoldDeviceBoxAdapter,\n    MIDIOutputDeviceBoxAdapter,\n    ModularDeviceBoxAdapter,\n    NanoDeviceBoxAdapter,\n    PitchDeviceBoxAdapter,\n    PlayfieldDeviceBoxAdapter,\n    RevampDeviceBoxAdapter,\n    ReverbDeviceBoxAdapter,\n    SoundfontDeviceBoxAdapter,\n    StereoToolDeviceBoxAdapter,\n    TapeDeviceBoxAdapter,\n    TidalDeviceBoxAdapter,\n    UnknownAudioEffectDeviceBoxAdapter,\n    UnknownMidiEffectDeviceBoxAdapter,\n    VaporisateurDeviceBoxAdapter,\n    VelocityDeviceBoxAdapter,\n    ZeitgeistDeviceBoxAdapter\n} from \"@naomiarotest/studio-adapters\"\nimport {NopDeviceProcessor} from \"./devices/audio-effects/NopDeviceProcessor\"\nimport {asDefined, Maybe} from \"@naomiarotest/lib-std\"\nimport {EngineContext} from \"./EngineContext\"\nimport {Box} from \"@naomiarotest/lib-box\"\nimport {AudioBusProcessor} from \"./AudioBusProcessor\"\nimport {VaporisateurDeviceProcessor} from \"./devices/instruments/VaporisateurDeviceProcessor\"\nimport {TapeDeviceProcessor} from \"./devices/instruments/TapeDeviceProcessor\"\nimport {ArpeggioDeviceProcessor} from \"./devices/midi-effects/ArpeggioDeviceProcessor\"\nimport {PitchDeviceProcessor} from \"./devices/midi-effects/PitchDeviceProcessor\"\nimport {RevampDeviceProcessor} from \"./devices/audio-effects/RevampDeviceProcessor\"\nimport {ReverbDeviceProcessor} from \"./devices/audio-effects/ReverbDeviceProcessor\"\nimport {NanoDeviceProcessor} from \"./devices/instruments/NanoDeviceProcessor\"\nimport {PlayfieldDeviceProcessor} from \"./devices/instruments/PlayfieldDeviceProcessor\"\nimport {StereoToolDeviceProcessor} from \"./devices/audio-effects/StereoToolDeviceProcessor\"\nimport {ZeitgeistDeviceProcessor} from \"./devices/midi-effects/ZeitgeistDeviceProcessor\"\nimport {MidiEffectProcessor} from \"./MidiEffectProcessor\"\nimport {InstrumentDeviceProcessor} from \"./InstrumentDeviceProcessor\"\nimport {AudioEffectDeviceProcessor} from \"./AudioEffectDeviceProcessor\"\nimport {UnknownMidiEffectDeviceProcessor} from \"./devices/midi-effects/UnknownMidiEffectDeviceProcessor\"\nimport {SoundfontDeviceProcessor} from \"./devices/instruments/SoundfontDeviceProcessor\"\nimport {CompressorDeviceProcessor} from \"./devices/audio-effects/CompressorDeviceProcessor\"\nimport {CrusherDeviceProcessor} from \"./devices/audio-effects/CrusherDeviceProcessor\"\nimport {FoldDeviceProcessor} from \"./devices/audio-effects/FoldDeviceProcessor\"\nimport {MIDIOutputDeviceProcessor} from \"./devices/instruments/MIDIOutputDeviceProcessor\"\nimport {VelocityDeviceProcessor} from \"./devices/midi-effects/VelocityDeviceProcessor\"\nimport {TidalDeviceProcessor} from \"./devices/audio-effects/TidalDeviceProcessor\"\nimport {DattorroReverbDeviceProcessor} from \"./devices/audio-effects/DattorroReverbDeviceProcessor\"\n\nexport namespace InstrumentDeviceProcessorFactory {\n    export const create = (context: EngineContext,\n                           box: Box): Maybe<InstrumentDeviceProcessor | AudioBusProcessor> =>\n        box.accept<BoxVisitor<InstrumentDeviceProcessor | AudioBusProcessor>>({\n            visitAudioBusBox: (box: AudioBusBox) =>\n                new AudioBusProcessor(context, context.boxAdapters.adapterFor(box, AudioBusBoxAdapter)),\n            visitVaporisateurDeviceBox: (box: VaporisateurDeviceBox) =>\n                new VaporisateurDeviceProcessor(context, context.boxAdapters.adapterFor(box, VaporisateurDeviceBoxAdapter)),\n            visitNanoDeviceBox: (box: NanoDeviceBox) =>\n                new NanoDeviceProcessor(context, context.boxAdapters.adapterFor(box, NanoDeviceBoxAdapter)),\n            visitTapeDeviceBox: (box: TapeDeviceBox) =>\n                new TapeDeviceProcessor(context, context.boxAdapters.adapterFor(box, TapeDeviceBoxAdapter)),\n            visitPlayfieldDeviceBox: (box: PlayfieldDeviceBox) =>\n                new PlayfieldDeviceProcessor(context, context.boxAdapters.adapterFor(box, PlayfieldDeviceBoxAdapter)),\n            visitSoundfontDeviceBox: (box: SoundfontDeviceBox) =>\n                new SoundfontDeviceProcessor(context, context.boxAdapters.adapterFor(box, SoundfontDeviceBoxAdapter)),\n            visitMIDIOutputDeviceBox: (box: MIDIOutputDeviceBox) =>\n                new MIDIOutputDeviceProcessor(context, context.boxAdapters.adapterFor(box, MIDIOutputDeviceBoxAdapter))\n        })\n}\n\nexport namespace MidiEffectDeviceProcessorFactory {\n    export const create = (context: EngineContext,\n                           box: Box): MidiEffectProcessor =>\n        asDefined(box.accept<BoxVisitor<MidiEffectProcessor>>({\n            visitUnknownMidiEffectDeviceBox: (box: UnknownMidiEffectDeviceBox): MidiEffectProcessor =>\n                new UnknownMidiEffectDeviceProcessor(context, context.boxAdapters.adapterFor(box, UnknownMidiEffectDeviceBoxAdapter)),\n            visitArpeggioDeviceBox: (box: ArpeggioDeviceBox): MidiEffectProcessor =>\n                new ArpeggioDeviceProcessor(context, context.boxAdapters.adapterFor(box, ArpeggioDeviceBoxAdapter)),\n            visitPitchDeviceBox: (box: PitchDeviceBox): MidiEffectProcessor =>\n                new PitchDeviceProcessor(context, context.boxAdapters.adapterFor(box, PitchDeviceBoxAdapter)),\n            visitVelocityDeviceBox: (box: VelocityDeviceBox): MidiEffectProcessor =>\n                new VelocityDeviceProcessor(context, context.boxAdapters.adapterFor(box, VelocityDeviceBoxAdapter)),\n            visitZeitgeistDeviceBox: (box: ZeitgeistDeviceBox): MidiEffectProcessor =>\n                new ZeitgeistDeviceProcessor(context, context.boxAdapters.adapterFor(box, ZeitgeistDeviceBoxAdapter))\n        }), `Could not create midi-effect for'${box.name}'`)\n}\n\nexport namespace AudioEffectDeviceProcessorFactory {\n    export const create = (context: EngineContext,\n                           box: Box): AudioEffectDeviceProcessor =>\n        asDefined(box.accept<BoxVisitor<AudioEffectDeviceProcessor>>({\n            visitUnknownAudioEffectDeviceBox: (box: UnknownAudioEffectDeviceBox): AudioEffectDeviceProcessor =>\n                new NopDeviceProcessor(context, context.boxAdapters.adapterFor(box, UnknownAudioEffectDeviceBoxAdapter)),\n            visitStereoToolDeviceBox: (box: StereoToolDeviceBox): AudioEffectDeviceProcessor =>\n                new StereoToolDeviceProcessor(context, context.boxAdapters.adapterFor(box, StereoToolDeviceBoxAdapter)),\n            visitCompressorDeviceBox: (box: CompressorDeviceBox): AudioEffectDeviceProcessor =>\n                new CompressorDeviceProcessor(context, context.boxAdapters.adapterFor(box, CompressorDeviceBoxAdapter)),\n            visitDelayDeviceBox: (box: DelayDeviceBox): AudioEffectDeviceProcessor =>\n                new DelayDeviceProcessor(context, context.boxAdapters.adapterFor(box, DelayDeviceBoxAdapter)),\n            visitDattorroReverbDeviceBox: (box: DattorroReverbDeviceBox): AudioEffectDeviceProcessor =>\n                new DattorroReverbDeviceProcessor(context, context.boxAdapters.adapterFor(box, DattorroReverbDeviceBoxAdapter)),\n            visitTidalDeviceBox: (box: TidalDeviceBox): AudioEffectDeviceProcessor =>\n                new TidalDeviceProcessor(context, context.boxAdapters.adapterFor(box, TidalDeviceBoxAdapter)),\n            visitCrusherDeviceBox: (box: CrusherDeviceBox): AudioEffectDeviceProcessor =>\n                new CrusherDeviceProcessor(context, context.boxAdapters.adapterFor(box, CrusherDeviceBoxAdapter)),\n            visitFoldDeviceBox: (box: FoldDeviceBox): AudioEffectDeviceProcessor =>\n                new FoldDeviceProcessor(context, context.boxAdapters.adapterFor(box, FoldDeviceBoxAdapter)),\n            visitReverbDeviceBox: (box: ReverbDeviceBox): AudioEffectDeviceProcessor =>\n                new ReverbDeviceProcessor(context, context.boxAdapters.adapterFor(box, ReverbDeviceBoxAdapter)),\n            visitRevampDeviceBox: (box: RevampDeviceBox): AudioEffectDeviceProcessor =>\n                new RevampDeviceProcessor(context, context.boxAdapters.adapterFor(box, RevampDeviceBoxAdapter)),\n            visitModularDeviceBox: (box: ModularDeviceBox): AudioEffectDeviceProcessor =>\n                new NopDeviceProcessor(context, context.boxAdapters.adapterFor(box, ModularDeviceBoxAdapter))\n        }), `Could not create audio-effect for'${box.name}'`)\n}", "import {EngineContext} from \"./EngineContext\"\nimport {AudioInput, Block, Processor} from \"./processing\"\nimport {Option, Terminable} from \"@naomiarotest/lib-std\"\nimport {AuxSendBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {AudioBuffer, dbToGain, Ramp} from \"@naomiarotest/lib-dsp\"\nimport {AutomatableParameter} from \"./AutomatableParameter\"\nimport {AudioProcessor} from \"./AudioProcessor\"\n\nexport class AuxSendProcessor extends AudioProcessor implements Processor, AudioInput {\n    readonly #adapter: AuxSendBoxAdapter\n\n    readonly #audioOutput: AudioBuffer\n    readonly #rampGainL: Ramp<number>\n    readonly #rampGainR: Ramp<number>\n\n    readonly #parameterSendGain: AutomatableParameter<number>\n    readonly #parameterSendPan: AutomatableParameter<number>\n\n    #source: Option<AudioBuffer> = Option.None\n    #needsUpdate: boolean = true\n    #processing: boolean = false\n\n    constructor(context: EngineContext, adapter: AuxSendBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n\n        this.#audioOutput = new AudioBuffer()\n        this.#rampGainL = Ramp.linear(sampleRate)\n        this.#rampGainR = Ramp.linear(sampleRate)\n        this.#parameterSendGain = this.own(this.bindParameter(adapter.sendGain))\n        this.#parameterSendPan = this.own(this.bindParameter(adapter.sendPan))\n\n        this.own(context.registerProcessor(this))\n        this.readAllParameters()\n    }\n\n    reset(): void {this.#audioOutput.clear()}\n\n    get adapter(): AuxSendBoxAdapter {return this.#adapter}\n\n    setAudioSource(source: AudioBuffer): Terminable {\n        this.#source = Option.wrap(source)\n        return {terminate: () => this.#source = Option.None}\n    }\n\n    get audioOutput(): AudioBuffer {return this.#audioOutput}\n\n    processAudio(_block: Block, fromIndex: number, toIndex: number): void {\n        if (this.#source.isEmpty()) {return}\n        if (this.#needsUpdate) {\n            const gain = dbToGain(this.#parameterSendGain.getValue())\n            const panning = this.#parameterSendPan.getValue()\n            this.#rampGainL.set((1.0 - Math.max(0.0, panning)) * gain, this.#processing)\n            this.#rampGainR.set((1.0 + Math.min(0.0, panning)) * gain, this.#processing)\n            this.#needsUpdate = false\n        }\n        const outL = this.#audioOutput.getChannel(0)\n        const outR = this.#audioOutput.getChannel(1)\n        const source = this.#source.unwrap()\n        const srcL = source.getChannel(0)\n        const srcR = source.getChannel(1)\n        if (this.#rampGainL.isInterpolating() || this.#rampGainR.isInterpolating()) {\n            for (let i = fromIndex; i < toIndex; i++) {\n                outL[i] = srcL[i] * this.#rampGainL.moveAndGet()\n                outR[i] = srcR[i] * this.#rampGainR.moveAndGet()\n            }\n        } else {\n            const gainL = this.#rampGainL.get()\n            const gainR = this.#rampGainR.get()\n            for (let i = fromIndex; i < toIndex; i++) {\n                outL[i] = srcL[i] * gainL\n                outR[i] = srcR[i] * gainR\n            }\n        }\n        this.#processing = true\n    }\n\n    parameterChanged(_parameter: AutomatableParameter): void {\n        this.#needsUpdate = true\n    }\n}", "import {AudioInput, Block, Processor} from \"./processing\"\nimport {int, Option, Terminable} from \"@naomiarotest/lib-std\"\nimport {EngineContext} from \"./EngineContext\"\nimport {AudioBuffer, dbToGain, Event, Ramp, RenderQuantum, StereoMatrix} from \"@naomiarotest/lib-dsp\"\nimport {AudioUnitBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {PeakBroadcaster} from \"./PeakBroadcaster\"\nimport {AudioProcessor} from \"./AudioProcessor\"\nimport {AutomatableParameter} from \"./AutomatableParameter\"\n\nexport class ChannelStripProcessor extends AudioProcessor implements Processor, AudioInput, Terminable {\n    readonly #adapter: AudioUnitBoxAdapter\n\n    readonly #audioOutput: AudioBuffer\n    readonly #rawBuffer: StereoMatrix.Channels\n    readonly #peaks: PeakBroadcaster\n\n    readonly #parameterVolume: AutomatableParameter<number>\n    readonly #parameterPanning: AutomatableParameter<number>\n    readonly #parameterMute: AutomatableParameter<boolean>\n    readonly #parameterSolo: AutomatableParameter<boolean>\n\n    readonly #gainL: Ramp<number> = Ramp.linear(sampleRate)\n    readonly #gainR: Ramp<number> = Ramp.linear(sampleRate)\n    readonly #outGain: Ramp<number> = Ramp.linear(sampleRate)\n\n    #source: Option<AudioBuffer> = Option.None\n\n    #updateGain: boolean = true\n    #processing: boolean = false\n\n    constructor(context: EngineContext, adapter: AudioUnitBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n\n        this.#audioOutput = new AudioBuffer()\n        this.#rawBuffer = [new Float32Array(RenderQuantum), new Float32Array(RenderQuantum)]\n        this.#peaks = this.own(new PeakBroadcaster(context.broadcaster, this.#adapter.address))\n\n        this.#parameterVolume = this.own(this.bindParameter(this.#adapter.namedParameter.volume))\n        this.#parameterPanning = this.own(this.bindParameter(this.#adapter.namedParameter.panning))\n        this.#parameterMute = this.own(this.bindParameter(this.#adapter.namedParameter.mute))\n        this.#parameterSolo = this.own(this.bindParameter(this.#adapter.namedParameter.solo))\n\n        this.ownAll(\n            context.registerProcessor(this),\n            context.mixer.attachChannelStrip(this)\n        )\n        this.readAllParameters()\n    }\n\n    reset(): void {\n        this.#peaks.clear()\n        this.#audioOutput.clear()\n        this.#rawBuffer[0].fill(0.0)\n        this.#rawBuffer[1].fill(0.0)\n        this.#processing = false\n    }\n\n    get isMute(): boolean {return this.#parameterMute.getValue()}\n    get isSolo(): boolean {return this.#parameterSolo.getValue()}\n    get adapter(): AudioUnitBoxAdapter {return this.#adapter}\n    get audioOutput(): AudioBuffer {return this.#audioOutput}\n\n    handleEvent(_event: Event): void {}\n\n    processAudio(_block: Block, fromIndex: int, toIndex: int): void {\n        if (this.#source.isEmpty()) {return}\n        if (this.#updateGain) {\n            const mixer = this.context.mixer\n            mixer.updateSolo()\n            const isSolo = this.isSolo || mixer.isVirtualSolo(this)\n            const silent = this.isMute || (mixer.hasChannelSolo() && !isSolo && !this.#adapter.isOutput)\n            const gain = dbToGain(this.#parameterVolume.getValue())\n            const panning = this.#parameterPanning.getValue()\n            this.#gainL.set((1.0 - Math.max(0.0, panning)) * gain, this.#processing)\n            this.#gainR.set((1.0 + Math.min(0.0, panning)) * gain, this.#processing)\n            this.#outGain.set(silent ? 0.0 : 1.0, this.#processing)\n            this.#updateGain = false\n        }\n        const source = this.#source.unwrap()\n        const [srcL, srcR] = source.channels()\n        const [outL, outR] = this.#audioOutput.channels()\n        const [rawL, rawR] = this.#rawBuffer\n        if (this.#gainL.isInterpolating() || this.#gainR.isInterpolating() || this.#outGain.isInterpolating()) {\n            for (let i = fromIndex; i < toIndex; i++) {\n                const gain = this.#outGain.moveAndGet()\n                const l = srcL[i] * this.#gainL.moveAndGet()\n                const r = srcR[i] * this.#gainR.moveAndGet()\n                outL[i] = l * gain\n                outR[i] = r * gain\n                rawL[i] = l\n                rawR[i] = r\n            }\n        } else {\n            const gainL = this.#gainL.get()\n            const gainR = this.#gainR.get()\n            const outGain = this.#outGain.get()\n            for (let i = fromIndex; i < toIndex; i++) {\n                const l = srcL[i] * gainL\n                const r = srcR[i] * gainR\n                rawL[i] = l\n                rawR[i] = r\n                outL[i] = l * outGain\n                outR[i] = r * outGain\n            }\n        }\n        this.#peaks.process(rawL, rawR, fromIndex, toIndex)\n        this.#processing = true\n    }\n\n    finishProcess(): void {this.#audioOutput.assertSanity()}\n\n    parameterChanged(parameter: AutomatableParameter): void {\n        if (parameter === this.#parameterVolume) {\n            this.requestGainUpdate()\n        } else if (parameter === this.#parameterPanning) {\n            this.requestGainUpdate()\n        } else if (parameter === this.#parameterMute) {\n            this.requestGainUpdate()\n        } else if (parameter === this.#parameterSolo) {\n            this.context.mixer.onChannelStripSoloChanged(this)\n        }\n    }\n\n    requestGainUpdate(): void {this.#updateGain = true}\n\n    // TODO Optimise me some day. Updating the solo like might be a bit cumbersome?\n    requestSoloUpdate(): void {this.#updateGain = true}\n\n    setAudioSource(source: AudioBuffer): Terminable {\n        this.#source = Option.wrap(source)\n        return {terminate: () => this.#source = Option.None}\n    }\n\n    toString(): string {return `{${this.constructor.name}}`}\n}", "import {Arrays, assert, SortedSet, Subscription, Terminator, UUID} from \"@naomiarotest/lib-std\"\nimport {AuxSendProcessor} from \"./AuxSendProcessor\"\nimport {ChannelStripProcessor} from \"./ChannelStripProcessor\"\nimport {AudioEffectDeviceAdapter, AuxSendBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {AudioEffectDeviceProcessorFactory} from \"./DeviceProcessorFactory\"\nimport {ProcessPhase} from \"./processing\"\nimport {AudioUnit} from \"./AudioUnit\"\nimport {DeviceChain} from \"./DeviceChain\"\nimport {AudioUnitOptions} from \"./AudioUnitOptions\"\nimport {AudioDeviceProcessor} from \"./AudioDeviceProcessor\"\nimport {AudioEffectDeviceProcessor} from \"./AudioEffectDeviceProcessor\"\n\ntype AudioEffectDeviceEntry = {\n    device: AudioEffectDeviceProcessor\n    subscription: Subscription\n}\n\nexport class AudioDeviceChain implements DeviceChain {\n    readonly #terminator = new Terminator()\n\n    readonly #audioUnit: AudioUnit\n    readonly #options: AudioUnitOptions\n\n    readonly #auxSends: SortedSet<UUID.Bytes, AuxSendProcessor>\n    readonly #channelStrip: ChannelStripProcessor\n    readonly #effects: SortedSet<UUID.Bytes, AudioEffectDeviceEntry>\n    readonly #disconnector: Terminator\n\n    #orderedEffects: Array<AudioEffectDeviceProcessor> = []\n    #needsWiring = false\n\n    constructor(audioUnit: AudioUnit, options: AudioUnitOptions) {\n        this.#audioUnit = audioUnit\n        this.#options = options\n\n        this.#auxSends = UUID.newSet(device => device.adapter.uuid)\n        this.#channelStrip = this.#terminator.own(new ChannelStripProcessor(this.#audioUnit.context, this.#audioUnit.adapter))\n        this.#effects = UUID.newSet(({device}) => device.uuid)\n        this.#disconnector = this.#terminator.own(new Terminator())\n\n        this.#terminator.ownAll(\n            this.#audioUnit.adapter.audioEffects.catchupAndSubscribe({\n                onAdd: (adapter: AudioEffectDeviceAdapter) => {\n                    this.invalidateWiring()\n                    const device = AudioEffectDeviceProcessorFactory.create(this.#audioUnit.context, adapter.box)\n                    const added = this.#effects.add({\n                        device, subscription: device.adapter().enabledField.subscribe(() => this.invalidateWiring())\n                    })\n                    assert(added, \"Could not add.\")\n                },\n                onRemove: (adapter: AudioEffectDeviceAdapter) => {\n                    this.invalidateWiring()\n                    const {device, subscription} = this.#effects.removeByKey(adapter.uuid)\n                    subscription.terminate()\n                    device.terminate()\n                },\n                onReorder: (_adapter: AudioEffectDeviceAdapter) => this.invalidateWiring()\n            }),\n            this.#audioUnit.adapter.auxSends.catchupAndSubscribe({\n                onAdd: (adapter: AuxSendBoxAdapter) => {\n                    this.invalidateWiring()\n                    const added = this.#auxSends.add(new AuxSendProcessor(this.#audioUnit.context, adapter))\n                    assert(added, \"Could not add.\")\n                },\n                onRemove: ({uuid}: AuxSendBoxAdapter) => {\n                    this.invalidateWiring()\n                    this.#auxSends.removeByKey(uuid).terminate()\n                },\n                onReorder: (_adapter: AuxSendBoxAdapter) => {/*The index has no effect on the audio processing*/}\n            }),\n            this.#audioUnit.adapter.output.catchupAndSubscribe(_owner => this.invalidateWiring()),\n            this.#audioUnit.context.subscribeProcessPhase(phase => {\n                if (phase === ProcessPhase.Before && this.#needsWiring) {\n                    this.#wire()\n                    this.#needsWiring = false\n                }\n            })\n        )\n    }\n\n    get channelStrip(): ChannelStripProcessor {return this.#channelStrip}\n\n    invalidateWiring(): void {\n        this.#disconnector.terminate()\n        this.#needsWiring = true\n    }\n\n    terminate(): void {\n        this.#terminator.terminate()\n        this.#effects.forEach(({device}) => device.terminate())\n        this.#effects.clear()\n        this.#orderedEffects = []\n    }\n\n    toString(): string {return `{${this.constructor.name}}`}\n\n    #wire(): void {\n        const isOutputUnit = this.#audioUnit.adapter.isOutput\n        const context = this.#audioUnit.context\n        const optInput = this.#audioUnit.input()\n        const optOutput = this.#audioUnit.adapter.output.adapter.map(adapter =>\n            context.getAudioUnit(adapter.deviceHost().uuid).inputAsAudioBus())\n        if (optInput.isEmpty() || (optOutput.isEmpty() && !isOutputUnit)) {return}\n        let source: AudioDeviceProcessor = optInput.unwrap()\n        if (this.#options.includeAudioEffects) {\n            Arrays.replace(this.#orderedEffects, this.#audioUnit.adapter.audioEffects\n                .adapters().map(({uuid}) => this.#effects.get(uuid).device))\n            for (const target of this.#orderedEffects) {\n                if (target.adapter().enabledField.getValue()) {\n                    this.#disconnector.own(target.setAudioSource(source.audioOutput))\n                    this.#disconnector.own(context.registerEdge(source.outgoing, target.incoming))\n                    source = target\n                }\n            }\n        }\n        if (this.#options.includeSends) {\n            // Connect with aux sends (pre-mode) TODO Post-Mode\n            this.#auxSends.forEach(auxSend => {\n                const target = context.getAudioUnit(auxSend.adapter.targetBus.deviceHost().uuid)\n                this.#disconnector.own(auxSend.setAudioSource(source.audioOutput))\n                this.#disconnector.own(target.inputAsAudioBus().addAudioSource(auxSend.audioOutput))\n                this.#disconnector.own(context.registerEdge(source.outgoing, auxSend))\n                this.#disconnector.own(context.registerEdge(auxSend, target.inputAsAudioBus()))\n            })\n        }\n        this.#disconnector.own(this.#channelStrip.setAudioSource(source.audioOutput))\n        this.#disconnector.own(context.registerEdge(source.outgoing, this.#channelStrip))\n        if (optOutput.nonEmpty() && !isOutputUnit) {\n            const audioBus = optOutput.unwrap()\n            this.#disconnector.own(audioBus.addAudioSource(this.#channelStrip.audioOutput))\n            this.#disconnector.own(context.registerEdge(this.#channelStrip, audioBus))\n        }\n    }\n}", "import {EngineContext} from \"./EngineContext\"\nimport {\n    AudioUnitBoxAdapter,\n    NoteClipBoxAdapter,\n    NoteEventCollectionBoxAdapter,\n    NoteRegionBoxAdapter,\n    TrackBoxAdapter,\n    TrackType\n} from \"@naomiarotest/studio-adapters\"\nimport {EventSpanRetainer, LoopableRegion, NoteEvent, ppqn} from \"@naomiarotest/lib-dsp\"\nimport {\n    Bits,\n    byte,\n    clamp,\n    Id,\n    int,\n    isInstanceOf,\n    Option,\n    quantizeFloor,\n    Random,\n    Terminable,\n    Terminator,\n    unitValue,\n    UUID\n} from \"@naomiarotest/lib-std\"\nimport {NoteCompleteEvent, NoteEventSource, NoteLifecycleEvent} from \"./NoteEventSource\"\nimport {BlockFlag, ProcessPhase} from \"./processing\"\n\ntype ExternalNote = {\n    readonly pitch: byte\n    readonly velocity: unitValue\n\n    gate: boolean\n    running: Option<Id<NoteEvent>>\n}\n\nexport class NoteSequencer implements NoteEventSource, Terminable {\n    readonly #terminator = new Terminator()\n    readonly #context: EngineContext\n    readonly #adapter: AudioUnitBoxAdapter\n\n    // TODO We can actually remove this entirely?\n    //  I actually think we need that and send instrument notes to a specific address (append field).\n    // readonly #noteBroadcaster: NoteBroadcaster\n    readonly #random: Random\n    readonly #externalNotes: Set<ExternalNote>\n    readonly #retainer: EventSpanRetainer<Id<NoteEvent>>\n\n    constructor(context: EngineContext, adapter: AudioUnitBoxAdapter) {\n        this.#context = context\n        this.#adapter = adapter\n\n        // this.#noteBroadcaster = this.#terminator.own(new NoteBroadcaster(context.broadcaster, adapter.address))\n        this.#random = Random.create(0xFFFF123)\n        this.#externalNotes = new Set<ExternalNote>()\n        this.#retainer = new EventSpanRetainer<Id<NoteEvent>>()\n\n        this.#terminator.ownAll(\n            this.#context.subscribeProcessPhase((phase: ProcessPhase) => {\n                if (phase === ProcessPhase.After) {\n                    for (const note of this.#externalNotes) {\n                        if (!note.gate) {this.#externalNotes.delete(note)}\n                    }\n                }\n            })\n        )\n    }\n\n    get uuid(): UUID.Bytes {return this.#adapter.uuid}\n\n    terminate(): void {this.#terminator.terminate()}\n\n    pushRawNoteOn(pitch: byte, velocity: unitValue): void {\n        this.#externalNotes.add({pitch, velocity, gate: true, running: Option.None})\n    }\n\n    pushRawNoteOff(pitch: byte): void {\n        for (const entry of this.#externalNotes) {\n            if (entry.running.isEmpty()) {\n                // never started\n                this.#externalNotes.delete(entry)\n            } else if (entry.pitch === pitch) {\n                entry.gate = false\n                return\n            }\n        }\n    }\n\n    * processNotes(from: ppqn, to: ppqn, flags: int): Generator<NoteLifecycleEvent> {\n        const read = Bits.every(flags, BlockFlag.transporting | BlockFlag.playing)\n        if (this.#retainer.nonEmpty()) {\n            const releaseAll = !read || Bits.every(flags, BlockFlag.discontinuous)\n            if (releaseAll) {\n                yield* this.#releaseAll(from)\n            } else {\n                yield* this.#releaseCompleted(from, to)\n            }\n        }\n        if (this.#externalNotes.size > 0) {\n            for (const note of this.#externalNotes) {\n                if (note.running.isEmpty()) {\n                    const {pitch, velocity} = note\n                    const duration = Number.POSITIVE_INFINITY\n                    const event = NoteLifecycleEvent.start(from, duration, pitch, velocity)\n                    note.running = Option.wrap(event)\n                    yield event\n                }\n                if (!note.gate) {\n                    this.#externalNotes.delete(note)\n                    yield NoteLifecycleEvent.stop(note.running.unwrap(\"raw note never started\"), from)\n                }\n            }\n        }\n        if (read) {\n            const tracks = this.#adapter.tracks.collection.adapters()\n                .filter(adapter => adapter.type === TrackType.Notes && adapter.enabled.getValue())\n            for (const track of tracks) {\n                for (const {\n                    optClip,\n                    sectionFrom,\n                    sectionTo\n                } of this.#context.clipSequencing.iterate(track.uuid, from, to)) {\n                    if (optClip.isEmpty()) {\n                        yield* this.#processRegions(track, sectionFrom, sectionTo)\n                    } else {\n                        yield* this.#processClip(optClip.unwrap() as NoteClipBoxAdapter, sectionFrom, sectionTo)\n                    }\n                }\n            }\n            yield* this.#releaseCompleted(from, to) // in case they complete in the same block\n        }\n    }\n\n    * iterateActiveNotesAt(position: ppqn, onlyEnternal: boolean): Generator<NoteEvent> {\n        if (this.#externalNotes.size > 0) {\n            for (const {pitch, velocity} of this.#externalNotes) {\n                yield {\n                    type: \"note-event\",\n                    position,\n                    duration: Number.POSITIVE_INFINITY,\n                    pitch,\n                    velocity,\n                    cent: 0.0\n                }\n            }\n        }\n        if (onlyEnternal) {return}\n        yield* this.#retainer.overlapping(position, NoteEvent.Comparator)\n    }\n\n    reset(): void {\n        this.#retainer.clear()\n        this.#externalNotes.clear()\n    }\n\n    toString(): string {return `{${this.constructor.name}}`}\n\n    * #processClip(clip: NoteClipBoxAdapter, p0: ppqn, p1: ppqn): Generator<Id<NoteEvent>> {\n        if (clip.optCollection.isEmpty()) {return}\n        const collection = clip.optCollection.unwrap()\n        const clipDuration = clip.duration\n        const clipStart = quantizeFloor(p0, clipDuration)\n        const clipEnd = clipStart + clipDuration\n        if (p1 > clipEnd) {\n            yield* this.#processCollection(collection, p0, clipEnd, clipStart)\n            yield* this.#processCollection(collection, clipEnd, p1, clipEnd)\n        } else {\n            yield* this.#processCollection(collection, p0, p1, clipStart)\n        }\n    }\n\n    * #processRegions(trackBoxAdapter: TrackBoxAdapter, p0: ppqn, p1: ppqn): Generator<Id<NoteEvent>> {\n        for (const region of trackBoxAdapter.regions.collection.iterateRange(p0, p1)) {\n            if (this.#context.ignoresRegion(region.address.uuid)\n                || region.mute || !isInstanceOf(region, NoteRegionBoxAdapter)) {continue}\n            const optCollection = region.optCollection\n            if (optCollection.isEmpty()) {continue}\n            const collection = optCollection.unwrap()\n            for (const {resultStart, resultEnd, rawStart} of LoopableRegion.locateLoops(region, p0, p1)) {\n                yield* this.#processCollection(collection, resultStart, resultEnd, rawStart)\n            }\n        }\n    }\n\n    * #processCollection(collection: NoteEventCollectionBoxAdapter, start: ppqn, end: ppqn, delta: ppqn): Generator<Id<NoteEvent>> {\n        const localStart = start - delta\n        const localEnd = end - delta\n        for (const source of collection.events.iterateRange(localStart - collection.maxDuration, localEnd)) {\n            if (!NoteEvent.isOfType(source)) {continue}\n            const {position, duration, chance, playCount, playCurve} = source\n            if (chance < 100.0 && this.#random.nextDouble(0.0, 100.0) > chance) {continue}\n            if (playCount > 1) {\n                const searchStart = NoteEvent.inverseCurveFunc((localStart - position) / duration, playCurve)\n                const searchLimit = NoteEvent.inverseCurveFunc((localEnd - position) / duration, playCurve)\n                let searchIndex = Math.floor(searchStart * playCount)\n                let searchPosition = searchIndex / playCount\n                while (searchPosition < searchLimit) {\n                    if (searchPosition >= searchStart) {\n                        const a = NoteEvent.curveFunc(searchPosition, playCurve) * duration\n                        if (a >= duration) {break}\n                        const b = NoteEvent.curveFunc((searchPosition + 1.0 / playCount), playCurve) * duration\n                        const event: Id<NoteEvent> = NoteLifecycleEvent.startWith(source, position + a + delta, b - a)\n                        this.#retainer.addAndRetain({...event})\n                        yield event\n                    }\n                    searchPosition = ++searchIndex / playCount\n                }\n            } else {\n                if (localStart <= position && position < localEnd) {\n                    const event: Id<NoteEvent> = NoteLifecycleEvent.startWith(source, position + delta)\n                    this.#retainer.addAndRetain({...event})\n                    yield event\n                }\n            }\n        }\n    }\n\n    * #releaseAll(from: ppqn): Generator<NoteCompleteEvent> {\n        for (const event of this.#retainer.releaseAll()) {\n            yield NoteLifecycleEvent.stop(event, from)\n        }\n    }\n\n    * #releaseCompleted(from: ppqn, to: ppqn): Generator<NoteCompleteEvent> {\n        for (const event of this.#retainer.releaseLinearCompleted(to)) {\n            // this.#noteBroadcaster.noteOff(event.pitch)\n            // We need to clamp the value in case the time-domain has been changed between note-start and note-complete\n            const position = clamp(event.position + event.duration, from, to)\n            yield NoteLifecycleEvent.stop(event, position)\n        }\n    }\n}", "import {assert, SortedSet, Subscription, Terminator, UUID} from \"@naomiarotest/lib-std\"\nimport {NoteSequencer} from \"./NoteSequencer\"\nimport {ProcessPhase} from \"./processing\"\nimport {AudioUnit} from \"./AudioUnit\"\nimport {DeviceChain} from \"./DeviceChain\"\nimport {MidiEffectDeviceAdapter} from \"@naomiarotest/studio-adapters\"\nimport {MidiEffectDeviceProcessorFactory} from \"./DeviceProcessorFactory\"\nimport {NoteEventSource} from \"./NoteEventSource\"\nimport {MidiEffectProcessor} from \"./MidiEffectProcessor\"\n\ntype MidiEffectDeviceEntry = {\n    device: MidiEffectProcessor\n    subscription: Subscription\n}\n\nexport class MidiDeviceChain implements DeviceChain {\n    readonly #terminator = new Terminator()\n\n    readonly #audioUnit: AudioUnit\n\n    readonly #noteSequencer: NoteSequencer\n    readonly #effects: SortedSet<UUID.Bytes, MidiEffectDeviceEntry>\n\n    readonly #disconnector: Terminator\n\n    #needsWiring = false\n\n    constructor(audioUnit: AudioUnit) {\n        this.#audioUnit = audioUnit\n\n        this.#noteSequencer = this.#terminator.own(new NoteSequencer(this.#audioUnit.context, this.#audioUnit.adapter))\n        this.#effects = UUID.newSet(({device}) => device.uuid)\n        this.#disconnector = this.#terminator.own(new Terminator())\n\n        this.#terminator.ownAll(\n            this.#audioUnit.adapter.midiEffects.catchupAndSubscribe({\n                onAdd: (adapter: MidiEffectDeviceAdapter) => {\n                    this.invalidateWiring()\n                    const device = MidiEffectDeviceProcessorFactory.create(this.#audioUnit.context, adapter.box)\n                    const added = this.#effects.add({\n                        device, subscription: device.adapter().enabledField.subscribe(() => this.invalidateWiring())\n                    })\n                    assert(added, \"Could not add.\")\n                },\n                onRemove: (adapter: MidiEffectDeviceAdapter) => {\n                    this.invalidateWiring()\n                    const {device, subscription} = this.#effects.removeByKey(adapter.uuid)\n                    subscription.terminate()\n                    device.terminate()\n                },\n                onReorder: (_adapter: MidiEffectDeviceAdapter) => this.invalidateWiring()\n            }),\n            this.#audioUnit.context.subscribeProcessPhase(phase => {\n                if (phase === ProcessPhase.Before && this.#needsWiring) {\n                    this.#wire()\n                    this.#needsWiring = false\n                }\n            })\n        )\n    }\n\n    get noteSequencer(): NoteSequencer {return this.#noteSequencer}\n\n    invalidateWiring(): void {\n        this.#disconnector.terminate()\n        this.#needsWiring = true\n    }\n\n    terminate() {this.#terminator.terminate()}\n\n    toString(): string {return `{${this.constructor.name}}`}\n\n    #wire(): void {\n        const optInput = this.#audioUnit.input().flatMap(unit => unit.noteEventTarget)\n        if (optInput.isEmpty()) {return}\n        const input = optInput.unwrap()\n        let source: NoteEventSource = this.#noteSequencer\n        this.#audioUnit.adapter.midiEffects.adapters()\n            .map(adapter => this.#effects.get(adapter.uuid).device)\n            .forEach((target: MidiEffectProcessor) => {\n                if (target.adapter().enabledField.getValue()) {\n                    this.#disconnector.ownAll(\n                        target.setNoteEventSource(source),\n                        // Makes sure, automation is applied before the actual instrument\n                        // This is really ugly, but I won't refactor this now and just move on...\n                        this.#audioUnit.context.registerEdge(target, input.incoming)\n                    )\n                    source = target\n                }\n            })\n        this.#disconnector.own(input.setNoteEventSource(source))\n    }\n}", "import {AudioUnitBoxAdapter, AudioUnitInputAdapter} from \"@naomiarotest/studio-adapters\"\nimport {EngineContext} from \"./EngineContext\"\nimport {asInstanceOf, int, Option, Terminable, Terminator} from \"@naomiarotest/lib-std\"\nimport {InstrumentDeviceProcessorFactory} from \"./DeviceProcessorFactory\"\nimport {AudioBusProcessor} from \"./AudioBusProcessor\"\nimport {AudioBuffer} from \"@naomiarotest/lib-dsp\"\nimport {AudioDeviceChain} from \"./AudioDeviceChain\"\nimport {MidiDeviceChain} from \"./MidiDeviceChain\"\nimport {AudioUnitOptions} from \"./AudioUnitOptions\"\nimport {InstrumentDeviceProcessor} from \"./InstrumentDeviceProcessor\"\n\nexport class AudioUnit implements Terminable {\n    static ID: int = 0 | 0\n\n    readonly #id: int = AudioUnit.ID++\n\n    readonly #terminator = new Terminator()\n\n    readonly #context: EngineContext\n    readonly #adapter: AudioUnitBoxAdapter\n\n    readonly #midiDeviceChain: MidiDeviceChain\n    readonly #audioDeviceChain: AudioDeviceChain\n\n    #input: Option<InstrumentDeviceProcessor | AudioBusProcessor> = Option.None\n\n    constructor(context: EngineContext, adapter: AudioUnitBoxAdapter, options: AudioUnitOptions) {\n        this.#context = context\n        this.#adapter = adapter\n\n        this.#midiDeviceChain = this.#terminator.own(new MidiDeviceChain(this))\n        this.#audioDeviceChain = this.#terminator.own(new AudioDeviceChain(this, options))\n\n        this.#terminator.ownAll(\n            this.#adapter.input.catchupAndSubscribe(owner => {\n                this.#midiDeviceChain.invalidateWiring()\n                this.#audioDeviceChain.invalidateWiring()\n                this.#input.ifSome(input => input.terminate())\n                this.#input = owner.getValue().flatMap((input: AudioUnitInputAdapter) =>\n                    Option.wrap(InstrumentDeviceProcessorFactory.create(context, input.box.box)))\n            })\n        )\n    }\n\n    input(): Option<InstrumentDeviceProcessor | AudioBusProcessor> {return this.#input}\n    inputAsAudioBus(): AudioBusProcessor {return asInstanceOf(this.#input.unwrap(\"No input available\"), AudioBusProcessor)}\n    audioOutput(): AudioBuffer {return this.#audioDeviceChain.channelStrip.audioOutput}\n\n    get midiDeviceChain(): MidiDeviceChain {return this.#midiDeviceChain}\n    get audioDeviceChain(): AudioDeviceChain {return this.#audioDeviceChain}\n    get context(): EngineContext {return this.#context}\n    get adapter(): AudioUnitBoxAdapter {return this.#adapter}\n\n    terminate(): void {\n        console.debug(`terminate ${this}`)\n        this.#terminator.terminate()\n        this.#input.ifSome(input => input.terminate())\n        this.#input = Option.None\n    }\n\n    toString(): string {return `{${this.constructor.name}(${this.#id})}`}\n}", "import {ChannelStripProcessor} from \"./ChannelStripProcessor\"\nimport {asDefined, SortedSet, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport {Pointers} from \"@naomiarotest/studio-enums\"\nimport {AudioUnitBox, AuxSendBox, BoxVisitor} from \"@naomiarotest/studio-boxes\"\n\nexport class Mixer {\n    readonly #channelStrips: SortedSet<UUID.Bytes, ChannelStripProcessor>\n    readonly #solo: Set<ChannelStripProcessor>\n    readonly #virtualSolo: Set<ChannelStripProcessor>\n\n    #needsUpdate: boolean = false\n\n    constructor() {\n        this.#channelStrips = UUID.newSet(processor => processor.adapter.uuid)\n        this.#solo = new Set<ChannelStripProcessor>()\n        this.#virtualSolo = new Set<ChannelStripProcessor>()\n    }\n\n    attachChannelStrip(channelStrip: ChannelStripProcessor): Terminable {\n        this.#channelStrips.add(channelStrip)\n        return Terminable.many(\n            channelStrip.adapter.input.subscribe(() => this.#requestUpdateSolo()),\n            channelStrip.adapter.output.subscribe(() => this.#requestUpdateSolo()),\n            {\n                terminate: () => {\n                    this.#solo.delete(channelStrip)\n                    this.#channelStrips.removeByValue(channelStrip)\n                    this.#requestUpdateSolo()\n                }\n            }\n        )\n    }\n\n    onChannelStripSoloChanged(channelStrip: ChannelStripProcessor): void {\n        if (channelStrip.isSolo) {\n            this.#solo.add(channelStrip)\n        } else {\n            this.#solo.delete(channelStrip)\n        }\n        this.#requestUpdateSolo()\n    }\n\n    hasChannelSolo() {return this.#solo.size > 0}\n\n    isVirtualSolo(channelStrip: ChannelStripProcessor): boolean {\n        return this.#virtualSolo.has(channelStrip)\n    }\n\n    #requestUpdateSolo(): void {\n        if (this.#needsUpdate) {return}\n        this.#needsUpdate = true\n        this.#channelStrips.forEach(channelStrip => channelStrip.requestSoloUpdate())\n    }\n\n    // called by Channelstrip when moving on\n    updateSolo(): void {\n        if (!this.#needsUpdate) {return}\n        this.#virtualSolo.clear()\n        const touched = new Set<ChannelStripProcessor>()\n        const visitChannelStrip = (channelStrip: ChannelStripProcessor) => {\n            if (touched.has(channelStrip)) {return}\n            touched.add(channelStrip)\n            channelStrip.adapter.input.getValue().ifSome(input => {\n                if (input.type === \"bus\") {\n                    input.box.input.pointerHub\n                        .filter(Pointers.AudioOutput)\n                        .map(pointer => asDefined(pointer.box.accept<BoxVisitor<ChannelStripProcessor>>({\n                            visitAudioUnitBox: ({address: {uuid}}: AudioUnitBox) =>\n                                this.#channelStrips.get(uuid),\n                            visitAuxSendBox: ({audioUnit: {targetVertex}}: AuxSendBox) =>\n                                this.#channelStrips.get(targetVertex.unwrap().address.uuid)\n                        }), \"Could not resolve channel-strip\"))\n                        .forEach(channelStrip => {\n                            if (!channelStrip.isSolo) {this.#virtualSolo.add(channelStrip)}\n                            visitChannelStrip(channelStrip)\n                        })\n                }\n            })\n        }\n        this.#channelStrips.forEach((channelStrip) => {if (channelStrip.isSolo) {visitChannelStrip(channelStrip)}})\n        this.#needsUpdate = false\n    }\n}", "// noinspection PlatformDetectionJS\nimport { isDefined, UUID } from \"@naomiarotest/lib-std\";\nexport var Browser;\n(function (Browser) {\n    const hasLocation = typeof self !== \"undefined\" && \"location\" in self && typeof self.location !== undefined;\n    const hasNavigator = typeof self !== \"undefined\" && \"navigator\" in self && typeof self.navigator !== undefined;\n    Browser.isLocalHost = () => hasLocation && location.host.includes(\"localhost\");\n    Browser.isMacOS = () => hasNavigator && navigator.userAgent.includes(\"Mac OS X\");\n    Browser.isWindows = () => hasNavigator && navigator.userAgent.includes(\"Windows\");\n    Browser.isChrome = () => hasNavigator && /chrome|chromium|crios/.test(navigator.userAgent.toLowerCase()) && !/edg|opera|opr/.test(navigator.userAgent.toLowerCase());\n    Browser.isFirefox = () => hasNavigator && navigator.userAgent.toLowerCase().includes(\"firefox\");\n    Browser.isWeb = () => !Browser.isTauriApp();\n    Browser.isVitest = typeof process !== \"undefined\" && process.env?.VITEST === \"true\";\n    Browser.isTauriApp = () => \"__TAURI__\" in window;\n    Browser.userAgent = hasNavigator ? navigator.userAgent\n        .replace(/^Mozilla\\/[\\d.]+\\s*/, \"\")\n        .replace(/\\bAppleWebKit\\/[\\d.]+\\s*/g, \"\")\n        .replace(/\\(KHTML, like Gecko\\)\\s*/g, \"\")\n        .replace(/\\bSafari\\/[\\d.]+\\s*/g, \"\")\n        .replace(/\\s+/g, \" \")\n        .trim() : \"N/A\";\n    Browser.id = () => {\n        if (!hasLocation) {\n            return \"\";\n        }\n        const key = \"__id__\";\n        const id = localStorage.getItem(key);\n        if (isDefined(id)) {\n            return id;\n        }\n        const newID = UUID.toString(UUID.generate());\n        localStorage.setItem(key, newID);\n        return newID;\n    };\n})(Browser || (Browser = {}));\n", "export var Compression;\n(function (Compression) {\n    Compression.encode = async (buffer, format = \"gzip\") => {\n        const stream = new CompressionStream(format);\n        const writer = stream.writable.getWriter();\n        writer.write(new Uint8Array(buffer));\n        writer.close();\n        return new Response(stream.readable).arrayBuffer();\n    };\n    Compression.decode = async (buffer, format = \"gzip\") => {\n        const stream = new DecompressionStream(format);\n        const writer = stream.writable.getWriter();\n        writer.write(new Uint8Array(buffer));\n        writer.close();\n        return new Response(stream.readable).arrayBuffer();\n    };\n})(Compression || (Compression = {}));\n", "import { DefaultObservableValue, EmptyProcedure } from \"@naomiarotest/lib-std\";\nexport var ConsoleCommands;\n(function (ConsoleCommands) {\n    ConsoleCommands.exportMethod = (path, callback) => store(path, { value: callback });\n    ConsoleCommands.exportBoolean = (path, init = false) => {\n        const observableValue = new DefaultObservableValue(init);\n        ConsoleCommands.exportAccessor(path, () => observableValue.getValue(), input => {\n            const value = Boolean(input);\n            console.debug(`set to ${value}`);\n            observableValue.setValue(value);\n        });\n        return observableValue;\n    };\n    ConsoleCommands.exportAccessor = (path, getter, setter = EmptyProcedure) => store(path, {\n        get: () => {\n            try {\n                console.debug(getter());\n                return 0;\n            }\n            catch (error) {\n                console.error(error);\n                return 1;\n            }\n        },\n        set: (value) => {\n            try {\n                setter(value);\n                return getter();\n            }\n            catch (error) {\n                console.error(error);\n                return 1;\n            }\n        },\n        enumerable: false,\n        configurable: false\n    });\n    const global = (() => { try {\n        return self;\n    }\n    catch (_) {\n        return {};\n    } })();\n    const scope = (global[\"opendaw\"] ??= {});\n    const store = (path, attributes) => {\n        const levels = path.split(\".\");\n        const name = levels.splice(-1)[0];\n        let current = scope;\n        for (const level of levels) {\n            current = (current[level] ??= {});\n        }\n        Object.defineProperty(current, name, attributes);\n        console.debug(`Console command 'opendaw.${path}' exported`);\n    };\n})(ConsoleCommands || (ConsoleCommands = {}));\n", "import { isAbsent } from \"@naomiarotest/lib-std\";\nexport var ConstrainDOM;\n(function (ConstrainDOM) {\n    ConstrainDOM.resolveString = (constrain) => {\n        if (isAbsent(constrain)) {\n            return undefined;\n        }\n        if (typeof constrain === \"string\") {\n            return constrain;\n        }\n        if (Array.isArray(constrain)) {\n            return constrain.join(\",\");\n        }\n        if (typeof constrain === \"object\") {\n            if (typeof constrain.exact === \"string\") {\n                return constrain.exact;\n            }\n            if (Array.isArray(constrain.exact)) {\n                return constrain.exact.join(\",\");\n            }\n            if (typeof constrain.ideal === \"string\") {\n                return constrain.ideal;\n            }\n            if (Array.isArray(constrain.ideal)) {\n                return constrain.ideal.join(\",\");\n            }\n        }\n        return undefined;\n    };\n})(ConstrainDOM || (ConstrainDOM = {}));\n", "const ellipsis = \"\u2026\";\nexport var Context2d;\n(function (Context2d) {\n    Context2d.truncateText = (context, text, maxWidth) => {\n        if (text.length === 0) {\n            return { text: \"\", width: 0 };\n        }\n        let width = context.measureText(text).width;\n        if (width <= maxWidth) {\n            return { text, width };\n        }\n        const ellipseWidth = context.measureText(ellipsis).width;\n        let l = 0 | 0;\n        let r = text.length | 0;\n        while (l < r) {\n            const mid = (r + l) >>> 1;\n            width = context.measureText(text.substring(0, mid + 1)).width + ellipseWidth;\n            if (width <= maxWidth) {\n                l = mid + 1;\n            }\n            else {\n                r = mid;\n            }\n        }\n        if (l === 0) {\n            return { text: \"\", width: 0 };\n        }\n        const result = text.substring(0, l);\n        return { text: result + ellipsis, width: context.measureText(result).width + ellipseWidth };\n    };\n    Context2d.strokeRoundedRect = (context, x, y, width, height, radius) => {\n        context.beginPath();\n        context.moveTo(x + radius, y);\n        context.lineTo(x + width - radius, y);\n        context.arcTo(x + width, y, x + width, y + radius, radius);\n        context.lineTo(x + width, y + height - radius);\n        context.arcTo(x + width, y + height, x + width - radius, y + height, radius);\n        context.lineTo(x + radius, y + height);\n        context.arcTo(x, y + height, x, y + height - radius, radius);\n        context.lineTo(x, y + radius);\n        context.arcTo(x, y, x + radius, y, radius);\n        context.closePath();\n        context.stroke();\n    };\n})(Context2d || (Context2d = {}));\n", "import { panic } from \"@naomiarotest/lib-std\";\nexport var CssUtils;\n(function (CssUtils) {\n    CssUtils.calc = (term, size, em) => {\n        const regex = /([0-9]*\\.?[0-9]+)([a-zA-Z%]*)/g;\n        let result = term;\n        result.split(/\\+|(?<!\\d)-/)\n            .flatMap(result => Array.from(result.matchAll(regex)))\n            .forEach(([replace, digits, unit]) => {\n            const number = parseFloat(digits);\n            if (isNaN(number)) {\n                return panic(`${replace} does not contain a number`);\n            }\n            if (unit === \"em\") {\n                result = result.replaceAll(replace, `${number * em}`);\n            }\n            else if (unit === \"%\") {\n                result = result.replaceAll(replace, `${number / 100.0 * size}`);\n            }\n            else if (unit === \"px\") {\n                result = result.replaceAll(replace, `${number}`);\n            }\n            else {\n                return panic(`Unknown unit '${unit}'`);\n            }\n        });\n        return Function(`return ${result}`)();\n    };\n    const customCursors = new Map();\n    CssUtils.registerCustomCursor = (identifier, data) => customCursors.set(identifier, data);\n    CssUtils.setCursor = (identifier, doc = document) => {\n        doc.documentElement.style.cursor = typeof identifier === \"number\"\n            ? customCursors.get(identifier) ?? \"auto\"\n            : identifier;\n    };\n})(CssUtils || (CssUtils = {}));\n", "export var AnimationFrame;\n(function (AnimationFrame) {\n    const nonrecurring = new Set();\n    const recurring = new Set();\n    const queue = new Array();\n    let id = -1;\n    let driver = null;\n    AnimationFrame.add = (exec) => {\n        recurring.add(exec);\n        return { terminate: () => recurring.delete(exec) };\n    };\n    AnimationFrame.once = (exec) => { nonrecurring.add(exec); };\n    AnimationFrame.start = (owner) => {\n        if (driver === owner) {\n            return;\n        }\n        driver?.cancelAnimationFrame(id);\n        driver = owner;\n        id = owner.requestAnimationFrame(exe);\n    };\n    AnimationFrame.stop = () => {\n        driver?.cancelAnimationFrame(id);\n        driver = null;\n        id = -1;\n    };\n    AnimationFrame.terminate = () => {\n        AnimationFrame.stop();\n        queue.length = 0;\n        recurring.clear();\n        nonrecurring.clear();\n    };\n    const exe = () => {\n        if (recurring.size > 0 || nonrecurring.size > 0) {\n            recurring.forEach((exec) => queue.push(exec));\n            nonrecurring.forEach((exec) => queue.push(exec));\n            nonrecurring.clear();\n            queue.forEach((exec) => exec());\n            queue.length = 0;\n        }\n        id = driver?.requestAnimationFrame(exe) ?? -1;\n    };\n})(AnimationFrame || (AnimationFrame = {}));\nexport const deferNextFrame = (exec) => new DeferExec(exec);\nexport class DeferExec {\n    #exec;\n    #requested = false;\n    #disabled = false;\n    constructor(exec) { this.#exec = exec; }\n    request = () => {\n        if (this.#requested || this.#disabled) {\n            return;\n        }\n        this.#requested = true;\n        AnimationFrame.once(this.#fire);\n    };\n    immediate = () => {\n        if (this.#disabled) {\n            return;\n        }\n        this.#requested = true;\n        this.#fire();\n    };\n    cancel() { this.#requested = false; }\n    terminate() { this.#disabled = true; }\n    #fire = () => {\n        if (this.#disabled || !this.#requested) {\n            return;\n        }\n        this.#requested = false;\n        this.#exec();\n    };\n}\n", "import { isDefined } from \"@naomiarotest/lib-std\";\nexport class Events {\n    static subscribe(eventTarget, type, listener, options) {\n        eventTarget.addEventListener(type, listener, options);\n        return { terminate: () => eventTarget.removeEventListener(type, listener, options) };\n    }\n    static subscribeAny(eventTarget, type, listener, options) {\n        eventTarget.addEventListener(type, listener, options);\n        return { terminate: () => eventTarget.removeEventListener(type, listener, options) };\n    }\n    static DOUBLE_DOWN_THRESHOLD = 200;\n    static subscribeDblDwn = (eventTarget, listener) => {\n        let lastDownTime = 0.0;\n        return this.subscribe(eventTarget, \"pointerdown\", event => {\n            const now = performance.now();\n            if (now - lastDownTime < this.DOUBLE_DOWN_THRESHOLD) {\n                event.preventDefault();\n                event.stopImmediatePropagation();\n                listener(event);\n            }\n            lastDownTime = now;\n        }, { capture: true });\n    };\n    static PreventDefault = event => event.preventDefault();\n    static isTextInput = (target) => target instanceof HTMLInputElement\n        || target instanceof HTMLTextAreaElement\n        || (target instanceof HTMLElement && isDefined(target.getAttribute(\"contenteditable\")));\n}\n", "import { Browser } from \"./browser\";\nimport { Events } from \"./events\";\nexport var Keyboard;\n(function (Keyboard) {\n    Keyboard.isControlKey = ({ ctrlKey, metaKey }) => Browser.isMacOS() ? metaKey : ctrlKey;\n    Keyboard.isCopyKey = ({ altKey }) => altKey;\n    Keyboard.GlobalShortcut = Object.freeze({\n        isDelete: (event) => !Events.isTextInput(event.target) && (event.code === \"Delete\" || event.code === \"Backspace\"),\n        isSelectAll: (event) => Keyboard.isControlKey(event) && !event.shiftKey && event.code === \"KeyA\",\n        isDeselectAll: (event) => Keyboard.isControlKey(event) && event.shiftKey && event.code === \"KeyA\"\n    });\n})(Keyboard || (Keyboard = {}));\n", "import { EmptyExec, isDefined, safeRead, Terminable, Terminator } from \"@naomiarotest/lib-std\";\nimport { Browser } from \"./browser\";\nimport { AnimationFrame } from \"./frames\";\nimport { Events } from \"./events\";\nimport { Keyboard } from \"./keyboard\";\nexport var Dragging;\n(function (Dragging) {\n    Dragging.usePointerLock = false;\n    Dragging.attach = (target, factory, options) => {\n        const processCycle = new Terminator();\n        return Terminable.many(processCycle, Events.subscribe(target, \"pointerdown\", (event) => {\n            if (options?.multiTouch !== true && !event.isPrimary) {\n                return;\n            }\n            if (event.buttons !== 1 || (Browser.isMacOS() && event.ctrlKey)) {\n                return;\n            }\n            const option = factory(event);\n            if (option.isEmpty()) {\n                return;\n            }\n            const process = option.unwrap();\n            const pointerId = event.pointerId;\n            event.stopPropagation();\n            event.stopImmediatePropagation();\n            target.setPointerCapture(pointerId);\n            // Pointer lock configuration\n            const usePointerLock = options?.pointerLock !== false && Dragging.usePointerLock;\n            const threshold = options?.pointerLockThreshold ?? 16;\n            const targetElement = target instanceof Element ? target : null;\n            let pointerLockActive = false;\n            const requestPointerLockIfNeeded = (clientX, clientY) => {\n                if (!usePointerLock || targetElement === null || pointerLockActive) {\n                    return;\n                }\n                // Check if the pointer is near window edges\n                const nearLeft = clientX < threshold;\n                const nearRight = clientX > window.innerWidth - threshold;\n                const nearTop = clientY < threshold;\n                const nearBottom = clientY > window.innerHeight - threshold;\n                if (nearLeft || nearRight || nearTop || nearBottom) {\n                    targetElement.requestPointerLock().then(() => pointerLockActive = true, EmptyExec);\n                }\n            };\n            const moveEvent = {\n                clientX: event.clientX,\n                clientY: event.clientY,\n                altKey: event.altKey,\n                shiftKey: event.shiftKey,\n                ctrlKey: Keyboard.isControlKey(event)\n            };\n            if (options?.immediate === true) {\n                process.update(moveEvent);\n            }\n            if (options?.permanentUpdates === true) {\n                processCycle.own(AnimationFrame.add(() => process.update(moveEvent)));\n                processCycle.own(Events.subscribe(target, \"pointermove\", (event) => {\n                    if (event.pointerId === pointerId) {\n                        // Accumulate movement deltas into clientX/Y when the pointer is locked\n                        if (targetElement !== null && document.pointerLockElement === targetElement) {\n                            moveEvent.clientX += event.movementX;\n                            moveEvent.clientY += event.movementY;\n                        }\n                        else {\n                            moveEvent.clientX = event.clientX;\n                            moveEvent.clientY = event.clientY;\n                            requestPointerLockIfNeeded(event.clientX, event.clientY);\n                        }\n                        moveEvent.altKey = event.altKey;\n                        moveEvent.shiftKey = event.shiftKey;\n                        moveEvent.ctrlKey = Keyboard.isControlKey(event);\n                    }\n                }));\n            }\n            else {\n                processCycle.own(Events.subscribe(target, \"pointermove\", (event) => {\n                    if (event.pointerId === pointerId) {\n                        // Accumulate movement deltas into clientX/Y when the pointer is locked\n                        if (targetElement !== null && document.pointerLockElement === targetElement) {\n                            moveEvent.clientX += event.movementX;\n                            moveEvent.clientY += event.movementY;\n                        }\n                        else {\n                            moveEvent.clientX = event.clientX;\n                            moveEvent.clientY = event.clientY;\n                            requestPointerLockIfNeeded(event.clientX, event.clientY);\n                        }\n                        moveEvent.altKey = event.altKey;\n                        moveEvent.shiftKey = event.shiftKey;\n                        moveEvent.ctrlKey = Keyboard.isControlKey(event);\n                        process.update(moveEvent);\n                    }\n                }));\n            }\n            const cancel = () => {\n                if (pointerLockActive && targetElement !== null && document.pointerLockElement === targetElement) {\n                    document.exitPointerLock();\n                }\n                process.cancel?.call(process);\n                process.finally?.call(process);\n                processCycle.terminate();\n            };\n            const owner = safeRead(target, \"ownerDocument\", \"defaultView\") ?? self;\n            processCycle.ownAll(Events.subscribe(target, \"pointerup\", (event) => {\n                if (event.pointerId === pointerId) {\n                    if (pointerLockActive && targetElement !== null && document.pointerLockElement === targetElement) {\n                        document.exitPointerLock();\n                    }\n                    process.approve?.call(process);\n                    process.finally?.call(process);\n                    processCycle.terminate();\n                }\n            }, { capture: true }), Events.subscribe(target, \"pointercancel\", (event) => {\n                console.debug(event.type);\n                if (event.pointerId === pointerId) {\n                    target.releasePointerCapture(pointerId);\n                    cancel();\n                }\n            }, { capture: true }), Events.subscribe(owner, \"beforeunload\", (_event) => {\n                // Workaround for Chrome (does not release or cancel the pointer)\n                target.releasePointerCapture(pointerId);\n                cancel();\n            }, { capture: true }), Events.subscribe(owner, \"keydown\", (event) => {\n                moveEvent.altKey = event.altKey;\n                moveEvent.shiftKey = event.shiftKey;\n                moveEvent.ctrlKey = Keyboard.isControlKey(event);\n                if (event.key === \"Escape\") {\n                    cancel();\n                }\n                else {\n                    process.update(moveEvent);\n                }\n            }), Events.subscribe(owner, \"keyup\", (event) => {\n                moveEvent.altKey = event.altKey;\n                moveEvent.shiftKey = event.shiftKey;\n                moveEvent.ctrlKey = Keyboard.isControlKey(event);\n                process.update(moveEvent);\n            }));\n            if (isDefined(process.abortSignal)) {\n                processCycle.own(Events.subscribe(process.abortSignal, \"abort\", () => {\n                    target.releasePointerCapture(pointerId);\n                    cancel();\n                }));\n            }\n        }));\n    };\n})(Dragging || (Dragging = {}));\n", "import { Arrays, asDefined, isDefined } from \"@naomiarotest/lib-std\";\nimport { Promises } from \"@naomiarotest/lib-runtime\";\nexport var Files;\n(function (Files) {\n    Files.save = async (arrayBuffer, options) => {\n        if (isDefined(window.showSaveFilePicker)) {\n            const handle = await window.showSaveFilePicker(options);\n            const writable = await handle.createWritable();\n            await writable.truncate(0);\n            await writable.write(arrayBuffer);\n            await writable.close();\n            return handle.name ?? \"unknown\";\n        }\n        else {\n            const blob = new Blob([arrayBuffer]);\n            const url = URL.createObjectURL(blob);\n            const anchor = document.createElement(\"a\");\n            anchor.href = url;\n            anchor.download = options?.suggestedName ?? `unknown`;\n            anchor.click();\n            URL.revokeObjectURL(url);\n            return options?.suggestedName ?? \"Unknown\";\n        }\n    };\n    Files.open = async (options) => {\n        if (isDefined(window.showOpenFilePicker)) {\n            const { status, value: fileHandles, error } = await Promises.tryCatch(window.showOpenFilePicker(options));\n            if (status === \"rejected\") {\n                return Promise.reject(error);\n            }\n            return Promise.all(fileHandles.map(fileHandle => fileHandle.getFile()));\n        }\n        else {\n            return new Promise((resolve, reject) => {\n                if (isDefined(options)) {\n                    console.warn(\"FileApi.showOpenFilePicker is emulated in this browser. OpenFilePickerOptions are ignored.\");\n                }\n                const fileInput = document.createElement(\"input\");\n                fileInput.type = \"file\";\n                fileInput.multiple = options?.multiple ?? false;\n                fileInput.style.display = \"none\";\n                fileInput.addEventListener(\"cancel\", async () => {\n                    fileInput.remove();\n                    reject(new DOMException(\"cancel\", \"AbortError\"));\n                });\n                fileInput.addEventListener(\"change\", async (event) => {\n                    const target = event.target;\n                    const files = target.files;\n                    if (isDefined(files)) {\n                        resolve(Arrays.create(index => asDefined(files.item(index), `No file at index ${index}`), files.length));\n                    }\n                    else {\n                        reject(new DOMException(\"cancel\", \"AbortError\"));\n                    }\n                    fileInput.remove();\n                });\n                document.body.appendChild(fileInput);\n                fileInput.click();\n            });\n        }\n    };\n})(Files || (Files = {}));\n", "import { asDefined, assert, Color, isDefined, panic, Rect } from \"@naomiarotest/lib-std\";\nexport var Html;\n(function (Html) {\n    Html.parse = (source) => {\n        const template = document.createElement(\"div\");\n        template.innerHTML = source;\n        if (template.childElementCount !== 1) {\n            return panic(`Source html has more than one root elements: '${source}'`);\n        }\n        const child = template.firstChild;\n        return child instanceof HTMLElement || child instanceof SVGSVGElement\n            ? child\n            : panic(`Cannot parse to HTMLOrSVGElement from '${source}'`);\n    };\n    Html.empty = (element) => { while (element.firstChild !== null) {\n        element.firstChild.remove();\n    } };\n    Html.query = (selectors, parent = document) => asDefined(parent.querySelector(selectors));\n    Html.queryAll = (selectors, parent = document) => Array.from(parent.querySelectorAll(selectors));\n    Html.sanitize = (element) => {\n        element.querySelectorAll(\"script\").forEach(node => node.remove());\n        element.querySelectorAll(\"*\").forEach(element => {\n            [...element.attributes].forEach(attribute => {\n                if (attribute.name.toLowerCase().startsWith(\"on\")) {\n                    element.removeAttribute(attribute.name);\n                }\n            });\n        });\n    };\n    Html.nextID = (() => {\n        let id = 0 | 0;\n        return () => (++id).toString(16).padStart(4, \"0\");\n    })();\n    Html.adoptStyleSheet = (classDefinition, prefix) => {\n        assert(classDefinition.includes(\"component\"), `No 'component' found in: ${classDefinition}`);\n        const className = `${prefix ?? \"C\"}${Html.nextID()}`;\n        const sheet = new CSSStyleSheet();\n        sheet.replaceSync(classDefinition.replaceAll(\"component\", `.${className}`));\n        if (sheet.cssRules.length === 0) {\n            return panic(`No cssRules found in: ${classDefinition}`);\n        }\n        document.adoptedStyleSheets.push(sheet);\n        return className;\n    };\n    // Allows conditional accumulation of classNames\n    Html.buildClassList = (...input) => input.filter(x => x !== false && x !== undefined).join(\" \");\n    Html.readCssVarColor = (...cssValues) => {\n        const element = document.createElement(\"div\");\n        document.body.appendChild(element);\n        const colors = cssValues.map(value => {\n            element.style.color = value;\n            return Color.parseCssRgbOrRgba(getComputedStyle(element).color);\n        });\n        element.remove();\n        return colors;\n    };\n    Html.watchResize = (target, callback, options) => {\n        const observer = new ResizeObserver(([first], observer) => callback(first, observer));\n        observer.observe(target, options);\n        return { terminate: () => observer.disconnect() };\n    };\n    Html.watchIntersection = (target, callback, options) => {\n        const observer = new IntersectionObserver(callback, options);\n        observer.observe(target);\n        return { terminate: () => observer.disconnect() };\n    };\n    // handles cases like 'display: contents', where the bounding box is always empty, although the children have dimensions\n    Html.secureBoundingBox = (element) => {\n        let elemRect = element.getBoundingClientRect();\n        if (!Rect.isEmpty(elemRect)) {\n            return elemRect;\n        }\n        for (const child of element.children) {\n            Rect.union(elemRect, Html.secureBoundingBox(child));\n        }\n        return elemRect;\n    };\n    Html.unfocus = (owner = self) => {\n        const element = owner.document.activeElement;\n        if (element !== null && \"blur\" in element && typeof element.blur === \"function\") {\n            element.blur();\n        }\n    };\n    Html.selectContent = (element) => {\n        const range = document.createRange();\n        const selection = window.getSelection();\n        if (isDefined(selection)) {\n            range.selectNodeContents(element);\n            selection.removeAllRanges();\n            selection.addRange(range);\n        }\n    };\n    Html.unselectContent = (element) => {\n        const selection = window.getSelection();\n        if (!isDefined(selection) || selection.rangeCount === 0) {\n            return;\n        }\n        if (element.contains(selection.getRangeAt(0).commonAncestorContainer)) {\n            selection.removeAllRanges();\n        }\n    };\n    Html.limitChars = (element, property, limit) => {\n        if (!(property in element))\n            return panic(`${property} not found in ${element}`);\n        if (typeof element[property] !== \"string\")\n            return panic(`${property} in ${element} is not a string`);\n        if (element[property].length > limit) {\n            element[property] = element[property].substring(0, limit);\n            if (element instanceof HTMLInputElement || element instanceof HTMLTextAreaElement) {\n                element.setSelectionRange(limit, limit);\n            }\n            else {\n                const document = element.ownerDocument;\n                const range = document.createRange();\n                const selection = document.defaultView?.getSelection();\n                if (!isDefined(selection)) {\n                    return;\n                }\n                range.selectNodeContents(element);\n                range.collapse(false);\n                selection.removeAllRanges();\n                selection.addRange(range);\n            }\n        }\n    };\n    Html.EmptyGif = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\";\n})(Html || (Html = {}));\n", "import { Browser } from \"./browser\";\nexport const ModfierKeys = (() => {\n    const Mac = { Cmd: \"\u2318\", Opt: \"\u2325\", Shift: \"\u21E7\" };\n    const Win = { Cmd: \"Ctrl\", Opt: \"Alt\", Shift: \"\u21E7\" };\n    return Object.freeze({ Mac, Win, System: Browser.isMacOS() ? Mac : Win });\n})();\n", "export var Stream;\n(function (Stream) {\n    Stream.read = async (reader) => {\n        const chunks = [];\n        while (true) {\n            const { done, value } = await reader.read();\n            if (done) {\n                break;\n            }\n            chunks.push(value);\n        }\n        const length = chunks.reduce((acc, val) => acc + val.length, 0);\n        const output = new Uint8Array(length);\n        let position = 0 | 0;\n        for (let chunk of chunks) {\n            output.set(chunk, position);\n            position += chunk.length;\n        }\n        return output.buffer;\n    };\n})(Stream || (Stream = {}));\n", "export var Svg;\n(function (Svg) {\n    Svg.pathBuilder = () => new class {\n        #d = \"\";\n        moveTo(x, y) {\n            this.#d += `M${x.toFixed(3)} ${y.toFixed(3)}`;\n            return this;\n        }\n        lineTo(x, y) {\n            this.#d += `L${x.toFixed(3)} ${y.toFixed(3)}`;\n            return this;\n        }\n        quadratic(x1, y1, x, y) {\n            this.#d += `Q${x1.toFixed(3)} ${y1.toFixed(3)} ${x.toFixed(3)} ${y.toFixed(3)}`;\n            return this;\n        }\n        quadraticTo(x, y) {\n            this.#d += `T${x.toFixed(3)} ${y.toFixed(3)}`;\n            return this;\n        }\n        cubic(x1, y1, x2, y2, x, y) {\n            this.#d += `Q${x1.toFixed(3)} ${y1.toFixed(3)} ${x2.toFixed(3)} ${y2.toFixed(3)} ${x.toFixed(3)} ${y.toFixed(3)}`;\n            return this;\n        }\n        arc(rx, ry, deg, largeArc, sweep, x, y) {\n            this.#d += `A${rx} ${ry} ${deg} ${largeArc ? 1 : 0} ${sweep ? 1 : 0} ${x.toFixed(3)} ${y.toFixed(3)}`;\n            return this;\n        }\n        circleSegment(cx, cy, radius, a0, a1) {\n            const x0 = cx + Math.cos(a0) * radius;\n            const y0 = cy + Math.sin(a0) * radius;\n            const x1 = cx + Math.cos(a1) * radius;\n            const y1 = cy + Math.sin(a1) * radius;\n            let range = a1 - a0;\n            while (range < 0.0)\n                range += Math.PI * 2.0;\n            return this.moveTo(x0, y0).arc(radius, radius, 0, range > Math.PI, true, x1, y1);\n        }\n        close() {\n            this.#d += \"Z\";\n            return this;\n        }\n        get() { return this.#d; }\n    };\n})(Svg || (Svg = {}));\n", "export var TerminatorUtils;\n(function (TerminatorUtils) {\n    const weakRefs = new Array();\n    /**\n     * Terminates if the key is no longer referenced to.\n     * Make sure that the Terminable does not include other references\n     * that would prevent the key from being gc collected.\n     * That means the key must not appear in the Terminable!\n     * @param key WeakKey\n     * @param subscribe Sends a WeakRef to be able to be gc collected\n     */\n    TerminatorUtils.watchWeak = (key, subscribe) => {\n        const weakRef = new WeakRef(key);\n        const terminable = subscribe(weakRef);\n        weakRefs.push([weakRef, terminable]);\n        if (weakRefs.length === 1) {\n            startWatchWeak();\n        }\n        return key;\n    };\n    const startWatchWeak = () => {\n        console.debug(\"start weak watching\");\n        const id = setInterval(() => {\n            let index = weakRefs.length;\n            while (--index >= 0) {\n                const entry = weakRefs[index];\n                if (entry[0].deref() === undefined) {\n                    entry[1].terminate();\n                    weakRefs.splice(index, 1);\n                    if (weakRefs.length === 0) {\n                        clearInterval(id);\n                    }\n                }\n            }\n        }, 1000);\n    };\n})(TerminatorUtils || (TerminatorUtils = {}));\n", "const key = Symbol.for(\"@openDAW/lib-dom\");\nif (globalThis[key]) {\n    console.debug(`%c${key.description}%c is already available in ${globalThis.constructor.name}.`, \"color: hsl(10, 83%, 60%)\", \"color: inherit\");\n}\nelse {\n    globalThis[key] = true;\n    console.debug(`%c${key.description}%c is now available in ${globalThis.constructor.name}.`, \"color: hsl(200, 83%, 60%)\", \"color: inherit\");\n}\nexport * from \"./browser\";\nexport * from \"./compression\";\nexport * from \"./console-commands\";\nexport * from \"./constraint\";\nexport * from \"./context-2d\";\nexport * from \"./css-utils\";\nexport * from \"./dragging\";\nexport * from \"./events\";\nexport * from \"./files\";\nexport * from \"./fonts\";\nexport * from \"./frames\";\nexport * from \"./html\";\nexport * from \"./keyboard\";\nexport * from \"./modfier-keys\";\nexport * from \"./stream\";\nexport * from \"./svg\";\nexport * from \"./terminable\";\n", "export var PackageType;\n(function (PackageType) {\n    PackageType[PackageType[\"Float\"] = 0] = \"Float\";\n    PackageType[PackageType[\"FloatArray\"] = 1] = \"FloatArray\";\n    PackageType[PackageType[\"Integer\"] = 2] = \"Integer\";\n    PackageType[PackageType[\"IntegerArray\"] = 3] = \"IntegerArray\";\n    PackageType[PackageType[\"ByteArray\"] = 4] = \"ByteArray\";\n})(PackageType || (PackageType = {}));\n", "export var Lock;\n(function (Lock) {\n    Lock[Lock[\"WRITE\"] = 0] = \"WRITE\";\n    Lock[Lock[\"READ\"] = 1] = \"READ\";\n})(Lock || (Lock = {}));\n", "export var Flags;\n(function (Flags) {\n    Flags[Flags[\"ID\"] = 15793935] = \"ID\";\n    Flags[Flags[\"START\"] = 15790320] = \"START\";\n    Flags[Flags[\"END\"] = 986895] = \"END\";\n})(Flags || (Flags = {}));\n", "import { Arrays, assert, ByteArrayOutput, nextPowOf2, Option, safeExecute } from \"@naomiarotest/lib-std\";\nimport { Communicator } from \"@naomiarotest/lib-runtime\";\nimport { Lock } from \"./Lock\";\nimport { PackageType } from \"./PackageType\";\nimport { Flags } from \"./Flags\";\nexport class LiveStreamBroadcaster {\n    static create(messenger, name) {\n        return new LiveStreamBroadcaster(messenger.channel(name));\n    }\n    #packages = [];\n    #lock = new SharedArrayBuffer(1);\n    #lockArray = new Int8Array(this.#lock);\n    #sender;\n    #output = ByteArrayOutput.create(0);\n    #sabOption = Option.None;\n    #availableUpdate = Option.None;\n    #version = -1;\n    #capacity = -1;\n    #invalid = false;\n    #lockShared = false;\n    constructor(messenger) {\n        this.#sender = Communicator.sender(messenger, ({ dispatchAndForget }) => new class {\n            sendShareLock(lock) { dispatchAndForget(this.sendShareLock, lock); }\n            sendUpdateData(buffer) { dispatchAndForget(this.sendUpdateData, buffer); }\n            sendUpdateStructure(buffer) { dispatchAndForget(this.sendUpdateStructure, buffer); }\n        });\n    }\n    flush() {\n        const update = this.#updateAvailable();\n        if (update.nonEmpty()) {\n            if (!this.#lockShared) {\n                this.#sender.sendShareLock(this.#lock);\n                this.#lockShared = true;\n            }\n            this.#sender.sendUpdateStructure(update.unwrap());\n            let capacity = this.#computeCapacity();\n            if (this.#output.remaining < capacity) {\n                const size = nextPowOf2(capacity);\n                const data = new SharedArrayBuffer(size);\n                this.#output = ByteArrayOutput.use(data);\n                this.#sabOption = Option.wrap(data);\n                this.#sender.sendUpdateData(data);\n            }\n        }\n        if (this.#sabOption.isEmpty()) {\n            return;\n        }\n        // If main-thread is not interested, no data will ever be sent again, since it will not set the lock to CAN_WRITE.\n        // No lock is necessary since the other side skips reading until we set the lock to CAN_READ.\n        if (Atomics.load(this.#lockArray, 0) === Lock.WRITE) {\n            this.#flushData(this.#output);\n            this.#output.position = 0;\n            Atomics.store(this.#lockArray, 0, Lock.READ);\n        }\n    }\n    broadcastFloat(address, provider) {\n        return this.#storeChunk(new class {\n            type = PackageType.Float;\n            address = address;\n            capacity = 8;\n            put(output) { output.writeFloat(provider()); }\n        });\n    }\n    broadcastInteger(address, provider) {\n        return this.#storeChunk(new class {\n            type = PackageType.Integer;\n            address = address;\n            capacity = 8;\n            put(output) { output.writeInt(provider()); }\n        });\n    }\n    broadcastFloats(address, values, before, after) {\n        return this.#storeChunk(new class {\n            type = PackageType.FloatArray;\n            address = address;\n            capacity = 4 + (values.byteLength << 2);\n            put(output) {\n                safeExecute(before);\n                output.writeInt(values.length);\n                for (const value of values) {\n                    output.writeFloat(value);\n                }\n                safeExecute(after);\n            }\n        });\n    }\n    broadcastIntegers(address, values, update) {\n        return this.#storeChunk(new class {\n            type = PackageType.IntegerArray;\n            address = address;\n            capacity = 4 + (values.byteLength << 2);\n            put(output) {\n                update();\n                output.writeInt(values.length);\n                values.forEach(value => output.writeInt(value));\n            }\n        });\n    }\n    broadcastByteArray(address, values, update) {\n        return this.#storeChunk(new class {\n            type = PackageType.ByteArray;\n            address = address;\n            capacity = 4 + values.byteLength;\n            put(output) {\n                update();\n                output.writeInt(values.byteLength);\n                output.writeBytes(values);\n            }\n        });\n    }\n    #updateAvailable() {\n        if (this.#invalid) {\n            try {\n                this.#availableUpdate = Option.wrap(this.#compileStructure());\n            }\n            catch (reason) {\n                throw reason;\n            }\n            this.#invalid = false;\n        }\n        if (this.#availableUpdate.nonEmpty()) {\n            const option = this.#availableUpdate;\n            this.#availableUpdate = Option.None;\n            return option;\n        }\n        return Option.None;\n    }\n    #computeCapacity() {\n        if (-1 === this.#capacity) {\n            this.#capacity = this.#sumRequiredCapacity() + 12;\n        }\n        return this.#capacity;\n    }\n    terminate() {\n        Arrays.clear(this.#packages);\n        this.#availableUpdate = Option.None;\n        this.#invalid = false;\n        this.#capacity = 0;\n    }\n    #flushData(output) {\n        assert(!this.#invalid && this.#availableUpdate.isEmpty(), \"Cannot flush while update is available\");\n        let requiredCapacity = this.#computeCapacity();\n        assert(output.remaining >= requiredCapacity, \"Insufficient data\");\n        output.writeInt(this.#version);\n        output.writeInt(Flags.START);\n        for (const pack of this.#packages) {\n            pack.put(output);\n        }\n        output.writeInt(Flags.END);\n    }\n    #sumRequiredCapacity() {\n        return this.#packages.reduce((sum, pack) => sum + pack.capacity, 0);\n    }\n    #storeChunk(pack) {\n        this.#packages.push(pack);\n        this.#invalidate();\n        return {\n            terminate: () => {\n                Arrays.removeOpt(this.#packages, pack);\n                this.#invalidate();\n            }\n        };\n    }\n    #invalidate() {\n        this.#capacity = -1;\n        this.#invalid = true;\n    }\n    #compileStructure() {\n        const output = ByteArrayOutput.create();\n        output.writeInt(Flags.ID);\n        output.writeInt(++this.#version);\n        output.writeInt(this.#packages.length);\n        for (const { address, type } of this.#packages) {\n            address.write(output);\n            output.writeByte(type);\n        }\n        return output.toArrayBuffer();\n    }\n}\n", "import { Arrays, assert, ByteArrayOutput, Float16, Unhandled } from \"@naomiarotest/lib-std\";\nexport var Peaks;\n(function (Peaks) {\n    class Stage {\n        shift;\n        numPeaks;\n        dataOffset;\n        constructor(shift, numPeaks, dataOffset) {\n            this.shift = shift;\n            this.numPeaks = numPeaks;\n            this.dataOffset = dataOffset;\n        }\n        unitsEachPeak() { return 1 << this.shift; }\n    }\n    Peaks.Stage = Stage;\n    Peaks.unpack = (bits, index) => {\n        switch (index) {\n            case 0:\n                return Float16.intBitsToFloat(bits);\n            case 1:\n                return Float16.intBitsToFloat(bits >> 16);\n            default:\n                return Unhandled(index);\n        }\n    };\n})(Peaks || (Peaks = {}));\nexport class SamplePeaks {\n    stages;\n    data;\n    numFrames;\n    numChannels;\n    static from(input) {\n        assert(input.readString() === \"PEAKS\", \"Wrong header\");\n        const numStages = input.readInt();\n        const stages = [];\n        for (let i = 0; i < numStages; i++) {\n            const dataOffset = input.readInt();\n            const numPeaks = input.readInt();\n            const shift = input.readInt();\n            input.readInt(); // TODO deprecate (was mask)\n            stages[i] = new Peaks.Stage(shift, numPeaks, dataOffset);\n        }\n        const numData = input.readInt();\n        const data = [];\n        for (let i = 0; i < numData; i++) {\n            const array = new Int8Array(input.readInt());\n            input.readBytes(array);\n            data[i] = new Int32Array(array.buffer);\n        }\n        const numFrames = input.readInt();\n        const numChannels = input.readInt();\n        return new SamplePeaks(stages, data, numFrames, numChannels);\n    }\n    static None = new SamplePeaks([], [], 0, 0);\n    static findBestFit = (numFrames, width = 1200) => {\n        const ratio = numFrames / width;\n        if (ratio <= 1.0) {\n            return new Uint8Array(0);\n        }\n        const ShiftPadding = 3;\n        const maxShift = Math.floor(Math.log(ratio) / Math.LN2);\n        const numStages = Math.max(1, Math.floor(maxShift / ShiftPadding));\n        return new Uint8Array(Arrays.create(index => ShiftPadding * (index + 1), numStages));\n    };\n    constructor(stages, data, numFrames, numChannels) {\n        this.stages = stages;\n        this.data = data;\n        this.numFrames = numFrames;\n        this.numChannels = numChannels;\n    }\n    nearest(unitsPerPixel) {\n        if (this.stages.length === 0) {\n            return null;\n        }\n        const shift = Math.floor(Math.log(Math.abs(unitsPerPixel)) / Math.LN2);\n        let i = this.stages.length;\n        while (--i > -1) {\n            if (shift >= this.stages[i].shift) {\n                return this.stages[i];\n            }\n        }\n        return this.stages[0];\n    }\n    toArrayBuffer() {\n        const output = ByteArrayOutput.create();\n        output.writeString(\"PEAKS\");\n        output.writeInt(this.stages.length);\n        for (let i = 0; i < this.stages.length; i++) {\n            const { dataOffset, numPeaks, shift } = this.stages[i];\n            output.writeInt(dataOffset);\n            output.writeInt(numPeaks);\n            output.writeInt(shift);\n            output.writeInt((1 << shift) - 1); // TODO deprecate (was mask)\n        }\n        output.writeInt(this.data.length);\n        for (let i = 0; i < this.data.length; i++) {\n            const array = new Int8Array(this.data[i].buffer);\n            output.writeInt(array.length);\n            output.writeBytes(array);\n        }\n        output.writeInt(this.numFrames);\n        output.writeInt(this.numChannels);\n        return output.toArrayBuffer();\n    }\n    toString() { return `{SamplePeaks num-stages: ${this.stages.length}}`; }\n}\n", "import { Arrays, Float16, panic } from \"@naomiarotest/lib-std\";\nimport { Communicator, stopwatch } from \"@naomiarotest/lib-runtime\";\nimport { Peaks, SamplePeaks } from \"./Peaks\";\nexport var SamplePeakWorker;\n(function (SamplePeakWorker) {\n    SamplePeakWorker.install = (messenger) => Communicator.executor(messenger.channel(\"peaks\"), new class {\n        async generateAsync(progress, shifts, frames, numFrames, numChannels) {\n            return generatePeaks(progress, shifts, frames, numFrames, numChannels).toArrayBuffer();\n        }\n    });\n    const generatePeaks = (progress, shifts, frames, numFrames, numChannels) => {\n        if (frames.length !== numChannels) {\n            return panic(`Invalid numberOfChannels. Expected: ${numChannels}. Got ${frames.length}`);\n        }\n        class State {\n            min = Number.POSITIVE_INFINITY;\n            max = Number.NEGATIVE_INFINITY;\n            index = 0;\n        }\n        const time = stopwatch();\n        const numShifts = shifts.length;\n        const [stages, dataOffset] = initStages(shifts, numFrames);\n        const data = Arrays.create(() => new Int32Array(dataOffset), numChannels);\n        const minMask = (1 << stages[0].shift) - 1;\n        const total = numChannels * numFrames;\n        let count = 0;\n        for (let channel = 0; channel < numChannels; ++channel) {\n            const channelData = data[channel];\n            const channelFrames = frames[channel];\n            const states = Arrays.create(() => new State(), numShifts);\n            let min = Number.POSITIVE_INFINITY;\n            let max = Number.NEGATIVE_INFINITY;\n            let position = 0;\n            for (let i = 0; i < numFrames; ++i) {\n                const frame = channelFrames[i];\n                min = Math.min(frame, min);\n                max = Math.max(frame, max);\n                if ((++position & minMask) === 0) {\n                    for (let j = 0; j < numShifts; ++j) {\n                        const stage = stages[j];\n                        const state = states[j];\n                        state.min = Math.min(state.min, min);\n                        state.max = Math.max(state.max, max);\n                        if ((((1 << stage.shift) - 1) & position) === 0) {\n                            channelData[stage.dataOffset + state.index++] = SamplePeakWorker.pack(state.min, state.max);\n                            state.min = Number.POSITIVE_INFINITY;\n                            state.max = Number.NEGATIVE_INFINITY;\n                        }\n                    }\n                    min = Number.POSITIVE_INFINITY;\n                    max = Number.NEGATIVE_INFINITY;\n                }\n                if ((++count & 0xFFFF) === 0) {\n                    progress(count / total);\n                }\n            }\n        }\n        progress(1.0);\n        time.lab(`SamplePeaks '${self.constructor.name}'`);\n        return new SamplePeaks(stages, data, numFrames, numChannels);\n    };\n    const initStages = (shifts, numFrames) => {\n        let dataOffset = 0;\n        const stages = Arrays.create((index) => {\n            const shift = shifts[index];\n            const numPeaks = Math.ceil(numFrames / (1 << shift));\n            const stage = new Peaks.Stage(shift, numPeaks, dataOffset);\n            dataOffset += numPeaks;\n            return stage;\n        }, shifts.length);\n        return [stages, dataOffset];\n    };\n    SamplePeakWorker.pack = (f0, f1) => {\n        const bits0 = Float16.floatToIntBits(f0);\n        const bits1 = Float16.floatToIntBits(f1);\n        return bits0 | (bits1 << 16);\n    };\n})(SamplePeakWorker || (SamplePeakWorker = {}));\n", "import { Peaks } from \"./Peaks\";\nexport var PeaksPainter;\n(function (PeaksPainter) {\n    PeaksPainter.renderBlocks = (path, peaks, channelIndex, { u0, u1, v0, v1, x0, x1, y0, y1 }) => {\n        const unitsEachPixel = (u1 - u0) / (x1 - x0);\n        const stage = peaks.nearest(unitsEachPixel);\n        if (stage === null) {\n            return;\n        }\n        const scale = (y1 - y0 - 1.0) / (v1 - v0);\n        const unitsEachPeak = stage.unitsEachPeak();\n        const pixelOverFlow = x0 - Math.floor(x0);\n        const peaksEachPixel = unitsEachPixel / unitsEachPeak;\n        let from = (u0 - pixelOverFlow * unitsEachPixel) / unitsEachPixel * peaksEachPixel;\n        let indexFrom = Math.floor(from);\n        let min = 0.0;\n        let max = 0.0;\n        const data = peaks.data[channelIndex];\n        for (let x = Math.floor(x0); x < Math.floor(x1); x++) {\n            const to = from + peaksEachPixel;\n            const indexTo = Math.floor(to);\n            let swap = false;\n            while (indexFrom < indexTo) {\n                const bits = data[stage.dataOffset + indexFrom++];\n                min = Math.min(Peaks.unpack(bits, 0), min);\n                max = Math.max(Peaks.unpack(bits, 1), max);\n                swap = true;\n            }\n            const yMin = y0 + Math.floor((min - v0) * scale);\n            const yMax = y0 + Math.floor((max - v0) * scale);\n            const ry0 = Math.max(y0, Math.min(yMin, yMax));\n            const ry1 = Math.min(y1, Math.max(yMin, yMax));\n            path.fillRect(x, ry0, 1, ry1 === ry0 ? 1 : ry1 - ry0);\n            if (swap) {\n                const tmp = max;\n                max = min;\n                min = tmp;\n            }\n            from = to;\n            indexFrom = indexTo;\n        }\n    };\n})(PeaksPainter || (PeaksPainter = {}));\n", "import { Arrays, asDefined, isNotUndefined, panic } from \"@naomiarotest/lib-std\";\nimport { Communicator, Promises } from \"@naomiarotest/lib-runtime\";\nimport \"../types\";\nexport var OpfsWorker;\n(function (OpfsWorker) {\n    const DEBUG = false;\n    OpfsWorker.init = (messenger) => Communicator.executor(messenger.channel(\"opfs\"), new class {\n        #locks = new Map();\n        async write(path, data) {\n            await this.#acquireLock(path, async () => {\n                if (DEBUG) {\n                    console.debug(`write ${data.length}b to ${path}`);\n                }\n                const handle = await this.#resolveFile(path, { create: true });\n                try {\n                    handle.truncate(data.length);\n                    handle.write(data.buffer, { at: 0 });\n                    handle.flush();\n                }\n                finally {\n                    handle.close();\n                }\n            });\n        }\n        async read(path) {\n            return await this.#acquireLock(path, async () => {\n                if (DEBUG) {\n                    console.debug(`read ${path}`);\n                }\n                const handle = await this.#resolveFile(path);\n                try {\n                    const size = handle.getSize();\n                    const buffer = new Uint8Array(size);\n                    handle.read(buffer);\n                    return buffer;\n                }\n                finally {\n                    handle.close();\n                }\n            });\n        }\n        async delete(path) {\n            await this.#acquireLock(path, async () => {\n                const segments = pathToSegments(path);\n                if (segments.length === 0) {\n                    return this.clear();\n                }\n                return this.#resolveFolder(segments.slice(0, -1))\n                    .then(folder => folder.removeEntry(asDefined(segments.at(-1)), { recursive: true }));\n            });\n        }\n        async list(path) {\n            const segments = pathToSegments(path);\n            const { status, value: folder } = await Promises.tryCatch(this.#resolveFolder(segments));\n            if (status === \"rejected\") {\n                return Arrays.empty();\n            }\n            const result = [];\n            for await (const { name, kind } of folder.values()) {\n                result.push({ name, kind });\n            }\n            return result;\n        }\n        async clear() {\n            const root = await navigator.storage.getDirectory();\n            for await (const [name, handle] of root.entries()) {\n                if (handle.kind === \"file\") {\n                    await root.removeEntry(name);\n                }\n                else if (handle.kind === \"directory\") {\n                    await root.removeEntry(name, { recursive: true });\n                }\n            }\n        }\n        async #acquireLock(path, operation) {\n            while (true) {\n                const existingLock = this.#locks.get(path);\n                if (isNotUndefined(existingLock)) {\n                    await existingLock;\n                    continue;\n                }\n                let releaseLock = () => panic(\"Lock not acquired\");\n                const lockPromise = new Promise(resolve => releaseLock = resolve);\n                this.#locks.set(path, lockPromise);\n                try {\n                    return await operation();\n                }\n                finally {\n                    if (this.#locks.get(path) === lockPromise) {\n                        this.#locks.delete(path);\n                    }\n                    releaseLock();\n                }\n            }\n        }\n        async #resolveFile(path, options) {\n            const segments = pathToSegments(path);\n            const folder = await this.#resolveFolder(segments.slice(0, -1), options);\n            const fileHandle = await folder.getFileHandle(asDefined(segments.at(-1)), options);\n            return await fileHandle.createSyncAccessHandle();\n        }\n        async #resolveFolder(segments, options) {\n            let folder = await navigator.storage.getDirectory();\n            for (const segment of segments) {\n                folder = await folder.getDirectoryHandle(segment, options);\n            }\n            return folder;\n        }\n    });\n    const pathToSegments = (path) => {\n        const noSlashes = path.replace(/^\\/+|\\/+$/g, \"\");\n        return noSlashes === \"\" ? [] : noSlashes.split(\"/\");\n    };\n})(OpfsWorker || (OpfsWorker = {}));\n", "const key = Symbol.for(\"@openDAW/lib-fusion\");\nif (globalThis[key]) {\n    console.debug(`%c${key.description}%c is already available in ${globalThis.constructor.name}.`, \"color: hsl(10, 83%, 60%)\", \"color: inherit\");\n}\nelse {\n    globalThis[key] = true;\n    console.debug(`%c${key.description}%c is now available in ${globalThis.constructor.name}.`, \"color: hsl(200, 83%, 60%)\", \"color: inherit\");\n}\nimport \"./types\";\nexport * from \"./live-stream/LiveStreamReceiver\";\nexport * from \"./live-stream/LiveStreamBroadcaster\";\nexport * from \"./peaks/Peaks\";\nexport * from \"./peaks/SamplePeakWorker\";\nexport * from \"./peaks/SamplePeakProtocol\";\nexport * from \"./peaks/PeaksPainter\";\nexport * from \"./opfs/OpfsWorker\";\nexport * from \"./opfs/OpfsProtocol\";\n", "import {BlockFlag, ProcessInfo} from \"./processing\"\nimport {AudioBuffer, Fragmentor, PPQN, RenderQuantum} from \"@naomiarotest/lib-dsp\"\nimport {assert, Bits, int, TAU} from \"@naomiarotest/lib-std\"\nimport {TimeInfo} from \"./TimeInfo\"\nimport {TimelineBoxAdapter} from \"@naomiarotest/studio-adapters\"\n\nexport class Metronome {\n    readonly #timelineBoxAdapter: TimelineBoxAdapter\n    readonly #timeInfo: TimeInfo\n    readonly #output = new AudioBuffer()\n    readonly #clicks: Click[] = []\n\n    constructor(timelineBoxAdapter: TimelineBoxAdapter, timeInfo: TimeInfo) {\n        this.#timelineBoxAdapter = timelineBoxAdapter\n        this.#timeInfo = timeInfo\n    }\n\n    process({blocks}: ProcessInfo): void {\n        blocks.forEach(({p0, p1, bpm, s0, s1, flags}) => {\n            if (this.#timeInfo.metronomeEnabled && Bits.every(flags, BlockFlag.transporting)) {\n                const [nominator, denominator] = this.#timelineBoxAdapter.signature\n                const stepSize = PPQN.fromSignature(1, denominator)\n                for (const position of Fragmentor.iterate(p0, p1, stepSize)) {\n                    assert(p0 <= position && position < p1, () => `${position} out of bounds (${p0}, ${p1})`)\n                    const distanceToEvent = Math.floor(PPQN.pulsesToSamples(position - p0, bpm, sampleRate))\n                    this.#clicks.push(new Click(position, s0 + distanceToEvent, nominator, denominator))\n                }\n            }\n            this.#output.clear(s0, s1)\n            for (let i = this.#clicks.length - 1; i >= 0; i--) {\n                const processor = this.#clicks[i]\n                if (processor.processAdd(this.#output, s0, s1)) {\n                    this.#clicks.splice(i, 1)\n                }\n            }\n        })\n    }\n\n    get output(): AudioBuffer {return this.#output}\n}\n\nclass Click {\n    readonly #frequency: number\n\n    #position: int = 0 | 0\n    #startIndex: int = 0 | 0\n\n    constructor(timeCode: number, startIndex: int, nominator: int, denominator: int) {\n        assert(startIndex >= 0 && startIndex < RenderQuantum, `${startIndex} out of bounds`)\n        this.#frequency = PPQN.toParts(timeCode, nominator, denominator).beats === 0 ? 880.0 : 440.0\n        this.#startIndex = startIndex\n    }\n\n    processAdd(buffer: AudioBuffer, start: int, end: int): boolean {\n        const [l, r] = buffer.channels()\n        const attack = Math.floor(0.002 * sampleRate)\n        const release = Math.floor(0.050 * sampleRate)\n        for (let index = Math.max(this.#startIndex, start); index < end; index++) {\n            const env = Math.min(this.#position / attack, 1.0 - (this.#position - attack) / release)\n            const amp = Math.sin(this.#position / sampleRate * TAU * this.#frequency) * 0.25 * env * env\n            l[index] += amp\n            r[index] += amp\n            if (++this.#position > attack + release) {return true}\n        }\n        this.#startIndex = 0\n        return false\n    }\n}", "import {ppqn, PPQN, RenderQuantum} from \"@naomiarotest/lib-dsp\"\nimport {Block, BlockFlags, ProcessInfo} from \"./processing\"\nimport {EngineContext} from \"./EngineContext\"\nimport {Exec, int, isDefined, Iterables, Nullable, Procedure, SetMultimap, Terminable} from \"@naomiarotest/lib-std\"\nimport {MarkerBoxAdapter} from \"@naomiarotest/studio-adapters\"\n\ntype Action = null\n    | { type: \"loop\", target: ppqn }\n    | { type: \"marker\", prev: MarkerBoxAdapter, next: MarkerBoxAdapter }\n    | { type: \"callback\", position: ppqn, callbacks: ReadonlySet<Exec> }\n\nexport class BlockRenderer {\n    readonly #context: EngineContext\n\n    readonly #callbacks: SetMultimap<ppqn, Exec>\n    readonly #pauseOnLoopDisabled: boolean = true\n\n    #tempoChanged: boolean = false\n    #currentMarker: Nullable<[MarkerBoxAdapter, int]> = null\n    #someMarkersChanged: boolean = false\n    #freeRunningPosition: ppqn = 0.0 // synced with timeInfo when transporting\n\n    constructor(context: EngineContext, options?: { pauseOnLoopDisabled?: boolean }) {\n        this.#context = context\n        this.#context.timelineBoxAdapter.markerTrack.subscribe(() => this.#someMarkersChanged = true)\n        this.#context.timelineBoxAdapter.box.bpm.subscribe(() => this.#tempoChanged = true)\n        this.#pauseOnLoopDisabled = options?.pauseOnLoopDisabled ?? false\n\n        this.#callbacks = new SetMultimap()\n    }\n\n    setCallback(position: ppqn, callback: Exec): Terminable {\n        this.#callbacks.add(position, callback)\n        return Terminable.create(() => this.#callbacks.remove(position, callback))\n    }\n\n    reset(): void {\n        this.#tempoChanged = false\n        this.#someMarkersChanged = false\n        this.#freeRunningPosition = 0.0\n        this.#currentMarker = null\n    }\n\n    process(procedure: Procedure<ProcessInfo>): void {\n        let markerChanged = false\n\n        const {timeInfo, timelineBoxAdapter: {box: timelineBox, markerTrack}} = this.#context\n        const bpm = timelineBox.bpm.getValue()\n        const transporting = timeInfo.transporting\n        if (transporting) {\n            const blocks: Array<Block> = []\n            let p0 = timeInfo.position\n            let s0: int = 0 | 0\n            let index: int = 0 | 0\n            let discontinuous = timeInfo.getLeapStateAndReset()\n            while (s0 < RenderQuantum) {\n                if (this.#someMarkersChanged || discontinuous) {\n                    this.#someMarkersChanged = false\n                    const marker = markerTrack.events.lowerEqual(p0)\n                    if ((this.#currentMarker?.at(0) ?? null) !== marker) {\n                        this.#currentMarker = isDefined(marker) ? [marker, 0] : null\n                        markerChanged = true\n                    }\n                }\n                const sn: int = RenderQuantum - s0\n                const p1 = p0 + PPQN.samplesToPulses(sn, bpm, sampleRate)\n                let action: Action = null\n                let actionPosition: ppqn = Number.POSITIVE_INFINITY\n\n                //\n                // evaluate nearest global action\n                //\n\n                // --- MARKER ---\n                if (markerTrack.enabled) {\n                    const markers = Array.from(Iterables.take(markerTrack.events.iterateFrom(p0), 2))\n                    if (markers.length > 0) {\n                        const [prev, next] = markers\n                        // This branch happens if all markers are in the future\n                        if (this.#currentMarker === null) {\n                            if (prev.position >= p0 && prev.position < p1) {\n                                action = {type: \"marker\", prev, next}\n                                actionPosition = prev.position\n                            }\n                        } else if (\n                            isDefined(next)\n                            && next !== this.#currentMarker[0] // must be different from the current\n                            && prev.position < p0 // must be in the past\n                            && next.position < p1 // must be inside the block\n                        ) {\n                            action = {type: \"marker\", prev, next}\n                            actionPosition = next.position\n                        }\n                    }\n                }\n                // --- LOOP SECTION ---\n                const {isRecording, isCountingIn} = this.#context.timeInfo // TODO We need a concept for loops in recording\n                const {from, to, enabled} = timelineBox.loopArea\n                const loopEnabled = enabled.getValue()\n                if ((loopEnabled && !(isRecording || isCountingIn)) || this.#pauseOnLoopDisabled) {\n                    const loopTo = to.getValue()\n                    if (p0 < loopTo && p1 > loopTo && loopTo < actionPosition) {\n                        action = {type: \"loop\", target: from.getValue()}\n                        actionPosition = loopTo\n                    }\n                }\n                // --- ARM PLAYING ---\n                if (this.#callbacks.keyCount() > 0) {\n                    for (const position of this.#callbacks.keys()) {\n                        if (p0 < position && p1 > position && position < actionPosition) {\n                            action = {type: \"callback\", position, callbacks: this.#callbacks.get(position)}\n                            actionPosition = position\n                        }\n                    }\n                }\n                //\n                // handle action (if any)\n                //\n                const playing = !timeInfo.isCountingIn\n                if (action === null) {\n                    const s1 = s0 + sn\n                    blocks.push({\n                        index: index++, p0, p1, s0, s1, bpm,\n                        flags: BlockFlags.create(transporting, discontinuous, playing, this.#tempoChanged)\n                    })\n                    discontinuous = false\n                    p0 = p1\n                    s0 = s1\n                } else {\n                    const advanceToEvent = () => {\n                        if (actionPosition > p0) {\n                            const s1 = s0 + PPQN.pulsesToSamples(actionPosition - p0, bpm, sampleRate) | 0\n                            blocks.push({\n                                index: index++, p0, p1: actionPosition, s0, s1, bpm,\n                                flags: BlockFlags.create(transporting, discontinuous, playing, this.#tempoChanged)\n                            })\n                            discontinuous = false\n                            p0 = actionPosition\n                            s0 = s1\n                        }\n                    }\n                    const releaseBlock = () => {\n                        if (s0 < RenderQuantum) {\n                            const s1 = s0 + PPQN.pulsesToSamples(p1 - p0, bpm, sampleRate) | 0\n                            blocks.push({\n                                index: index++, p0, p1: actionPosition, s0, s1, bpm,\n                                flags: BlockFlags.create(false, false, false, this.#tempoChanged)\n                            })\n                            s0 = s1\n                        }\n                    }\n                    switch (action.type) {\n                        case \"loop\": {\n                            advanceToEvent()\n                            if (this.#pauseOnLoopDisabled) {\n                                this.#context.timeInfo.pause()\n                                releaseBlock()\n                            } else {\n                                p0 = action.target\n                                discontinuous = true\n                            }\n                            break\n                        }\n                        case \"marker\": {\n                            const {prev, next} = action\n                            if (!isDefined(this.#currentMarker) || this.#currentMarker[0] !== prev) {\n                                this.#currentMarker = [prev, 0]\n                            } else {\n                                if (++this.#currentMarker[1] < prev.plays || prev.plays === 0) {\n                                    advanceToEvent()\n                                    p0 = prev.position\n                                    discontinuous = true\n                                } else {\n                                    this.#currentMarker = [next, 0]\n                                }\n                            }\n                            markerChanged = true\n                            break\n                        }\n                        case \"callback\": {\n                            advanceToEvent()\n                            action.callbacks.forEach(callback => callback())\n                            break\n                        }\n                    }\n                }\n                this.#tempoChanged = false\n            }\n            procedure({blocks})\n            timeInfo.advanceTo(p0)\n            this.#freeRunningPosition = p0\n        } else {\n            if (this.#someMarkersChanged || timeInfo.getLeapStateAndReset()) {\n                this.#someMarkersChanged = false\n                const marker = markerTrack.events.lowerEqual(timeInfo.position)\n                if (marker !== null) {\n                    if (this.#currentMarker?.at(0) !== marker) {\n                        this.#currentMarker = [marker, 0]\n                        markerChanged = true\n                    }\n                }\n            }\n            const p0 = this.#freeRunningPosition\n            const p1 = p0 + PPQN.samplesToPulses(RenderQuantum, bpm, sampleRate)\n            const processInfo: ProcessInfo = {\n                blocks: [{\n                    index: 0, p0, p1, s0: 0, s1: RenderQuantum, bpm,\n                    flags: BlockFlags.create(false, false, false, false)\n                }]\n            }\n            procedure(processInfo)\n            this.#freeRunningPosition = p1\n        }\n        if (markerChanged) {\n            this.#context.engineToClient.switchMarkerState(isDefined(this.#currentMarker)\n                ? [this.#currentMarker[0].uuid, this.#currentMarker[1]] : null)\n        }\n    }\n}", "import {Peaks} from \"@naomiarotest/lib-fusion\"\nimport {AudioData, EngineToClient, SampleLoader, SampleLoaderManager, SampleLoaderState} from \"@naomiarotest/studio-adapters\"\nimport {Observer, Option, SortedSet, Subscription, Terminable, UUID} from \"@naomiarotest/lib-std\"\n\nclass AudioLoaderWorklet implements SampleLoader {\n    readonly peaks: Option<Peaks> = Option.None\n    readonly #state: SampleLoaderState = {type: \"idle\"}\n\n    #data: Option<AudioData> = Option.None\n\n    constructor(readonly uuid: UUID.Bytes, readonly engineToClient: EngineToClient) {\n        engineToClient.fetchAudio(uuid).then((data) => this.#data = Option.wrap(data))\n    }\n\n    get data(): Option<AudioData> {return this.#data}\n    get state(): SampleLoaderState {return this.#state}\n\n    subscribe(_observer: Observer<SampleLoaderState>): Subscription {return Terminable.Empty}\n    invalidate(): void {}\n\n    toString(): string {return `{AudioLoaderWorklet}`}\n}\n\nexport class SampleManagerWorklet implements SampleLoaderManager {\n    readonly #engineToClient: EngineToClient\n    readonly #set: SortedSet<UUID.Bytes, SampleLoader>\n\n    constructor(engineToClient: EngineToClient) {\n        this.#engineToClient = engineToClient\n        this.#set = UUID.newSet<SampleLoader>(handler => handler.uuid)\n    }\n\n    record(_loader: SampleLoader): void {}\n\n    getOrCreate(uuid: UUID.Bytes): SampleLoader {\n        return this.#set.getOrCreate(uuid, uuid => new AudioLoaderWorklet(uuid, this.#engineToClient))\n    }\n\n    remove(_uuid: UUID.Bytes) {}\n    invalidate(_uuid: UUID.Bytes) {}\n}", "import {\n    AnyClipBoxAdapter,\n    ClipSequencing,\n    ClipSequencingUpdates,\n    Section,\n    TrackBoxAdapter\n} from \"@naomiarotest/studio-adapters\"\nimport {Arrays, identity, Option, quantizeFloor, SortedSet, UUID} from \"@naomiarotest/lib-std\"\nimport {ppqn, PPQN} from \"@naomiarotest/lib-dsp\"\nimport {BoxGraph, Update} from \"@naomiarotest/lib-box\"\n\n// Just convenient to identify which UUID is for which type\ntype ClipKey = UUID.Bytes\ntype TrackKey = UUID.Bytes\n\nclass TrackState {\n    waiting: Option<Option<AnyClipBoxAdapter>> = Option.None\n    playing: Option<AnyClipBoxAdapter> = Option.None\n\n    constructor(readonly uuid: TrackKey) {}\n}\n\nexport class ClipSequencingAudioContext implements ClipSequencing {\n    readonly #boxGraph: BoxGraph\n    readonly #states: SortedSet<TrackKey, TrackState>\n\n    readonly #started: Array<ClipKey> = []\n    readonly #stopped: Array<ClipKey> = []\n    readonly #obsolete: Array<ClipKey> = []\n\n    constructor(boxGraph: BoxGraph) {\n        this.#boxGraph = boxGraph\n        this.#boxGraph.subscribeToAllUpdatesImmediate({\n            onUpdate: (update: Update) => {\n                if (update.type === \"delete\") {\n                    const uuid = update.uuid\n                    // handle track deletion\n                    this.#states.opt(uuid).ifSome(state => {\n                        state.playing.ifSome(playing => this.#onStop(playing.uuid))\n                        state.playing = Option.None\n                        state.waiting = Option.None\n                    })\n                    // handle clip deletion\n                    this.#states.forEach(state => {\n                        if (state.playing.nonEmpty() && UUID.equals(state.playing.unwrap().uuid, uuid)) {\n                            state.playing = Option.None\n                            this.#onStop(uuid)\n                        }\n                        const optWaiting = state.waiting.flatMap(identity)\n                        if (optWaiting.nonEmpty() && UUID.equals(optWaiting.unwrap().uuid, uuid)) {\n                            state.waiting = Option.None\n                        }\n                    })\n                }\n            }\n        })\n        this.#states = UUID.newSet<TrackState>(state => state.uuid)\n    }\n\n    schedulePlay(clipAdapter: AnyClipBoxAdapter): void {\n        clipAdapter.trackBoxAdapter.ifSome(({uuid}) => {\n            const trackState = this.#states.getOrCreate(uuid, uuid => new TrackState(uuid))\n            if (trackState.playing.nonEmpty() && trackState.playing.unwrap() === clipAdapter) {\n                console.debug(`${clipAdapter} is already playing (ignore)`)\n                return\n            }\n            const optClip = trackState.waiting.flatMap(waiting => waiting)\n            if (optClip.nonEmpty()) {\n                console.debug(\"obsolete\", optClip.unwrap())\n                this.#obsolete.push(optClip.unwrap().uuid)\n                trackState.waiting = Option.None\n            }\n            console.debug(`schedulePlay(${UUID.toString(trackState.uuid)} > ${clipAdapter})`)\n            Arrays.removeOpt(this.#obsolete, clipAdapter.uuid)\n            trackState.waiting = Option.wrap(Option.wrap(clipAdapter))\n        })\n    }\n\n    scheduleStop({uuid}: TrackBoxAdapter): void {\n        const trackState = this.#states.getOrCreate(uuid, uuid => new TrackState(uuid))\n        const optClip = trackState.waiting.flatMap(waiting => waiting)\n        if (optClip.nonEmpty()) {\n            console.debug(\"obsolete\", optClip.unwrap())\n            this.#obsolete.push(optClip.unwrap().uuid)\n            trackState.waiting = Option.None\n        }\n        if (trackState.playing.nonEmpty()) {\n            console.debug(`scheduleStop(${UUID.toString(uuid)})`)\n            trackState.waiting = Option.wrap(Option.None)\n        }\n    }\n\n    reset(): void {\n        this.#states.forEach(state => {\n            state.waiting.ifSome(waiting => waiting.ifSome(clip => this.#obsolete.push(clip.uuid)))\n            state.waiting = Option.None\n            state.playing.ifSome(clip => this.#onStop(clip.uuid))\n            state.playing = Option.None\n        })\n        this.#states.clear()\n    }\n\n    * iterate(trackKey: TrackKey, p0: ppqn, p1: ppqn): Generator<Section> {\n        const state = this.#states.getOrNull(trackKey)\n        if (state === null) {\n            yield {optClip: Option.None, sectionFrom: p0, sectionTo: p1}\n            return\n        }\n        if (state.waiting.nonEmpty()) {\n            const optNextClip = state.waiting.unwrap()\n            const scheduleDuration = state.playing.mapOr(clip => clip.duration, PPQN.Bar) // Use format values\n            const scheduleEnd = quantizeFloor(p1, scheduleDuration)\n            if (scheduleEnd >= p0) {\n                if (p0 < scheduleEnd) {\n                    // process to schedule time\n                    yield {optClip: state.playing, sectionFrom: p0, sectionTo: scheduleEnd}\n                }\n                state.waiting = Option.None // clear the next pointer\n                state.playing.ifSome(clip => this.#onStop(clip.uuid))\n                if (optNextClip.nonEmpty()) {\n                    state.playing = optNextClip // play next clip\n                    this.#onStart(optNextClip.unwrap().uuid)\n                } else {\n                    state.playing = Option.None // stop playing clip\n                }\n                yield {optClip: state.playing, sectionFrom: scheduleEnd, sectionTo: p1}\n            } else {\n                yield {optClip: state.playing, sectionFrom: p0, sectionTo: p1}\n            }\n        } else {\n            if (state.playing.nonEmpty()) {\n                const playing = state.playing.unwrap()\n                if (playing.box.playback.loop.getValue()) {\n                    yield {optClip: state.playing, sectionFrom: p0, sectionTo: p1}\n                } else {\n                    const scheduleEnd = quantizeFloor(p0, playing.duration) + playing.duration\n                    if (scheduleEnd <= p1) {\n                        yield {optClip: state.playing, sectionFrom: p0, sectionTo: scheduleEnd}\n                        state.playing = Option.None\n                        this.#onStop(playing.uuid)\n                        if (scheduleEnd < p1) {\n                            yield {optClip: Option.None, sectionFrom: scheduleEnd, sectionTo: p1}\n                        }\n                    } else {\n                        yield {optClip: state.playing, sectionFrom: p0, sectionTo: p1}\n                    }\n                }\n            } else {\n                yield {optClip: Option.None, sectionFrom: p0, sectionTo: p1}\n            }\n        }\n    }\n\n    changes(): Option<ClipSequencingUpdates> {\n        if (this.#started.length > 0 || this.#stopped.length > 0 || this.#obsolete.length > 0) {\n            const changes = Option.wrap({\n                started: this.#started.slice(),\n                stopped: this.#stopped.slice(),\n                obsolete: this.#obsolete.slice()\n            })\n            this.#started.length = 0\n            this.#stopped.length = 0\n            this.#obsolete.length = 0\n            return changes\n        }\n        return Option.None\n    }\n\n    terminate(): void {\n        this.#states.clear()\n        this.#started.length = 0\n        this.#stopped.length = 0\n        this.#obsolete.length = 0\n    }\n\n    #onStart(clipKey: ClipKey): void {this.#started.push(clipKey)}\n    #onStop(clipKey: ClipKey): void {this.#stopped.push(clipKey)}\n}", "import {ExportStemConfiguration} from \"@naomiarotest/studio-adapters\"\n\nexport type AudioUnitOptions = Omit<ExportStemConfiguration, \"fileName\">\n\nexport namespace AudioUnitOptions {\n    export const Default: AudioUnitOptions = {includeAudioEffects: true, includeSends: true}\n}", "import {Peaks} from \"@naomiarotest/lib-fusion\"\nimport {EngineToClient, SoundfontLoader, SoundfontLoaderManager, SoundfontLoaderState} from \"@naomiarotest/studio-adapters\"\nimport {Observer, Option, SortedSet, Subscription, Terminable, UUID} from \"@naomiarotest/lib-std\"\nimport type {SoundFont2} from \"soundfont2\"\n\nclass SoundfontLoaderWorklet implements SoundfontLoader {\n    readonly peaks: Option<Peaks> = Option.None\n    readonly #state: SoundfontLoaderState = {type: \"idle\"}\n\n    #soundfont: Option<SoundFont2> = Option.None\n\n    constructor(readonly uuid: UUID.Bytes, readonly engineToClient: EngineToClient) {\n        engineToClient.fetchSoundfont(uuid).then((data) => this.#soundfont = Option.wrap(data))\n    }\n\n    get soundfont(): Option<SoundFont2> {return this.#soundfont}\n    get state(): SoundfontLoaderState {return this.#state}\n\n    subscribe(_observer: Observer<SoundfontLoaderState>): Subscription {return Terminable.Empty}\n    invalidate(): void {}\n\n    toString(): string {return `{SoundfontLoaderWorklet}`}\n}\n\nexport class SoundfontManagerWorklet implements SoundfontLoaderManager {\n    readonly #engineToClient: EngineToClient\n    readonly #set: SortedSet<UUID.Bytes, SoundfontLoader>\n\n    constructor(engineToClient: EngineToClient) {\n        this.#engineToClient = engineToClient\n        this.#set = UUID.newSet<SoundfontLoader>(handler => handler.uuid)\n    }\n\n    getOrCreate(uuid: UUID.Bytes): SoundfontLoader {\n        return this.#set.getOrCreate(uuid, uuid => new SoundfontLoaderWorklet(uuid, this.#engineToClient))\n    }\n\n    remove(_uuid: UUID.Bytes) {}\n    invalidate(_uuid: UUID.Bytes) {}\n}", "import {BlockFlag, ProcessInfo} from \"./processing\"\nimport {Fragmentor, PPQN} from \"@naomiarotest/lib-dsp\"\nimport {EngineContext} from \"./EngineContext\"\nimport {Bits} from \"@naomiarotest/lib-std\"\nimport {AbstractProcessor} from \"./AbstractProcessor\"\nimport {RootBoxAdapter} from \"@naomiarotest/studio-adapters\"\nimport {MidiData} from \"@naomiarotest/lib-midi\"\n\nexport class MIDITransportClock extends AbstractProcessor {\n    static readonly ClockRate = PPQN.fromSignature(1, 24 * 4) // 24 pulses per quarter note\n\n    readonly #adapter: RootBoxAdapter\n    readonly #nextBlockDelivery: Array<Uint8Array>\n\n    constructor(context: EngineContext, adapter: RootBoxAdapter) {\n        super(context)\n\n        this.#adapter = adapter\n        this.#nextBlockDelivery = []\n\n        this.own(this.context.registerProcessor(this))\n    }\n\n    schedule(message: Uint8Array): void {\n        this.#nextBlockDelivery.push(message)\n    }\n\n    reset(): void {this.eventInput.clear()}\n\n    process({blocks}: ProcessInfo): void {\n        const midiOutputBoxes = this.#adapter.midiOutputDevices\n        if (midiOutputBoxes.length === 0) {\n            this.#nextBlockDelivery.length = 0\n            return\n        }\n        const filteredBoxes = midiOutputBoxes\n            .filter(box => box.sendTransportMessages.getValue() && box.id.getValue() !== \"\")\n        if (filteredBoxes.length === 0) {\n            this.#nextBlockDelivery.length = 0\n            return\n        }\n        filteredBoxes.forEach(box => {\n            const id = box.id.getValue()\n            const relativeTimeInMs = box.delayInMs.getValue()\n            this.#nextBlockDelivery.forEach(message =>\n                this.context.sendMIDIData(id, message, relativeTimeInMs))\n            this.#nextBlockDelivery.length = 0\n        })\n        blocks.forEach(({p0, p1, s0, bpm, flags}) => {\n            const blockOffsetInSeconds = s0 / sampleRate\n            if (!Bits.every(flags, BlockFlag.transporting)) {return}\n            for (const position of Fragmentor.iterate(p0, p1, MIDITransportClock.ClockRate)) {\n                const eventOffsetInSeconds = PPQN.pulsesToSeconds(position - p0, bpm)\n                filteredBoxes.forEach(box => {\n                    const id = box.id.getValue()\n                    const delayInMs = box.delayInMs.getValue()\n                    const relativeTimeInMs = (blockOffsetInSeconds + eventOffsetInSeconds) * 1000.0 + delayInMs\n                    this.context.sendMIDIData(id, MidiData.Clock, relativeTimeInMs)\n                })\n            }\n        })\n    }\n\n    toString(): string {return `{${this.constructor.name}}`}\n}", "import {int, isUndefined} from \"@naomiarotest/lib-std\"\n\nexport class MIDISender {\n    readonly #port: MessagePort\n    readonly #indices: Uint32Array\n    readonly #ring: Uint32Array\n    readonly #ringMask: int\n\n    readonly #deviceIdToNum = new Map<string, number>()\n    readonly #numToDeviceId: Array<string> = []\n\n    constructor(port: MessagePort, sab: SharedArrayBuffer) {\n        this.#port = port\n        this.#indices = new Uint32Array(sab, 0, 2)\n        this.#ring = new Uint32Array(sab, 8)\n        this.#ringMask = (this.#ring.length >> 1) - 1\n    }\n\n    send(deviceId: string, data: Uint8Array, timeMs: number): boolean {\n        let deviceNum = this.#deviceIdToNum.get(deviceId)\n        if (isUndefined(deviceNum)) {\n            deviceNum = this.#numToDeviceId.length\n            if (deviceNum >= 64) {\n                console.error(`Too many MIDI devices: ${deviceNum}, max is 64`)\n                return false\n            }\n            this.#deviceIdToNum.set(deviceId, deviceNum)\n            this.#numToDeviceId.push(deviceId)\n            this.#port.postMessage({registerDevice: deviceId, id: deviceNum}) // registers the device with a simple integer ID\n        }\n        const writeIdx = Atomics.load(this.#indices, 0)\n        const nextIdx = (writeIdx + 1) & this.#ringMask\n        if (nextIdx === Atomics.load(this.#indices, 1)) {\n            return false\n        }\n        const length = data.length\n        const status = data[0] ?? 0\n        const data1 = data[1] ?? 0\n        const data2 = data[2] ?? 0\n        const packed1 = (length << 30) | (deviceNum << 24) | (status << 16) | (data1 << 8) | data2\n        const packed2 = timeMs | 0\n        const offset = writeIdx << 1\n        this.#ring[offset] = packed1\n        this.#ring[offset + 1] = packed2\n        Atomics.store(this.#indices, 0, nextIdx)\n        this.#port.postMessage(null) // signals the MIDIReceiver to read messages from the ring buffer\n        return true\n    }\n}", "import {\n    Arrays,\n    assert,\n    EmptyExec,\n    int,\n    isDefined,\n    Notifier,\n    Nullable,\n    Observer,\n    Option,\n    panic,\n    quantizeFloor,\n    SortedSet,\n    Subscription,\n    SyncStream,\n    Terminable,\n    Terminator,\n    UUID\n} from \"@naomiarotest/lib-std\"\nimport {Address, BoxGraph, createSyncTarget} from \"@naomiarotest/lib-box\"\nimport {AudioFileBox, BoxIO, BoxVisitor} from \"@naomiarotest/studio-boxes\"\nimport {EngineContext} from \"./EngineContext\"\nimport {TimeInfo} from \"./TimeInfo\"\nimport {\n    AnyClipBoxAdapter,\n    AudioData,\n    AudioUnitBoxAdapter,\n    BoxAdapters,\n    ClipAdapters,\n    ClipSequencing,\n    ClipSequencingUpdates,\n    EngineCommands,\n    EngineProcessorAttachment,\n    EngineStateSchema,\n    EngineToClient,\n    NoteSignal,\n    ParameterFieldAdapters,\n    ProjectSkeleton,\n    RootBoxAdapter,\n    SampleLoaderManager,\n    SoundfontLoaderManager,\n    TimelineBoxAdapter,\n    TrackBoxAdapter\n} from \"@naomiarotest/studio-adapters\"\nimport {AudioUnit} from \"./AudioUnit\"\nimport {Processor, ProcessPhase} from \"./processing\"\nimport {Mixer} from \"./Mixer\"\nimport {LiveStreamBroadcaster} from \"@naomiarotest/lib-fusion\"\nimport {UpdateClock} from \"./UpdateClock\"\nimport {PeakBroadcaster} from \"./PeakBroadcaster\"\nimport {Metronome} from \"./Metronome\"\nimport {BlockRenderer} from \"./BlockRenderer\"\nimport {ConstantTempoMap, Graph, ppqn, PPQN, TempoMap, TopologicalSort} from \"@naomiarotest/lib-dsp\"\nimport {SampleManagerWorklet} from \"./SampleManagerWorklet\"\nimport {ClipSequencingAudioContext} from \"./ClipSequencingAudioContext\"\nimport {Communicator, Messenger} from \"@naomiarotest/lib-runtime\"\nimport {AudioUnitOptions} from \"./AudioUnitOptions\"\nimport type {SoundFont2} from \"soundfont2\"\nimport {SoundfontManagerWorklet} from \"./SoundfontManagerWorklet\"\nimport {MidiData} from \"@naomiarotest/lib-midi\"\nimport {MIDITransportClock} from \"./MIDITransportClock\"\nimport {MIDISender} from \"./MIDISender\"\n\nconst DEBUG = false\n\nexport class EngineProcessor extends AudioWorkletProcessor implements EngineContext {\n    readonly #terminator: Terminator\n    readonly #messenger: Messenger\n    readonly #boxGraph: BoxGraph<BoxIO.TypeMap>\n    readonly #timeInfo: TimeInfo\n    readonly #engineToClient: EngineToClient\n    readonly #boxAdapters: BoxAdapters\n    readonly #sampleManager: SampleLoaderManager\n    readonly #soundfontManager: SoundfontLoaderManager\n    readonly #audioUnits: SortedSet<UUID.Bytes, AudioUnit>\n    readonly #rootBoxAdapter: RootBoxAdapter\n    readonly #timelineBoxAdapter: TimelineBoxAdapter\n    readonly #tempoMap: TempoMap\n    readonly #parameterFieldAdapters: ParameterFieldAdapters\n    readonly #audioGraph: Graph<Processor>\n    readonly #audioGraphSorting: TopologicalSort<Processor>\n    readonly #notifier: Notifier<ProcessPhase>\n    readonly #mixer: Mixer\n    readonly #liveStreamBroadcaster: LiveStreamBroadcaster\n    readonly #clipSequencing: ClipSequencingAudioContext\n    readonly #updateClock: UpdateClock\n    readonly #peaks: PeakBroadcaster\n    readonly #metronome: Metronome\n    readonly #midiTransportClock: MIDITransportClock\n\n    readonly #renderer: BlockRenderer\n    readonly #stateSender: SyncStream.Writer\n    readonly #controlFlags: Int32Array<SharedArrayBuffer>\n    readonly #stemExports: ReadonlyArray<AudioUnit>\n    readonly #ignoredRegions: SortedSet<UUID.Bytes, UUID.Bytes>\n\n    #processQueue: Option<ReadonlyArray<Processor>> = Option.None\n    #primaryOutput: Option<AudioUnit> = Option.None\n\n    #context: Option<EngineContext> = Option.None\n    #midiSender: Option<MIDISender> = Option.None\n    #panic: boolean = false // will throw an error if set to true to test error handling\n    #valid: boolean = true // to shut down the engine\n    #metronomeEnabled: boolean = false\n    #recordingStartTime: ppqn = 0.0\n    #playbackTimestamp: ppqn = 0.0 // this is where we start playing again (after paused)\n    #playbackTimestampEnabled: boolean = true\n    #countInBarsTotal: int = 1\n\n    constructor({processorOptions: {syncStreamBuffer, controlFlagsBuffer, project, exportConfiguration, options}}: {\n        processorOptions: EngineProcessorAttachment\n    } & AudioNodeOptions) {\n        super()\n\n        const {boxGraph, mandatoryBoxes: {rootBox, timelineBox}} = ProjectSkeleton.decode(project)\n\n        this.#terminator = new Terminator()\n        this.#messenger = Messenger.for(this.port)\n        this.#boxGraph = boxGraph\n        this.#timeInfo = new TimeInfo()\n        this.#controlFlags = new Int32Array<SharedArrayBuffer>(controlFlagsBuffer)\n        this.#engineToClient = Communicator.sender<EngineToClient>(\n            this.#messenger.channel(\"engine-to-client\"),\n            dispatcher => new class implements EngineToClient {\n                log(message: string): void {dispatcher.dispatchAndForget(this.log, message)}\n                error(error: unknown): void {dispatcher.dispatchAndForget(this.error, error)}\n                fetchAudio(uuid: UUID.Bytes): Promise<AudioData> {\n                    return dispatcher.dispatchAndReturn(this.fetchAudio, uuid)\n                }\n                fetchSoundfont(uuid: UUID.Bytes): Promise<SoundFont2> {\n                    return dispatcher.dispatchAndReturn(this.fetchSoundfont, uuid)\n                }\n                notifyClipSequenceChanges(changes: ClipSequencingUpdates): void {\n                    dispatcher.dispatchAndForget(this.notifyClipSequenceChanges, changes)\n                }\n                switchMarkerState(state: Nullable<[UUID.Bytes, int]>): void {\n                    dispatcher.dispatchAndForget(this.switchMarkerState, state)\n                }\n                ready() {dispatcher.dispatchAndForget(this.ready)}\n            })\n        this.#sampleManager = new SampleManagerWorklet(this.#engineToClient)\n        this.#soundfontManager = new SoundfontManagerWorklet(this.#engineToClient)\n        this.#audioUnits = UUID.newSet(unit => unit.adapter.uuid)\n        this.#parameterFieldAdapters = new ParameterFieldAdapters()\n        this.#tempoMap = new ConstantTempoMap(timelineBox.bpm)\n        this.#boxAdapters = this.#terminator.own(new BoxAdapters(this))\n        this.#rootBoxAdapter = this.#boxAdapters.adapterFor(rootBox, RootBoxAdapter)\n        this.#timelineBoxAdapter = this.#boxAdapters.adapterFor(timelineBox, TimelineBoxAdapter)\n        this.#audioGraph = new Graph<Processor>()\n        this.#audioGraphSorting = new TopologicalSort<Processor>(this.#audioGraph)\n        this.#notifier = new Notifier<ProcessPhase>()\n        this.#mixer = new Mixer()\n        this.#metronome = new Metronome(this.#timelineBoxAdapter, this.#timeInfo)\n        this.#midiTransportClock = new MIDITransportClock(this, this.#rootBoxAdapter)\n        this.#renderer = new BlockRenderer(this, options)\n        this.#ignoredRegions = UUID.newSet<UUID.Bytes>(uuid => uuid)\n        this.#stateSender = SyncStream.writer(EngineStateSchema(), syncStreamBuffer, x => {\n            const {transporting, isCountingIn, isRecording, position} = this.#timeInfo\n            const denominator = this.#timelineBoxAdapter.box.signature.denominator.getValue()\n            x.position = position\n            x.playbackTimestamp = this.#playbackTimestamp\n            x.countInBeatsRemaining = isCountingIn ? (this.#recordingStartTime - position) / PPQN.fromSignature(1, denominator) : 0\n            x.isPlaying = transporting\n            x.isRecording = isRecording\n            x.isCountingIn = isCountingIn\n        })\n        this.#liveStreamBroadcaster = this.#terminator.own(LiveStreamBroadcaster.create(this.#messenger, \"engine-live-data\"))\n        this.#updateClock = new UpdateClock(this)\n        this.#peaks = this.#terminator.own(new PeakBroadcaster(this.#liveStreamBroadcaster, Address.compose(UUID.Lowest)))\n        this.#clipSequencing = this.#terminator.own(new ClipSequencingAudioContext(this.#boxGraph))\n        this.#terminator.ownAll(\n            createSyncTarget(this.#boxGraph, this.#messenger.channel(\"engine-sync\")),\n            Communicator.executor<EngineCommands>(this.#messenger.channel(\"engine-commands\"), {\n                play: (): void => this.#play(),\n                stop: (reset: boolean): void => this.#stop(reset),\n                setPosition: (position: number): void => this.#setPosition(position),\n                prepareRecordingState: (countIn: boolean): void => this.#prepareRecordingState(countIn),\n                stopRecording: (): void => this.#stopRecording(),\n                setMetronomeEnabled: (value: boolean) => this.#timeInfo.metronomeEnabled = this.#metronomeEnabled = value,\n                setPlaybackTimestampEnabled: (value: boolean) => this.#playbackTimestampEnabled = value,\n                setCountInBarsTotal: (value: int) => this.#countInBarsTotal = value,\n                queryLoadingComplete: (): Promise<boolean> =>\n                    Promise.resolve(this.#boxGraph.boxes().every(box => box.accept<BoxVisitor<boolean>>({\n                        visitAudioFileBox: (box: AudioFileBox) =>\n                            this.#sampleManager.getOrCreate(box.address.uuid).data.nonEmpty() && box.pointerHub.nonEmpty()\n                    }) ?? true)),\n                panic: () => this.#panic = true,\n                noteSignal: (signal: NoteSignal) => {\n                    if (NoteSignal.isOn(signal)) {\n                        const {uuid, pitch, velocity} = signal\n                        this.optAudioUnit(uuid)\n                            .ifSome(unit => unit.midiDeviceChain.noteSequencer.pushRawNoteOn(pitch, velocity))\n                    } else if (NoteSignal.isOff(signal)) {\n                        const {uuid, pitch} = signal\n                        this.optAudioUnit(uuid)\n                            .ifSome(unit => unit.midiDeviceChain.noteSequencer.pushRawNoteOff(pitch))\n                    }\n                },\n                ignoreNoteRegion: (uuid: UUID.Bytes) => this.#ignoredRegions.add(uuid),\n                scheduleClipPlay: (clipIds: ReadonlyArray<UUID.Bytes>) => {\n                    clipIds.forEach(clipId => {\n                        const optClipBox = this.#boxGraph.findBox(clipId)\n                        if (optClipBox.isEmpty()) {\n                            console.warn(`Could not scheduleClipPlay. Cannot find clip: '${UUID.toString(clipId)}'`)\n                        } else {\n                            const clipAdapter: AnyClipBoxAdapter = ClipAdapters.for(this.#boxAdapters, optClipBox.unwrap())\n                            this.#clipSequencing.schedulePlay(clipAdapter)\n                        }\n                    })\n                    this.#timeInfo.transporting = true\n                    this.#midiTransportClock.schedule(MidiData.Start)\n                },\n                scheduleClipStop: (trackIds: ReadonlyArray<UUID.Bytes>) => {\n                    trackIds.forEach(trackId => {\n                        const optClipBox = this.#boxGraph.findBox(trackId)\n                        if (optClipBox.isEmpty()) {\n                            console.warn(`Could not scheduleClipStop. Cannot find track: '${UUID.toString(trackId)}'`)\n                        } else {\n                            this.#clipSequencing.scheduleStop(this.#boxAdapters.adapterFor(optClipBox.unwrap(), TrackBoxAdapter))\n                        }\n                    })\n                },\n                setupMIDI: (port: MessagePort, buffer: SharedArrayBuffer) => {\n                    this.#midiSender = Option.wrap(new MIDISender(port, buffer))\n                },\n                terminate: () => {\n                    this.#context.ifSome(context => context.terminate())\n                    this.#context = Option.None\n                    this.#valid = false\n                    this.#ignoredRegions.clear()\n                    this.#terminator.terminate()\n                }\n            }),\n            this.#rootBoxAdapter.audioUnits.catchupAndSubscribe({\n                onAdd: (adapter: AudioUnitBoxAdapter) => {\n                    const uuidAsString = UUID.toString(adapter.uuid)\n                    const options: AudioUnitOptions = isDefined(exportConfiguration?.[uuidAsString])\n                        ? exportConfiguration[uuidAsString]\n                        : AudioUnitOptions.Default\n                    const audioUnit = new AudioUnit(this, adapter, options)\n                    const added = this.#audioUnits.add(audioUnit)\n                    assert(added, `Could not add ${audioUnit}`)\n                    if (audioUnit.adapter.isOutput) {\n                        assert(this.#primaryOutput.isEmpty(), \"Output can only assigned once.\")\n                        this.#primaryOutput = Option.wrap(audioUnit)\n                        return\n                    }\n                },\n                onRemove: ({uuid}) => this.#audioUnits.removeByKey(uuid).terminate(),\n                onReorder: EmptyExec\n            })\n        )\n\n        this.#stemExports = Option.wrap(exportConfiguration).match({\n            none: () => Arrays.empty(),\n            some: configuration => Object.keys(configuration).map(uuidString => this.#audioUnits.get(UUID.parse(uuidString)))\n        })\n\n        this.#engineToClient.ready()\n\n        // For Safari :(\n        console.log = (...message: string[]) => this.#engineToClient.log(message.join(\", \"))\n    }\n\n    ignoresRegion(uuid: UUID.Bytes): boolean {return this.#ignoredRegions.hasKey(uuid)}\n\n    process(inputs: Float32Array[][], outputs: Float32Array[][]): boolean {\n        if (!this.#valid) {return false} // will not revive\n        if (Atomics.load(this.#controlFlags, 0) === 1) {return true} // sleeps. can be awake\n        try {\n            return this.render(inputs, outputs)\n        } catch (reason: any) {\n            console.debug(reason)\n            this.#valid = false\n            this.#engineToClient.error(reason)\n            this.terminate()\n            return false\n        }\n    }\n\n    render(_inputs: Float32Array[][], [output]: Float32Array[][]): boolean {\n        if (!this.#valid) {return false}\n        if (this.#panic) {return panic(\"Manual Panic\")}\n        const metronomeEnabled = this.#timeInfo.metronomeEnabled\n        this.#notifier.notify(ProcessPhase.Before)\n        if (this.#processQueue.isEmpty()) {\n            this.#audioGraphSorting.update()\n            this.#processQueue = Option.wrap(this.#audioGraphSorting.sorted().concat())\n            if (DEBUG) {\n                console.debug(`%cAudio-Graph%c\\n${this.#processQueue.unwrap()\n                        .map((x, index) => `${(index + 1)}: ${x}`).join(\"\\n\")}`,\n                    \"color: hsl(200, 83%, 60%)\", \"color: inherit\")\n            }\n        }\n        const processors = this.#processQueue.unwrap()\n        this.#renderer.process(processInfo => {\n            processors.forEach(processor => processor.process(processInfo))\n            if (metronomeEnabled) {this.#metronome.process(processInfo)}\n        })\n        if (this.#stemExports.length === 0) {\n            this.#primaryOutput.unwrap().audioOutput().replaceInto(output)\n            if (metronomeEnabled) {this.#metronome.output.mixInto(output)}\n            this.#peaks.process(output[0], output[1])\n        } else {\n            this.#stemExports.forEach((unit: AudioUnit, index: int) => {\n                const [l, r] = unit.audioOutput().channels()\n                output[index * 2].set(l)\n                output[index * 2 + 1].set(r)\n            })\n        }\n        this.#notifier.notify(ProcessPhase.After)\n        this.#clipSequencing.changes().ifSome(changes => this.#engineToClient.notifyClipSequenceChanges(changes))\n        this.#stateSender.tryWrite()\n        this.#liveStreamBroadcaster.flush()\n        return true\n    }\n\n    getAudioUnit(uuid: UUID.Bytes): AudioUnit {return this.#audioUnits.get(uuid)}\n    optAudioUnit(uuid: UUID.Bytes): Option<AudioUnit> {return this.#audioUnits.opt(uuid)}\n\n    subscribeProcessPhase(observer: Observer<ProcessPhase>): Subscription {return this.#notifier.subscribe(observer)}\n\n    registerProcessor(processor: Processor): Terminable {\n        this.#audioGraph.addVertex(processor)\n        this.#processQueue = Option.None\n        return {\n            terminate: () => {\n                this.#audioGraph.removeVertex(processor)\n                this.#processQueue = Option.None\n            }\n        }\n    }\n\n    registerEdge(source: Processor, target: Processor): Terminable {\n        this.#audioGraph.addEdge([source, target])\n        this.#processQueue = Option.None\n        return {\n            terminate: () => {\n                this.#audioGraph.removeEdge([source, target])\n                this.#processQueue = Option.None\n            }\n        }\n    }\n\n    get boxGraph(): BoxGraph<BoxIO.TypeMap> {return this.#boxGraph}\n    get boxAdapters(): BoxAdapters {return this.#boxAdapters}\n    get sampleManager(): SampleLoaderManager {return this.#sampleManager}\n    get soundfontManager(): SoundfontLoaderManager {return this.#soundfontManager}\n    get rootBoxAdapter(): RootBoxAdapter {return this.#rootBoxAdapter}\n    get timelineBoxAdapter(): TimelineBoxAdapter {return this.#timelineBoxAdapter}\n    get signatureDuration(): ppqn {return this.timelineBoxAdapter.signatureDuration}\n    get tempoMap(): TempoMap {return this.#tempoMap}\n    get liveStreamBroadcaster(): LiveStreamBroadcaster {return this.#liveStreamBroadcaster}\n    get liveStreamReceiver(): never {return panic(\"Only available in main thread\")}\n    get parameterFieldAdapters(): ParameterFieldAdapters {return this.#parameterFieldAdapters}\n    get clipSequencing(): ClipSequencing {return this.#clipSequencing}\n    get broadcaster(): LiveStreamBroadcaster {return this.#liveStreamBroadcaster}\n    get updateClock(): UpdateClock {return this.#updateClock}\n    get timeInfo(): TimeInfo {return this.#timeInfo}\n    get mixer(): Mixer {return this.#mixer}\n    get engineToClient(): EngineToClient {return this.#engineToClient}\n    get isMainThread(): boolean {return false}\n    get isAudioContext(): boolean {return true}\n\n    sendMIDIData(midiDeviceId: string, data: Uint8Array, relativeTimeInMs: number): void {\n        this.#midiSender.ifSome(sender => sender.send(midiDeviceId, data, relativeTimeInMs))\n    }\n\n    terminate(): void {\n        console.trace(`terminate: ${this}`)\n        this.#terminator.terminate()\n        this.#audioUnits.forEach(unit => unit.terminate())\n        this.#audioUnits.clear()\n    }\n\n    #play(): void {\n        if (this.#playbackTimestampEnabled) {\n            this.#timeInfo.position = this.#playbackTimestamp\n            this.#midiTransportClock.schedule(MidiData.positionInPPQN(this.#timeInfo.position))\n        }\n        this.#timeInfo.transporting = true\n        this.#midiTransportClock.schedule(MidiData.Start)\n    }\n\n    #stop(reset: boolean): void {\n        if (this.#timeInfo.isRecording || this.#timeInfo.isCountingIn) {\n            this.#timeInfo.isRecording = false\n            this.#timeInfo.isCountingIn = false\n            this.#timeInfo.position = this.#playbackTimestampEnabled ? this.#playbackTimestamp : 0.0\n            this.#midiTransportClock.schedule(MidiData.positionInPPQN(this.#timeInfo.position))\n        }\n        const wasTransporting = this.#timeInfo.transporting\n        this.#timeInfo.transporting = false\n        this.#timeInfo.metronomeEnabled = this.#metronomeEnabled\n        this.#ignoredRegions.clear()\n        if (reset || !wasTransporting) {\n            this.#reset()\n        }\n        this.#midiTransportClock.schedule(MidiData.Stop)\n    }\n\n    #setPosition(position: number): void {\n        if (!this.#timeInfo.isRecording) {\n            this.#timeInfo.position = this.#playbackTimestamp = position\n            this.#midiTransportClock.schedule(MidiData.positionInPPQN(this.#timeInfo.position))\n        }\n    }\n\n    #prepareRecordingState(countIn: boolean): void {\n        if (this.#timeInfo.isRecording || this.#timeInfo.isCountingIn) {return}\n        if (!this.#timeInfo.transporting && countIn) {\n            const position = this.#timeInfo.position\n            const [nominator, denominator] = this.#timelineBoxAdapter.signature\n            this.#recordingStartTime = quantizeFloor(position, PPQN.fromSignature(nominator, denominator))\n            this.#timeInfo.isCountingIn = true\n            this.#timeInfo.metronomeEnabled = true\n            this.#timeInfo.transporting = true\n            this.#timeInfo.position = this.#recordingStartTime - PPQN.fromSignature(this.#countInBarsTotal * nominator, denominator)\n            const subscription = this.#renderer.setCallback(this.#recordingStartTime, () => {\n                this.#timeInfo.isCountingIn = false\n                this.#timeInfo.isRecording = true\n                this.#timeInfo.metronomeEnabled = this.#metronomeEnabled\n                subscription.terminate()\n            })\n            this.#midiTransportClock.schedule(MidiData.positionInPPQN(this.#timeInfo.position))\n        } else {\n            this.#timeInfo.transporting = true\n            this.#timeInfo.isRecording = true\n            this.#midiTransportClock.schedule(MidiData.Start)\n        }\n    }\n\n    #stopRecording(): void {\n        if (!this.#timeInfo.isRecording && !this.#timeInfo.isCountingIn) {return}\n        this.#timeInfo.isRecording = false\n        this.#timeInfo.isCountingIn = false\n        this.#timeInfo.metronomeEnabled = this.#metronomeEnabled\n        this.#timeInfo.transporting = false\n        this.#ignoredRegions.clear()\n        this.#midiTransportClock.schedule(MidiData.Stop)\n    }\n\n    #reset(): void {\n        this.#playbackTimestamp = 0.0\n        this.#timeInfo.isRecording = false\n        this.#timeInfo.isCountingIn = false\n        this.#timeInfo.metronomeEnabled = this.#metronomeEnabled\n        this.#timeInfo.position = 0.0\n        this.#timeInfo.transporting = false\n        this.#renderer.reset()\n        this.#clipSequencing.reset()\n        this.#audioGraphSorting.sorted().forEach(processor => processor.reset())\n        this.#peaks.clear()\n    }\n}", "import {RecordingProcessorOptions, RingBuffer} from \"@naomiarotest/studio-adapters\"\n\nexport class RecordingProcessor extends AudioWorkletProcessor {\n    readonly #writer: RingBuffer.Writer\n\n    constructor({processorOptions: config}: { processorOptions: RecordingProcessorOptions } & AudioNodeOptions) {\n        super()\n\n        this.#writer = RingBuffer.writer(config)\n    }\n\n    process(inputs: ReadonlyArray<ReadonlyArray<Float32Array>>): boolean {\n        this.#writer.write(inputs[0])\n        return true\n    }\n}", "import {MeterProcessor} from \"./MeterProcessor\"\nimport {EngineProcessor} from \"./EngineProcessor\"\nimport {RecordingProcessor} from \"./RecordingProcessor\"\n\nregisterProcessor(\"meter-processor\", MeterProcessor)\nregisterProcessor(\"engine-processor\", EngineProcessor)\nregisterProcessor(\"recording-processor\", RecordingProcessor)"],
  "mappings": "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",
  "names": ["identity", "value", "isDefined", "isNull", "isUndefined", "value", "isNotUndefined", "isAbsent", "ifDefined", "procedure", "asDefined", "fail", "panic", "getOrProvide", "isInstanceOf", "obj", "clazz", "asInstanceOf", "assertInstanceOf", "getOrProvide", "value", "safeExecute", "func", "args", "isRecord", "value", "isDefined", "hasField", "record", "key", "type", "safeRead", "object", "keys", "current", "Unhandled", "empty", "panic", "issue", "assert", "condition", "fail", "getOrProvide", "InaccessibleProperty", "failMessage", "panic", "SuccessResult", "value", "InaccessibleProperty", "FailureResult", "error", "tryCatch", "statement", "asEnumValue", "value", "enm", "panic", "k", "EmptyExec", "EmptyProcedure", "_", "Sorting", "Arrays", "#empty", "array", "newValues", "procedure", "index", "fail", "asDefined", "element", "panic", "factory", "n", "a", "b", "i", "predicate", "first", "result", "key", "seen", "value", "excludeArray", "compareFn", "item", "excludeItem", "other", "includeItem", "baseArray", "mergeIntoArray", "baseItem", "mergeItem", "maxIndex", "left", "right", "sorting", "prev", "next", "toKey", "record", "view", "Option", "value", "isDefined", "Some", "provider", "func", "args", "promise", "#value", "asDefined", "_", "matchable", "run", "_func", "callback", "_or", "other", "_fail", "fail", "panic", "getOrProvide", "exec", "or", "Attempts", "promise", "value", "reason", "provider", "result", "Option", "map", "matchable", "panic", "BinarySearch", "sorted", "key", "comparator", "l", "r", "m", "cmp", "map", "Bits", "set", "flag", "#numBits", "#array", "numBits", "index", "arrayIndex", "byte", "value", "was", "val", "buffer", "source", "changes", "result", "Arrays", "Cache", "#provider", "#value", "provider", "Color", "_Color", "color", "colorValues", "isDefined", "value", "h", "s", "l", "k", "n", "a", "f", "toHex", "x", "hex", "clean", "r", "g", "b", "max", "min", "d", "hsl", "#h", "#s", "#l", "#a", "alpha", "adjust", "newL", "multiplier", "shift", "newS", "NumberComparator", "a", "b", "TAU", "PI_HALF", "PI_QUART", "INVERSE_SQRT_2", "clamp", "value", "min", "max", "clampUnit", "squashUnit", "margin", "quantizeFloor", "interval", "linear", "y1", "y2", "mu", "exponential", "mod", "value", "range", "fract", "nextPowOf2", "n", "moebiusEase", "x", "h", "Curve", "slope", "steps", "y0", "y1", "x", "p", "clamp", "y", "definition", "f1", "m", "q", "walk", "i", "v", "walkNormalized", "d", "ym", "dataView", "Integer", "value", "Float", "ARRAY_BUFFER", "FLOAT_VIEW", "INT_VIEW", "result", "Float16", "bits", "sign", "val", "mantissa", "exp", "Float64", "EXP_BIT_MASK", "SIGNIFICANT_BIT_MASK", "FLOAT64_VIEW", "LONG_VIEW", "Iterables", "value", "iterable", "count", "_", "predicate", "callback", "initialValue", "accumulator", "index", "include", "procedure", "map", "iterator", "i", "fn", "result", "mapped", "isDefined", "done", "prev", "ByteArrayOutput", "_ByteArrayOutput", "initialCapacity", "buffer", "byteOffset", "#view", "#position", "view", "value", "panic", "#ensureSpace", "bytes", "i", "length", "count", "capacity", "o", "nextPowOf2", "ByteCounter", "#count", "_", "Checksum", "#result", "#cursor", "other", "index", "Float", "Float64", "Iterables", "ByteArrayInput", "read", "array", "result", "findMethodType", "descriptor", "isDefined", "panic", "Lazy", "_", "property", "context", "originalDescriptor", "value", "methodType", "element", "asDefined", "args", "Editing", "modifier", "_mark", "Option", "Generators", "empty", "generator", "value", "done", "flatten", "generators", "Axis", "Corner", "Geom", "a", "b", "dx", "dy", "angle", "cs", "sn", "Point", "x", "y", "point", "scale", "multiplier", "object", "Rect", "rectangle", "x0", "y0", "x1", "y1", "rect", "amount", "outer", "inner", "topLeftInside", "bottomRightInside", "xMin", "xMax", "yMax", "yMin", "axis", "Unhandled", "corner", "bx", "by", "ux", "uy", "AABB", "aabb", "that", "offset", "top", "right", "bottom", "left", "Padding", "CohenSutherland", "c0", "code", "c1", "s", "sign", "x2", "y2", "ValueAxis", "value", "valueAxis", "min", "max", "clamp", "Hash", "buffers", "totalLength", "sum", "buf", "mergedArray", "offset", "buffer", "a", "b", "assert", "viewA", "viewB", "i", "Intervals", "min0", "max0", "min1", "max1", "Listeners", "#set", "#proxy", "_", "func", "args", "listener", "safeExecute", "procedure", "mint", "Constructor", "args", "target", "prop", "index", "Maps", "map", "key", "factory", "value", "Sets", "_Sets", "#EMPTY", "ArrayMultimap", "_ArrayMultimap", "#map", "#comparator", "entries", "comparator", "Option", "array", "key", "value", "Iterables", "entry", "values", "Arrays", "Maps", "insertIndex", "BinarySearch", "index", "predicate", "removed", "removeList", "callback", "clone", "keys", "copy", "SetMultimap", "_SetMultimap", "Sets", "set", "removeSet", "Terminable", "EmptyExec", "exec", "terminables", "Terminator", "_Terminator", "#terminables", "terminable", "terminator", "Arrays", "Notifier", "observer", "observables", "Terminable", "observable", "#observers", "value", "Objects", "Empty", "u", "v", "keys", "key", "panic", "obj", "out", "k", "exclude", "result", "value", "target", "patch", "ObservableValue", "value", "_observer", "Terminable", "observer", "MutableObservableValue", "_", "observableValue", "MutableObservableOption", "#notifier", "#option", "Option", "Notifier", "procedure", "isDefined", "fail", "other", "func", "exec", "or", "matchable", "DefaultObservableValue", "#notifier", "#guard", "Option", "#value", "value", "guard", "Notifier", "observer", "Linear", "#min", "#max", "#range", "min", "max", "y", "x", "clamp", "LinearInteger", "Integer", "Exponential", "Values", "#values", "values", "index", "value", "panic", "asDefined", "Decibel", "#a", "#b", "#c", "mid", "min2", "max2", "mid2", "tmp0", "tmp1", "ValueMapping", "Bool", "Unipolar", "Bipolar", "DefaultDecibelInstance", "StringMapping", "bipolar", "fractionDigits", "Numeric", "unit", "unitPrefix", "values", "y", "x", "index", "strings", "falseValue", "trueValue", "#unit", "#fractionDigits", "#unitPrefix", "#bipolar", "value", "float", "clamp", "last", "isDefined", "prefixes", "prefix", "computePrefix", "computeBase10", "location", "Predicates", "value", "Progress", "_", "progress", "count", "collect", "Arrays", "index", "value", "total", "weights", "panic", "w", "weightSum", "sum", "weight", "normalizedWeights", "v", "i", "Random", "seed", "Mulberry32", "target", "noise", "random", "length", "panic", "sum", "i", "value", "acc", "#seed", "min", "max", "array", "t", "Schema", "Serializer", "schema", "replace", "clone", "key", "value", "IOImpl", "input", "output", "length", "values", "i", "#schema", "#object", "#bytesTotal", "object", "#count", "collector", "data", "counter", "ByteCounter", "SortedSet", "#extractor", "#comparator", "#array", "extractor", "comparator", "value", "replace", "key", "insertIndex", "BinarySearch", "current", "isDefined", "factory", "values", "a", "b", "delta", "reason", "uniqueKeys", "panic", "deleteIndex", "candidate", "startIndex", "endIndex", "predicate", "count", "index", "asDefined", "#lookup", "provider", "Option", "procedure", "entry", "Arrays", "Strings", "value", "g", "fallback", "isDefined", "str", "buffer", "view", "existingNames", "desiredName", "existingSet", "test", "counter", "RuntimeNotifier", "notifierOption", "Option", "request", "notifier", "EmptyExec", "assert", "RuntimeSignal", "notifier", "Notifier", "observer", "signal", "TimeSpan", "_TimeSpan", "value", "#MILLI_SECONDS_PER_SECOND", "#MILLI_SECONDS_PER_MINUTE", "#MILLI_SECONDS_PER_HOUR", "#MILLI_SECONDS_PER_DAY", "#ms", "ms", "unit", "seconds", "minutes", "hours", "days", "d", "h", "m", "s", "#quantity", "name", "count", "Unhandled", "SyncStream", "State", "io", "buffer", "populate", "panic", "array", "output", "ByteArrayOutput", "procedure", "input", "ByteArrayInput", "UUID", "fromUint8Array", "buffer", "isVitest", "uuid", "panic", "input", "array", "output", "format", "hex", "Arrays", "index", "string", "cleanUuid", "bytes", "i", "j", "a", "b", "delta", "key", "SortedSet", "value", "result", "z", "arr", "assert", "ValueGuide", "option", "isDefined", "trackLength", "DEFAULT_TRACK_LENGTH", "snapLength", "DEFAULT_SNAP_LENGTH", "thresholds", "Snap", "Identity", "#x", "#value", "#ratio", "length", "value", "delta", "assert", "clamp", "#length", "#margin", "#thresholds", "#ranges", "#enabled", "margin", "Arrays", "x", "index", "BinarySearch", "NumberComparator", "range", "threshold", "clamped", "Errors", "Warning", "issue", "FileNotFound", "path", "error", "panic", "isRecord", "hasField", "truncateStack", "stack", "err", "key", "AudioBuffer", "_AudioBuffer", "#channels", "numberOfChannels", "Arrays", "start", "end", "channel", "channelIndex", "assert", "number", "output", "target", "outL", "outR", "inp", "i", "inpL", "inpR", "State", "Adsr", "#invSampleRate", "#state", "#value", "#phase", "#attack", "#decay", "#sustain", "#release", "#attackInc", "#decayDec", "#releaseDec", "sampleRate", "attack", "decay", "sustain", "release", "#updateRates", "remain", "output", "fromIndex", "toIndex", "BPMTools", "detect", "buf", "sampleRate", "options", "interval", "scanSteps", "scanSamples", "minBPM", "maxBPM", "env", "v", "k", "i", "x", "z", "sample", "frames", "index", "bpmToIv", "b", "ivToBpm", "iv", "BEATS", "NO_BEATS", "autodiff", "mid", "v0", "d", "t", "w", "nb", "avgDiff", "s", "slow", "fast", "step", "bestBpm", "bestScore", "bpm", "cost", "BiquadCoeff", "cutoff", "resonance", "clamp", "theta", "TAU", "alpha", "cosw", "beta", "b0", "b1", "b2", "a0", "a1", "a2", "a0_inverse", "frequency", "db_gain", "a", "w0", "k", "k2", "a_plus_one", "a_minus_one", "q", "magResponse", "phaseResponse", "assert", "omega", "zReal", "zImag", "numeratorReal", "numeratorImag", "denominatorReal", "denominatorImag", "denom", "responseReal", "responseImag", "BiquadMono", "#x1", "#x2", "#y1", "#y2", "a1", "a2", "b0", "b1", "b2", "source", "target", "fromIndex", "toIndex", "x1", "x2", "y1", "y2", "i", "x", "y", "BiquadStack", "#stack", "#order", "maxOrder", "Arrays", "value", "processor", "coeff", "LUT_SIZE", "ModulatedBiquad", "#freqLUT", "#coeff", "BiquadCoeff", "#filter", "#lastIdx", "minFreq", "maxFreq", "sampleRate", "logRatio", "invSampleRate", "input", "output", "cutoffs", "q", "freqLUT", "filter", "qReduced", "from", "lastIdx", "idx", "clampUnit", "to", "LogDb", "midiToHz", "note", "baseFrequency", "dbToGain", "db", "LogDb", "gainToDb", "gain", "velocityToGain", "velocity", "DEFAULT_RAMP_DURATION_SECONDS", "MIN_CUTOFF_FREQ", "Crusher", "#sampleRate", "#rampLength", "#filterCoeff", "#filters", "#filteredBuffer", "#heldSample", "#crushedSampleRate", "#targetCrushedSampleRate", "#delta", "#remaining", "#phase", "#bitDepth", "#boostDb", "#mix", "#processed", "sampleRate", "BiquadCoeff", "BiquadMono", "input", "output", "from", "to", "inpL", "inpR", "outL", "outR", "fltL", "fltR", "preGain", "dbToGain", "postGain", "crushRatio", "steps", "stepInv", "i", "clamp", "value", "target", "exponential", "bits", "db", "mix", "clampUnit", "Chord", "scale", "root", "variation", "n", "Arrays", "index", "step", "interval", "midiNote", "TidalComputer", "_TidalComputer", "#SLOPE_MULT", "#depth", "#slope", "#symmetry", "#pEx", "#invS0", "#invS1", "depth", "slope", "symmetry", "linear", "input", "p", "x", "sym", "invS0", "invS1", "Event", "a", "b", "event", "EventSpan", "LoopableRegion", "region", "ppqn", "mod", "position", "complete", "loopOffset", "loopDuration", "from", "to", "rawStart", "rawEnd", "Option", "resultStart", "resultEnd", "locateLoops", "offset", "seekMin", "seekMax", "passIndex", "regionStart", "regionEnd", "resultStartValue", "resultEndValue", "EventCollection", "_EventCollection", "comparator", "#array", "EventArrayImpl", "index", "predicate", "fromPosition", "Generators", "toPosition", "RegionCollection", "_RegionCollection", "period", "EventSpanRetainer", "insertIndex", "BinarySearch", "result", "isDefined", "lastIndex", "Arrays", "#unsorted", "#sort", "key", "startIndex", "NumberComparator", "i", "other", "floorLastIndex", "Integer", "fromIndex", "Predicates", "element", "FFT", "_FFT", "i", "#n", "#levels", "#cosTable", "#sinTable", "n", "halfN", "angle", "real", "imag", "j", "k", "temp", "cosTable", "sinTable", "size", "hs", "ts", "m", "idx", "cos", "sin", "reali", "imagi", "pre", "pim", "real2", "imag2", "wavefold", "input", "scaled", "fromSignature", "nominator", "denominator", "toParts", "ppqn", "lowerPulses", "beats", "bars", "ticks", "semiquavers", "remainingTicks", "secondsToPulses", "seconds", "bpm", "pulsesToSeconds", "pulses", "secondsToBpm", "samplesToPulses", "samples", "sampleRate", "pulsesToSamples", "PPQN", "Fraction", "Builder", "n", "d", "PPQN", "#list", "fraction", "a", "b", "Fragmentor", "p0", "p1", "stepSize", "index", "position", "Glide", "#beginFrequency", "#currentFrequency", "#targetFrequency", "#glidePosition", "#glideDuration", "frequency", "targetFrequency", "glideDuration", "freqBuffer", "bpm", "fromIndex", "toIndex", "i", "ppqnPerSample", "PPQN", "j", "ppqnDelta", "Graph", "#vertices", "#predecessors", "vertex", "assert", "Arrays", "found", "source", "target", "vertexPredecessors", "asDefined", "TopologicalSort", "#graph", "#sorted", "#visited", "#withLoops", "#successors", "graph", "#prepare", "#visit", "#clear", "addTo", "vert", "vert2", "vert1", "change", "vs", "n1", "Groove", "position", "GroovePattern", "#func", "func", "#transform", "forward", "duration", "start", "quantizeFloor", "normalized", "transformed", "ClassicWaveform", "LFO", "#phase", "sampleRate", "buffer", "shape", "frequency", "fromIndex", "toIndex", "phaseInc", "ClassicWaveform", "i", "phase", "Mixing", "MidiKeys", "bits", "keyIndex", "note", "amount", "clampUnit", "PredefinedScaleImpl", "#name", "#bits", "name", "keys", "other", "NoteEvent", "event", "a", "b", "positionDiff", "pitchDiff", "ratio", "curve", "diffComplete", "EventSpan", "BandLimitedOscillator", "#invSampleRate", "#phase", "#integrator", "sampleRate", "output", "frequency", "waveform", "fromIndex", "toIndex", "phaseInc", "ClassicWaveform", "#genSineConst", "#genSawConst", "#genSquareConst", "#genTriangleConst", "freqBuffer", "#genSine", "#genSaw", "#genSquare", "#genTriangle", "phase", "i", "t", "polyBLEP", "integrator", "scale", "sq", "invSR", "inc", "dt", "StereoMatrix", "m", "gain", "panning", "invertL", "invertR", "stereo", "swap", "mixing", "Mixing", "panL", "panR", "lGain", "rGain", "mono", "expand", "midGain", "sideGain", "monoAmount", "stereoWidth", "m00", "m01", "m10", "m11", "ll", "rl", "lr", "rr", "x", "clamp", "PI_QUART", "l", "r", "source", "target", "fromIndex", "toIndex", "src0", "src1", "trg0", "trg1", "i", "ch0", "ch1", "Ramp", "sampleRate", "durationInSeconds", "LinearRamp", "StereoMatrixRamp", "#length", "#value", "#target", "#delta", "#remaining", "length", "target", "smooth", "value", "StereoMatrix", "params", "mixing", "source", "fromIndex", "toIndex", "src0", "src1", "trg0", "trg1", "i", "l", "r", "m", "#equals", "HALFBAND_COEFF", "PHASE0_COEFF", "PHASE1_COEFF", "i", "p0", "p1", "Resampler2xMono", "#upBuffer", "#downBuffer", "#upIndex", "#downIndex", "input", "output", "fromIndex", "toIndex", "buffer", "phase0", "phase1", "x", "outIdx", "sum0", "j", "idx", "sum1", "coeff", "inIdx", "sum", "ResamplerMono", "#factor", "#stages", "#buffers", "factor", "numStages", "Arrays", "stage", "count", "inBuffer", "inFrom", "inTo", "outBuffer", "isLast", "outFrom", "outTo", "ResamplerStereo", "#left", "#right", "RMS", "#values", "#inv", "#index", "#sum", "n", "x", "squared", "buffer", "fromIndex", "toIndex", "values", "len", "index", "sum", "i", "SimpleLimiter", "_SimpleLimiter", "#LIMITER_ATTACK_SEC", "#LIMITER_RELEASE_SEC", "#envelopeAttack", "#envelopeRelease", "#envelope", "sampleRate", "buffer", "fromIndex", "toIndex", "attack", "release", "bufL", "bufR", "env", "i", "l", "r", "abs", "gain", "Smooth", "#a", "time", "sampleRate", "x", "ConstantTempoMap", "#terminator", "Terminator", "#notifier", "#tempo", "observableTempo", "Notifier", "owner", "observer", "_position", "position", "PPQN", "time", "fromPPQN", "toPPQN", "fromSeconds", "toSeconds", "TimeBase", "TimeBaseConverter", "musical", "tempoMap", "position", "property", "TimeBaseMusicalConverter", "aware", "timeBase", "TimeBaseAwareConverter", "#tempoMap", "#timeBase", "#position", "#property", "value", "startSeconds", "endSeconds", "ppqn", "seconds", "sampleRate", "asEnumValue", "UpdateClockRate", "PPQN", "Interpolation", "slope", "ValueEvent", "a", "b", "positionDiff", "indexDiff", "panic", "iterateWindow", "events", "fromPosition", "toPosition", "Iterables", "event", "precursor", "sorted", "index", "BinarySearch", "position", "fallback", "iterator", "done", "prevEvent", "nextEvent", "interpolate", "quantise", "duration", "numSteps", "value", "step", "interpolation", "x", "Curve", "Window", "Type", "type", "values", "a", "n2", "i", "c", "d", "e", "key", "MeterProcessor", "#numberOfChannels", "#maxPeak", "#maxSquared", "#rmsChannels", "#writer", "#blocksProcessed", "sab", "numberOfChannels", "rmsWindowInSeconds", "valueDecay", "Arrays", "RMS", "io", "Schema", "SyncStream", "x", "valueDecayMultiplier", "channelIndex", "peak", "square", "input", "channel", "inputChannel", "rms", "squared", "i", "inp", "Address", "_Address", "keyExtractor", "SortedSet", "uuid", "fieldKeys", "keys", "#EMPTY_FIELD_KEYS", "assert", "value", "index", "str", "parts", "UUID", "x", "layout", "set", "id", "map", "sorted", "startIndex", "BinarySearch", "length", "endIndex", "a", "b", "compareId", "#uuid", "n", "#fieldKeys", "i", "comparison", "other", "key", "output", "target", "array", "input", "uuidBytes", "numFields", "Arrays", "Addressable", "addressable", "address", "l", "r", "PointerHub", "_PointerHub", "pointer", "target", "Option", "type", "accepting", "#vertex", "#listeners", "vertex", "Listeners", "listener", "filter", "#addFilteredListener", "added", "Address", "types", "Iterables", "pointerField", "incoming", "issue", "panic", "listeners", "__decorate", "decorators", "target", "key", "desc", "c", "r", "d", "i", "__metadata", "k", "v", "Field", "_Field", "construct", "#parent", "#fieldKey", "#fieldName", "#pointerRules", "#deprecated", "parent", "fieldKey", "fieldName", "pointerRules", "deprecated", "visitor", "safeExecute", "PointerHub", "field", "Arrays", "Objects", "_key", "panic", "Option", "_input", "_output", "_value", "incoming", "pointer", "Lazy", "Address", "NoPointers", "ArrayField", "_ArrayField", "Field", "construct", "factory", "length", "#fields", "Arrays", "index", "NoPointers", "visitor", "safeExecute", "field", "key", "asDefined", "Option", "input", "output", "values", "value", "panic", "Serializer", "output", "fields", "entries", "_", "field", "key", "bytes", "ByteArrayOutput", "buffer", "input", "assert", "numFields", "i", "isUndefined", "byteLength", "status", "error", "tryCatch", "ByteArrayInput", "__decorate", "decorators", "target", "key", "desc", "c", "r", "d", "i", "__metadata", "k", "v", "Box", "_Box", "#address", "#graph", "#name", "#pointerRules", "#fields", "#creationIndex", "uuid", "graph", "name", "pointerRules", "Address", "asDefined", "Option", "propagation", "procedure", "PointerHub", "byteCounter", "ByteCounter", "type", "asInstanceOf", "input", "Serializer", "output", "ByteArrayOutput", "result", "field", "value", "isDefined", "record", "isRecord", "panic", "map", "keys", "Arrays", "parent", "index", "boxes", "pointers", "x", "pointer", "box", "walkRecursive", "fields", "_field", "Lazy", "Constraints", "constraint", "value", "Propagation", "Dispatchers", "DispatchersImpl", "#thisDispatcher", "Dispatcher", "Addressable", "#parentDispatcher", "#childrenDispatcher", "#deferredStations", "#order", "#dispatching", "propagation", "address", "procedure", "monitor", "Monitor", "deferred", "DeferredMonitor", "target", "a", "b", "station", "Unhandled", "order", "#monitors", "#sorted", "filterStrategy", "index", "#terminator", "Terminator", "#terminated", "dispatchers", "PrimitiveType", "ValueSerialization", "output", "value", "input", "array", "PrimitiveField", "Field", "#type", "#initValue", "#value", "field", "type", "visitor", "safeExecute", "observer", "Propagation", "assert", "oldValue", "newValue", "panic", "_value", "BooleanField", "_BooleanField", "construct", "Float32Field", "_Float32Field", "constraints", "unit", "#constraints", "#unit", "Constraints", "Float", "Int32Field", "_Int32Field", "Integer", "StringField", "_StringField", "ByteArrayField", "_ByteArrayField", "#empty", "x", "index", "bytes", "number", "Updates", "input", "numBlocks", "Arrays", "uuid", "UUID", "name", "settings", "NewUpdate", "address", "Address", "oldAddress", "Option", "newAddress", "PointerUpdate", "type", "serializer", "ValueSerialization", "oldValue", "newValue", "PrimitiveUpdate", "DeleteUpdate", "#uuid", "#name", "#settings", "graph", "box", "ByteArrayInput", "output", "_graph", "#address", "#serialization", "#oldValue", "#newValue", "serialization", "field", "#oldAddress", "#newAddress", "_Unreferenceable", "PointerField", "_PointerField", "Field", "construct", "pointerType", "mandatory", "encoder", "exec", "assert", "#encoder", "Option", "result", "tryCatch", "decoder", "#decoder", "#pointerType", "#mandatory", "#targetVertex", "#targetAddress", "field", "panic", "visitor", "safeExecute", "observer", "Propagation", "vertex", "address", "option", "issue", "PointerHub", "newValue", "oldValue", "newTarget", "input", "Address", "output", "value", "isNull", "GraphEdges", "#requiresTarget", "#requiresPointer", "#incoming", "#outgoing", "Address", "source", "vertex", "address", "isInstanceOf", "PointerField", "panic", "boxes", "map", "uuid", "#removeSameBox", "box", "outgoingLinks", "target", "incomingPointers", "sources", "Arrays", "actualTarget", "#collectSameBox", "_", "pointers", "pointer", "set", "id", "range", "isDefined", "BoxGraph", "#boxFactory", "#boxes", "#deferredPointerUpdates", "#updateListeners", "#immediateUpdateListeners", "#transactionListeners", "#dispatchers", "#edges", "#pointerTransactionState", "#finalizeTransactionObservers", "#inTransaction", "#constructingBox", "boxFactory", "Option", "UUID", "box", "Dispatchers", "Listeners", "GraphEdges", "Address", "pointer", "assert", "pointerField", "update", "#processPointerVertexUpdate", "a", "b", "initial", "final", "address", "observer", "name", "uuid", "constructor", "#assertTransaction", "isDefined", "added", "NewUpdate", "listener", "propagation", "procedure", "deleted", "DeleteUpdate", "checksum", "Checksum", "field", "oldValue", "newValue", "PrimitiveUpdate", "PointerUpdate", "oldAddress", "newAddress", "state", "options", "excludeBox", "Predicates", "alwaysFollowMandatory", "boxes", "pointers", "trace", "source", "targetAddress", "targetVertex", "count", "verify", "vertex", "isResolved", "inGraph", "object", "dict", "dependency", "panic", "output", "ByteArrayOutput", "buffer", "arrayBuffer", "input", "ByteArrayInput", "numBoxes", "i", "length", "int8Array", "boxStream", "creationIndex", "asDefined", "IndexedBox", "field", "insertIndex", "boxes", "newIndex", "clamp", "index", "removeIndex", "startIndex", "delta", "movingBox", "box", "Int32Field", "type", "panic", "a", "b", "ObjectField", "Field", "#fields", "construct", "visitor", "safeExecute", "key", "asDefined", "Option", "observer", "Propagation", "input", "Serializer", "output", "result", "field", "record", "isRecord", "value", "isDefined", "panic", "Communicator", "messenger", "bind", "Sender", "protocol", "Executor", "extractTransferables", "args", "transferables", "arg", "#messenger", "#expected", "#subscription", "#returnId", "#messageHandler", "func", "Iterables", "resolve", "reject", "entries", "callbacks", "index", "message", "returns", "isDefined", "panic", "#protocol", "assert", "object", "asDefined", "returnId", "#sendCallback", "value", "#sendResolve", "reason", "#sendReject", "Fetch", "progress", "response", "length", "output", "ByteArrayOutput", "reader", "asDefined", "done", "value", "Runtime", "id", "exec", "timeout", "time", "args", "Messenger", "port", "NativeMessenger", "EmptyTransferables", "#port", "#notifier", "Notifier", "isDefined", "event", "message", "transfer", "name", "Channel", "observer", "_Channel", "#messages", "#name", "#subscription", "messages", "data", "transferrables", "Wait", "resolve", "numFrames", "count", "callback", "time", "args", "target", "type", "observable", "terminable", "generator", "reject", "interval", "status", "next", "error", "tryCatch", "done", "value", "IntervalRetryOption", "#count", "maxRetry", "timeSpan", "reason", "exec", "Promises", "ResolveResult", "value", "InaccessibleProperty", "RejectedResult", "error", "owner", "promise", "running", "Terminable", "resolve", "reject", "DefaultRetryOption", "TimeSpan", "factory", "retryOption", "onFailure", "retryIf", "attempt", "count", "Wait", "approve", "RuntimeNotifier", "after", "thenUse", "use", "_", "fail", "timeout", "factories", "results", "handler", "lastPromise", "arg", "execute", "currentPromise", "resolving", "lastCall", "now", "isNull", "isDefined", "tasks", "limit", "index", "hasError", "run", "i", "Limit", "#waiting", "#running", "max", "provider", "#continue", "resolvers", "assert", "Latest", "#onResolve", "#onReject", "#onFinally", "#latest", "Option", "onResolve", "onReject", "onFinally", "safeExecute", "network", "limit", "Promises", "input", "init", "reason", "count", "isInstanceOf", "Errors", "progress", "response", "body", "isAbsent", "total", "loaded", "reader", "stream", "controller", "done", "value", "stopwatch", "level", "startTime", "label", "TimeSpanUtils", "startTime", "progress", "TimeSpan", "runtime", "key", "createSyncTarget", "graph", "messenger", "Communicator", "updates", "update", "type", "box", "ByteArrayInput", "Address", "isDefined", "Option", "UUID", "value", "Arrays", "key", "TimeInfo", "#position", "#transporting", "#leap", "leap", "value", "position", "Pointers", "AudioPlayback", "AudioSendRouting", "AudioUnitType", "Colors", "Color", "IconSymbol", "symbol", "name", "VoicingMode", "IndexComparator", "a", "b", "difference", "panic", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_IndexedBoxAdapterCollection_field", "_IndexedBoxAdapterCollection_entries", "_IndexedBoxAdapterCollection_listeners", "_IndexedBoxAdapterCollection_subscription", "_IndexedBoxAdapterCollection_sorted", "IndexedBoxAdapterCollection", "_IndexedBoxAdapterCollection", "field", "provider", "pointers", "UUID", "entry", "Listeners", "pointer", "adapter", "subscription", "added", "assert", "uuid", "listener", "index", "idx", "BinarySearch", "IndexComparator", "Option", "adapters", "a", "b", "delta", "startIndex", "newIndex", "clamp", "BoxIO", "name", "graph", "uuid", "constructor", "RootBox", "SelectionBox", "UserInterfaceBox", "UploadFileBox", "TimelineBox", "TrackBox", "NoteEventBox", "NoteEventRepeatBox", "NoteEventCollectionBox", "NoteRegionBox", "NoteClipBox", "ValueEventBox", "ValueEventCollectionBox", "ValueEventCurveBox", "ValueRegionBox", "ValueClipBox", "AudioRegionBox", "AudioClipBox", "MarkerBox", "AudioFileBox", "SoundfontFileBox", "AudioUnitBox", "CaptureAudioBox", "CaptureMidiBox", "AudioBusBox", "AuxSendBox", "GrooveShuffleBox", "UnknownAudioEffectDeviceBox", "UnknownMidiEffectDeviceBox", "DeviceInterfaceKnobBox", "ModularDeviceBox", "StereoToolDeviceBox", "CompressorDeviceBox", "DelayDeviceBox", "CrusherDeviceBox", "DattorroReverbDeviceBox", "VelocityDeviceBox", "FoldDeviceBox", "TidalDeviceBox", "RevampDeviceBox", "ReverbDeviceBox", "VaporisateurDeviceBox", "MIDIOutputDeviceBox", "MIDIOutputBox", "MIDIOutputParameterBox", "SoundfontDeviceBox", "NanoDeviceBox", "PlayfieldDeviceBox", "PlayfieldSampleBox", "TapeDeviceBox", "ArpeggioDeviceBox", "PitchDeviceBox", "ZeitgeistDeviceBox", "ModularBox", "ModuleConnectionBox", "ModularAudioInputBox", "ModularAudioOutputBox", "ModuleDelayBox", "ModuleMultiplierBox", "ModuleGainBox", "panic", "buffer", "stream", "ByteArrayInput", "className", "uuidBytes", "UUID", "box", "PianoMode", "_PianoMode", "ObjectField", "construct", "Int32Field", "NoPointers", "Float32Field", "BooleanField", "RootBox", "_RootBox", "Box", "graph", "uuid", "constructor", "NoPointers", "construct", "visitor", "safeExecute", "PointerField", "Pointers", "Field", "StringField", "PianoMode", "SelectionBox", "_SelectionBox", "Box", "graph", "uuid", "constructor", "NoPointers", "construct", "visitor", "safeExecute", "PointerField", "Pointers", "UserInterfaceBox", "_UserInterfaceBox", "Box", "graph", "uuid", "constructor", "NoPointers", "construct", "visitor", "safeExecute", "PointerField", "Pointers", "Field", "UploadFileBox", "_UploadFileBox", "Box", "graph", "uuid", "constructor", "NoPointers", "construct", "visitor", "safeExecute", "PointerField", "Pointers", "Signature", "_Signature", "ObjectField", "construct", "Int32Field", "NoPointers", "LoopArea", "_LoopArea", "ObjectField", "construct", "BooleanField", "NoPointers", "Int32Field", "MarkerTrack", "_MarkerTrack", "ObjectField", "construct", "Field", "Pointers", "Int32Field", "NoPointers", "BooleanField", "TimelineBox", "_TimelineBox", "Box", "graph", "uuid", "constructor", "NoPointers", "construct", "visitor", "safeExecute", "Field", "Pointers", "Signature", "LoopArea", "MarkerTrack", "Int32Field", "Float32Field", "TrackBox", "_TrackBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Field", "Int32Field", "BooleanField", "NoteEventBox", "_NoteEventBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "Float32Field", "NoteEventRepeatBox", "_NoteEventRepeatBox", "Box", "graph", "uuid", "constructor", "NoPointers", "construct", "visitor", "safeExecute", "PointerField", "Pointers", "Int32Field", "Float32Field", "NoteEventCollectionBox", "_NoteEventCollectionBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "Field", "NoteRegionBox", "_NoteRegionBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "BooleanField", "StringField", "ClipPlaybackFields", "_ClipPlaybackFields", "ObjectField", "construct", "BooleanField", "NoPointers", "Int32Field", "NoteClipBox", "_NoteClipBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "ClipPlaybackFields", "BooleanField", "StringField", "ValueEventBox", "_ValueEventBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "Float32Field", "ValueEventCollectionBox", "_ValueEventCollectionBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "Field", "ValueEventCurveBox", "_ValueEventCurveBox", "Box", "graph", "uuid", "constructor", "NoPointers", "construct", "visitor", "safeExecute", "PointerField", "Pointers", "Float32Field", "ValueRegionBox", "_ValueRegionBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "BooleanField", "StringField", "ValueClipBox", "_ValueClipBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "ClipPlaybackFields", "BooleanField", "StringField", "AudioRegionBox", "_AudioRegionBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "StringField", "Int32Field", "Float32Field", "BooleanField", "AudioClipBox", "_AudioClipBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "ClipPlaybackFields", "BooleanField", "StringField", "Float32Field", "MarkerBox", "_MarkerBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "StringField", "AudioFileBox", "_AudioFileBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "Float32Field", "NoPointers", "StringField", "SoundfontFileBox", "_SoundfontFileBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "StringField", "NoPointers", "AudioUnitBox", "_AudioUnitBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "StringField", "NoPointers", "PointerField", "Field", "Int32Field", "Float32Field", "BooleanField", "CaptureAudioBox", "_CaptureAudioBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "StringField", "NoPointers", "Int32Field", "Float32Field", "CaptureMidiBox", "_CaptureMidiBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "StringField", "NoPointers", "Int32Field", "AudioBusBox", "_AudioBusBox", "Box", "graph", "uuid", "constructor", "NoPointers", "construct", "visitor", "safeExecute", "PointerField", "Pointers", "Field", "BooleanField", "StringField", "AuxSendBox", "_AuxSendBox", "Box", "graph", "uuid", "constructor", "NoPointers", "construct", "visitor", "safeExecute", "PointerField", "Pointers", "Int32Field", "Float32Field", "GrooveShuffleBox", "_GrooveShuffleBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "StringField", "NoPointers", "Float32Field", "Int32Field", "UnknownAudioEffectDeviceBox", "_UnknownAudioEffectDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "StringField", "BooleanField", "UnknownMidiEffectDeviceBox", "_UnknownMidiEffectDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "StringField", "BooleanField", "DeviceInterfaceKnobBox", "_DeviceInterfaceKnobBox", "Box", "graph", "uuid", "constructor", "NoPointers", "construct", "visitor", "safeExecute", "PointerField", "Pointers", "Int32Field", "Float32Field", "StringField", "DeviceUserInterface", "_DeviceUserInterface", "ObjectField", "construct", "Field", "Pointers", "ModularDeviceBox", "_ModularDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "StringField", "BooleanField", "DeviceUserInterface", "StereoToolDeviceBox", "_StereoToolDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "StringField", "BooleanField", "Float32Field", "CompressorDeviceBox", "_CompressorDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "StringField", "BooleanField", "Float32Field", "DelayDeviceBox", "_DelayDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "StringField", "BooleanField", "Float32Field", "CrusherDeviceBox", "_CrusherDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "StringField", "BooleanField", "Float32Field", "DattorroReverbDeviceBox", "_DattorroReverbDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "StringField", "BooleanField", "Float32Field", "VelocityDeviceBox", "_VelocityDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "StringField", "BooleanField", "Float32Field", "FoldDeviceBox", "_FoldDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "StringField", "BooleanField", "Float32Field", "TidalDeviceBox", "_TidalDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "StringField", "BooleanField", "Float32Field", "RevampPass", "_RevampPass", "ObjectField", "construct", "BooleanField", "Pointers", "Float32Field", "Int32Field", "RevampShelf", "_RevampShelf", "ObjectField", "construct", "BooleanField", "Pointers", "Float32Field", "RevampBell", "_RevampBell", "ObjectField", "construct", "BooleanField", "Pointers", "Float32Field", "RevampDeviceBox", "_RevampDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "StringField", "BooleanField", "RevampPass", "RevampShelf", "RevampBell", "Float32Field", "ReverbDeviceBox", "_ReverbDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "StringField", "BooleanField", "Float32Field", "VaporisateurOsc", "_VaporisateurOsc", "ObjectField", "construct", "Int32Field", "Pointers", "Float32Field", "VaporisateurLFO", "_VaporisateurLFO", "ObjectField", "construct", "Int32Field", "Pointers", "Float32Field", "BooleanField", "VaporisateurNoise", "_VaporisateurNoise", "ObjectField", "construct", "Float32Field", "Pointers", "VaporisateurDeviceBox", "_VaporisateurDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "StringField", "BooleanField", "Float32Field", "Int32Field", "VaporisateurLFO", "ArrayField", "VaporisateurOsc", "VaporisateurNoise", "Device", "_Device", "ObjectField", "construct", "StringField", "NoPointers", "MIDIOutputDeviceBox", "_MIDIOutputDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "StringField", "BooleanField", "Device", "Int32Field", "Field", "MIDIOutputBox", "_MIDIOutputBox", "Box", "graph", "uuid", "constructor", "NoPointers", "construct", "visitor", "safeExecute", "PointerField", "Pointers", "Field", "StringField", "Int32Field", "BooleanField", "MIDIOutputParameterBox", "_MIDIOutputParameterBox", "Box", "graph", "uuid", "constructor", "NoPointers", "construct", "visitor", "safeExecute", "PointerField", "Pointers", "StringField", "Int32Field", "Float32Field", "SoundfontDeviceBox", "_SoundfontDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "StringField", "BooleanField", "Int32Field", "NanoDeviceBox", "_NanoDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "StringField", "BooleanField", "Float32Field", "PlayfieldDeviceBox", "_PlayfieldDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "StringField", "BooleanField", "Field", "PlayfieldSampleBox", "_PlayfieldSampleBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Field", "Int32Field", "StringField", "BooleanField", "Float32Field", "TapeDeviceBox", "_TapeDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "StringField", "BooleanField", "Float32Field", "ArpeggioDeviceBox", "_ArpeggioDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "StringField", "BooleanField", "Float32Field", "PitchDeviceBox", "_PitchDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "StringField", "BooleanField", "Float32Field", "ZeitgeistDeviceBox", "_ZeitgeistDeviceBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "PointerField", "NoPointers", "Int32Field", "StringField", "BooleanField", "ModularBox", "_ModularBox", "Box", "graph", "uuid", "constructor", "NoPointers", "construct", "visitor", "safeExecute", "PointerField", "Pointers", "Field", "StringField", "ModuleConnectionBox", "_ModuleConnectionBox", "Box", "graph", "uuid", "constructor", "NoPointers", "construct", "visitor", "safeExecute", "PointerField", "Pointers", "ModuleAttributes", "_ModuleAttributes", "ObjectField", "construct", "PointerField", "NoPointers", "Pointers", "StringField", "Int32Field", "BooleanField", "ModularAudioInputBox", "_ModularAudioInputBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "ModuleAttributes", "NoPointers", "Field", "ModularAudioOutputBox", "_ModularAudioOutputBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "ModuleAttributes", "NoPointers", "Field", "ModuleDelayBox", "_ModuleDelayBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "ModuleAttributes", "NoPointers", "Field", "Float32Field", "ModuleMultiplierBox", "_ModuleMultiplierBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "ModuleAttributes", "NoPointers", "Field", "Float32Field", "ModuleGainBox", "_ModuleGainBox", "Box", "graph", "uuid", "constructor", "Pointers", "construct", "visitor", "safeExecute", "ModuleAttributes", "NoPointers", "Field", "Float32Field", "InterpolationFieldAdapter", "field", "value", "curveBox", "Pointers", "isDefined", "assertInstanceOf", "ValueEventCurveBox", "UUID", "box", "Interpolation", "panic", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_ValueEventBoxAdapter_terminator", "_ValueEventBoxAdapter_context", "_ValueEventBoxAdapter_box", "_ValueEventBoxAdapter_interpolation", "_ValueEventBoxAdapter_interpolationSubscription", "_ValueEventBoxAdapter_isSelected", "ValueEventBoxAdapter", "_ValueEventBoxAdapter", "context", "box", "Terminator", "Cache", "InterpolationFieldAdapter", "invalidateInterpolation", "collection", "Propagation", "update", "updatedFieldKeys", "indexChanged", "Arrays", "positionChanged", "Terminable", "Pointers", "region", "vertex", "ValueEventCollectionBoxAdapter", "options", "eventBox", "ValueEventBox", "UUID", "a", "b", "positionDiff", "indexDiff", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_ValueEventCollectionBoxAdapter_instances", "_ValueEventCollectionBoxAdapter_terminator", "_ValueEventCollectionBoxAdapter_context", "_ValueEventCollectionBoxAdapter_box", "_ValueEventCollectionBoxAdapter_changeNotifier", "_ValueEventCollectionBoxAdapter_adapters", "_ValueEventCollectionBoxAdapter_events", "_ValueEventCollectionBoxAdapter_onEventsChanged", "ValueEventCollectionBoxAdapter", "_ValueEventCollectionBoxAdapter", "context", "box", "Terminator", "Notifier", "UUID", "adapter", "EventCollection", "ValueEventBoxAdapter", "addValueProcedure", "asDefined", "uuid", "position", "fallback", "ValueEvent", "graph", "boxCopy", "ValueEventCollectionBox", "source", "low", "high", "Option", "p0", "v0", "p1", "v1", "linear", "y0", "y1", "steps", "cutOffset", "curve", "Curve", "cutValue", "lowSlope", "InterpolationFieldAdapter", "Interpolation", "panic", "observer", "index", "interpolation", "eventBox", "ValueEventBox", "Pointers", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_ValueClipBoxAdapter_instances", "_ValueClipBoxAdapter_terminator", "_ValueClipBoxAdapter_context", "_ValueClipBoxAdapter_box", "_ValueClipBoxAdapter_selectedValue", "_ValueClipBoxAdapter_changeNotifier", "_ValueClipBoxAdapter_isConstructing", "_ValueClipBoxAdapter_eventCollectionSubscription", "_ValueClipBoxAdapter_dispatchChange", "ValueClipBoxAdapter", "context", "box", "Terminator", "Terminable", "DefaultObservableValue", "Notifier", "Propagation", "_update", "targetVertex", "ValueEventCollectionBoxAdapter", "position", "fallback", "content", "observer", "visitor", "safeExecute", "consolidate", "events", "ValueClipBox", "UUID", "collection", "vertex", "Option", "TrackBoxAdapter", "adapter", "PPQN", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_AudioFileBoxAdapter_context", "_AudioFileBoxAdapter_box", "AudioFileBoxAdapter", "context", "box", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_AudioClipBoxAdapter_instances", "_AudioClipBoxAdapter_terminator", "_AudioClipBoxAdapter_context", "_AudioClipBoxAdapter_box", "_AudioClipBoxAdapter_selectedValue", "_AudioClipBoxAdapter_changeNotifier", "_AudioClipBoxAdapter_isConstructing", "_AudioClipBoxAdapter_fileAdapter", "_AudioClipBoxAdapter_fileSubscription", "_AudioClipBoxAdapter_dispatchChange", "AudioClipBoxAdapter", "context", "box", "Terminator", "Option", "DefaultObservableValue", "Notifier", "pointerField", "vertex", "AudioFileBoxAdapter", "subscription", "adapter", "Propagation", "_update", "observer", "visitor", "safeExecute", "_mirrored", "AudioClipBox", "UUID", "TrackBoxAdapter", "PPQN", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_NoteEventBoxAdapter_context", "_NoteEventBoxAdapter_box", "_NoteEventBoxAdapter_subscription", "_NoteEventBoxAdapter_isSelected", "NoteEventBoxAdapter", "_NoteEventBoxAdapter", "context", "box", "Propagation", "update", "collection", "updatedFieldKeys", "pitchChanged", "Arrays", "positionChanged", "region", "vertex", "NoteEventCollectionBoxAdapter", "minPitch", "maxPitch", "options", "NoteEventBox", "UUID", "ratio", "NoteEvent", "playCount", "events", "adapters", "index", "a", "b", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_NoteEventCollectionBoxAdapter_instances", "_NoteEventCollectionBoxAdapter_terminator", "_NoteEventCollectionBoxAdapter_context", "_NoteEventCollectionBoxAdapter_box", "_NoteEventCollectionBoxAdapter_changeNotifier", "_NoteEventCollectionBoxAdapter_adapters", "_NoteEventCollectionBoxAdapter_events", "_NoteEventCollectionBoxAdapter_minPitch", "_NoteEventCollectionBoxAdapter_maxPitch", "_NoteEventCollectionBoxAdapter_maxDuration", "_NoteEventCollectionBoxAdapter_computedExtremas", "_NoteEventCollectionBoxAdapter_onEventsChanged", "_NoteEventCollectionBoxAdapter_computeExtremas", "NoteEventCollectionBoxAdapter", "_NoteEventCollectionBoxAdapter", "context", "box", "Terminator", "Notifier", "UUID", "adapter", "EventCollection", "NoteEvent", "addNoteProcedure", "asDefined", "NoteEventBoxAdapter", "uuid", "graph", "boxCopy", "NoteEventCollectionBox", "source", "position", "duration", "velocity", "pitch", "chance", "playCount", "cent", "NoteEventBox", "observer", "coordinates", "element", "Iterables", "begin", "end", "events", "Intervals", "Pointers", "min", "max", "maxDuration", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_NoteClipBoxAdapter_instances", "_NoteClipBoxAdapter_terminator", "_NoteClipBoxAdapter_context", "_NoteClipBoxAdapter_box", "_NoteClipBoxAdapter_selectedValue", "_NoteClipBoxAdapter_changeNotifier", "_NoteClipBoxAdapter_isConstructing", "_NoteClipBoxAdapter_eventCollectionSubscription", "_NoteClipBoxAdapter_dispatchChange", "NoteClipBoxAdapter", "context", "box", "Terminator", "Terminable", "DefaultObservableValue", "Notifier", "Propagation", "_update", "targetVertex", "NoteEventCollectionBoxAdapter", "observer", "visitor", "safeExecute", "consolidate", "events", "NoteClipBox", "UUID", "collection", "vertex", "Option", "TrackBoxAdapter", "adapter", "PPQN", "ClipAdapters", "boxAdapters", "box", "asDefined", "NoteClipBoxAdapter", "ValueClipBoxAdapter", "AudioClipBoxAdapter", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_TrackClips_trackBoxAdapter", "_TrackClips_terminator", "_TrackClips_changeNotifier", "_TrackClips_collection", "TrackClips", "adapter", "boxAdapters", "Terminator", "Notifier", "IndexedBoxAdapterCollection", "box", "ClipAdapters", "Pointers", "observer", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_AudioRegionBoxAdapter_instances", "_AudioRegionBoxAdapter_terminator", "_AudioRegionBoxAdapter_context", "_AudioRegionBoxAdapter_box", "_AudioRegionBoxAdapter_durationConverter", "_AudioRegionBoxAdapter_loopOffsetConverter", "_AudioRegionBoxAdapter_loopDurationConverter", "_AudioRegionBoxAdapter_changeNotifier", "_AudioRegionBoxAdapter_fileAdapter", "_AudioRegionBoxAdapter_fileSubscription", "_AudioRegionBoxAdapter_tempoSubscription", "_AudioRegionBoxAdapter_eventCollectionSubscription", "_AudioRegionBoxAdapter_isSelected", "_AudioRegionBoxAdapter_constructing", "_AudioRegionBoxAdapter_dispatchChange", "AudioRegionBoxAdapter", "_AudioRegionBoxAdapter", "context", "box", "Option", "Terminable", "Terminator", "timeBase", "position", "duration", "loopOffset", "loopDuration", "TimeBaseConverter", "Notifier", "pointerField", "vertex", "AudioFileBoxAdapter", "adapter", "owner", "asEnumValue", "TimeBase", "Propagation", "update", "track", "targetVertex", "ValueEventCollectionBoxAdapter", "observer", "visitor", "safeExecute", "TrackBoxAdapter", "AudioPlayback", "keepCurrentStretch", "wasMusical", "fileDuration", "currentLoopDurationSeconds", "scale", "currentDurationSeconds", "currentLoopOffsetSeconds", "params", "eventCollection", "eventTarget", "AudioRegionBox", "UUID", "_regions", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_NoteRegionBoxAdapter_instances", "_NoteRegionBoxAdapter_terminator", "_NoteRegionBoxAdapter_context", "_NoteRegionBoxAdapter_box", "_NoteRegionBoxAdapter_changeNotifier", "_NoteRegionBoxAdapter_isConstructing", "_NoteRegionBoxAdapter_isSelected", "_NoteRegionBoxAdapter_eventCollectionSubscription", "_NoteRegionBoxAdapter_dispatchChange", "NoteRegionBoxAdapter", "_NoteRegionBoxAdapter", "context", "box", "Terminator", "Terminable", "Notifier", "Propagation", "update", "track", "targetVertex", "NoteEventCollectionBoxAdapter", "observer", "visitor", "safeExecute", "position", "optCollection", "collection", "local", "LoopableRegion", "event", "vertex", "Option", "TrackBoxAdapter", "adapter", "params", "eventCollection", "eventTarget", "NoteRegionBox", "UUID", "source", "graph", "target", "NoteEventCollectionBox", "regions", "Arrays", "a", "b", "region", "sorted", "RegionCollection", "first", "last", "rangeMin", "rangeMax", "trackBoxAdapter", "collectionBox", "overlapping", "anyRegion", "resultStart", "resultEnd", "rawStart", "searchStart", "searchEnd", "PPQN", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_ValueRegionBoxAdapter_instances", "_ValueRegionBoxAdapter_terminator", "_ValueRegionBoxAdapter_context", "_ValueRegionBoxAdapter_box", "_ValueRegionBoxAdapter_changeNotifier", "_ValueRegionBoxAdapter_isSelected", "_ValueRegionBoxAdapter_isConstructing", "_ValueRegionBoxAdapter_eventCollectionSubscription", "_ValueRegionBoxAdapter_dispatchChange", "ValueRegionBoxAdapter", "_ValueRegionBoxAdapter", "context", "box", "Terminator", "Terminable", "Notifier", "Propagation", "update", "track", "targetVertex", "ValueEventCollectionBoxAdapter", "position", "fallback", "content", "LoopableRegion", "optContent", "observer", "visitor", "safeExecute", "collection", "vertex", "Option", "TrackBoxAdapter", "adapter", "params", "eventCollection", "eventTarget", "ValueRegionBox", "UUID", "events", "graph", "collectionBox", "ValueEventCollectionBox", "_regions", "regions", "sorted", "RegionCollection", "first", "Arrays", "last", "rangeMin", "rangeMax", "trackBoxAdapter", "overlapping", "region", "anyRegion", "resultStart", "resultEnd", "rawStart", "searchStart", "searchEnd", "_event", "PPQN", "RegionComparator", "a", "b", "RegionAdapters", "boxAdapters", "box", "asDefined", "NoteRegionBoxAdapter", "AudioRegionBoxAdapter", "ValueRegionBoxAdapter", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_TrackRegions_trackBoxAdapter", "_TrackRegions_terminator", "_TrackRegions_changeNotifier", "_TrackRegions_regionsListeners", "_TrackRegions_collection", "_TrackRegions_adapters", "TrackRegions", "adapter", "boxAdapters", "Terminator", "Notifier", "Listeners", "RegionCollection", "RegionComparator", "UUID", "box", "RegionAdapters", "added", "assert", "listener", "uuid", "Pointers", "observer", "TrackType", "type", "IconSymbol", "DeviceBoxUtils", "box", "isInstanceOf", "PointerField", "StringField", "BooleanField", "Pointers", "Int32Field", "isDefined", "panic", "DeviceAccepts", "type", "TrackType", "panic", "Devices", "adapter", "value", "devices", "assert", "Arrays", "a", "b", "device", "Pointers", "box", "DeviceBoxUtils", "index", "UUID", "indexField", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_AudioUnitTracks_adapter", "_AudioUnitTracks_regionNotifier", "_AudioUnitTracks_collection", "_AudioUnitTracks_subscriptions", "_AudioUnitTracks_subscription", "AudioUnitTracks", "adapter", "boxAdapters", "Notifier", "IndexedBoxAdapterCollection", "box", "TrackBoxAdapter", "Pointers", "UUID", "uuid", "_adapter", "type", "target", "index", "graph", "tracks", "TrackBox", "Option", "adapters", "deleteIndex", "panic", "listener", "observer", "subscription", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_AudioBusBoxAdapter_context", "_AudioBusBoxAdapter_box", "AudioBusBoxAdapter", "context", "box", "observer", "Propagation", "IconSymbol", "Devices", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_AudioUnitInput_terminator", "_AudioUnitInput_labelNotifier", "_AudioUnitInput_iconValue", "_AudioUnitInput_observable", "_AudioUnitInput_subscription", "AudioUnitInput", "pointerHub", "boxAdapters", "Terminable", "Terminator", "Notifier", "DefaultObservableValue", "IconSymbol", "Option", "owner", "labelField", "iconField", "field", "box", "assert", "input", "AudioBusBox", "AudioBusBoxAdapter", "Devices", "Pointers", "observer", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_ParameterAdapterSet_context", "_ParameterAdapterSet_parameters", "ParameterAdapterSet", "context", "Address", "adapter", "parameter", "address", "field", "valueMapping", "stringMapping", "name", "anchor", "AutomatableParameterFieldAdapter", "added", "assert", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_AuxSendBoxAdapter_context", "_AuxSendBoxAdapter_box", "_AuxSendBoxAdapter_terminator", "_AuxSendBoxAdapter_busChangeNotifier", "_AuxSendBoxAdapter_sendPan", "_AuxSendBoxAdapter_sendGain", "_AuxSendBoxAdapter_subscription", "AuxSendBoxAdapter", "context", "box", "Terminable", "Terminator", "Notifier", "Option", "adapter", "AutomatableParameterFieldAdapter", "ValueMapping", "StringMapping", "observer", "AudioBusBoxAdapter", "target", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_AudioUnitOutput_pointerField", "_AudioUnitOutput_boxAdapters", "_AudioUnitOutput_terminator", "_AudioUnitOutput_busChangeNotifier", "_AudioUnitOutput_subscription", "AudioUnitOutput", "pointerField", "boxAdapters", "Terminable", "Terminator", "Notifier", "Option", "adapter", "observer", "target", "box", "AudioBusBoxAdapter", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_AudioUnitBoxAdapter_instances", "_a", "_AudioUnitBoxAdapter_terminator", "_AudioUnitBoxAdapter_context", "_AudioUnitBoxAdapter_box", "_AudioUnitBoxAdapter_parametric", "_AudioUnitBoxAdapter_tracks", "_AudioUnitBoxAdapter_input", "_AudioUnitBoxAdapter_midiEffects", "_AudioUnitBoxAdapter_audioEffects", "_AudioUnitBoxAdapter_auxSends", "_AudioUnitBoxAdapter_output", "_AudioUnitBoxAdapter_wrapParameters", "_AudioUnitBoxAdapter_sanityCheck", "AudioUnitBoxAdapter", "context", "box", "Terminator", "ParameterAdapterSet", "AudioUnitTracks", "AudioUnitInput", "IndexedBoxAdapterCollection", "Devices", "Pointers", "AuxSendBoxAdapter", "AudioUnitOutput", "adapter", "output", "input", "adapters", "startIndex", "unitType", "min", "max", "delta", "StringMapping", "ValueMapping", "address", "capture", "fail", "assert", "AudioUnitType", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_TrackBoxAdapter_instances", "_TrackBoxAdapter_context", "_TrackBoxAdapter_box", "_TrackBoxAdapter_terminator", "_TrackBoxAdapter_clips", "_TrackBoxAdapter_regions", "_TrackBoxAdapter_listIndex", "_TrackBoxAdapter_catchupAndSubscribeTargetDeviceName", "_TrackBoxAdapter_catchupAndSubscribeTargetControlName", "TrackBoxAdapter", "context", "box", "Terminator", "TrackClips", "TrackRegions", "DefaultObservableValue", "observer", "path", "Option", "updater", "option", "Terminable", "targetVertex", "vertex", "AudioUnitBox", "AudioUnitBoxAdapter", "labelField", "StringField", "asInstanceOf", "subject", "TrackType", "position", "fallback", "intervals", "UpdateClockRate", "optClip", "sectionFrom", "region", "firstRegion", "isInstanceOf", "ValueRegionBoxAdapter", "clip", "ValueClipBoxAdapter", "owner", "type", "target", "panic", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_AutomatableParameterFieldAdapter_context", "_AutomatableParameterFieldAdapter_field", "_AutomatableParameterFieldAdapter_valueMapping", "_AutomatableParameterFieldAdapter_stringMapping", "_AutomatableParameterFieldAdapter_name", "_AutomatableParameterFieldAdapter_anchor", "_AutomatableParameterFieldAdapter_terminator", "_AutomatableParameterFieldAdapter_valueChangeNotifier", "_AutomatableParameterFieldAdapter_controlSource", "_AutomatableParameterFieldAdapter_trackBoxAdapter", "_AutomatableParameterFieldAdapter_automationHandle", "_AutomatableParameterFieldAdapter_controlledValue", "_AutomatableParameterFieldAdapter_midiControlled", "ExternalControlTypes", "Pointers", "AutomatableParameterFieldAdapter", "context", "field", "valueMapping", "stringMapping", "name", "anchor", "Terminator", "Option", "Notifier", "Listeners", "pointer", "mapPointerToControlSource", "box", "assert", "adapter", "TrackBoxAdapter", "handle", "position", "optTrack", "track", "observer", "text", "result", "clamp", "panic", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_BoxAdapterCollection_entries", "_BoxAdapterCollection_listeners", "_BoxAdapterCollection_subscription", "BoxAdapterCollection", "pointerHub", "provider", "pointers", "UUID", "adapter", "Listeners", "pointer", "added", "assert", "uuid", "listener", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_DelayDeviceBoxAdapter_instances", "_a", "_DelayDeviceBoxAdapter_context", "_DelayDeviceBoxAdapter_box", "_DelayDeviceBoxAdapter_parametric", "_DelayDeviceBoxAdapter_wrapParameters", "DelayDeviceBoxAdapter", "context", "box", "ParameterAdapterSet", "Devices", "ValueMapping", "StringMapping", "Fraction", "n", "d", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_ReverbDeviceBoxAdapter_instances", "_ReverbDeviceBoxAdapter_context", "_ReverbDeviceBoxAdapter_box", "_ReverbDeviceBoxAdapter_parametric", "_ReverbDeviceBoxAdapter_wrapParameters", "ReverbDeviceBoxAdapter", "context", "box", "ParameterAdapterSet", "Devices", "ValueMapping", "StringMapping", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_RevampDeviceBoxAdapter_instances", "_RevampDeviceBoxAdapter_context", "_RevampDeviceBoxAdapter_box", "_RevampDeviceBoxAdapter_parametric", "_RevampDeviceBoxAdapter_wrapParameters", "RevampDeviceBoxAdapter", "context", "box", "ParameterAdapterSet", "Devices", "createPass", "createShelf", "createBell", "FrequencyMapping", "ValueMapping", "GainMapping", "QMapping", "parametric", "pass", "name", "StringMapping", "shelf", "bell", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_MarkerBoxAdapter_terminator", "_MarkerBoxAdapter_context", "_MarkerBoxAdapter_box", "MarkerBoxAdapter", "context", "box", "Terminator", "Propagation", "update", "track", "vertex", "TimelineBoxAdapter", "UUID", "a", "b", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_MarkerTrackAdapter_context", "_MarkerTrackAdapter_object", "_MarkerTrackAdapter_adapters", "_MarkerTrackAdapter_events", "_MarkerTrackAdapter_subscription", "MarkerTrackAdapter", "context", "object", "Notifier", "UUID", "adapter", "EventCollection", "MarkerBoxAdapter", "box", "MarkerBox", "added", "assert", "uuid", "observer", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_TimelineBoxAdapter_box", "_TimelineBoxAdapter_markerTrack", "TimelineBoxAdapter", "context", "box", "MarkerTrackAdapter", "nominator", "denominator", "PPQN", "observer", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_ModuleConnectionAdapter_box", "ModuleConnectionAdapter", "_context", "box", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_AbstractModuleAdapter_context", "_AbstractModuleAdapter_box", "_AbstractModuleAdapter_terminator", "_AbstractModuleAdapter_attributes", "_AbstractModuleAdapter_parameters", "_AbstractModuleAdapter_selected", "AbstractModuleAdapter", "context", "box", "Terminator", "ParameterAdapterSet", "terminable", "terminables", "ModularAdapter", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_ModuleConnectorAdapter_boxAdapters", "_ModuleConnectorAdapter_field", "_ModuleConnectorAdapter_direction", "_ModuleConnectorAdapter_name", "Direction", "ModuleConnectorAdapter", "_ModuleConnectorAdapter", "boxAdapters", "field", "direction", "name", "other", "accepts", "type", "Arrays", "Pointers", "box", "ModuleConnectionAdapter", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_ModuleDelayAdapter_parameterTime", "_ModuleDelayAdapter_voltageInput", "_ModuleDelayAdapter_voltageOutput", "ModuleDelayAdapter", "AbstractModuleAdapter", "context", "box", "ValueMapping", "StringMapping", "ModuleConnectorAdapter", "Direction", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_ModularAudioOutputAdapter_voltageInput", "ModularAudioOutputAdapter", "AbstractModuleAdapter", "context", "box", "ModuleConnectorAdapter", "Direction", "Arrays", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_ModuleGainAdapter_parameterGain", "_ModuleGainAdapter_voltageInput", "_ModuleGainAdapter_voltageOutput", "ModuleGainAdapter", "AbstractModuleAdapter", "context", "box", "ValueMapping", "StringMapping", "ModuleConnectorAdapter", "Direction", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_ModuleMultiplierAdapter_voltageInputX", "_ModuleMultiplierAdapter_voltageInputY", "_ModuleMultiplierAdapter_voltageOutput", "ModuleMultiplierAdapter", "AbstractModuleAdapter", "context", "box", "ModuleConnectorAdapter", "Direction", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_ModularAudioInputAdapter_voltageOutput", "ModularAudioInputAdapter", "AbstractModuleAdapter", "context", "box", "ModuleConnectorAdapter", "Direction", "Arrays", "Modules", "vertex", "adapters", "box", "asDefined", "ModuleGainAdapter", "ModuleDelayAdapter", "ModuleMultiplierAdapter", "ModularAudioInputAdapter", "ModularAudioOutputAdapter", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_DeviceInterfaceKnobAdapter_instances", "_DeviceInterfaceKnobAdapter_context", "_DeviceInterfaceKnobAdapter_box", "_DeviceInterfaceKnobAdapter_parameterTarget_get", "DeviceInterfaceKnobAdapter", "context", "box", "Modules", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_ModularDeviceBoxAdapter_context", "_ModularDeviceBoxAdapter_box", "ModularDeviceBoxAdapter", "context", "box", "_fieldIndices", "panic", "Devices", "ModularAdapter", "Pointers", "pointer", "DeviceInterfaceKnobAdapter", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_ModularAdapter_terminator", "_ModularAdapter_listeners", "_ModularAdapter_context", "_ModularAdapter_box", "_ModularAdapter_modules", "_ModularAdapter_connections", "ModularAdapter", "context", "box", "Terminator", "Listeners", "UUID", "adapter", "addModule", "pointer", "Modules", "removeModule", "addConnection", "ModuleConnectionAdapter", "removeConnection", "Pointers", "listener", "ifDefined", "fn", "asDefined", "ModularDeviceBoxAdapter", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_GrooveShuffleBoxAdapter_instances", "_a", "_GrooveShuffleBoxAdapter_terminator", "_GrooveShuffleBoxAdapter_context", "_GrooveShuffleBoxAdapter_box", "_GrooveShuffleBoxAdapter_parametric", "_GrooveShuffleBoxAdapter_groove", "_GrooveShuffleBoxAdapter_amount", "_GrooveShuffleBoxAdapter_duration", "_GrooveShuffleBoxAdapter_wrapParameters", "GrooveShuffleBoxAdapter", "context", "box", "Terminator", "GroovePattern", "x", "moebiusEase", "y", "PPQN", "ParameterAdapterSet", "owner", "squashUnit", "position", "ValueMapping", "StringMapping", "n", "d", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_FieldAdapter_field", "_FieldAdapter_valueMapping", "_FieldAdapter_stringMapping", "_FieldAdapter_name", "_FieldAdapter_anchor", "_FieldAdapter_terminator", "_FieldAdapter_valueChangeNotifier", "_FieldAdapter_trackBoxAdapter", "FieldAdapter", "field", "valueMapping", "stringMapping", "name", "anchor", "Terminator", "Option", "Notifier", "observer", "text", "result", "clamp", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_PianoModeAdapter_object", "_PianoModeAdapter_keyboard", "_PianoModeAdapter_timeRangeInQuarters", "_PianoModeAdapter_noteScale", "_PianoModeAdapter_noteLabels", "_PianoModeAdapter_transpose", "PianoModeAdapter", "object", "FieldAdapter", "ValueMapping", "StringMapping", "observer", "Propagation", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_RootBoxAdapter_context", "_RootBoxAdapter_box", "_RootBoxAdapter_audioUnits", "_RootBoxAdapter_audioBusses", "_RootBoxAdapter_pianoMode", "RootBoxAdapter", "context", "box", "IndexedBoxAdapterCollection", "AudioUnitBoxAdapter", "Pointers", "BoxAdapterCollection", "AudioBusBoxAdapter", "PianoModeAdapter", "adapter", "track", "GrooveShuffleBoxAdapter", "TimelineBoxAdapter", "asInstanceOf", "MIDIOutputBox", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_TapeDeviceBoxAdapter_instances", "_TapeDeviceBoxAdapter_context", "_TapeDeviceBoxAdapter_box", "_TapeDeviceBoxAdapter_parametric", "_TapeDeviceBoxAdapter_wrapParameters", "TapeDeviceBoxAdapter", "context", "box", "ParameterAdapterSet", "TrackType", "Devices", "ValueMapping", "StringMapping", "VaporisateurSettings", "FILTER_ORDER_VALUES", "FILTER_ORDER_STRINGS", "LFO_WAVEFORM_VALUES", "ClassicWaveform", "LFO_WAVEFORM_STRINGS", "ValueMapping", "StringMapping", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_VaporisateurDeviceBoxAdapter_instances", "_VaporisateurDeviceBoxAdapter_context", "_VaporisateurDeviceBoxAdapter_box", "_VaporisateurDeviceBoxAdapter_parametric", "_VaporisateurDeviceBoxAdapter_wrapParameters", "VaporisateurDeviceBoxAdapter", "context", "box", "ParameterAdapterSet", "TrackType", "Devices", "VoiceModes", "VoicingMode", "osc", "ValueMapping", "StringMapping", "VaporisateurSettings", "x", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_ArpeggioDeviceBoxAdapter_instances", "_a", "_ArpeggioDeviceBoxAdapter_context", "_ArpeggioDeviceBoxAdapter_box", "_ArpeggioDeviceBoxAdapter_parametric", "_ArpeggioDeviceBoxAdapter_wrapParameters", "ArpeggioDeviceBoxAdapter", "context", "box", "ParameterAdapterSet", "Devices", "ValueMapping", "StringMapping", "Fraction", "n", "d", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_PitchDeviceBoxAdapter_instances", "_PitchDeviceBoxAdapter_context", "_PitchDeviceBoxAdapter_box", "_PitchDeviceBoxAdapter_parametric", "_PitchDeviceBoxAdapter_wrapParameters", "PitchDeviceBoxAdapter", "context", "box", "ParameterAdapterSet", "Devices", "ValueMapping", "StringMapping", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_NanoDeviceBoxAdapter_instances", "_NanoDeviceBoxAdapter_context", "_NanoDeviceBoxAdapter_box", "_NanoDeviceBoxAdapter_parametric", "_NanoDeviceBoxAdapter_wrapParameters", "NanoDeviceBoxAdapter", "context", "box", "ParameterAdapterSet", "TrackType", "Devices", "ValueMapping", "StringMapping", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_PlayfieldSampleBoxAdapter_instances", "_PlayfieldSampleBoxAdapter_terminator", "_PlayfieldSampleBoxAdapter_context", "_PlayfieldSampleBoxAdapter_box", "_PlayfieldSampleBoxAdapter_midiEffects", "_PlayfieldSampleBoxAdapter_audioEffects", "_PlayfieldSampleBoxAdapter_parametric", "_PlayfieldSampleBoxAdapter_file", "_PlayfieldSampleBoxAdapter_wrapParameters", "PlayfieldSampleBoxAdapter", "context", "box", "Terminator", "Option", "IndexedBoxAdapterCollection", "Devices", "Pointers", "ParameterAdapterSet", "pointer", "AudioFileBoxAdapter", "file", "TrackType", "index", "PlayfieldSampleBox", "UUID", "PlayfieldDeviceBoxAdapter", "ValueMapping", "StringMapping", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_PlayfieldDeviceBoxAdapter_context", "_PlayfieldDeviceBoxAdapter_box", "_PlayfieldDeviceBoxAdapter_samples", "_PlayfieldDeviceBoxAdapter_parametric", "PlayfieldDeviceBoxAdapter", "context", "box", "IndexedBoxAdapterCollection", "PlayfieldSampleBoxAdapter", "Pointers", "ParameterAdapterSet", "adapter", "TrackType", "Devices", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_StereoToolDeviceBoxAdapter_instances", "_StereoToolDeviceBoxAdapter_context", "_StereoToolDeviceBoxAdapter_box", "_StereoToolDeviceBoxAdapter_parametric", "_StereoToolDeviceBoxAdapter_wrapParameters", "StereoToolDeviceBoxAdapter", "context", "box", "ParameterAdapterSet", "Devices", "ValueMapping", "StringMapping", "GrooveAdapter", "adapter", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_ZeitgeistDeviceBoxAdapter_context", "_ZeitgeistDeviceBoxAdapter_box", "ZeitgeistDeviceBoxAdapter", "context", "box", "Devices", "GrooveAdapter", "observer", "pointer", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_UnknownAudioEffectDeviceBoxAdapter_context", "_UnknownAudioEffectDeviceBoxAdapter_box", "UnknownAudioEffectDeviceBoxAdapter", "context", "box", "Devices", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_UnknownMidiEffectDeviceBoxAdapter_context", "_UnknownMidiEffectDeviceBoxAdapter_box", "UnknownMidiEffectDeviceBoxAdapter", "context", "box", "Devices", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_SoundfontDeviceBoxAdapter_instances", "_SoundfontDeviceBoxAdapter_terminator", "_SoundfontDeviceBoxAdapter_context", "_SoundfontDeviceBoxAdapter_box", "_SoundfontDeviceBoxAdapter_parametric", "_SoundfontDeviceBoxAdapter_loader", "_SoundfontDeviceBoxAdapter_soundfont", "_SoundfontDeviceBoxAdapter_preset", "_SoundfontDeviceBoxAdapter_loaderSubscription", "_SoundfontDeviceBoxAdapter_wrapParameters", "_SoundfontDeviceBoxAdapter_loaderObserver", "SoundfontDeviceBoxAdapter", "context", "box", "Terminator", "Terminable", "loader", "soundfont", "ParameterAdapterSet", "MutableObservableOption", "targetVertex", "owner", "TrackType", "Devices", "_box", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_SoundfontFileBoxAdapter_context", "_SoundfontFileBoxAdapter_box", "SoundfontFileBoxAdapter", "context", "box", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_CompressorDeviceBoxAdapter_instances", "_CompressorDeviceBoxAdapter_context", "_CompressorDeviceBoxAdapter_box", "_CompressorDeviceBoxAdapter_parametric", "_CompressorDeviceBoxAdapter_wrapParameters", "CompressorDeviceBoxAdapter", "context", "box", "ParameterAdapterSet", "Devices", "ValueMapping", "StringMapping", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_CrusherDeviceBoxAdapter_instances", "_CrusherDeviceBoxAdapter_context", "_CrusherDeviceBoxAdapter_box", "_CrusherDeviceBoxAdapter_parametric", "_CrusherDeviceBoxAdapter_wrapParameters", "CrusherDeviceBoxAdapter", "context", "box", "ParameterAdapterSet", "Devices", "ValueMapping", "StringMapping", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_FoldDeviceBoxAdapter_instances", "_FoldDeviceBoxAdapter_context", "_FoldDeviceBoxAdapter_box", "_FoldDeviceBoxAdapter_parametric", "_FoldDeviceBoxAdapter_wrapParameters", "FoldDeviceBoxAdapter", "context", "box", "ParameterAdapterSet", "Devices", "ValueMapping", "StringMapping", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_MIDIOutputDeviceBoxAdapter_terminator", "_MIDIOutputDeviceBoxAdapter_context", "_MIDIOutputDeviceBoxAdapter_box", "_MIDIOutputDeviceBoxAdapter_midiDevice", "_MIDIOutputDeviceBoxAdapter_parametric", "MIDIOutputDeviceBoxAdapter", "context", "box", "Terminator", "MutableObservableOption", "ParameterAdapterSet", "asInstanceOf", "MIDIOutputParameterBox", "ValueMapping", "StringMapping", "targetVertex", "MIDIOutputBox", "TrackType", "Devices", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_VelocityDeviceBoxAdapter_instances", "_VelocityDeviceBoxAdapter_context", "_VelocityDeviceBoxAdapter_box", "_VelocityDeviceBoxAdapter_parametric", "_VelocityDeviceBoxAdapter_random", "_VelocityDeviceBoxAdapter_wrapParameters", "VelocityDeviceBoxAdapter", "context", "box", "ParameterAdapterSet", "Random", "position", "original", "magnetPosition", "magnetStrength", "randomSeed", "randomAmount", "offset", "mix", "magnet", "random", "delta", "wet", "clampUnit", "Devices", "ValueMapping", "StringMapping", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_TidalDeviceBoxAdapter_instances", "_a", "_TidalDeviceBoxAdapter_context", "_TidalDeviceBoxAdapter_box", "_TidalDeviceBoxAdapter_parametric", "_TidalDeviceBoxAdapter_wrapParameters", "TidalDeviceBoxAdapter", "context", "box", "ParameterAdapterSet", "Devices", "RateFractions", "RateStringMapping", "ValueMapping", "StringMapping", "_", "index", "Fraction", "n", "d", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_DattorroReverbDeviceBoxAdapter_instances", "_DattorroReverbDeviceBoxAdapter_context", "_DattorroReverbDeviceBoxAdapter_box", "_DattorroReverbDeviceBoxAdapter_parametric", "_DattorroReverbDeviceBoxAdapter_wrapParameters", "DattorroReverbDeviceBoxAdapter", "context", "box", "ParameterAdapterSet", "Devices", "ValueMapping", "StringMapping", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_BoxAdapters_instances", "_BoxAdapters_context", "_BoxAdapters_adapters", "_BoxAdapters_deleted", "_BoxAdapters_terminable", "_BoxAdapters_create", "BoxAdapters", "context", "UUID", "adapter", "update", "isDefined", "box", "checkType", "panic", "added", "assert", "unknownBox", "asDefined", "ArpeggioDeviceBoxAdapter", "AudioBusBoxAdapter", "AudioClipBoxAdapter", "AudioFileBoxAdapter", "AudioRegionBoxAdapter", "AudioUnitBoxAdapter", "AuxSendBoxAdapter", "CompressorDeviceBoxAdapter", "CrusherDeviceBoxAdapter", "DattorroReverbDeviceBoxAdapter", "DelayDeviceBoxAdapter", "DeviceInterfaceKnobAdapter", "TidalDeviceBoxAdapter", "FoldDeviceBoxAdapter", "GrooveShuffleBoxAdapter", "MarkerBoxAdapter", "MIDIOutputDeviceBoxAdapter", "ModularAudioInputAdapter", "ModularAudioOutputAdapter", "ModularAdapter", "ModularDeviceBoxAdapter", "ModuleConnectionAdapter", "ModuleDelayAdapter", "ModuleGainAdapter", "ModuleMultiplierAdapter", "NanoDeviceBoxAdapter", "NoteClipBoxAdapter", "NoteEventBoxAdapter", "NoteEventCollectionBoxAdapter", "NoteRegionBoxAdapter", "PitchDeviceBoxAdapter", "PlayfieldDeviceBoxAdapter", "PlayfieldSampleBoxAdapter", "RevampDeviceBoxAdapter", "ReverbDeviceBoxAdapter", "RootBoxAdapter", "SoundfontDeviceBoxAdapter", "SoundfontFileBoxAdapter", "StereoToolDeviceBoxAdapter", "TapeDeviceBoxAdapter", "TimelineBoxAdapter", "TrackBoxAdapter", "UnknownAudioEffectDeviceBoxAdapter", "UnknownMidiEffectDeviceBoxAdapter", "ValueClipBoxAdapter", "ValueEventBoxAdapter", "ValueEventCollectionBoxAdapter", "ValueRegionBoxAdapter", "VaporisateurDeviceBoxAdapter", "VelocityDeviceBoxAdapter", "ZeitgeistDeviceBoxAdapter", "ExportStemsConfiguration", "config", "configuration", "name", "sanitizedNames", "getUniqueName", "baseName", "count", "newName", "key", "entry", "EngineStateSchema", "Schema", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_NoteBroadcaster_terminator", "_NoteBroadcaster_broadcaster", "_NoteBroadcaster_address", "_NoteBroadcaster_bits", "NoteBroadcaster", "broadcaster", "address", "Terminator", "Bits", "EmptyExec", "note", "Chunk", "ControlType", "ControlEvent", "_ControlEvent", "a", "b", "ticks", "type", "param0", "param1", "decoder", "ControlType", "c", "visitor", "safeExecute", "p1", "p2", "value", "MetaType", "MetaEvent", "_MetaEvent", "ticks", "type", "value", "decoder", "length", "MidiData", "Command", "data", "d", "p1", "p2", "v", "ch", "note", "vel", "ctrl", "val", "lsb", "msb", "pulses", "midiBeats", "isNull", "safeExecute", "MidiFileFormat", "tracks", "formatType", "timeDivision", "MidiTrack", "_MidiTrack", "decoder", "controlEvents", "ArrayMultimap", "metaEvents", "ticks", "eventType", "channel", "varLen", "b", "event", "ControlEvent", "isDefined", "MetaEvent", "MetaType", "output", "ByteArrayOutput", "writeVarInt", "value", "bytes", "byte", "events", "lastEventTypeByte", "deltaTime", "ControlType", "eventTypeByte", "MidiFileDecoder", "#suppressWarnings", "#sysMode", "input", "header", "Chunk", "formatType", "numTracks", "timeDivision", "tracks", "index", "trackChunk", "trackLength", "trackPosition", "MidiTrack", "MidiFileFormat", "value", "c", "b0", "b1", "b2", "b3", "count", "MidiFile", "buffer", "MidiFileDecoder", "ByteArrayInput", "MidiFileEncoder", "output", "value", "bytes", "i", "#tracks", "track", "ByteArrayOutput", "Chunk", "key", "NoteSignal", "uuid", "pitch", "velocity", "signal", "event", "data", "MidiData", "panic", "NoteLifeCycle", "send", "uuid", "pitch", "velocity", "playing", "NoteSignal", "_NoteStreamReceiver_terminator", "_NoteStreamReceiver_receiver", "_NoteStreamReceiver_address", "_NoteStreamReceiver_bits", "_NoteStreamReceiver_notifier", "_NoteStreamReceiver_terminator", "_NoteStreamReceiver_receiver", "_NoteStreamReceiver_address", "_NoteStreamReceiver_bits", "_NoteStreamReceiver_notifier", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_ParameterFieldAdapters_set", "ParameterFieldAdapters", "Address", "adapter", "address", "UnionBoxTypes", "box", "_box", "panic", "Validator", "numerator", "denominator", "Attempts", "bpm", "clamp", "boxGraph", "box", "current", "next", "Arrays", "UnionBoxTypes", "a", "b", "AudioRegionBox", "TimeBase", "Parsing", "input", "first", "second", "numerator", "denominator", "Validator", "RingBuffer", "sab", "numChunks", "numberOfChannels", "bufferSize", "append", "running", "pointers", "audio", "planarChunk", "canBlock", "step", "readPtr", "writePtr", "offset", "channels", "channel", "start", "end", "panic", "index", "UnionAdapterTypes", "adapter", "UnionBoxTypes", "Gate", "_UserEditing_editing", "_UserEditing_notifier", "_UserEditing_subscription", "_UserEditing_pointer", "_UserEditing_editing", "_UserEditing_notifier", "_UserEditing_subscription", "_UserEditing_pointer", "_UserEditingManager_terminator", "_UserEditingManager_modularSystem", "_UserEditingManager_timeline", "_UserEditingManager_audioUnit", "_UserEditingManager_terminator", "_UserEditingManager_modularSystem", "_UserEditingManager_timeline", "_UserEditingManager_audioUnit", "AudioUnitOrdering", "AudioUnitType", "AudioUnitFactory", "boxGraph", "rootBox", "primaryAudioBus", "type", "capture", "index", "insertIndex", "AudioUnitBox", "UUID", "box", "boxes", "IndexedBox", "order", "AudioUnitOrdering", "trackType", "TrackType", "Option", "CaptureAudioBox", "CaptureMidiBox", "AudioBusFactory", "skeleton", "name", "icon", "type", "color", "boxGraph", "rootBox", "assert", "uuid", "UUID", "audioBusBox", "AudioBusBox", "box", "IconSymbol", "audioUnitBox", "AudioUnitFactory", "Option", "TrackBox", "TrackType", "ColorCodes", "type", "AudioUnitType", "Colors", "TrackType", "InstrumentFactories", "IconSymbol", "TrackType", "boxGraph", "host", "name", "icon", "_attachment", "TapeDeviceBox", "UUID", "box", "attachment", "audioFileBox", "isDefined", "fileUUID", "fileDuration", "AudioFileBox", "NanoDeviceBox", "deviceBox", "PlayfieldDeviceBox", "note", "uuid", "durationInSeconds", "exclude", "fileBox", "useAudioFile", "PlayfieldSampleBox", "VaporisateurDeviceBox", "VoicingMode", "ClassicWaveform", "MIDIOutputDeviceBox", "soundFontUUIDAsString", "soundfontUUID", "soundfontBox", "useSoundfontFile", "SoundfontDeviceBox", "duration", "SoundfontFileBox", "ProjectSkeleton", "options", "boxGraph", "BoxGraph", "Option", "BoxIO", "isoString", "grooveShuffleBox", "GrooveShuffleBox", "UUID", "box", "rootBox", "RootBox", "primaryAudioBus", "AudioBusBox", "IconSymbol", "primaryAudioOutputUnit", "AudioUnitBox", "AudioUnitType", "CompressorDeviceBox", "timelineBox", "TimelineBox", "userInterfaceBoxes", "userInterfaceBox", "UserInterfaceBox", "output", "ByteArrayOutput", "boxGraphChunk", "arrayBuffer", "input", "ByteArrayInput", "assert", "boxGraphChunkLength", "isDefined", "asInstanceOf", "panic", "ProjectUtils", "isSameGraph", "b", "compareIndex", "excludeTimelinePredicate", "box", "_box", "audioUnitBoxes", "boxGraph", "primaryAudioBus", "rootBox", "options", "assert", "Arrays", "excludeBox", "Predicates", "dependencies", "SelectionBox", "AuxSendBox", "uuidMap", "generateTransferMap", "copy", "reorderAudioUnits", "source", "asInstanceOf", "AudioUnitBox", "regionBoxes", "insertPosition", "regionBoxSet", "trackBoxSet", "audioUnitBoxSet", "SetMultimap", "regionBox", "trackBox", "TrackBox", "audioUnitBox", "isInstanceOf", "UnionBoxTypes", "_", "trackBoxes", "index", "minPosition", "min", "region", "delta", "position", "rootBoxUUID", "masterBusBoxUUID", "UUID", "targetAddress", "uuid", "name", "AudioFileBox", "SoundfontFileBox", "PointerField", "_pointer", "newAddress", "address", "target", "input", "ByteArrayInput", "key", "IndexedBox", "a", "orderA", "AudioUnitOrdering", "orderB", "orderDifference", "PresetHeader", "PresetDecoder", "bytes", "target", "header", "ByteArrayInput", "PresetHeader", "RuntimeNotifier", "sourceBoxGraph", "BoxGraph", "Option", "BoxIO", "reason", "sourceAudioUnitBoxes", "box", "isInstanceOf", "AudioUnitBox", "AudioUnitType", "ProjectUtils", "audioUnitBox", "inputBox", "isDefined", "captureBox", "CaptureMidiBox", "TrackBox", "UUID", "TrackType", "CaptureAudioBox", "arrayBuffer", "targetAudioUnitBox", "options", "skeleton", "ProjectSkeleton", "targetBoxGraph", "sourceAudioUnitBox", "asDefined", "asInstanceOf", "sourceCaptureBox", "targetCaptureBox", "Attempts", "replaceMIDIEffects", "replaceAudioEffects", "excludeBox", "_box", "uuidMap", "source", "dependencies", "uuid", "name", "AudioFileBox", "SoundfontFileBox", "PointerField", "_pointer", "newAddress", "address", "input", "key", "PresetEncoder", "audioUnitBox", "header", "ByteArrayOutput", "PresetHeader", "preset", "ProjectSkeleton", "ProjectUtils", "Arrays", "ProjectQueries", "rootBox", "box", "inputBox", "asDefined", "asInstanceOf", "AudioUnitBox", "StringField", "external_exports", "__export", "$brand", "$input", "$output", "NEVER", "TimePrecision", "ZodAny", "ZodArray", "ZodBase64", "ZodBase64URL", "ZodBigInt", "ZodBigIntFormat", "ZodBoolean", "ZodCIDRv4", "ZodCIDRv6", "ZodCUID", "ZodCUID2", "ZodCatch", "ZodCodec", "ZodCustom", "ZodCustomStringFormat", "ZodDate", "ZodDefault", "ZodDiscriminatedUnion", "ZodE164", "ZodEmail", "ZodEmoji", "ZodEnum", "ZodError", "ZodFile", "ZodFirstPartyTypeKind", "ZodFunction", "ZodGUID", "ZodIPv4", "ZodIPv6", "ZodISODate", "ZodISODateTime", "ZodISODuration", "ZodISOTime", "ZodIntersection", "ZodIssueCode", "ZodJWT", "ZodKSUID", "ZodLazy", "ZodLiteral", "ZodMAC", "ZodMap", "ZodNaN", "ZodNanoID", "ZodNever", "ZodNonOptional", "ZodNull", "ZodNullable", "ZodNumber", "ZodNumberFormat", "ZodObject", "ZodOptional", "ZodPipe", "ZodPrefault", "ZodPromise", "ZodReadonly", "ZodRealError", "ZodRecord", "ZodSet", "ZodString", "ZodStringFormat", "ZodSuccess", "ZodSymbol", "ZodTemplateLiteral", "ZodTransform", "ZodTuple", "ZodType", "ZodULID", "ZodURL", "ZodUUID", "ZodUndefined", "ZodUnion", "ZodUnknown", "ZodVoid", "ZodXID", "_ZodString", "_default", "_function", "any", "array", "base64", "base64url", "bigint", "boolean", "_catch", "check", "cidrv4", "cidrv6", "clone", "codec", "coerce_exports", "config", "core_exports", "cuid", "cuid2", "custom", "date", "decode", "decodeAsync", "describe", "discriminatedUnion", "e164", "email", "emoji", "encode", "encodeAsync", "_endsWith", "_enum", "file", "flattenError", "float32", "float64", "formatError", "getErrorMap", "globalRegistry", "_gt", "_gte", "guid", "hash", "hex", "hostname", "httpUrl", "_includes", "_instanceof", "int", "int32", "int64", "intersection", "ipv4", "ipv6", "iso_exports", "json", "jwt", "keyof", "ksuid", "lazy", "_length", "literal", "locales_exports", "looseObject", "_lowercase", "_lt", "_lte", "mac", "map", "_maxLength", "_maxSize", "meta", "_mime", "_minLength", "_minSize", "_multipleOf", "nan", "nanoid", "nativeEnum", "_negative", "never", "_nonnegative", "nonoptional", "_nonpositive", "_normalize", "_null", "nullable", "nullish", "number", "object", "optional", "_overwrite", "parse", "parseAsync", "partialRecord", "pipe", "_positive", "prefault", "preprocess", "prettifyError", "promise", "_property", "readonly", "record", "refine", "_regex", "regexes_exports", "registry", "safeDecode", "safeDecodeAsync", "safeEncode", "safeEncodeAsync", "safeParse", "safeParseAsync", "set", "setErrorMap", "_size", "_slugify", "_startsWith", "strictObject", "string", "stringFormat", "stringbool", "success", "superRefine", "symbol", "templateLiteral", "toJSONSchema", "_toLowerCase", "_toUpperCase", "transform", "treeifyError", "_trim", "tuple", "uint32", "uint64", "ulid", "_undefined", "union", "unknown", "_uppercase", "url", "util_exports", "uuid", "uuidv4", "uuidv6", "uuidv7", "_void", "xid", "core_exports", "__export", "$ZodAny", "$ZodArray", "$ZodAsyncError", "$ZodBase64", "$ZodBase64URL", "$ZodBigInt", "$ZodBigIntFormat", "$ZodBoolean", "$ZodCIDRv4", "$ZodCIDRv6", "$ZodCUID", "$ZodCUID2", "$ZodCatch", "$ZodCheck", "$ZodCheckBigIntFormat", "$ZodCheckEndsWith", "$ZodCheckGreaterThan", "$ZodCheckIncludes", "$ZodCheckLengthEquals", "$ZodCheckLessThan", "$ZodCheckLowerCase", "$ZodCheckMaxLength", "$ZodCheckMaxSize", "$ZodCheckMimeType", "$ZodCheckMinLength", "$ZodCheckMinSize", "$ZodCheckMultipleOf", "$ZodCheckNumberFormat", "$ZodCheckOverwrite", "$ZodCheckProperty", "$ZodCheckRegex", "$ZodCheckSizeEquals", "$ZodCheckStartsWith", "$ZodCheckStringFormat", "$ZodCheckUpperCase", "$ZodCodec", "$ZodCustom", "$ZodCustomStringFormat", "$ZodDate", "$ZodDefault", "$ZodDiscriminatedUnion", "$ZodE164", "$ZodEmail", "$ZodEmoji", "$ZodEncodeError", "$ZodEnum", "$ZodError", "$ZodFile", "$ZodFunction", "$ZodGUID", "$ZodIPv4", "$ZodIPv6", "$ZodISODate", "$ZodISODateTime", "$ZodISODuration", "$ZodISOTime", "$ZodIntersection", "$ZodJWT", "$ZodKSUID", "$ZodLazy", "$ZodLiteral", "$ZodMAC", "$ZodMap", "$ZodNaN", "$ZodNanoID", "$ZodNever", "$ZodNonOptional", "$ZodNull", "$ZodNullable", "$ZodNumber", "$ZodNumberFormat", "$ZodObject", "$ZodObjectJIT", "$ZodOptional", "$ZodPipe", "$ZodPrefault", "$ZodPromise", "$ZodReadonly", "$ZodRealError", "$ZodRecord", "$ZodRegistry", "$ZodSet", "$ZodString", "$ZodStringFormat", "$ZodSuccess", "$ZodSymbol", "$ZodTemplateLiteral", "$ZodTransform", "$ZodTuple", "$ZodType", "$ZodULID", "$ZodURL", "$ZodUUID", "$ZodUndefined", "$ZodUnion", "$ZodUnknown", "$ZodVoid", "$ZodXID", "$brand", "$constructor", "$input", "$output", "Doc", "json_schema_exports", "JSONSchemaGenerator", "NEVER", "TimePrecision", "_any", "_array", "_base64", "_base64url", "_bigint", "_boolean", "_catch", "_check", "_cidrv4", "_cidrv6", "_coercedBigint", "_coercedBoolean", "_coercedDate", "_coercedNumber", "_coercedString", "_cuid", "_cuid2", "_custom", "_date", "_decode", "_decodeAsync", "_default", "_discriminatedUnion", "_e164", "_email", "_emoji", "_encode", "_encodeAsync", "_endsWith", "_enum", "_file", "_float32", "_float64", "_gt", "_gte", "_guid", "_includes", "_int", "_int32", "_int64", "_intersection", "_ipv4", "_ipv6", "_isoDate", "_isoDateTime", "_isoDuration", "_isoTime", "_jwt", "_ksuid", "_lazy", "_length", "_literal", "_lowercase", "_lt", "_lte", "_mac", "_map", "_maxLength", "_maxSize", "_mime", "_minLength", "_minSize", "_multipleOf", "_nan", "_nanoid", "_nativeEnum", "_negative", "_never", "_nonnegative", "_nonoptional", "_nonpositive", "_normalize", "_null", "_nullable", "_number", "_optional", "_overwrite", "_parse", "_parseAsync", "_pipe", "_positive", "_promise", "_property", "_readonly", "_record", "_refine", "_regex", "_safeDecode", "_safeDecodeAsync", "_safeEncode", "_safeEncodeAsync", "_safeParse", "_safeParseAsync", "_set", "_size", "_slugify", "_startsWith", "_string", "_stringFormat", "_stringbool", "_success", "_superRefine", "_symbol", "_templateLiteral", "_toLowerCase", "_toUpperCase", "_transform", "_trim", "_tuple", "_uint32", "_uint64", "_ulid", "_undefined", "_union", "_unknown", "_uppercase", "_url", "_uuid", "_uuidv4", "_uuidv6", "_uuidv7", "_void", "_xid", "clone", "config", "decode", "decodeAsync", "describe", "encode", "encodeAsync", "flattenError", "formatError", "globalConfig", "globalRegistry", "isValidBase64", "isValidBase64URL", "isValidJWT", "locales_exports", "meta", "parse", "parseAsync", "prettifyError", "regexes_exports", "registry", "safeDecode", "safeDecodeAsync", "safeEncode", "safeEncodeAsync", "safeParse", "safeParseAsync", "toDotPath", "toJSONSchema", "treeifyError", "util_exports", "version", "NEVER", "$constructor", "name", "initializer", "params", "init", "inst", "def", "_", "proto", "keys", "i", "k", "Parent", "Definition", "_a", "fn", "$brand", "$ZodAsyncError", "$ZodEncodeError", "globalConfig", "config", "newConfig", "util_exports", "__export", "BIGINT_FORMAT_RANGES", "Class", "NUMBER_FORMAT_RANGES", "aborted", "allowsEval", "assert", "assertEqual", "assertIs", "assertNever", "assertNotEqual", "assignProp", "base64ToUint8Array", "base64urlToUint8Array", "cached", "captureStackTrace", "cleanEnum", "cleanRegex", "clone", "cloneDef", "createTransparentProxy", "defineLazy", "esc", "escapeRegex", "extend", "finalizeIssue", "floatSafeRemainder", "getElementAtPath", "getEnumValues", "getLengthableOrigin", "getParsedType", "getSizableOrigin", "hexToUint8Array", "isObject", "isPlainObject", "issue", "joinValues", "jsonStringifyReplacer", "merge", "mergeDefs", "normalizeParams", "nullish", "numKeys", "objectClone", "omit", "optionalKeys", "partial", "pick", "prefixIssues", "primitiveTypes", "promiseAllObject", "propertyKeyTypes", "randomString", "required", "safeExtend", "shallowClone", "slugify", "stringifyPrimitive", "uint8ArrayToBase64", "uint8ArrayToBase64url", "uint8ArrayToHex", "unwrapMessage", "val", "_arg", "_x", "_", "entries", "numericValues", "v", "k", "array", "separator", "value", "getter", "input", "source", "start", "end", "step", "valDecCount", "stepString", "stepDecCount", "match", "decCount", "valInt", "stepInt", "EVALUATING", "object", "key", "obj", "target", "prop", "defs", "mergedDescriptors", "def", "descriptors", "schema", "path", "acc", "promisesObj", "keys", "promises", "results", "resolvedObj", "i", "length", "chars", "str", "_args", "data", "F", "o", "ctor", "prot", "keyCount", "t", "inst", "params", "cl", "_params", "receiver", "descriptor", "shape", "mask", "currDef", "newShape", "checks", "_shape", "a", "b", "oldShape", "x", "startIndex", "issues", "iss", "_a", "message", "ctx", "config", "full", "args", "el", "base64", "binaryString", "bytes", "base64url", "padding", "hex", "cleanHex", "initializer", "inst", "def", "jsonStringifyReplacer", "$ZodError", "$constructor", "$ZodRealError", "flattenError", "error", "mapper", "issue", "fieldErrors", "formErrors", "sub", "formatError", "processError", "issues", "curr", "i", "el", "treeifyError", "result", "path", "_a", "_b", "fullpath", "terminal", "toDotPath", "_path", "segs", "seg", "prettifyError", "lines", "a", "b", "_parse", "_Err", "schema", "value", "_ctx", "_params", "ctx", "result", "$ZodAsyncError", "e", "iss", "finalizeIssue", "config", "captureStackTrace", "parse", "$ZodRealError", "_parseAsync", "params", "parseAsync", "_safeParse", "$ZodError", "safeParse", "_safeParseAsync", "safeParseAsync", "_encode", "encode", "_decode", "decode", "_encodeAsync", "encodeAsync", "_decodeAsync", "decodeAsync", "_safeEncode", "safeEncode", "_safeDecode", "safeDecode", "_safeEncodeAsync", "safeEncodeAsync", "_safeDecodeAsync", "safeDecodeAsync", "regexes_exports", "__export", "base64", "base64url", "bigint", "boolean", "browserEmail", "cidrv4", "cidrv6", "cuid", "cuid2", "date", "datetime", "domain", "duration", "e164", "email", "emoji", "extendedDuration", "guid", "hex", "hostname", "html5Email", "idnEmail", "integer", "ipv4", "ipv6", "ksuid", "lowercase", "mac", "md5_base64", "md5_base64url", "md5_hex", "nanoid", "_null", "number", "rfc5322Email", "sha1_base64", "sha1_base64url", "sha1_hex", "sha256_base64", "sha256_base64url", "sha256_hex", "sha384_base64", "sha384_base64url", "sha384_hex", "sha512_base64", "sha512_base64url", "sha512_hex", "string", "time", "ulid", "_undefined", "unicodeEmail", "uppercase", "uuid", "uuid4", "uuid6", "uuid7", "xid", "cuid", "cuid2", "ulid", "xid", "ksuid", "nanoid", "duration", "extendedDuration", "guid", "uuid", "version", "uuid4", "uuid6", "uuid7", "email", "html5Email", "rfc5322Email", "unicodeEmail", "idnEmail", "browserEmail", "_emoji", "emoji", "ipv4", "ipv6", "mac", "delimiter", "escapedDelim", "escapeRegex", "cidrv4", "cidrv6", "base64", "base64url", "hostname", "domain", "e164", "dateSource", "date", "timeSource", "args", "hhmm", "time", "datetime", "opts", "timeRegex", "string", "params", "regex", "bigint", "integer", "number", "boolean", "_null", "_undefined", "lowercase", "uppercase", "hex", "fixedBase64", "bodyLength", "padding", "fixedBase64url", "length", "md5_hex", "md5_base64", "md5_base64url", "sha1_hex", "sha1_base64", "sha1_base64url", "sha256_hex", "sha256_base64", "sha256_base64url", "sha384_hex", "sha384_base64", "sha384_base64url", "sha512_hex", "sha512_base64", "sha512_base64url", "$ZodCheck", "$constructor", "inst", "def", "_a", "numericOriginMap", "$ZodCheckLessThan", "origin", "bag", "curr", "payload", "$ZodCheckGreaterThan", "$ZodCheckMultipleOf", "floatSafeRemainder", "$ZodCheckNumberFormat", "isInt", "minimum", "maximum", "NUMBER_FORMAT_RANGES", "integer", "input", "$ZodCheckBigIntFormat", "BIGINT_FORMAT_RANGES", "$ZodCheckMaxSize", "val", "nullish", "getSizableOrigin", "$ZodCheckMinSize", "$ZodCheckSizeEquals", "size", "tooBig", "$ZodCheckMaxLength", "getLengthableOrigin", "$ZodCheckMinLength", "$ZodCheckLengthEquals", "length", "$ZodCheckStringFormat", "_b", "$ZodCheckRegex", "$ZodCheckLowerCase", "lowercase", "$ZodCheckUpperCase", "uppercase", "$ZodCheckIncludes", "escapedRegex", "escapeRegex", "pattern", "$ZodCheckStartsWith", "$ZodCheckEndsWith", "handleCheckPropertyResult", "result", "property", "prefixIssues", "$ZodCheckProperty", "$ZodCheckMimeType", "mimeSet", "$ZodCheckOverwrite", "Doc", "args", "fn", "arg", "lines", "x", "minIndent", "dedented", "line", "F", "version", "$ZodType", "$constructor", "inst", "def", "_a", "version", "checks", "ch", "fn", "runChecks", "payload", "ctx", "isAborted", "aborted", "asyncResult", "currLen", "_", "$ZodAsyncError", "handleCanaryResult", "canary", "checkResult", "result", "value", "r", "safeParse", "safeParseAsync", "$ZodString", "string", "$ZodStringFormat", "$ZodCheckStringFormat", "$ZodGUID", "guid", "$ZodUUID", "v", "uuid", "$ZodEmail", "email", "$ZodURL", "trimmed", "url", "$ZodEmoji", "emoji", "$ZodNanoID", "nanoid", "$ZodCUID", "cuid", "$ZodCUID2", "cuid2", "$ZodULID", "ulid", "$ZodXID", "xid", "$ZodKSUID", "ksuid", "$ZodISODateTime", "datetime", "$ZodISODate", "date", "$ZodISOTime", "time", "$ZodISODuration", "duration", "$ZodIPv4", "ipv4", "$ZodIPv6", "ipv6", "$ZodMAC", "mac", "$ZodCIDRv4", "cidrv4", "$ZodCIDRv6", "cidrv6", "parts", "address", "prefix", "prefixNum", "isValidBase64", "data", "$ZodBase64", "base64", "isValidBase64URL", "base64url", "c", "padded", "$ZodBase64URL", "$ZodE164", "e164", "isValidJWT", "token", "algorithm", "tokensParts", "header", "parsedHeader", "$ZodJWT", "$ZodCustomStringFormat", "$ZodNumber", "number", "_ctx", "input", "received", "$ZodNumberFormat", "$ZodCheckNumberFormat", "$ZodBoolean", "boolean", "$ZodBigInt", "bigint", "$ZodBigIntFormat", "$ZodCheckBigIntFormat", "$ZodSymbol", "$ZodUndefined", "_undefined", "$ZodNull", "_null", "$ZodAny", "$ZodUnknown", "$ZodNever", "$ZodVoid", "$ZodDate", "isDate", "handleArrayResult", "final", "index", "prefixIssues", "$ZodArray", "proms", "i", "item", "handlePropertyResult", "key", "normalizeDef", "keys", "k", "okeys", "optionalKeys", "handleCatchall", "unrecognized", "keySet", "_catchall", "t", "$ZodObject", "sh", "newSh", "_normalized", "cached", "defineLazy", "shape", "propValues", "field", "isObject", "catchall", "$ZodObjectJIT", "superParse", "generateFastpass", "doc", "Doc", "normalized", "parseStr", "esc", "ids", "counter", "id", "fastpass", "jit", "globalConfig", "fastEnabled", "allowsEval", "handleUnionResults", "results", "nonaborted", "iss", "finalizeIssue", "config", "$ZodUnion", "o", "option", "patterns", "p", "cleanRegex", "single", "first", "async", "$ZodDiscriminatedUnion", "_super", "pv", "val", "disc", "opts", "map", "values", "opt", "$ZodIntersection", "left", "right", "handleIntersectionResults", "mergeValues", "a", "b", "isPlainObject", "bKeys", "sharedKeys", "newObj", "sharedValue", "newArray", "itemA", "itemB", "merged", "$ZodTuple", "items", "reversedIndex", "optStart", "tooBig", "tooSmall", "handleTupleResult", "rest", "el", "$ZodRecord", "recordKeys", "keyResult", "$ZodMap", "valueResult", "handleMapResult", "propertyKeyTypes", "$ZodSet", "handleSetResult", "$ZodEnum", "getEnumValues", "valuesSet", "escapeRegex", "$ZodLiteral", "$ZodFile", "$ZodTransform", "$ZodEncodeError", "_out", "output", "handleOptionalResult", "$ZodOptional", "pattern", "$ZodNullable", "$ZodDefault", "handleDefaultResult", "$ZodPrefault", "$ZodNonOptional", "x", "handleNonOptionalResult", "$ZodSuccess", "$ZodCatch", "$ZodNaN", "$ZodPipe", "handlePipeResult", "next", "$ZodCodec", "handleCodecAResult", "transformed", "handleCodecTxResult", "nextSchema", "$ZodReadonly", "handleReadonlyResult", "$ZodTemplateLiteral", "regexParts", "part", "source", "start", "end", "primitiveTypes", "$ZodFunction", "func", "args", "parsedArgs", "parse", "parseAsync", "F", "$ZodPromise", "inner", "$ZodLazy", "$ZodCustom", "$ZodCheck", "handleRefineResult", "_iss", "issue", "locales_exports", "__export", "ar_default", "az_default", "be_default", "bg_default", "ca_default", "cs_default", "da_default", "de_default", "en_default", "eo_default", "es_default", "fa_default", "fi_default", "fr_default", "fr_CA_default", "he_default", "hu_default", "id_default", "is_default", "it_default", "ja_default", "ka_default", "kh_default", "km_default", "ko_default", "lt_default", "mk_default", "ms_default", "nl_default", "no_default", "ota_default", "pl_default", "ps_default", "pt_default", "ru_default", "sl_default", "sv_default", "ta_default", "th_default", "tr_default", "ua_default", "uk_default", "ur_default", "vi_default", "yo_default", "zh_CN_default", "zh_TW_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "ar_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "az_default", "getBelarusianPlural", "count", "one", "few", "many", "absCount", "lastDigit", "lastTwoDigits", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "maxValue", "unit", "minValue", "_issue", "be_default", "parsedType", "data", "t", "error", "Sizable", "getSizing", "origin", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "invalid_adj", "bg_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "ca_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "cs_default", "error", "Sizable", "TypeNames", "getSizing", "origin", "getTypeName", "type", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "da_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "de_default", "parsedType", "data", "t", "error", "Sizable", "getSizing", "origin", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "en_default", "parsedType", "data", "t", "error", "Sizable", "getSizing", "origin", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "eo_default", "error", "Sizable", "TypeNames", "getSizing", "origin", "getTypeName", "type", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "es_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "fa_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "fi_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "fr_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "fr_CA_default", "error", "TypeNames", "Sizable", "typeEntry", "t", "typeLabel", "e", "withDefinite", "verbFor", "getSizing", "origin", "parsedType", "data", "Nouns", "issue", "expectedKey", "expected", "receivedKey", "received", "stringifyPrimitive", "stringified", "lastValue", "sizing", "subject", "comparison", "verb", "adj", "be", "singularPhrase", "_issue", "nounEntry", "noun", "adjective", "joinValues", "he_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "hu_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "id_default", "parsedType", "data", "t", "error", "Sizable", "getSizing", "origin", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "is_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "it_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "ja_default", "parsedType", "data", "t", "error", "Sizable", "getSizing", "origin", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "ka_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "km_default", "kh_default", "km_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "suffix", "sizing", "unit", "_issue", "ko_default", "parsedType", "data", "parsedTypeFromType", "t", "capitalizeFirstCharacter", "text", "getUnitTypeFromNumber", "number", "abs", "last", "last2", "error", "Sizable", "getSizing", "origin", "unitType", "inclusive", "targetShouldBe", "result", "Nouns", "issue", "stringifyPrimitive", "joinValues", "sizing", "adj", "_issue", "lt_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "mk_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "ms_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "nl_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "no_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "ota_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "ps_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "pl_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "pt_default", "getRussianPlural", "count", "one", "few", "many", "absCount", "lastDigit", "lastTwoDigits", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "maxValue", "unit", "minValue", "_issue", "ru_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "sl_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "sv_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "ta_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "th_default", "parsedType", "data", "t", "error", "Sizable", "getSizing", "origin", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "tr_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "uk_default", "ua_default", "uk_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "ur_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "vi_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "zh_CN_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "zh_TW_default", "error", "Sizable", "getSizing", "origin", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "yo_default", "_a", "$output", "$input", "$ZodRegistry", "schema", "_meta", "meta", "p", "pm", "f", "registry", "globalRegistry", "_string", "Class", "params", "normalizeParams", "_coercedString", "_email", "_guid", "_uuid", "_uuidv4", "_uuidv6", "_uuidv7", "_url", "_emoji", "_nanoid", "_cuid", "_cuid2", "_ulid", "_xid", "_ksuid", "_ipv4", "_ipv6", "_mac", "_cidrv4", "_cidrv6", "_base64", "_base64url", "_e164", "_jwt", "TimePrecision", "_isoDateTime", "_isoDate", "_isoTime", "_isoDuration", "_number", "_coercedNumber", "_int", "_float32", "_float64", "_int32", "_uint32", "_boolean", "_coercedBoolean", "_bigint", "_coercedBigint", "_int64", "_uint64", "_symbol", "_undefined", "_null", "_any", "_unknown", "_never", "_void", "_date", "_coercedDate", "_nan", "_lt", "value", "$ZodCheckLessThan", "_lte", "_gt", "value", "params", "$ZodCheckGreaterThan", "normalizeParams", "_gte", "_positive", "params", "_gt", "_negative", "_lt", "_nonpositive", "_lte", "_nonnegative", "_gte", "_multipleOf", "value", "$ZodCheckMultipleOf", "normalizeParams", "_maxSize", "maximum", "$ZodCheckMaxSize", "_minSize", "minimum", "$ZodCheckMinSize", "_size", "size", "$ZodCheckSizeEquals", "_maxLength", "$ZodCheckMaxLength", "_minLength", "$ZodCheckMinLength", "_length", "length", "$ZodCheckLengthEquals", "_regex", "pattern", "$ZodCheckRegex", "_lowercase", "$ZodCheckLowerCase", "_uppercase", "$ZodCheckUpperCase", "_includes", "includes", "$ZodCheckIncludes", "_startsWith", "prefix", "$ZodCheckStartsWith", "_endsWith", "suffix", "$ZodCheckEndsWith", "_property", "property", "schema", "$ZodCheckProperty", "_mime", "types", "$ZodCheckMimeType", "_overwrite", "tx", "$ZodCheckOverwrite", "_normalize", "form", "input", "_trim", "_toLowerCase", "_toUpperCase", "_slugify", "slugify", "_array", "Class", "element", "_union", "options", "_discriminatedUnion", "discriminator", "_intersection", "left", "right", "_tuple", "items", "_paramsOrRest", "_params", "hasRest", "$ZodType", "rest", "_record", "keyType", "valueType", "_map", "_set", "_enum", "values", "entries", "v", "_nativeEnum", "_literal", "_file", "_transform", "fn", "_optional", "innerType", "_nullable", "_default", "defaultValue", "shallowClone", "_nonoptional", "_success", "_catch", "catchValue", "_pipe", "in_", "out", "_readonly", "_templateLiteral", "parts", "_lazy", "getter", "_promise", "_custom", "norm", "_refine", "_superRefine", "ch", "_check", "payload", "issue", "_issue", "$ZodCheck", "describe", "description", "inst", "existing", "globalRegistry", "meta", "metadata", "_stringbool", "Classes", "truthyArray", "falsyArray", "truthySet", "falsySet", "_Codec", "$ZodCodec", "_Boolean", "$ZodBoolean", "_String", "$ZodString", "stringSchema", "booleanSchema", "codec", "data", "_payload", "_stringFormat", "format", "fnOrRegex", "def", "val", "JSONSchemaGenerator", "params", "globalRegistry", "schema", "_params", "_a", "def", "formatMap", "seen", "result", "overrideSchema", "parent", "_json", "json", "minimum", "maximum", "format", "patterns", "contentEncoding", "regexes", "regex", "multipleOf", "exclusiveMaximum", "exclusiveMinimum", "shape", "key", "allKeys", "requiredKeys", "v", "isDiscriminated", "options", "x", "i", "a", "b", "isSimpleIntersection", "val", "allOf", "prefixPath", "restPath", "prefixItems", "rest", "values", "getEnumValues", "vals", "file", "mime", "m", "inner", "catchValue", "pattern", "innerType", "meta", "isTransforming", "root", "makeURI", "entry", "defsSegment", "externalId", "uriGenerator", "id", "defUriPrefix", "defId", "extractToDef", "ref", "ext", "flattenRef", "zodSchema", "_cached", "refSchema", "defs", "toJSONSchema", "input", "$ZodRegistry", "gen", "_", "schemas", "external", "_schema", "_ctx", "ctx", "option", "item", "json_schema_exports", "iso_exports", "__export", "ZodISODate", "ZodISODateTime", "ZodISODuration", "ZodISOTime", "date", "datetime", "duration", "time", "ZodISODateTime", "$constructor", "inst", "def", "$ZodISODateTime", "ZodStringFormat", "datetime", "params", "_isoDateTime", "ZodISODate", "$ZodISODate", "date", "_isoDate", "ZodISOTime", "$ZodISOTime", "time", "_isoTime", "ZodISODuration", "$ZodISODuration", "duration", "_isoDuration", "initializer", "inst", "issues", "$ZodError", "mapper", "formatError", "flattenError", "issue", "jsonStringifyReplacer", "ZodError", "$constructor", "ZodRealError", "parse", "_parse", "ZodRealError", "parseAsync", "_parseAsync", "safeParse", "_safeParse", "safeParseAsync", "_safeParseAsync", "encode", "_encode", "decode", "_decode", "encodeAsync", "_encodeAsync", "decodeAsync", "_decodeAsync", "safeEncode", "_safeEncode", "safeDecode", "_safeDecode", "safeEncodeAsync", "_safeEncodeAsync", "safeDecodeAsync", "_safeDecodeAsync", "ZodType", "$constructor", "inst", "def", "$ZodType", "checks", "util_exports", "ch", "params", "clone", "reg", "meta", "data", "parse", "safeParse", "parseAsync", "safeParseAsync", "encode", "decode", "encodeAsync", "decodeAsync", "safeEncode", "safeDecode", "safeEncodeAsync", "safeDecodeAsync", "check", "refine", "refinement", "superRefine", "fn", "_overwrite", "optional", "nullable", "nonoptional", "array", "arg", "union", "intersection", "tx", "pipe", "transform", "_default", "prefault", "_catch", "target", "readonly", "description", "cl", "globalRegistry", "args", "_ZodString", "$ZodString", "bag", "_regex", "_includes", "_startsWith", "_endsWith", "_minLength", "_maxLength", "_length", "_lowercase", "_uppercase", "_trim", "_normalize", "_toLowerCase", "_toUpperCase", "_slugify", "ZodString", "_email", "ZodEmail", "_url", "ZodURL", "_jwt", "ZodJWT", "_emoji", "ZodEmoji", "_guid", "ZodGUID", "_uuid", "ZodUUID", "_uuidv4", "_uuidv6", "_uuidv7", "_nanoid", "ZodNanoID", "_cuid", "ZodCUID", "_cuid2", "ZodCUID2", "_ulid", "ZodULID", "_base64", "ZodBase64", "_base64url", "ZodBase64URL", "_xid", "ZodXID", "_ksuid", "ZodKSUID", "_ipv4", "ZodIPv4", "_ipv6", "ZodIPv6", "_cidrv4", "ZodCIDRv4", "_cidrv6", "ZodCIDRv6", "_e164", "ZodE164", "datetime", "date", "time", "duration", "string", "_string", "ZodStringFormat", "$ZodStringFormat", "$ZodEmail", "email", "$ZodGUID", "guid", "$ZodUUID", "uuid", "uuidv4", "uuidv6", "uuidv7", "$ZodURL", "url", "httpUrl", "regexes_exports", "$ZodEmoji", "emoji", "$ZodNanoID", "nanoid", "$ZodCUID", "cuid", "$ZodCUID2", "cuid2", "$ZodULID", "ulid", "$ZodXID", "xid", "$ZodKSUID", "ksuid", "$ZodIPv4", "ipv4", "ZodMAC", "$ZodMAC", "mac", "_mac", "$ZodIPv6", "ipv6", "$ZodCIDRv4", "cidrv4", "$ZodCIDRv6", "cidrv6", "$ZodBase64", "base64", "$ZodBase64URL", "base64url", "$ZodE164", "e164", "$ZodJWT", "jwt", "ZodCustomStringFormat", "$ZodCustomStringFormat", "stringFormat", "format", "fnOrRegex", "_params", "_stringFormat", "hostname", "hex", "hash", "alg", "enc", "regex", "ZodNumber", "$ZodNumber", "value", "_gt", "_gte", "_lt", "_lte", "int", "_multipleOf", "number", "_number", "ZodNumberFormat", "$ZodNumberFormat", "_int", "float32", "_float32", "float64", "_float64", "int32", "_int32", "uint32", "_uint32", "ZodBoolean", "$ZodBoolean", "boolean", "_boolean", "ZodBigInt", "$ZodBigInt", "bigint", "_bigint", "ZodBigIntFormat", "$ZodBigIntFormat", "int64", "_int64", "uint64", "_uint64", "ZodSymbol", "$ZodSymbol", "symbol", "_symbol", "ZodUndefined", "$ZodUndefined", "_undefined", "ZodNull", "$constructor", "inst", "def", "$ZodNull", "ZodType", "_null", "params", "ZodAny", "$constructor", "inst", "def", "$ZodAny", "ZodType", "any", "_any", "ZodUnknown", "$ZodUnknown", "unknown", "_unknown", "ZodNever", "$ZodNever", "never", "params", "_never", "ZodVoid", "$ZodVoid", "_void", "ZodDate", "$constructor", "inst", "def", "$ZodDate", "ZodType", "value", "params", "_gte", "_lte", "c", "date", "_date", "ZodArray", "$ZodArray", "minLength", "_minLength", "maxLength", "_maxLength", "len", "_length", "array", "element", "_array", "keyof", "schema", "shape", "_enum", "ZodObject", "$ZodObjectJIT", "util_exports", "catchall", "unknown", "never", "incoming", "other", "mask", "args", "ZodOptional", "ZodNonOptional", "object", "strictObject", "looseObject", "ZodUnion", "$ZodUnion", "union", "options", "ZodDiscriminatedUnion", "$ZodDiscriminatedUnion", "discriminatedUnion", "discriminator", "ZodIntersection", "$ZodIntersection", "intersection", "left", "right", "ZodTuple", "$ZodTuple", "rest", "tuple", "items", "_paramsOrRest", "_params", "hasRest", "$ZodType", "ZodRecord", "$ZodRecord", "record", "keyType", "valueType", "partialRecord", "k", "clone", "ZodMap", "$ZodMap", "map", "ZodSet", "$ZodSet", "_minSize", "_maxSize", "_size", "set", "ZodEnum", "$ZodEnum", "keys", "values", "newEntries", "entries", "v", "nativeEnum", "entries", "params", "ZodEnum", "util_exports", "ZodLiteral", "$constructor", "inst", "def", "$ZodLiteral", "ZodType", "literal", "value", "ZodFile", "$ZodFile", "size", "_minSize", "_maxSize", "types", "_mime", "file", "_file", "ZodTransform", "$ZodTransform", "payload", "_ctx", "$ZodEncodeError", "issue", "_issue", "output", "transform", "fn", "ZodOptional", "$ZodOptional", "optional", "innerType", "ZodNullable", "$ZodNullable", "nullable", "nullish", "ZodDefault", "$ZodDefault", "_default", "defaultValue", "ZodPrefault", "$ZodPrefault", "prefault", "ZodNonOptional", "$ZodNonOptional", "nonoptional", "ZodSuccess", "$ZodSuccess", "success", "ZodCatch", "$ZodCatch", "_catch", "catchValue", "ZodNaN", "$constructor", "inst", "def", "$ZodNaN", "ZodType", "nan", "params", "_nan", "ZodPipe", "$ZodPipe", "pipe", "in_", "out", "ZodCodec", "$ZodCodec", "codec", "ZodReadonly", "$ZodReadonly", "readonly", "innerType", "ZodTemplateLiteral", "$ZodTemplateLiteral", "templateLiteral", "parts", "util_exports", "ZodLazy", "$ZodLazy", "lazy", "getter", "ZodPromise", "$ZodPromise", "promise", "ZodFunction", "$ZodFunction", "_function", "tuple", "array", "unknown", "ZodCustom", "$constructor", "inst", "def", "$ZodCustom", "ZodType", "check", "fn", "ch", "$ZodCheck", "custom", "_params", "_custom", "refine", "_refine", "superRefine", "_superRefine", "describe", "meta", "_instanceof", "cls", "params", "data", "util_exports", "stringbool", "args", "_stringbool", "ZodCodec", "ZodBoolean", "ZodString", "json", "params", "jsonSchema", "lazy", "union", "string", "number", "boolean", "_null", "array", "record", "preprocess", "fn", "schema", "pipe", "transform", "ZodIssueCode", "setErrorMap", "map", "config", "getErrorMap", "ZodFirstPartyTypeKind", "coerce_exports", "__export", "bigint", "boolean", "date", "number", "string", "string", "params", "_coercedString", "ZodString", "number", "_coercedNumber", "ZodNumber", "boolean", "_coercedBoolean", "ZodBoolean", "bigint", "_coercedBigint", "ZodBigInt", "date", "_coercedDate", "ZodDate", "config", "en_default", "SampleMetaData", "external_exports", "Sample", "SampleMetaData", "UUID", "external_exports", "_FilteredSelection_selection", "_FilteredSelection_filter", "_FilteredSelection_mapping", "_FilteredSelection_set", "_FilteredSelection_listeners", "_FilteredSelection_subscription", "_FilteredSelection_selection", "_FilteredSelection_filter", "_FilteredSelection_mapping", "_FilteredSelection_set", "_FilteredSelection_listeners", "_FilteredSelection_subscription", "__classPrivateFieldGet", "receiver", "state", "kind", "f", "_VertexSelection_instances", "_VertexSelection_lifeTime", "_VertexSelection_entityMap", "_VertexSelection_selectableMap", "_VertexSelection_listeners", "_VertexSelection_target", "_VertexSelection_watch", "_VertexSelection_lifeTime", "_VertexSelection_entityMap", "_VertexSelection_selectableMap", "_VertexSelection_listeners", "_VertexSelection_target", "_VertexSelection_instances", "_VertexSelection_watch", "target", "pointer", "box", "asInstanceOf", "SelectionBox", "assert", "selectable", "entry", "__classPrivateFieldGet", "Pointers", "SoundfontMetaData", "external_exports", "Soundfont", "SoundfontMetaData", "UUID", "external_exports", "RegionEditing", "region", "cut", "consolidate", "UnionAdapterTypes", "position", "complete", "loopOffset", "loopDuration", "mod", "panic", "begin", "end", "BlockFlags", "transporting", "discontinuous", "playing", "tempoChanged", "PeakBroadcaster", "_PeakBroadcaster", "#broadcaster", "#address", "#values", "#rms", "#terminable", "#peakL", "#peakR", "#rmsL", "#rmsR", "broadcaster", "address", "Arrays", "RMS", "outL", "outR", "fromIndex", "toIndex", "samples", "decay", "maxL", "maxR", "i", "l", "r", "AutomatableParameter", "#terminator", "Terminator", "#context", "#adapter", "#notifier", "#broadcasting", "Option", "#value", "context", "adapter", "Notifier", "owner", "observer", "assert", "position", "value", "terminable", "terminables", "EventBuffer", "#events", "ArrayMultimap", "index", "event", "procedure", "AbstractProcessor", "#terminator", "Terminator", "#context", "#eventInput", "#parameters", "#automatedParameters", "#updateClockConnection", "Option", "context", "EventBuffer", "parameter", "_relativeBlockTime", "panic", "adapter", "AutomatableParameter", "_pointer", "Arrays", "connection", "Pointers", "position", "relativeBlockTimeInSeconds", "terminable", "terminables", "UpdateEvent", "event", "UpdateClock", "AbstractProcessor", "#outputs", "context", "output", "Arrays", "blocks", "p0", "p1", "flags", "index", "Bits", "position", "Fragmentor", "UpdateClockRate", "AudioProcessor", "AbstractProcessor", "context", "blocks", "block", "index", "p0", "s0", "s1", "bpm", "anyEvents", "fromIndex", "event", "pulses", "toIndex", "PPQN", "assert", "UpdateEvent", "_block", "_event", "panic", "DelayDeviceDsp", "_DelayDeviceDsp", "#FilterMapping", "ValueMapping", "#delaySize", "#delayBuffer", "#biquad", "#biquadCoeff", "#interpolationLength", "#deltaOffset", "#writePosition", "#currentOffset", "#targetOffset", "#alphaPosition", "#processed", "#interpolating", "maxFrames", "interpolationLength", "pow2Size", "nextPowOf2", "BiquadMono", "BiquadCoeff", "biquad", "delay", "#initDelayTime", "value", "assert", "#updateDelayTime", "input", "output", "fromIndex", "toIndex", "#processInterpolate", "#processSteady", "delayMask", "delayBuffer", "feedback", "pWetLevel", "pDryLevel", "writePosition", "readPosition", "iL", "iR", "oL", "oR", "bL", "bR", "dL", "dR", "i", "inpL", "inpR", "dReadL", "dReadR", "diff", "crossL", "crossR", "readPositionInt", "alpha", "d00", "d10", "d0", "d1", "DelayDeviceProcessor", "_DelayDeviceProcessor", "AudioProcessor", "#id", "#adapter", "#output", "#peaks", "#delayLines", "#source", "Option", "#updateDelayTime", "context", "adapter", "AudioBuffer", "PeakBroadcaster", "delay", "feedback", "cross", "filter", "dry", "wet", "maxFrames", "PPQN", "Fraction", "DelayDeviceBoxAdapter", "interpolationDuration", "DelayDeviceDsp", "source", "_event", "bpm", "flags", "from", "to", "Bits", "offsetIndex", "offsetInPulses", "parameter", "dbToGain", "NopDeviceProcessor", "_NopDeviceProcessor", "AbstractProcessor", "#id", "#adapter", "#output", "#peaks", "#source", "Option", "context", "adapter", "AudioBuffer", "PeakBroadcaster", "source", "_processInfo", "input", "inpL", "inpR", "outL", "outR", "i", "_parameter", "AudioBusProcessor", "_AudioBusProcessor", "AbstractProcessor", "#id", "#adapter", "#audioOutput", "#peaks", "#sources", "context", "adapter", "AudioBuffer", "PeakBroadcaster", "Option", "output", "Arrays", "_processInfo", "outL", "outR", "source", "srcL", "srcR", "i", "_parameter", "NoteLifecycleEvent", "a", "b", "delta", "position", "duration", "pitch", "velocity", "cent", "$id", "source", "id", "event", "NoteEventInstrument", "#terminator", "Terminator", "#receiver", "#broadcaster", "#buffer", "#source", "Option", "receiver", "broadcaster", "address", "NoteBroadcaster", "source", "assert", "Terminable", "index", "p0", "p1", "flags", "event", "NoteLifecycleEvent", "#showEvent", "VoicingStrategy", "panic", "EmptyExec", "Arrays", "Voicing", "#strategy", "#expiring", "strategy", "VoicingStrategy", "event", "id", "output", "block", "fromIndex", "toIndex", "i", "PolyphonicStrategy", "#host", "#processing", "#availableForGlide", "host", "event", "lastFrequency", "index", "voice", "targetFrequency", "id", "output", "block", "fromIndex", "toIndex", "i", "Arrays", "other", "MonophonicStrategy", "#host", "#processing", "#stack", "#triggered", "#sounding", "host", "event", "isDefined", "voice", "id", "index", "prev", "output", "block", "fromIndex", "toIndex", "i", "VoiceUnison", "#voiceFactory", "#processing", "#glide", "Glide", "#numVoices", "voiceFactory", "numVoices", "event", "frequency", "gain", "parentSpread", "voice", "index", "spread", "voiceSpread", "targetFrequency", "glideDuration", "output", "block", "fromIndex", "toIndex", "i", "oscABuffer", "oscBBuffer", "freqBuffer", "freqBufferA", "freqBufferB", "vcaBuffer", "lfoBuffer", "cutoffBuffer", "oscSumBuffer", "mint", "VaporisateurVoice", "#event", "InaccessibleProperty", "#gain", "#spread", "device", "BandLimitedOscillator", "LFO", "ModulatedBiquad", "VaporisateurSettings", "Adsr", "Glide", "Smooth", "event", "frequency", "gain", "spread", "MidiKeys", "targetFrequency", "glideDuration", "output", "bpm", "fromIndex", "toIndex", "gainOscA", "gainOscB", "oscA_waveform", "oscB_waveform", "flt_cutoff", "flt_resonance", "flt_env_amount", "flt_order", "frequencyAMultiplier", "frequencyBMultiplier", "parameterLfoShape", "parameterLfoRate", "parameterLfoTargetTune", "parameterLfoTargetCutoff", "parameterLfoTargetVolume", "parameterUnisonDetune", "parameterUnisonStereo", "velocityToGain", "detune", "panning", "gainL", "gainR", "StereoMatrix", "Mixing", "outL", "outR", "lfo_target_tune", "lfo_target_cutoff", "lfo_target_volume", "i", "lfo", "clampUnit", "vca", "out", "VaporisateurDeviceProcessor", "AudioProcessor", "#adapter", "#voicing", "#noteEventInstrument", "#audioOutput", "#limiter", "#peakBroadcaster", "#parameterOscAWaveform", "#parameterOscAOctave", "#parameterOscATune", "#parameterOscAVolume", "#parameterOscBWaveform", "#parameterOscBOctave", "#parameterOscBTune", "#parameterOscBVolume", "#parameterAttack", "#parameterDecay", "#parameterSustain", "#parameterRelease", "#parameterCutoff", "#parameterResonance", "#parameterFilterEnvelope", "#parameterFilterOrder", "#parameterFilterKeyboard", "#parameterGlideTime", "#parameterVoicingMode", "#parameterUnisonCount", "#parameterUnisonDetune", "#parameterUnisonStereo", "#parameterLfoShape", "#parameterLfoRate", "#parameterLfoTargetTune", "#parameterLfoTargetCutoff", "#parameterLfoTargetVolume", "ClassicWaveform", "#glideTime", "context", "adapter", "Voicing", "NoteEventInstrument", "AudioBuffer", "SimpleLimiter", "PeakBroadcaster", "namedParameter", "oscillators", "envValues", "index", "voice", "first", "asInstanceOf", "VoiceUnison", "VaporisateurVoice", "event", "midiToHz", "Option", "block", "source", "NoteLifecycleEvent", "fromIndex", "toIndex", "parameter", "dbToGain", "asEnumValue", "PPQN", "mode", "VoicingMode", "MonophonicStrategy", "PolyphonicStrategy", "panic", "TapeDeviceProcessor", "AbstractProcessor", "#adapter", "#audioOutput", "#peaks", "#lanes", "#fadeLength", "context", "adapter", "AudioBuffer", "PeakBroadcaster", "UUID", "uuid", "_adapter", "Option", "blocks", "outL", "outR", "lane", "block", "TrackType", "p0", "p1", "flags", "Bits", "intervals", "optClip", "sectionFrom", "sectionTo", "region", "isInstanceOf", "AudioRegionBoxAdapter", "optData", "data", "cycle", "LoopableRegion", "#processPass", "clip", "AudioClipBoxAdapter", "_parameter", "output", "s0", "s1", "numberOfFrames", "frames", "framesL", "framesR", "sn", "pn", "wp0", "wp1", "r0", "r1", "bp0", "bp1", "bpn", "stepSize", "assert", "fading", "i", "j", "readNew", "readNewInt", "lNew", "rNew", "alpha", "fL", "fR", "fadeIn", "fadeOut", "readOld", "readOldInt", "lOld", "rOld", "EventProcessor", "AbstractProcessor", "blocks", "block", "index", "p0", "p1", "s0", "bpm", "anyEvents", "position", "event", "UpdateEvent", "PPQN", "_block", "VelocityMatrix", "matrix", "velocity", "ArpeggioModes", "stack", "octaves", "stepIndex", "position", "duration", "velocityMatrix", "count", "amount", "localIndex", "octave", "event", "NoteLifecycleEvent", "processLength", "sequenceLength", "sequenceIndex", "processIndex", "ArpeggioDeviceProcessor", "EventProcessor", "#adapter", "#stack", "#retainer", "#modeIndexParameter", "#rateParameter", "#gateParameter", "#repeatParameter", "#numOctaveParameter", "#velocityParameter", "#velocityMatrix", "VelocityMatrix", "#source", "Option", "#strategy", "ArpeggioModes", "#rate", "#gate", "#repeat", "#numOctaves", "context", "adapter", "EventSpanRetainer", "source", "assert", "Terminable", "from", "to", "flags", "Bits", "event", "NoteLifecycleEvent", "_", "onlyExternal", "position", "index", "Fragmentor", "stack", "stepIndex", "duration", "NoteEvent", "_block", "_from", "_to", "parameter", "Fraction", "ArpeggioDeviceBoxAdapter", "velocity", "_event", "PitchDeviceProcessor", "EventProcessor", "#adapter", "#noteBroadcaster", "#octavesParameter", "#semiTonesParameter", "#centParameter", "#source", "Option", "context", "adapter", "NoteBroadcaster", "source", "assert", "Terminable", "from", "to", "flags", "event", "NoteLifecycleEvent", "cent", "octaves", "semiTones", "Objects", "position", "onlyExternal", "_block", "_from", "_to", "parameter", "_event", "SpectrumAnalyser", "_SpectrumAnalyser", "#fftSize", "#numBins", "#fft", "#real", "#imag", "#window", "#bins", "#index", "n", "FFT", "Window", "left", "right", "fromIndex", "toIndex", "i", "#update", "scale", "re", "im", "energy", "RevampDeviceProcessor", "_RevampDeviceProcessor", "AudioProcessor", "#id", "#adapter", "#output", "#peaks", "#spectrumAnalyser", "#spectrum", "#biquadCoeff", "#biquadLowPassProcessors", "#biquadHighPassProcessors", "#biquadProcessors", "#enabled", "#parameterHighPassEnabled", "#parameterHighPassFrequency", "#parameterHighPassQ", "#parameterHighPassOrder", "#parameterLowShelfEnabled", "#parameterLowShelfFrequency", "#parameterLowShelfGain", "#parameterLowBellEnabled", "#parameterLowBellFrequency", "#parameterLowBellGain", "#parameterLowBellQ", "#parameterMidBellEnabled", "#parameterMidBellFrequency", "#parameterMidBellGain", "#parameterMidBellQ", "#parameterHighBellEnabled", "#parameterHighBellFrequency", "#parameterHighBellGain", "#parameterHighBellQ", "#parameterHighShelfEnabled", "#parameterHighShelfFrequency", "#parameterHighShelfGain", "#parameterLowPassEnabled", "#parameterLowPassFrequency", "#parameterLowPassQ", "#parameterLowPassOrder", "#source", "Option", "context", "adapter", "AudioBuffer", "PeakBroadcaster", "SpectrumAnalyser", "Arrays", "BiquadCoeff", "BiquadStack", "BiquadMono", "namedParameter", "pair", "processor", "source", "_block", "fromIndex", "toIndex", "outL", "outR", "input", "b", "inpL", "inpR", "coeff", "index", "fltL", "fltR", "i", "parameter", "order", "frequency", "q", "gain", "FreeVerb", "#buf0", "#buf1", "#buf2", "#buf3", "#buf4", "#buf5", "#buf6", "#buf7", "#buf8", "#buf9", "#buf10", "#buf11", "#buf12", "#buf13", "#buf14", "#buf15", "#buf16", "#buf17", "#buf18", "#buf19", "#buf20", "#buf21", "#buf22", "#buf23", "#delaySize", "#delayBuffer", "#v9_1", "#v8_1", "#v11_1", "#v10_1", "#v13_1", "#v12_1", "#v15_1", "#v14_1", "#v17_1", "#v16_1", "#v19_1", "#v18_1", "#v21_1", "#v20_1", "#v23_1", "#v22_1", "#v6_1", "#v4_1", "#v2_1", "#v0_1", "#v33_1", "#v32_1", "#v35_1", "#v34_1", "#v37_1", "#v36_1", "#v39_1", "#v38_1", "#v41_1", "#v40_1", "#v43_1", "#v42_1", "#v45_1", "#v44_1", "#v47_1", "#v46_1", "#v30_1", "#v28_1", "#v26_1", "#v24_1", "#index", "#delayPosition", "MaxPreDelaySec", "nextPowOf2", "outBuffer", "inpBuffer", "fromIndex", "toIndex", "inputL", "inputR", "outputL", "outputR", "p0", "p1", "p2", "i", "inpL", "inpR", "delayRead", "i2", "magic_gain", "readL", "readR", "p", "lt0", "lt1", "lt2", "lt3", "rt0", "rt1", "rt2", "rt3", "ReverbDeviceProcessor", "_ReverbDeviceProcessor", "AudioProcessor", "#id", "#adapter", "#output", "#peaks", "#reverb", "#parameterDecay", "#parameterPreDelay", "#parameterDamp", "#parameterWet", "#parameterDry", "#source", "Option", "context", "adapter", "AudioBuffer", "PeakBroadcaster", "FreeVerb", "decay", "preDelay", "damp", "wet", "dry", "source", "_block", "fromIndex", "toIndex", "outL", "outR", "parameter", "dbToGain", "NanoDeviceProcessor", "AudioProcessor", "#adapter", "#voices", "#audioOutput", "#noteEventProcessor", "#peakBroadcaster", "#parameterVolume", "#parameterRelease", "Option", "context", "adapter", "AudioBuffer", "NoteEventInstrument", "PeakBroadcaster", "pointer", "box", "block", "source", "event", "NoteLifecycleEvent", "Voice", "voice", "_block", "fromIndex", "toIndex", "parameter", "dbToGain", "#device", "#event", "#speed", "#position", "#attack", "#envPosition", "#decayPosition", "device", "output", "optLoader", "loader", "data", "outL", "outR", "inpL", "inpR", "numberOfFrames", "rateRatio", "gain", "release", "releaseInverse", "i", "intPosition", "frac", "att", "env", "l", "r", "PlayfieldSequencer", "EventProcessor", "#device", "#noteEventInstrument", "context", "device", "NoteEventInstrument", "block", "source", "_block", "_from", "_to", "index", "event", "NoteLifecycleEvent", "eventInput", "MixProcessor", "AudioProcessor", "#device", "#audioOutput", "#peaksBroadcaster", "#sources", "#eventBuffer", "context", "device", "AudioBuffer", "PeakBroadcaster", "EventBuffer", "source", "Arrays", "_block", "_fromIndex", "_toIndex", "outL", "outR", "srcL", "srcR", "i", "InsertReturnAudioChain", "_InsertReturnAudioChain", "context", "collection", "sourceProcessor", "targetProcessor", "#terminator", "Terminator", "#effects", "#disconnector", "#orderedEffects", "#needsWiring", "UUID", "device", "adapter", "AudioEffectDeviceProcessorFactory", "added", "assert", "subscription", "_adapter", "phase", "source", "Arrays", "uuid", "target", "FAST_RELEASE", "SampleVoice", "#sample", "#parameters", "#event", "#data", "#gate", "#gain", "#envPosition", "#decayPosition", "#attack", "#release", "#start", "#end", "#position", "#envelope", "#active", "#released", "sample", "parameters", "data", "event", "velocityToGain", "attack", "release", "sampleStart", "sampleEnd", "force", "#releaseEnvelope", "Gate", "output", "fromIndex", "toIndex", "outL", "outR", "frames", "numberOfFrames", "inpL", "inpR", "pitch", "distance", "sign", "rateRatio", "env", "i", "intPosition", "frac", "l", "r", "SampleProcessor", "AudioProcessor", "#device", "#adapter", "#voices", "#audioOutput", "#peaksBroadcaster", "#parameters", "context", "device", "adapter", "mixProcessor", "AudioBuffer", "PeakBroadcaster", "sampleStart", "sampleEnd", "attack", "release", "pitch", "positions", "InsertReturnAudioChain", "slices", "position", "index", "event", "NoteLifecycleEvent", "optData", "file", "mute", "solo", "polyphone", "exclude", "isMute", "isSolo", "voice", "SampleVoice", "_block", "fromIndex", "toIndex", "_parameter", "PlayfieldDeviceProcessor", "#terminator", "Terminator", "#adapter", "#sequencer", "#mixProcessor", "#sampleSet", "context", "adapter", "PlayfieldSequencer", "MixProcessor", "UUID", "entry", "processor", "SampleProcessor", "terminable", "_adapter", "source", "Option", "note", "exclude", "_parameter", "StereoToolDeviceProcessor", "AudioProcessor", "#adapter", "#output", "#peaks", "#matrix", "Ramp", "#params", "#volume", "#panning", "#stereo", "#invertL", "#invertR", "#swap", "#source", "Option", "#mixing", "Mixing", "#needsUpdate", "#processed", "context", "adapter", "AudioBuffer", "PeakBroadcaster", "owner", "source", "_block", "fromIndex", "toIndex", "target", "parameter", "dbToGain", "ZeitgeistDeviceProcessor", "EventProcessor", "#adapter", "#noteBroadcaster", "#groove", "Option", "#source", "context", "adapter", "NoteBroadcaster", "pointer", "GrooveAdapter", "Terminable", "source", "assert", "from", "to", "flags", "groove", "identity", "Groove", "event", "NoteLifecycleEvent", "Objects", "clamp", "position", "onlyExternal", "_parameter", "_block", "_event", "_from", "_to", "UnknownMidiEffectDeviceProcessor", "EventProcessor", "#adapter", "#noteBroadcaster", "#source", "Option", "context", "adapter", "NoteBroadcaster", "source", "assert", "Terminable", "from", "to", "flags", "event", "position", "onlyExternal", "_block", "_from", "_to", "_parameter", "_event", "getNumericGenerator", "generators", "type", "getCombinedGenerator", "presetGens", "instGens", "envBuffer", "SoundfontVoice", "#gainSmooth", "event", "presetZone", "instrumentZone", "soundFont", "sampleId", "sample", "sampleModes", "attack", "decay", "sustain", "release", "attackTime", "isNotUndefined", "decayTime", "sustainLevel", "releaseTime", "Adsr", "Smooth", "output", "fromIndex", "toIndex", "playbackRate", "midiToHz", "gain", "velocityToGain", "panLeft", "panRight", "r", "i", "sampleIndex", "amp", "#getSample", "index", "frac", "SoundfontDeviceProcessor", "AudioProcessor", "#adapter", "#voices", "#noteEventInstrument", "#audioOutput", "#peakBroadcaster", "#loader", "Option", "context", "adapter", "NoteEventInstrument", "AudioBuffer", "PeakBroadcaster", "pointer", "box", "block", "source", "event", "optSoundfont", "loader", "soundfont", "NoteLifecycleEvent", "preset", "isAbsent", "voiceCount", "presetZone", "velocityByte", "#isMatching", "instrumentZones", "i", "instZone", "SoundfontVoice", "voice", "_block", "fromIndex", "toIndex", "index", "pitch", "velocity", "zone", "#isInRange", "range", "value", "isUndefined", "gainToDecibels", "gain", "decibelsToGain", "db", "CrestFactor", "#maxAttackTime", "#maxReleaseTime", "#a1", "#b1", "#attackTimeInSeconds", "#releaseTimeInSeconds", "#avgAttackTime", "#avgReleaseTime", "#peakState", "#rmsState", "#cFactor", "sampleRate", "src", "fromIndex", "toIndex", "i", "c", "n", "DelayLine", "#delayBuffer", "#delayBufferSize", "#delayInSamples", "#numChannels", "#writePosition", "sampleRate", "delayInSeconds", "maxBlockSize", "numChannels", "ch", "buffer", "fromIndex", "toIndex", "readPosition", "channelData", "writePos", "readPos", "i", "delayedSample", "GainComputer", "#threshold", "#ratio", "#knee", "#kneeHalf", "#slope", "newThreshold", "newRatio", "newKnee", "input", "overshoot", "src", "fromIndex", "toIndex", "level", "levelInDecibels", "gainToDecibels", "SmoothingFilter", "#sampleRate", "#a1", "#b1", "#state", "#first", "sampleRate", "sample", "a", "timeInSeconds", "LevelDetector", "#sampleRate", "#crestFactor", "#attackSmoothingFilter", "#releaseSmoothingFilter", "#attackTimeInSeconds", "#alphaAttack", "#releaseTimeInSeconds", "#alphaRelease", "#state01", "#state02", "#autoAttack", "#autoRelease", "sampleRate", "CrestFactor", "SmoothingFilter", "attack", "release", "isEnabled", "#processPeakBranched", "input", "src", "fromIndex", "toIndex", "LookAhead", "#buffer", "#delayInSamples", "#bufferSize", "#writePosition", "#numLastPushed", "sampleRate", "delay", "blockSize", "src", "fromIndex", "toIndex", "#pushSamples", "#processSamples", "#readSamples", "dst", "readPosition", "i", "index", "nextValue", "slope", "sample", "procMinimumFound", "CompressorDeviceProcessor", "_CompressorDeviceProcessor", "AudioProcessor", "#id", "#adapter", "#output", "#peaks", "#ballistics", "#gainComputer", "#delay", "#lookaheadProcessor", "#smoothedAutoMakeup", "#sidechainSignal", "#originalSignal", "#lookaheadDelay", "#editorValues", "#smoothInputGain", "#source", "Option", "#lookahead", "#automakeup", "#autoattack", "#autorelease", "#threshold", "#ratio", "#knee", "#attack", "#release", "#makeup", "#mix", "#autoMakeup", "#inpMax", "#outMax", "#redMin", "#processing", "context", "adapter", "AudioBuffer", "PeakBroadcaster", "Ramp", "lookahead", "automakeup", "autoattack", "autorelease", "inputgain", "threshold", "ratio", "knee", "attack", "release", "makeup", "mix", "LevelDetector", "GainComputer", "DelayLine", "LookAhead", "SmoothingFilter", "gainToDb", "source", "_event", "_block", "from", "to", "srcL", "srcR", "outL", "outR", "i", "g", "l", "r", "peak", "#calculateAutoMakeup", "decibelsToGain", "src", "fromIndex", "toIndex", "sum", "parameter", "dbToGain", "CrusherDeviceProcessor", "_CrusherDeviceProcessor", "AudioProcessor", "#id", "#adapter", "#output", "#dsp", "#peaks", "#source", "Option", "context", "adapter", "AudioBuffer", "Crusher", "PeakBroadcaster", "crush", "bits", "boost", "mix", "source", "_block", "fromIndex", "toIndex", "input", "parameter", "oversamplingValues", "maxOversampleFactor", "FoldDeviceProcessor", "_FoldDeviceProcessor", "AudioProcessor", "#id", "#adapter", "#output", "#buffer", "#peaks", "#source", "Option", "#processed", "#resampler", "#oversamplingFactor", "#smoothInputGain", "#smoothOutputGain", "context", "adapter", "AudioBuffer", "PeakBroadcaster", "drive", "volume", "owner", "factor", "ResamplerStereo", "Ramp", "dbToGain", "source", "_block", "fromIndex", "toIndex", "oversampledLength", "oversampledL", "oversampledR", "i", "gain", "amount", "wavefold", "parameter", "MIDIOutputDeviceProcessor", "AudioProcessor", "#adapter", "#audioOutput", "#activeNotes", "#parameters", "#lastChannel", "#source", "Option", "context", "adapter", "AudioBuffer", "midiDevice", "box", "parameters", "asInstanceOf", "MIDIOutputParameterBox", "Arrays", "parameter", "owner", "outputBox", "pitch", "MidiData", "p0", "p1", "s0", "flags", "bpm", "channel", "device", "optDevice", "MIDIOutputBox", "delayInMs", "event", "blockOffsetInSeconds", "eventOffsetInSeconds", "PPQN", "relativeTimeInMs", "channelIndex", "NoteLifecycleEvent", "velocityAsByte", "deleteIndex", "source", "Terminable", "_event", "_block", "_fromIndex", "_toIndex", "relativeBlockTime", "id", "controllerId", "data", "VelocityDeviceProcessor", "EventProcessor", "#adapter", "#noteBroadcaster", "#velocities", "#source", "Option", "#velocityIndex", "context", "adapter", "NoteBroadcaster", "magnetPosition", "magnetStrength", "randomSeed", "randomAmount", "offset", "mix", "source", "assert", "Terminable", "from", "to", "flags", "event", "NoteLifecycleEvent", "velocity", "Objects", "position", "onlyExternal", "_block", "_from", "_to", "_parameter", "_event", "TidalDeviceProcessor", "_TidalDeviceProcessor", "AudioProcessor", "#id", "#adapter", "#output", "#peaks", "#computer", "#smoothGainL", "#smoothGainR", "#pRate", "#pDepth", "#pSlope", "#pSymmetry", "#pOffset", "#pChannelOffset", "#source", "Option", "#needsUpdate", "#phase", "context", "adapter", "AudioBuffer", "PeakBroadcaster", "TidalComputer", "Smooth", "rate", "depth", "slope", "symmetry", "offset", "channelOffset", "source", "p0", "bpm", "flags", "fromIndex", "toIndex", "input", "inpL", "inpR", "outL", "outR", "RateFractions", "TidalDeviceBoxAdapter", "delta", "PPQN", "rateInvPulses", "Fraction", "offset0", "offset1", "i", "phaseL", "phaseR", "Bits", "parameter", "DattorroReverbDsp", "#sampleRate", "#delays", "#preDelayBuffer", "#taps", "#preDelayLength", "#preDelayWrite", "#lp1", "#lp2", "#lp3", "#excPhase", "#preDelay", "#bandwidth", "#inputDiffusion1", "#inputDiffusion2", "#decay", "#decayDiffusion1", "#decayDiffusion2", "#damping", "#excursionRate", "#excursionDepth", "#wet", "#dry", "sampleRate", "x", "#makeDelay", "tapTimes", "length", "len", "nextPow2", "#writeDelay", "index", "data", "#readDelay", "#readDelayAt", "offset", "d", "#readDelayCAt", "frac", "int", "mask", "x0", "x1", "x2", "x3", "a", "b", "c", "ms", "value", "input", "output", "fromIndex", "toIndex", "pd", "bw", "fi", "si", "dc", "ft", "st", "dp", "ex", "ed", "we", "dr", "inpChL", "inpChR", "outChL", "outChR", "i", "inpL", "inpR", "delayedInput", "pre", "split", "exc", "exc2", "temp", "lo", "ro", "i1", "DattorroReverbDeviceProcessor", "_DattorroReverbDeviceProcessor", "AudioProcessor", "#id", "#adapter", "#dsp", "#output", "#peaks", "#source", "Option", "context", "adapter", "AudioBuffer", "PeakBroadcaster", "DattorroReverbDsp", "preDelay", "bandwidth", "inputDiffusion1", "inputDiffusion2", "decay", "decayDiffusion1", "decayDiffusion2", "damping", "excursionRate", "excursionDepth", "wet", "dry", "source", "_event", "_block", "from", "to", "parameter", "dbToGain", "InstrumentDeviceProcessorFactory", "context", "box", "AudioBusProcessor", "AudioBusBoxAdapter", "VaporisateurDeviceProcessor", "VaporisateurDeviceBoxAdapter", "NanoDeviceProcessor", "NanoDeviceBoxAdapter", "TapeDeviceProcessor", "TapeDeviceBoxAdapter", "PlayfieldDeviceProcessor", "PlayfieldDeviceBoxAdapter", "SoundfontDeviceProcessor", "SoundfontDeviceBoxAdapter", "MIDIOutputDeviceProcessor", "MIDIOutputDeviceBoxAdapter", "MidiEffectDeviceProcessorFactory", "asDefined", "UnknownMidiEffectDeviceProcessor", "UnknownMidiEffectDeviceBoxAdapter", "ArpeggioDeviceProcessor", "ArpeggioDeviceBoxAdapter", "PitchDeviceProcessor", "PitchDeviceBoxAdapter", "VelocityDeviceProcessor", "VelocityDeviceBoxAdapter", "ZeitgeistDeviceProcessor", "ZeitgeistDeviceBoxAdapter", "AudioEffectDeviceProcessorFactory", "NopDeviceProcessor", "UnknownAudioEffectDeviceBoxAdapter", "StereoToolDeviceProcessor", "StereoToolDeviceBoxAdapter", "CompressorDeviceProcessor", "CompressorDeviceBoxAdapter", "DelayDeviceProcessor", "DelayDeviceBoxAdapter", "DattorroReverbDeviceProcessor", "DattorroReverbDeviceBoxAdapter", "TidalDeviceProcessor", "TidalDeviceBoxAdapter", "CrusherDeviceProcessor", "CrusherDeviceBoxAdapter", "FoldDeviceProcessor", "FoldDeviceBoxAdapter", "ReverbDeviceProcessor", "ReverbDeviceBoxAdapter", "RevampDeviceProcessor", "RevampDeviceBoxAdapter", "ModularDeviceBoxAdapter", "AuxSendProcessor", "AudioProcessor", "#adapter", "#audioOutput", "#rampGainL", "#rampGainR", "#parameterSendGain", "#parameterSendPan", "#source", "Option", "#needsUpdate", "#processing", "context", "adapter", "AudioBuffer", "Ramp", "source", "_block", "fromIndex", "toIndex", "gain", "dbToGain", "panning", "outL", "outR", "srcL", "srcR", "i", "gainL", "gainR", "_parameter", "ChannelStripProcessor", "AudioProcessor", "#adapter", "#audioOutput", "#rawBuffer", "#peaks", "#parameterVolume", "#parameterPanning", "#parameterMute", "#parameterSolo", "#gainL", "Ramp", "#gainR", "#outGain", "#source", "Option", "#updateGain", "#processing", "context", "adapter", "AudioBuffer", "PeakBroadcaster", "_event", "_block", "fromIndex", "toIndex", "mixer", "isSolo", "silent", "gain", "dbToGain", "panning", "source", "srcL", "srcR", "outL", "outR", "rawL", "rawR", "i", "l", "r", "gainL", "gainR", "outGain", "parameter", "AudioDeviceChain", "#terminator", "Terminator", "#audioUnit", "#options", "#auxSends", "#channelStrip", "#effects", "#disconnector", "#orderedEffects", "#needsWiring", "audioUnit", "options", "UUID", "device", "ChannelStripProcessor", "adapter", "AudioEffectDeviceProcessorFactory", "added", "assert", "subscription", "_adapter", "AuxSendProcessor", "uuid", "_owner", "phase", "#wire", "isOutputUnit", "context", "optInput", "optOutput", "source", "Arrays", "target", "auxSend", "audioBus", "NoteSequencer", "#terminator", "Terminator", "#context", "#adapter", "#random", "#externalNotes", "#retainer", "context", "adapter", "Random", "EventSpanRetainer", "phase", "note", "pitch", "velocity", "Option", "entry", "from", "to", "flags", "read", "Bits", "#releaseAll", "#releaseCompleted", "duration", "event", "NoteLifecycleEvent", "tracks", "TrackType", "track", "optClip", "sectionFrom", "sectionTo", "#processRegions", "#processClip", "position", "onlyEnternal", "NoteEvent", "clip", "p0", "p1", "collection", "clipDuration", "clipStart", "quantizeFloor", "clipEnd", "#processCollection", "trackBoxAdapter", "region", "isInstanceOf", "NoteRegionBoxAdapter", "optCollection", "resultStart", "resultEnd", "rawStart", "LoopableRegion", "start", "end", "delta", "localStart", "localEnd", "source", "chance", "playCount", "playCurve", "searchStart", "searchLimit", "searchIndex", "searchPosition", "a", "b", "clamp", "MidiDeviceChain", "#terminator", "Terminator", "#audioUnit", "#noteSequencer", "#effects", "#disconnector", "#needsWiring", "audioUnit", "NoteSequencer", "UUID", "device", "adapter", "MidiEffectDeviceProcessorFactory", "added", "assert", "subscription", "_adapter", "phase", "#wire", "optInput", "unit", "input", "source", "target", "AudioUnit", "_AudioUnit", "#id", "#terminator", "Terminator", "#context", "#adapter", "#midiDeviceChain", "#audioDeviceChain", "#input", "Option", "context", "adapter", "options", "MidiDeviceChain", "AudioDeviceChain", "owner", "input", "InstrumentDeviceProcessorFactory", "asInstanceOf", "AudioBusProcessor", "Mixer", "#channelStrips", "#solo", "#virtualSolo", "#needsUpdate", "UUID", "processor", "channelStrip", "Terminable", "#requestUpdateSolo", "touched", "visitChannelStrip", "input", "Pointers", "pointer", "asDefined", "uuid", "targetVertex", "Browser", "hasLocation", "hasNavigator", "key", "id", "isDefined", "newID", "UUID", "Compression", "buffer", "format", "stream", "writer", "ConsoleCommands", "path", "callback", "store", "init", "observableValue", "DefaultObservableValue", "input", "value", "getter", "setter", "EmptyProcedure", "error", "global", "scope", "attributes", "levels", "name", "current", "level", "ConstrainDOM", "constrain", "isAbsent", "Context2d", "context", "text", "maxWidth", "width", "ellipseWidth", "l", "r", "mid", "result", "x", "y", "height", "radius", "CssUtils", "term", "size", "em", "regex", "result", "replace", "digits", "unit", "number", "panic", "customCursors", "identifier", "data", "doc", "AnimationFrame", "nonrecurring", "recurring", "queue", "id", "driver", "exec", "owner", "exe", "Events", "eventTarget", "type", "listener", "options", "lastDownTime", "event", "now", "target", "isDefined", "Keyboard", "ctrlKey", "metaKey", "Browser", "altKey", "event", "Events", "Dragging", "target", "factory", "options", "processCycle", "Terminator", "Terminable", "Events", "event", "Browser", "option", "process", "pointerId", "usePointerLock", "threshold", "targetElement", "pointerLockActive", "requestPointerLockIfNeeded", "clientX", "clientY", "nearLeft", "nearRight", "nearTop", "nearBottom", "EmptyExec", "moveEvent", "Keyboard", "AnimationFrame", "cancel", "owner", "safeRead", "_event", "isDefined", "Files", "arrayBuffer", "options", "isDefined", "handle", "writable", "blob", "url", "anchor", "status", "fileHandles", "error", "Promises", "fileHandle", "resolve", "reject", "fileInput", "event", "files", "Arrays", "index", "asDefined", "Html", "source", "template", "panic", "child", "element", "selectors", "parent", "asDefined", "node", "attribute", "id", "classDefinition", "prefix", "assert", "className", "sheet", "input", "x", "cssValues", "colors", "value", "Color", "target", "callback", "options", "observer", "first", "elemRect", "Rect", "owner", "range", "selection", "isDefined", "property", "limit", "document", "ModfierKeys", "Mac", "Win", "Browser", "Stream", "reader", "chunks", "done", "value", "length", "acc", "val", "output", "position", "chunk", "Svg", "#d", "x", "y", "x1", "y1", "x2", "y2", "rx", "ry", "deg", "largeArc", "sweep", "cx", "cy", "radius", "a0", "a1", "x0", "y0", "range", "TerminatorUtils", "weakRefs", "key", "subscribe", "weakRef", "terminable", "startWatchWeak", "id", "index", "entry", "key", "PackageType", "Lock", "Flags", "LiveStreamBroadcaster", "_LiveStreamBroadcaster", "messenger", "name", "#packages", "#lock", "#lockArray", "#sender", "#output", "ByteArrayOutput", "#sabOption", "Option", "#availableUpdate", "#version", "#capacity", "#invalid", "#lockShared", "Communicator", "dispatchAndForget", "lock", "buffer", "update", "#updateAvailable", "capacity", "#computeCapacity", "size", "nextPowOf2", "data", "Lock", "#flushData", "address", "provider", "#storeChunk", "PackageType", "output", "values", "before", "after", "safeExecute", "value", "#compileStructure", "reason", "option", "#sumRequiredCapacity", "Arrays", "assert", "requiredCapacity", "Flags", "pack", "sum", "#invalidate", "type", "Peaks", "Stage", "shift", "numPeaks", "dataOffset", "bits", "index", "Float16", "Unhandled", "SamplePeaks", "_SamplePeaks", "input", "assert", "numStages", "stages", "i", "numData", "data", "array", "numFrames", "numChannels", "width", "ratio", "ShiftPadding", "maxShift", "Arrays", "unitsPerPixel", "output", "ByteArrayOutput", "SamplePeakWorker", "messenger", "Communicator", "progress", "shifts", "frames", "numFrames", "numChannels", "generatePeaks", "panic", "State", "time", "stopwatch", "numShifts", "stages", "dataOffset", "initStages", "data", "Arrays", "minMask", "total", "count", "channel", "channelData", "channelFrames", "states", "min", "max", "position", "i", "frame", "j", "stage", "state", "SamplePeaks", "index", "shift", "numPeaks", "Peaks", "f0", "f1", "bits0", "Float16", "bits1", "PeaksPainter", "path", "peaks", "channelIndex", "u0", "u1", "v0", "v1", "x0", "x1", "y0", "y1", "unitsEachPixel", "stage", "scale", "unitsEachPeak", "pixelOverFlow", "peaksEachPixel", "from", "indexFrom", "min", "max", "data", "x", "to", "indexTo", "swap", "bits", "Peaks", "yMin", "yMax", "ry0", "ry1", "tmp", "OpfsWorker", "messenger", "Communicator", "#locks", "path", "data", "#acquireLock", "handle", "#resolveFile", "size", "buffer", "segments", "pathToSegments", "#resolveFolder", "folder", "asDefined", "status", "Promises", "Arrays", "result", "name", "kind", "root", "operation", "existingLock", "isNotUndefined", "releaseLock", "panic", "lockPromise", "resolve", "options", "segment", "noSlashes", "key", "Metronome", "#timelineBoxAdapter", "#timeInfo", "#output", "AudioBuffer", "#clicks", "timelineBoxAdapter", "timeInfo", "blocks", "p0", "p1", "bpm", "s0", "s1", "flags", "Bits", "nominator", "denominator", "stepSize", "PPQN", "position", "Fragmentor", "assert", "distanceToEvent", "Click", "i", "#frequency", "#position", "#startIndex", "timeCode", "startIndex", "buffer", "start", "end", "l", "r", "attack", "release", "index", "env", "amp", "TAU", "BlockRenderer", "#context", "#callbacks", "#pauseOnLoopDisabled", "#tempoChanged", "#currentMarker", "#someMarkersChanged", "#freeRunningPosition", "context", "options", "SetMultimap", "position", "callback", "Terminable", "procedure", "markerChanged", "timeInfo", "timelineBox", "markerTrack", "bpm", "transporting", "blocks", "p0", "s0", "index", "discontinuous", "marker", "isDefined", "sn", "p1", "PPQN", "action", "actionPosition", "markers", "Iterables", "prev", "next", "isRecording", "isCountingIn", "from", "to", "enabled", "loopTo", "playing", "s1", "BlockFlags", "advanceToEvent", "releaseBlock", "processInfo", "AudioLoaderWorklet", "uuid", "engineToClient", "data", "#data", "Option", "#state", "_observer", "Terminable", "SampleManagerWorklet", "#engineToClient", "#set", "UUID", "handler", "_loader", "_uuid", "TrackState", "uuid", "Option", "ClipSequencingAudioContext", "#boxGraph", "#states", "#started", "#stopped", "#obsolete", "boxGraph", "update", "state", "playing", "#onStop", "UUID", "optWaiting", "identity", "clipAdapter", "trackState", "optClip", "waiting", "Arrays", "clip", "trackKey", "p0", "p1", "optNextClip", "scheduleDuration", "PPQN", "scheduleEnd", "quantizeFloor", "#onStart", "changes", "clipKey", "AudioUnitOptions", "SoundfontLoaderWorklet", "uuid", "engineToClient", "data", "#soundfont", "Option", "#state", "_observer", "Terminable", "SoundfontManagerWorklet", "#engineToClient", "#set", "UUID", "handler", "_uuid", "MIDITransportClock", "_MIDITransportClock", "AbstractProcessor", "PPQN", "#adapter", "#nextBlockDelivery", "context", "adapter", "message", "blocks", "midiOutputBoxes", "filteredBoxes", "box", "id", "relativeTimeInMs", "p0", "p1", "s0", "bpm", "flags", "blockOffsetInSeconds", "Bits", "position", "Fragmentor", "eventOffsetInSeconds", "delayInMs", "MidiData", "MIDISender", "#port", "#indices", "#ring", "#ringMask", "#deviceIdToNum", "#numToDeviceId", "port", "sab", "deviceId", "data", "timeMs", "deviceNum", "isUndefined", "writeIdx", "nextIdx", "length", "status", "data1", "data2", "packed1", "packed2", "offset", "DEBUG", "EngineProcessor", "#terminator", "#messenger", "#boxGraph", "#timeInfo", "#engineToClient", "#boxAdapters", "#sampleManager", "#soundfontManager", "#audioUnits", "#rootBoxAdapter", "#timelineBoxAdapter", "#tempoMap", "#parameterFieldAdapters", "#audioGraph", "#audioGraphSorting", "#notifier", "#mixer", "#liveStreamBroadcaster", "#clipSequencing", "#updateClock", "#peaks", "#metronome", "#midiTransportClock", "#renderer", "#stateSender", "#controlFlags", "#stemExports", "#ignoredRegions", "#processQueue", "Option", "#primaryOutput", "#context", "#midiSender", "#panic", "#valid", "#metronomeEnabled", "#recordingStartTime", "#playbackTimestamp", "#playbackTimestampEnabled", "#countInBarsTotal", "syncStreamBuffer", "controlFlagsBuffer", "project", "exportConfiguration", "options", "boxGraph", "rootBox", "timelineBox", "ProjectSkeleton", "Terminator", "Messenger", "TimeInfo", "Communicator", "dispatcher", "message", "error", "uuid", "changes", "state", "SampleManagerWorklet", "SoundfontManagerWorklet", "UUID", "unit", "ParameterFieldAdapters", "ConstantTempoMap", "BoxAdapters", "RootBoxAdapter", "TimelineBoxAdapter", "Graph", "TopologicalSort", "Notifier", "Mixer", "Metronome", "MIDITransportClock", "BlockRenderer", "SyncStream", "EngineStateSchema", "x", "transporting", "isCountingIn", "isRecording", "position", "denominator", "PPQN", "LiveStreamBroadcaster", "UpdateClock", "PeakBroadcaster", "Address", "ClipSequencingAudioContext", "createSyncTarget", "#play", "reset", "#stop", "#setPosition", "countIn", "#prepareRecordingState", "#stopRecording", "value", "box", "signal", "NoteSignal", "pitch", "velocity", "clipIds", "clipId", "optClipBox", "clipAdapter", "ClipAdapters", "MidiData", "trackIds", "trackId", "TrackBoxAdapter", "port", "buffer", "MIDISender", "context", "adapter", "uuidAsString", "isDefined", "AudioUnitOptions", "audioUnit", "AudioUnit", "added", "assert", "EmptyExec", "Arrays", "configuration", "uuidString", "inputs", "outputs", "reason", "_inputs", "output", "panic", "metronomeEnabled", "index", "processors", "processInfo", "processor", "l", "r", "observer", "source", "target", "midiDeviceId", "data", "relativeTimeInMs", "sender", "wasTransporting", "#reset", "nominator", "quantizeFloor", "subscription", "RecordingProcessor", "#writer", "config", "RingBuffer", "inputs", "MeterProcessor", "EngineProcessor", "RecordingProcessor"]
}
